"use strict";(self["webpackChunkdoapp_crmtheme"]=self["webpackChunkdoapp_crmtheme"]||[]).push([[3670,1694],{53670:function(t,e,a){a.r(e),a.d(e,{default:function(){return f}});var s=a(73396),n=a(49242),o=a(87139);const r=t=>((0,s.dD)("data-v-bc52753c"),t=t(),(0,s.Cn)(),t),l={class:"d-flex flex-wrap subpanel-bar"},i=["id"],u=["data-module","title"],d=r((()=>(0,s._)("i",{class:"bi bi-plus"},null,-1))),p=[d],c=["onClick"];function b(t,e,a,r,d,b){const g=(0,s.up)("SubpanelBarAction");return(0,s.wg)(),(0,s.iD)("div",l,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(b.tabs,((e,a)=>((0,s.wg)(),(0,s.iD)("div",{key:a,class:"btn btn-app subpanel-bar-item",id:e+"-sbar"},[(0,s.wy)((0,s._)("span",{class:"subpanel-bar-add btn btn-secondary","data-toggle":"dropdown","aria-expanded":"false","data-module":e,title:t.DOAPP.utils.translate("LBL_ADD")},p,8,u),[[n.F8,!t.DOAPP.utils.isEmpty(b.tabsProperties[e].top_buttons)]]),(0,s.Wm)(g,{tabProperties:b.tabsProperties[e],module:b.module,"page-data":b.pageData,"get-data":b.getData},null,8,["tabProperties","module","page-data","get-data"]),(0,s._)("div",{class:"subpanel-bar-btn",onClick:t=>b.scrollTo(e)},[(0,s._)("i",{class:(0,o.C_)(["fas suitepicon",b.moduleIcon(e)])},null,2),(0,s._)("span",null,(0,o.zw)(b.translateSubpanelTitle(e)),1)],8,c)],8,i)))),128))])}var g=a(11694),m={name:"SubpanelBar",components:{SubpanelBarAction:g["default"]},computed:{module(){return this.$store.state.focus.get.module},tabs(){return this.$store.state.focus.subpanels.tabs},tabsProperties(){return this.$store.state.focus.subpanels.tabsProperties},pageData(){return this.$store.state.focus.data.pageData},getData(){return this.$store.state.focus.get}},methods:{scrollTo(t){let e=document.querySelector(".content-wrapper");e.style.removeProperty("padding-bottom");let a=document.getElementById("whole_subpanel_"+t).getBoundingClientRect(),s=document.querySelector(".navbar").getBoundingClientRect(),n=a.top+window.scrollY,o=n-s.height,r=window.innerHeight,l=document.querySelector(".main-footer").getBoundingClientRect(),i=l.top-a.top,u=r-i-l.height-s.height;u>1&&(e.style.paddingBottom=u+"px"),window.scrollTo({top:o,behavior:"smooth"})},moduleIcon(t){let e=this.tabsProperties[t].module.replaceAll("_","-");return"suitepicon-module-"+e.toLowerCase()},translateSubpanelTitle(t){let e="",a=this.tabsProperties[t].title_key;return e=this.DOAPP.utils.translate(a,this.module),e!==a?e:Object.hasOwn(this.$store.state.app.list_strings.moduleList,a)?this.$store.state.app.list_strings.moduleList[a]:(e=this.DOAPP.utils.translate(a,this.tabsProperties[t].module),e!==a?e:a)}}},h=a(40089);const w=(0,h.Z)(m,[["render",b],["__scopeId","data-v-bc52753c"]]);var f=w},11694:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});var s=a(73396),n=a(87139);function o(t,e,a,o,r,l){return(0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(["dropdown-menu",r.directionClass])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.tabProperties.top_buttons,((e,a)=>((0,s.wg)(),(0,s.j4)((0,s.LL)(t.widgetTemplate(e.widget_class)),{key:a,parentModule:t.module,buttonProp:e,tabProperties:t.tabProperties,"page-data":t.pageData,"get-data":t.getData},null,8,["parentModule","buttonProp","tabProperties","page-data","get-data"])))),128))],2)}var r=a(62262),l={extends:r["default"],name:"SubpanelBarAction",data(){return{directionClass:""}},computed:{parentWidth(){return this.$el.parentElement.parentElement.getBoundingClientRect().width}},mounted(){this.setDirectionClass()},methods:{setDirectionClass(){let t=this.$el.parentElement.getBoundingClientRect();t.left>this.parentWidth-t.right?this.directionClass="dropdown-menu-right":this.directionClass="dropdown-menu-left"}}},i=a(40089);const u=(0,i.Z)(l,[["render",o]]);var d=u}}]);