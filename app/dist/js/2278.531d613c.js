"use strict";(self["webpackChunkdoapp_crmtheme"]=self["webpackChunkdoapp_crmtheme"]||[]).push([[2278,4063,3312],{93312:function(e,t,s){s.r(t),s.d(t,{default:function(){return l}});s(82801),s(61295),s(57658);var a={name:"AbstractActivities",beforeMount(){this.extendDefaultReminder()},computed:{user(){return this.$store.state.user.data},scheduler(){return this.$store.state.focus.data.pageData.reminderInvite&&this.$store.state.focus.data.pageData.reminderInvite.users_arr?this.$store.state.focus.data.pageData.reminderInvite.users_arr:[]},reminders(){return this.$store.state.focus.data.beanData.reminders.value},remindersData(){if(this.reminders.remindersData){let e=structuredClone(this.reminders.remindersData);for(let t of e)"1"===t.popup?t.popup=!0:t.popup=!1,"1"===t.email?t.email=!0:t.email=!1;return JSON.stringify(e)}return[]},reminderInvite(){let e={},t="";this.scheduler.forEach((s=>{t=s.module?"Users"===s.module||"Leads"===s.module||"Contacts"===s.module?s.module:s.module+"s":s.moduleName,e[t]||(e[t]=[]),e[t].push(s.fields.id)}));for(let s in e)e[s]=e[s].join();return e}},methods:{extendDefaultReminder(){let e=Object.assign({},this.reminders);e.remindersDefaultValuesData["invitees"]=[{id:"",module:"Users",module_id:this.user.id,value:this.user.firstName+" "+this.user.lastName}],this.$store.dispatch("focus/updateModelValue",{name:"reminders",value:e})},addPopup(e,t){this.$store.dispatch("popup/setSize",t),this.$store.dispatch("popup/fill",e),this.$store.dispatch("popup/show")}}};const i=a;var l=i},37332:function(e,t,s){s.r(t),s.d(t,{default:function(){return R}});var a=s(73396),i=s(49242),l=s(87139);const n=e=>((0,a.dD)("data-v-07f8f024"),e=e(),(0,a.Cn)(),e),d={class:"card card-primary card-outline card expanded"},r={class:"card-header"},u={class:"card-title"},o=n((()=>(0,a._)("div",{class:"card-tools"},[(0,a._)("button",{type:"button",class:"btn btn-tool","data-card-widget":"collapse",title:"Collapse"},[(0,a._)("i",{class:"fas fa-minus"})])],-1))),c={class:"card-body"},p={id:"scheduler"},_={class:"row"},m={class:"col"},h=n((()=>(0,a._)("i",{class:"fas fa-plus"},null,-1))),v={id:"scheduler-legend",class:"row scheduler-legend"},f={class:"col-6"},b={class:"scheduler-legend__elem"},w=n((()=>(0,a._)("i",{class:"bi bi-square-fill text-teal"},null,-1))),g={class:"scheduler-legend__description-accept"},D={class:"scheduler-legend__elem"},L=n((()=>(0,a._)("i",{class:"bi bi-square-fill text-red"},null,-1))),y={class:"scheduler-legend__description-decline"},C={class:"scheduler-legend__elem"},P=n((()=>(0,a._)("i",{class:"bi bi-square-fill text-indigo"},null,-1))),I={class:"scheduler-legend__description-busy"},S={class:"col-6"},z={class:"scheduler-legend__elem"},A=n((()=>(0,a._)("i",{class:"bi bi-square-fill text-warning"},null,-1))),B={class:"scheduler-legend__description-conflict"},x={class:"scheduler-legend__elem"},O=n((()=>(0,a._)("i",{class:"bi bi-square-fill custom-text-none"},null,-1))),U={class:"scheduler-legend__description-none"},$={class:"scheduler-legend__elem"},N=n((()=>(0,a._)("i",{class:"bi bi-square-fill text-info"},null,-1))),T={class:"scheduler-legend__description-tentative"};function q(e,t,s,n,q,k){const M=(0,a.up)("CustomSchedulerTable");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.wy)((0,a._)("input",{type:"hidden",name:"user_invitees","onUpdate:modelValue":t[0]||(t[0]=t=>e.reminderInvite.Users=t)},null,512),[[i.nr,e.reminderInvite.Users]]),(0,a.wy)((0,a._)("input",{type:"hidden",name:"lead_invitees","onUpdate:modelValue":t[1]||(t[1]=t=>e.reminderInvite.Leads=t)},null,512),[[i.nr,e.reminderInvite.Leads]]),(0,a.wy)((0,a._)("input",{type:"hidden",name:"contact_invitees","onUpdate:modelValue":t[2]||(t[2]=t=>e.reminderInvite.Contacts=t)},null,512),[[i.nr,e.reminderInvite.Contacts]]),(0,a._)("div",d,[(0,a._)("div",r,[(0,a._)("h3",u,(0,l.zw)(e.DOAPP.utils.translate("LBL_PARTICIPANTS_TAB","Home")),1),o]),(0,a._)("div",c,[(0,a._)("div",p,[(0,a._)("div",_,[(0,a._)("div",m,[(0,a.Wm)(M,{persons:e.scheduler,"window-size":s.windowSize},null,8,["persons","window-size"]),(0,a._)("button",{type:"button",class:"btn btn-info float-right",onClick:t[3]||(t[3]=(...e)=>k.openPopup&&k.openPopup(...e))},[h,(0,a.Uk)(" "+(0,l.zw)(e.DOAPP.utils.translate("LBL_ADD_BUTTON",s.module)),1)])])]),(0,a._)("div",v,[(0,a._)("div",f,[(0,a._)("div",b,[w,(0,a._)("span",g," - "+(0,l.zw)(q.invitationStatuses.accept),1)]),(0,a._)("div",D,[L,(0,a._)("span",y," - "+(0,l.zw)(q.invitationStatuses.decline),1)]),(0,a._)("div",C,[P,(0,a._)("span",I," - "+(0,l.zw)(e.DOAPP.utils.translate("LBL_BUSY","Calendar")),1)])]),(0,a._)("div",S,[(0,a._)("div",z,[A,(0,a._)("span",B," - "+(0,l.zw)(e.DOAPP.utils.translate("LBL_CONFLICT","Calendar")),1)]),(0,a._)("div",x,[O,(0,a._)("span",U," - "+(0,l.zw)(q.invitationStatuses.none),1)]),(0,a._)("div",$,[N,(0,a._)("span",T," - "+(0,l.zw)(q.invitationStatuses.tentative),1)])])])])])])])}var k=s(93312),M=s(64863),V={name:"SchedulerPanel",extends:k["default"],components:{CustomSchedulerTable:M["default"]},props:{module:{type:String,required:!0},windowSize:{type:Object,required:!0}},data(){return{invitationStatuses:this.$store.state.app.list_strings.dom_meeting_accept_status,employeeBusyStatus:this.$store.state.app.list_strings.call_reschedule_dom}},methods:{openPopup(){let e={type:"Invite",header:{data:{module:this.module,title:"LBL_ADD_BUTTON"},show:!0},body:{data:{viewData:{data:{},displayColumns:{itemModule:{label:""},name:{label:"LBL_NAME"},email1:{label:"LBL_EMAIL"},phone_work:{label:"LBL_PHONE"}}},pageData:{module:this.module},module:this.module},show:!0},footer:{data:{},show:!1}};this.addPopup(e,"xl")}}},E=s(40089);const j=(0,E.Z)(V,[["render",q],["__scopeId","data-v-07f8f024"]]);var R=j}}]);