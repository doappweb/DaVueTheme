"use strict";(self["webpackChunkdoapp_crmtheme"]=self["webpackChunkdoapp_crmtheme"]||[]).push([[1210],{1210:function(e,r,a){a.r(r),a.d(r,{default:function(){return m}});var d=a(73396),n=a(49242);const t=e=>((0,d.dD)("data-v-7b8d675e"),e=e(),(0,d.Cn)(),e),l={id:"daDragContainer"},o=t((()=>(0,d._)("div",{class:"da-drop-zone"},null,-1))),g=[o],s=["id"],i=t((()=>(0,d._)("div",{class:"da-drop-zone"},null,-1))),c=t((()=>(0,d._)("div",{class:"da-drop-zone"},null,-1))),v=[c];function p(e,r,a,t,o,c){return(0,d.wg)(),(0,d.iD)("div",l,[(0,d._)("div",{class:"da-drag-item",draggable:"true",onMousedown:r[0]||(r[0]=(0,n.iM)((()=>{}),["prevent"])),onDragstart:r[1]||(r[1]=(...e)=>c.dragStartHandler&&c.dragStartHandler(...e)),onDragend:r[2]||(r[2]=(...e)=>c.dragEndHandler&&c.dragEndHandler(...e)),onDragover:r[3]||(r[3]=(0,n.iM)(((...e)=>c.dragOverHandler&&c.dragOverHandler(...e)),["self"])),onDragenter:r[4]||(r[4]=(...e)=>c.dragEnterHandler&&c.dragEnterHandler(...e)),onDragleave:r[5]||(r[5]=(...e)=>c.dragLeaveHandler&&c.dragLeaveHandler(...e)),onDrag:r[6]||(r[6]=(...e)=>c.dragHandler&&c.dragHandler(...e))},g,32),((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(a.dragElements,((a,t)=>((0,d.wg)(),(0,d.iD)("div",{key:t,id:a,class:"da-drag-item",draggable:"true",onDragstart:r[7]||(r[7]=(...e)=>c.dragStartHandler&&c.dragStartHandler(...e)),onDragend:r[8]||(r[8]=(...e)=>c.dragEndHandler&&c.dragEndHandler(...e)),onDragover:r[9]||(r[9]=(0,n.iM)(((...e)=>c.dragOverHandler&&c.dragOverHandler(...e)),["self"])),onDragenter:r[10]||(r[10]=(...e)=>c.dragEnterHandler&&c.dragEnterHandler(...e)),onDragleave:r[11]||(r[11]=(...e)=>c.dragLeaveHandler&&c.dragLeaveHandler(...e)),onDrag:r[12]||(r[12]=(...e)=>c.dragHandler&&c.dragHandler(...e))},[i,(0,d.WI)(e.$slots,"default",{elem:a,index:t},void 0,!0)],40,s)))),128)),(0,d._)("div",{class:"da-drag-item",draggable:"true",onMousedown:r[13]||(r[13]=(0,n.iM)((()=>{}),["prevent"])),onDragstart:r[14]||(r[14]=(...e)=>c.dragStartHandler&&c.dragStartHandler(...e)),onDragend:r[15]||(r[15]=(...e)=>c.dragEndHandler&&c.dragEndHandler(...e)),onDragover:r[16]||(r[16]=(0,n.iM)(((...e)=>c.dragOverHandler&&c.dragOverHandler(...e)),["self"])),onDragenter:r[17]||(r[17]=(...e)=>c.dragEnterHandler&&c.dragEnterHandler(...e)),onDragleave:r[18]||(r[18]=(...e)=>c.dragLeaveHandler&&c.dragLeaveHandler(...e)),onDrag:r[19]||(r[19]=(...e)=>c.dragHandler&&c.dragHandler(...e))},v,32)])}a(57658);var H={name:"daDragAndDrop",props:{dragElements:{type:[Object,Array],required:!0}},emits:["changeOrder"],data(){return{dragElemId:"",targetElemId:""}},methods:{detectDropZone(e){const r=document.elementsFromPoint(e.clientX,e.clientY);let a;for(let d=0;d<r.length;d++)if("da-drop-zone"===r[d].className){a=r[d];break}return a},spreadDropZone(e){e.className.includes("da-drop-zone")&&e.classList.add("da-drop-zone_active")},squeezeDropZone(e,r=!1){r?document.querySelectorAll(".da-drop-zone_active").forEach((e=>e.classList.remove("da-drop-zone_active"))):e.target.className.includes("da-drop-zone")&&e.target.classList.remove("da-drop-zone_active")},dragHandler(e){e.clientY>900&&0!==e.clientY&&window.scrollBy(0,25),e.clientY<100&&0!==e.clientY&&window.scrollBy(0,-25)},setStartStyle(e){e.style.opacity=.3},setEndStyle(e){e.classList.add("da-drop-wink"),e.style.opacity=1},dragStartHandler(e){"A"!==e.target.tagName?(e.dataTransfer.effectAllowed="move",e.dataTransfer.dropEffect="move",e.dataTransfer.setData("itemID",e.target.firstChild.id),this.setStartStyle(e.target)):e.preventDefault()},dragEndHandler(e){if("A"===e.target.tagName)return void e.preventDefault();const r=this.detectDropZone(e);if(r){const a=r.parentNode.parentNode;a.insertBefore(e.target,r.parentNode)}this.squeezeDropZone(e,!0),this.setEndStyle(e.target),this.$emit("changeOrder",this.getDragPanelOrder())},dragOverHandler(e){return e.preventDefault&&e.preventDefault(),!1},dragEnterHandler(e){const r=this.detectDropZone(e);r&&this.spreadDropZone(r)},dragLeaveHandler(e){this.squeezeDropZone(e)},getDragPanelOrder(){let e=document.querySelectorAll("#daDragContainer"),r=[];return e.forEach((e=>{let a=[];e.childNodes.forEach((e=>{e.id&&a.push(e.id)})),r.push(a.join())})),r.join("|")}}},u=a(40089);const D=(0,u.Z)(H,[["render",p],["__scopeId","data-v-7b8d675e"]]);var m=D}}]);