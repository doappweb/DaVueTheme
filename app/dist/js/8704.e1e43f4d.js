"use strict";(self["webpackChunkdoapp_crmtheme"]=self["webpackChunkdoapp_crmtheme"]||[]).push([[8704],{11543:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var l=a(73396),s=a(87139);const n=e=>((0,l.dD)("data-v-6660b0f7"),e=e(),(0,l.Cn)(),e),r={class:"border-bottom"},o=n((()=>(0,l._)("div",{class:"row"},[(0,l._)("label",{class:"col truncate-label text-center"},"Style")],-1))),d={class:"col-3 truncate-label"},i={class:"col-9 mb-1"};function c(e,t,a,n,c,u){const _=(0,l.up)("daColorPicker");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("h3",r,(0,s.zw)(e.DOAPP.utils.translate("LBL_COLOR_SETTINGS","Calendar")),1),o,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.getColorScheme,((t,a)=>((0,l.wg)(),(0,l.iD)("div",{key:a,class:"row"},[(0,l._)("label",d,(0,s.zw)(e.DOAPP.utils.translate("LBL_MODULE_NAME",a)),1),(0,l._)("div",i,[(0,l.Wm)(_,{needTitle:!0,value:t["body"],onColorChange:t=>e.setColorScheme(t,a,"body")},null,8,["value","onColorChange"])])])))),128))],64)}var u=a(49112),_=a(84768),m={name:"CalendarColorScheme",components:{DaColorPicker:_["default"]},mixins:[u["default"]]},p=a(40089);const S=(0,p.Z)(m,[["render",c],["__scopeId","data-v-6660b0f7"]]);var h=S},1288:function(e,t,a){a.r(t),a.d(t,{default:function(){return C}});var l=a(73396),s=a(87139),n=a(49242);const r=e=>((0,l.dD)("data-v-e0a273d6"),e=e(),(0,l.Cn)(),e),o={for:"shared_ids"},d={class:"d-flex flex-row flex-wrap"},i={class:"text-sm"},c=["onClick"],u={class:"dropdown-menu dropdown-menu-custom-scroll thin-scroll"},_=["id","disabled","onMousedown"],m=r((()=>(0,l._)("div",{class:"dropdown-divider"},null,-1)));function p(e,t,a,r,p,S){return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("label",o,(0,s.zw)(e.DOAPP.utils.translate("LBL_USERS","Calendar")),1),(0,l._)("div",{class:(0,s.C_)(["form-control",{disabled:e.isOnlyMineFlag}]),"data-toggle":"dropdown"},[(0,l._)("div",d,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.selectedSharedUsers,(t=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:(0,s.C_)(["selected_panel",{disabled:e.isOnlyMineFlag}])},[(0,l._)("span",i,(0,s.zw)(e.availableSharedUsers[t]),1),(0,l._)("button",{class:"custom_delete_button",type:"button",onClick:(0,n.iM)((e=>S.removeValue(t)),["stop"])},"тип",8,c)],2)))),128))])],2),(0,l._)("div",u,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.availableSharedUsers,((e,t)=>((0,l.wg)(),(0,l.iD)(l.HY,{key:t},[(0,l._)("button",{id:"dropdown-item_"+t,tabindex:"-1",type:"button",class:(0,s.C_)(["dropdown-item text-sm",S.itemStatus(t).class]),disabled:S.itemStatus(t).disabled,onMousedown:e=>S.addValue(t)},(0,s.zw)(e),43,_),m],64)))),128))])])}var S=a(66183),h=a(49112),v={name:"CalendarMultiSelectField",extends:S["default"],props:{selectedSharedUsers:{type:Array,required:!0}},mixins:[h["default"]],emits:["addSelected","removeSelected"],computed:{value(){return this.$store.state.app.setting.calendar.sharedUsers}},methods:{itemStatus(e){for(let t of this.$props.selectedSharedUsers)if(e===t)return{class:"text-muted",disabled:!0};return{class:"",disabled:!1}},removeValue(e){this.$emit("removeSelected",e)},addValue(e){this.$emit("addSelected",e)}}},g=a(40089);const w=(0,g.Z)(v,[["render",p],["__scopeId","data-v-e0a273d6"]]);var C=w},78832:function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});var l=a(73396),s=a(87139),n=a(49242);const r={class:"row"},o={class:"form-group col-lg-6"},d={for:"saved_search_name"},i={class:"input-group"},c={class:"input-group-append"},u={class:"form-group col-lg-6"},_={for:"curr_search_name"},m={class:"input-group"},p={id:"curr_search_name",class:"form-control"},S={class:"input-group-append"},h=["disabled"],v=["disabled"];function g(e,t,a,g,w,C){return(0,l.wg)(),(0,l.iD)("div",r,[(0,l._)("div",o,[(0,l._)("label",d,(0,s.zw)(e.DOAPP.utils.translate("LBL_SAVE_SEARCH_AS","SavedSearch")),1),(0,l._)("div",i,[(0,l.wy)((0,l._)("input",{type:"text",id:"preset_name",name:"preset_name",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>w.presetName=e)},null,512),[[n.nr,w.presetName]]),(0,l._)("div",c,[(0,l._)("button",{type:"button",class:"btn btn-primary",form:"calendarSettings",onClick:t[1]||(t[1]=(...e)=>C.savePreset&&C.savePreset(...e))},(0,s.zw)(e.DOAPP.utils.translate("LBL_SAVE_BUTTON_LABEL")),1)])])]),(0,l._)("div",u,[(0,l._)("label",_,(0,s.zw)(e.DOAPP.utils.translate("LBL_MODIFY_CURRENT_FILTER","SavedSearch")),1),(0,l._)("div",m,[(0,l._)("div",p,(0,s.zw)(e.hasActivePreset?e.activePreset.name:""),1),(0,l._)("div",S,[(0,l._)("button",{type:"button",class:"btn btn-primary",form:"calendarSettings",onClick:t[2]||(t[2]=(...e)=>C.updatePreset&&C.updatePreset(...e)),disabled:!e.hasActivePreset},(0,s.zw)(e.DOAPP.utils.translate("LBL_UPDATE")),9,h),(0,l._)("button",{type:"button",class:"btn btn-danger",form:"calendarSettings",onClick:t[3]||(t[3]=(...e)=>C.deletePreset&&C.deletePreset(...e)),disabled:!e.hasActivePreset},(0,s.zw)(e.DOAPP.utils.translate("LBL_DELETE_BUTTON")),9,v)])])])])}var w=a(49112),C={name:"CalendarPresetActions",data(){return{presetName:""}},mixins:[w["default"]],methods:{async savePreset(e){await this.setCalendarConfiguration(e,!1),await this.$store.commit("app/DEACTIVATE_CALENDAR_PRESETS"),await this.$store.dispatch("app/saveCalendarPreset",this.presetName),await this.$store.dispatch("app/setSettings",this.$store.state.app.setting),this.presetName=""},async updatePreset(e){await this.setCalendarConfiguration(e),this.$store.commit("app/UPDATE_CALENDAR_PRESET"),await this.$store.dispatch("app/setSettings",this.$store.state.app.setting)},async deletePreset(e){this.activePreset&&(this.$store.commit("app/REMOVE_CALENDAR_PRESET"),this.$store.commit("app/CHOOSE_CALENDAR_PRESET"),await this.setCalendarConfiguration(e,!0),await this.$store.dispatch("app/setSettings",this.$store.state.app.setting))}}},b=a(40089);const P=(0,b.Z)(C,[["render",g]]);var f=P},53108:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var l=a(73396),s=a(87139),n=a(49242);const r={class:"collapse multi-collapse",id:"collapseCalendarSelectUsers"},o={class:"card text-sm"},d={class:"card-header"},i={class:"card-body"},c={class:"row"},u={class:"form-group col-lg-6","data-type":"bool","data-field":"only_my_records"},_={class:"custom-control custom-switch"},m={class:"custom-control-label",for:"customSwitch"},p={class:"form-group col-lg-6"};function S(e,t,a,S,h,v){const g=(0,l.up)("CalendarMultiSelectField");return(0,l.wg)(),(0,l.iD)("div",r,[(0,l._)("div",o,[(0,l._)("div",d,[(0,l._)("h3",null,(0,s.zw)(e.DOAPP.utils.translate("LBL_EDIT_USERLIST","Calendar")),1)]),(0,l._)("div",i,[(0,l._)("div",c,[(0,l._)("div",u,[(0,l._)("div",_,[(0,l.wy)((0,l._)("input",{type:"checkbox",class:"custom-control-input",id:"customSwitch","true-value":"1","false-value":"0","onUpdate:modelValue":t[0]||(t[0]=e=>v.isOnlyMineValue=e)},null,512),[[n.e8,v.isOnlyMineValue]]),(0,l._)("label",m,(0,s.zw)(e.DOAPP.utils.translate("LBL_CURRENT_USER_FILTER")),1)])]),(0,l._)("div",p,[(0,l.Wm)(g,{selectedSharedUsers:h.selectedSharedUsers,onAddSelected:v.addSelectedHandler,onRemoveSelected:v.removeSelectedHandler},null,8,["selectedSharedUsers","onAddSelected","onRemoveSelected"])])]),(0,l._)("button",{type:"button",class:"btn btn-primary",style:{margin:"0.2em 0.2em 0 0"},form:"calendarSettings",onClick:t[1]||(t[1]=t=>e.acceptSharedUsers(t,this.selectedSharedUsers))},(0,s.zw)(e.DOAPP.utils.translate("LBL_APPLY_BUTTON","Calendar")),1),(0,l._)("button",{type:"button",class:"btn btn-danger",style:{margin:"0.2em 0.2em 0 0"},form:"calendarSettings",onClick:t[2]||(t[2]=(...e)=>v.cleanSelected&&v.cleanSelected(...e))},(0,s.zw)(e.DOAPP.utils.translate("LBL_CLEAR_BUTTON_LABEL")),1)])])])}a(82801),a(61295),a(57658);var h=a(1288),v=a(49112),g={name:"CalendarSelectUsers",components:{CalendarMultiSelectField:h["default"]},data(){return{user:this.$store.state.user.data,selectedSharedUsers:[]}},watch:{sharedUsers:{handler(e){this.selectedSharedUsers=structuredClone(e)},immediate:!0}},mixins:[v["default"]],computed:{isOnlyMineValue:{get(){return this.isOnlyMineFlag?"1":"0"},set(e){"1"===e?this.$store.commit("app/UPDATE_IS_ONLY_MINE_FLAG",!0):this.$store.commit("app/UPDATE_IS_ONLY_MINE_FLAG",!1)}}},methods:{addSelectedHandler(e){this.selectedSharedUsers.push(e)},removeSelectedHandler(e){this.selectedSharedUsers=this.selectedSharedUsers.filter((t=>t!==e))},cleanSelected(){this.selectedSharedUsers=[]}}},w=a(40089);const C=(0,w.Z)(g,[["render",S]]);var b=C},48704:function(e,t,a){a.r(t),a.d(t,{default:function(){return ue}});var l=a(73396),s=a(87139),n=a(49242);const r={class:"collapse multi-collapse",id:"collapseCalendarSettings"},o={name:"calendarSettings",id:"calendarSettings"},d=["value"],i=["value"],c=["value"],u=["value"],_=["value"],m=["value"],p={class:"card text-sm"},S={class:"card-body"},h={class:"row"},v={class:"col-lg-6"},g={class:"border-bottom"},w={class:"form-group"},C={for:"display_timeslots",class:"truncate-label"},b={class:"input-group"},P=["title"],f=["label","value"],L={class:"mt-auto"},y=["title"],A=["label","value"],E={class:"mt-auto"},D={class:"form-group"},T={for:"display_timeslots",class:"truncate-label"},O={class:"input-group"},B=["title"],U=["label","value"],k={class:"mt-auto"},N=["title"],R=["label","value"],M={class:"mt-auto"},H={class:"form-group"},z={class:"custom-control custom-switch"},I=(0,l._)("input",{type:"hidden",name:"show_calls",value:""},null,-1),V=["title"],x={for:"show_calls",class:"custom-control-label"},$={class:"form-group"},Y={class:"custom-control custom-switch"},G=(0,l._)("input",{type:"hidden",name:"show_tasks",value:""},null,-1),F=["title"],W={for:"show_tasks",class:"custom-control-label"},K={class:"form-group"},Z={class:"custom-control custom-switch"},j=(0,l._)("input",{type:"hidden",name:"show_completed",value:""},null,-1),q=["title"],J={for:"show_completed",class:"custom-control-label"},Q={class:"col-lg-6"},X={class:"form-group"},ee={class:"collapse multi-collapse",id:"collapsePresetActions"},te={class:"card text-sm"},ae={class:"card-body"};function le(e,t,a,le,se,ne){const re=(0,l.up)("CalendarSelectUsers"),oe=(0,l.up)("CalendarColorScheme"),de=(0,l.up)("CalendarPresetActions");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(re),(0,l._)("div",r,[(0,l._)("form",o,[(0,l._)("input",{type:"hidden",name:"view",value:e.calendarSettings.view},null,8,d),(0,l._)("input",{type:"hidden",name:"day",value:e.calendarSettings.selectedDay},null,8,i),(0,l._)("input",{type:"hidden",name:"month",value:e.calendarSettings.selectedMonth},null,8,c),(0,l._)("input",{type:"hidden",name:"year",value:e.calendarSettings.selectedYear},null,8,u),(0,l._)("input",{type:"hidden",name:"display_timeslots",value:e.calendarSettings.display_timeslots},null,8,_),(0,l._)("input",{type:"hidden",name:"shared_calendar_separate",value:e.calendarSettings.shared_calendar_separate},null,8,m),(0,l._)("div",p,[(0,l._)("div",S,[(0,l._)("div",h,[(0,l._)("div",v,[(0,l._)("h3",g,(0,s.zw)(e.DOAPP.utils.translate("LBL_SETTINGS","Calendar")),1),(0,l._)("div",w,[(0,l._)("label",C,(0,s.zw)(e.DOAPP.utils.translate("LBL_SETTINGS_TIME_STARTS","Calendar")),1),(0,l._)("div",b,[(0,l.wy)((0,l._)("select",{class:"form-control form-control-border",id:"day_start_hours",name:"day_start_hours",title:e.DOAPP.utils.translate("LBL_SETTINGS_TIME_STARTS","Calendar"),"onUpdate:modelValue":t[0]||(t[0]=t=>e.calendarSettings.dateStartHours=t)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.calendarSettings.hoursOptions,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e,label:e,value:e},(0,s.zw)(e),9,f)))),128))],8,P),[[n.bM,e.calendarSettings.dateStartHours]]),(0,l._)("div",L,(0,s.zw)(e.DOAPP.utils.translate("LBL_HOURS_ABBREV","Calendar")),1),(0,l.wy)((0,l._)("select",{class:"form-control form-control-border",id:"day_start_minutes",name:"day_start_minutes",title:e.DOAPP.utils.translate("LBL_HOURS_ABBREV","Calendar"),"onUpdate:modelValue":t[1]||(t[1]=t=>e.calendarSettings.dateStartMinutes=t)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.calendarSettings.minutesOptions,((e,t)=>((0,l.wg)(),(0,l.iD)("option",{key:t,label:e,value:e},(0,s.zw)(e),9,A)))),128))],8,y),[[n.bM,e.calendarSettings.dateStartMinutes]]),(0,l._)("div",E,(0,s.zw)(e.DOAPP.utils.translate("LBL_MINS_ABBREV","Calendar")),1)])]),(0,l._)("div",D,[(0,l._)("label",T,(0,s.zw)(e.DOAPP.utils.translate("LBL_SETTINGS_TIME_ENDS","Calendar")),1),(0,l._)("div",O,[(0,l.wy)((0,l._)("select",{class:"form-control form-control-border",id:"day_end_hours",name:"day_end_hours",title:e.DOAPP.utils.translate("LBL_SETTINGS_TIME_STARTS","Calendar"),"onUpdate:modelValue":t[2]||(t[2]=t=>e.calendarSettings.dateEndHours=t)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.calendarSettings.hoursOptions,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e,label:e,value:e},(0,s.zw)(e),9,U)))),128))],8,B),[[n.bM,e.calendarSettings.dateEndHours]]),(0,l._)("div",k,(0,s.zw)(e.DOAPP.utils.translate("LBL_HOURS_ABBREV","Calendar")),1),(0,l.wy)((0,l._)("select",{class:"form-control form-control-border",id:"day_end_minutes",name:"day_end_minutes",title:e.DOAPP.utils.translate("LBL_HOURS_ABBREV","Calendar"),"onUpdate:modelValue":t[3]||(t[3]=t=>e.calendarSettings.dateEndMinutes=t)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.calendarSettings.minutesOptions,((e,t)=>((0,l.wg)(),(0,l.iD)("option",{key:t,label:e,value:e},(0,s.zw)(e),9,R)))),128))],8,N),[[n.bM,e.calendarSettings.dateEndMinutes]]),(0,l._)("div",M,(0,s.zw)(e.DOAPP.utils.translate("LBL_MINS_ABBREV","Calendar")),1)])]),(0,l._)("div",H,[(0,l._)("div",z,[I,(0,l.wy)((0,l._)("input",{type:"checkbox",class:"custom-control-input",id:"show_calls",name:"show_calls","onUpdate:modelValue":t[4]||(t[4]=t=>e.calendarSettings.showCalls=t),title:e.DOAPP.utils.translate("LBL_SETTINGS_CALLS_SHOW","Calendar"),"true-value":"true","false-value":""},null,8,V),[[n.e8,e.calendarSettings.showCalls]]),(0,l._)("label",x,(0,s.zw)(e.DOAPP.utils.translate("LBL_SETTINGS_CALLS_SHOW","Calendar").replace(":","")),1)])]),(0,l._)("div",$,[(0,l._)("div",Y,[G,(0,l.wy)((0,l._)("input",{type:"checkbox",class:"custom-control-input",id:"show_tasks",name:"show_tasks","onUpdate:modelValue":t[5]||(t[5]=t=>e.calendarSettings.showTasks=t),title:e.DOAPP.utils.translate("LBL_SETTINGS_TASKS_SHOW","Calendar"),"true-value":"true","false-value":""},null,8,F),[[n.e8,e.calendarSettings.showTasks]]),(0,l._)("label",W,(0,s.zw)(e.DOAPP.utils.translate("LBL_SETTINGS_TASKS_SHOW","Calendar").replace(":","")),1)])]),(0,l._)("div",K,[(0,l._)("div",Z,[j,(0,l.wy)((0,l._)("input",{type:"checkbox",class:"custom-control-input",id:"show_completed",name:"show_completed","onUpdate:modelValue":t[6]||(t[6]=t=>e.calendarSettings.showCompleted=t),title:e.DOAPP.utils.translate("LBL_SETTINGS_COMPLETED_SHOW","Calendar"),"true-value":"true","false-value":""},null,8,q),[[n.e8,e.calendarSettings.showCompleted]]),(0,l._)("label",J,(0,s.zw)(e.DOAPP.utils.translate("LBL_SETTINGS_COMPLETED_SHOW","Calendar").replace(":","")),1)])])]),(0,l._)("div",Q,[(0,l._)("div",X,[(0,l.Wm)(oe)])])]),(0,l._)("button",{type:"button",class:"btn btn-primary",style:{"margin-right":"0.2em"},form:"calendarSettings",onClick:t[7]||(t[7]=(...t)=>e.acceptSettings&&e.acceptSettings(...t))},(0,s.zw)(e.DOAPP.utils.translate("LBL_APPLY_BUTTON","Calendar")),1),(0,l._)("button",{type:"button",class:"btn btn-danger",style:{"margin-right":"0.2em"},onClick:t[8]||(t[8]=(...t)=>e.cleanSettings&&e.cleanSettings(...t))},(0,s.zw)(e.DOAPP.utils.translate("LBL_CLEAR_BUTTON_LABEL")),1)])])])]),(0,l._)("div",ee,[(0,l._)("div",te,[(0,l._)("div",ae,[(0,l.Wm)(de)])])])],64)}var se=a(11543),ne=a(53108),re=a(78832),oe=a(49112),de={name:"CalendarSettings",components:{CalendarPresetActions:re["default"],CalendarSelectUsers:ne["default"],CalendarColorScheme:se["default"]},mixins:[oe["default"]]},ie=a(40089);const ce=(0,ie.Z)(de,[["render",le]]);var ue=ce},84768:function(e,t,a){a.r(t),a.d(t,{default:function(){return _}});var l=a(73396),s=a(87139),n=a(49242);const r=["value"];function o(e,t,a,o,d,i){return(0,l.wy)(((0,l.wg)(),(0,l.iD)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>d.currentColor=e),class:"custom-select daColorPicker-select",style:(0,s.j5)({backgroundColor:a.value}),onChange:t[1]||(t[1]=(...e)=>i.setColor&&i.setColor(...e))},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.getHexes,((e,t)=>((0,l.wg)(),(0,l.iD)("option",{key:e,value:t,style:(0,s.j5)({backgroundColor:t})},null,12,r)))),128))],36)),[[n.bM,d.currentColor]])}var d=a(50397),i={name:"daColorPicker",data(){return{currentColor:""}},props:{value:{type:String},needTitle:{type:Boolean}},emits:["colorChange"],computed:{getHexes(){return d["default"]}},methods:{setColor(){this.$emit("colorChange",this.currentColor)}}},c=a(40089);const u=(0,c.Z)(i,[["render",o],["__scopeId","data-v-a2650f2c"]]);var _=u}}]);