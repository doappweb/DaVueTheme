"use strict";(self["webpackChunkdoapp_crmtheme"]=self["webpackChunkdoapp_crmtheme"]||[]).push([[7388],{77388:function(e,t,a){a.r(t),a.d(t,{default:function(){return k}});var s=a(73396),l=a(87139),n=a(49242);const i={class:"container-fluid"},r={class:"row"},u={class:"form-group col-md-12 col-lg-6"},c={class:"text-truncate mb-2"},o={for:"searchFieldMain",class:"truncate-label"},g={class:"input-group"},h=["title"],p={class:"input-group-append"},d=(0,s._)("i",{class:"fa fa-search"},null,-1),_=[d],m={class:"form-group col-md-6 col-lg-3","data-type":"enum","data-field":"search-query-size"},f={class:"text-truncate mb-2"},b={for:"search-query-size",class:"truncate-label"},y=["title"],D=["label","value"],v={key:0,class:"form-group col-md-6 col-lg-3","data-type":"enum","data-field":"search-engine"},w={class:"text-truncate mb-2"},z={for:"search-engine",class:"truncate-label"},E=["title"],S=["label","value"],O=(0,s._)("input",{type:"hidden",name:"search-query-from",value:"0"},null,-1);function P(e,t,a,d,P,A){return(0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("form",null,[(0,s._)("div",r,[(0,s._)("div",u,[(0,s._)("div",c,[(0,s._)("label",o,(0,l.zw)(e.DOAPP.utils.translate("LBL_SEARCH_QUERY")),1)]),(0,s._)("div",g,[(0,s.wy)((0,s._)("input",{class:"form-control",type:"text",id:"search-query-string",name:"search-query-string",title:e.DOAPP.utils.translate("LBL_SEARCH_QUERY"),"onUpdate:modelValue":t[0]||(t[0]=e=>A.value=e),onKeypress:t[1]||(t[1]=(0,n.D2)((0,n.iM)(((...e)=>A.getGlobalSearch&&A.getGlobalSearch(...e)),["prevent"]),["enter"]))},null,40,h),[[n.nr,A.value]]),(0,s._)("div",p,[(0,s._)("button",{type:"button",class:"btn btn-default",onClick:t[2]||(t[2]=(...e)=>A.getGlobalSearch&&A.getGlobalSearch(...e))},_)])])]),(0,s._)("div",m,[(0,s._)("div",f,[(0,s._)("label",b,(0,l.zw)(e.DOAPP.utils.translate("LBL_SEARCH_RESULTS_PER_PAGE")),1)]),(0,s.wy)((0,s._)("select",{class:"custom-select",id:"search-query-size",name:"search-query-size",title:e.DOAPP.utils.translate("LBL_SEARCH_RESULTS_PER_PAGE"),"onUpdate:modelValue":t[3]||(t[3]=e=>A.sizeValue=e)},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(A.sizeOptions,((e,t)=>((0,s.wg)(),(0,s.iD)("option",{key:t,label:e,value:t},(0,l.zw)(e),9,D)))),128))],8,y),[[n.bM,A.sizeValue]])]),A.engineOptions?((0,s.wg)(),(0,s.iD)("div",v,[(0,s._)("div",w,[(0,s._)("label",z,(0,l.zw)(e.DOAPP.utils.translate("LBL_SEARCH_RESULTS_PER_PAGE")),1)]),(0,s.wy)((0,s._)("select",{class:"custom-select",id:"search-engine",name:"search-engine",title:e.DOAPP.utils.translate("LBL_SEARCH_ENGINE"),"onUpdate:modelValue":t[4]||(t[4]=e=>A.engineValue=e)},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(A.engineOptions,((e,t)=>((0,s.wg)(),(0,s.iD)("option",{key:t,label:e,value:t},(0,l.zw)(e),9,S)))),128))],8,E),[[n.bM,A.engineValue]])])):(0,s.kq)("",!0),O])])])}a(57658);var A=a(20065),L={name:"UnifiedSearchForm",components:{},computed:{...(0,A.rn)({getData:e=>e.focus.get,pageData:e=>e.focus.data.pageData}),value(){return this.getData["search-query-string"]?this.getData["search-query-string"]:this.getData.query_string},sizeValue(){return this.getData["search-query-size"]?this.getData["search-query-size"]:Object.keys(this.pageData.sizeOptions)[0]},sizeOptions(){return this.pageData.sizeOptions},engineValue(){return this.engineOptions&&this.getData["search-engine"]?this.getData["search-engine"]:Object.keys(this.engineOptions)[0]},engineOptions(){return this.pageData.engineOptions}},methods:{async getGlobalSearch(){let e=new FormData(event.currentTarget.form),t={get:{module:"Home",action:"UnifiedSearch"},sanitize:!0};for(let a of e.entries())t.get[a[0]]=a[1];this.$router.push({path:"/",query:t.get}),await this.$store.dispatch("focus/getFocus",t)}}},q=a(40089);const R=(0,q.Z)(L,[["render",P]]);var k=R}}]);