"use strict";(self["webpackChunkdoapp_crmtheme"]=self["webpackChunkdoapp_crmtheme"]||[]).push([[1366,3312],{31366:function(e,t,a){a.r(t),a.d(t,{default:function(){return M}});var l=a(73396);const n=["value"],d=(0,l._)("input",{type:"hidden",name:"record",value:""},null,-1),i=(0,l._)("input",{type:"hidden",name:"duplicateSave",value:"true"},null,-1),s=["value"],r=["value"],u=(0,l._)("input",{type:"hidden",name:"isDuplicate",value:"false"},null,-1),o=(0,l._)("input",{type:"hidden",name:"action"},null,-1),c=["value"],p=["value"],m=["value"],_=["value"],v=(0,l._)("input",{type:"hidden",name:"module_tab"},null,-1),h=(0,l._)("input",{type:"hidden",name:"contact_role"},null,-1),f=["value"],b=["value"],D=["value"],w={class:"row overflow-hidden"};function y(e,t,a,y,g,P){const L=(0,l.up)("SchedulerPanel"),k=(0,l.up)("MainActivitiesPanel"),I=(0,l.up)("RemindersPanel");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("input",{type:"hidden",name:"module",value:e.module},null,8,n),e.getData.isDuplicate?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[d,i,(0,l._)("input",{type:"hidden",name:"duplicateId",value:e.record},null,8,s)],64)):((0,l.wg)(),(0,l.iD)("input",{key:1,type:"hidden",name:"record",value:e.record},null,8,r)),u,o,(0,l._)("input",{type:"hidden",name:"return_module",value:e.getData.return_module},null,8,c),(0,l._)("input",{type:"hidden",name:"return_action",value:e.getData.return_action},null,8,p),(0,l._)("input",{type:"hidden",name:"return_subAction",value:e.getData.return_subAction},null,8,m),(0,l._)("input",{type:"hidden",name:"return_id",value:e.getData.return_id},null,8,_),v,h,e.recordRelateOpt?((0,l.wg)(),(0,l.iD)(l.HY,{key:2},[(0,l._)("input",{type:"hidden",name:"relate_to",value:e.recordRelateOpt().relate_to},null,8,f),(0,l._)("input",{type:"hidden",name:"relate_id",value:e.recordRelateOpt().relate_id},null,8,b)],64)):(0,l.kq)("",!0),(0,l._)("input",{type:"hidden",name:"offset",value:e.pageData.offset},null,8,D),(0,l._)("div",w,[(0,l.Wm)(k,{"field-map":e.fieldMap,"bean-data":e.beanData,"panels-metadata":e.panelsMetadata,"panels-fields":e.panelsFields,module:e.module,record:e.record,"field-template":e.fieldTemplate},{default:(0,l.w5)((()=>[(0,l.Wm)(L,{module:e.module,"window-size":a.windowSize},null,8,["module","window-size"])])),_:1},8,["field-map","bean-data","panels-metadata","panels-fields","module","record","field-template"]),(0,l.Wm)(I,{module:e.module,"bean-data":e.beanData},null,8,["module","bean-data"])])],64)}var g=a(34807),P=a(27115),L=a(37332),k=a(4406),I={name:"CallsEditBody",props:{windowSize:{type:Object,required:!0}},components:{MainActivitiesPanel:k["default"],RemindersPanel:P["default"],SchedulerPanel:L["default"]},extends:g["default"]},O=a(40089);const R=(0,O.Z)(I,[["render",y]]);var M=R},93312:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});a(82801),a(61295),a(57658);var l={name:"AbstractActivities",beforeMount(){this.extendDefaultReminder()},computed:{user(){return this.$store.state.user.data},scheduler(){return this.$store.state.focus.data.pageData.reminderInvite&&this.$store.state.focus.data.pageData.reminderInvite.users_arr?this.$store.state.focus.data.pageData.reminderInvite.users_arr:[]},reminders(){return this.$store.state.focus.data.beanData.reminders.value},remindersData(){if(this.reminders.remindersData){let e=structuredClone(this.reminders.remindersData);for(let t of e)"1"===t.popup?t.popup=!0:t.popup=!1,"1"===t.email?t.email=!0:t.email=!1;return JSON.stringify(e)}return[]},reminderInvite(){let e={},t="";this.scheduler.forEach((a=>{t=a.module?"Users"===a.module||"Leads"===a.module||"Contacts"===a.module?a.module:a.module+"s":a.moduleName,e[t]||(e[t]=[]),e[t].push(a.fields.id)}));for(let a in e)e[a]=e[a].join();return e}},methods:{extendDefaultReminder(){let e=Object.assign({},this.reminders);e.remindersDefaultValuesData["invitees"]=[{id:"",module:"Users",module_id:this.user.id,value:this.user.firstName+" "+this.user.lastName}],this.$store.dispatch("focus/updateModelValue",{name:"reminders",value:e})},addPopup(e,t){this.$store.dispatch("popup/setSize",t),this.$store.dispatch("popup/fill",e),this.$store.dispatch("popup/show")}}};const n=l;var d=n},4406:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var l=a(73396),n=a(87139);const d=e=>((0,l.dD)("data-v-3dcf9821"),e=e(),(0,l.Cn)(),e),i={class:"card-header"},s={class:"card-title"},r=d((()=>(0,l._)("div",{class:"card-tools"},[(0,l._)("button",{type:"button",class:"btn btn-tool","data-card-widget":"collapse",title:"Collapse"},[(0,l._)("i",{class:"fas fa-minus"})])],-1))),u={class:"card-body"},o=d((()=>(0,l._)("i",{class:"fas fa-plus"},null,-1)));function c(e,t,a,d,c,p){return(0,l.wg)(),(0,l.iD)("div",{class:(0,n.C_)(e.reminders.remindersData.length?"col-lg-8":"col-lg-12 appear")},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.fieldMap,((d,c)=>((0,l.wg)(),(0,l.iD)("div",{key:c,class:(0,n.C_)(["card card-primary card-outline",p.getPanelClass(c)])},[(0,l._)("div",i,[(0,l._)("h3",s,(0,n.zw)(e.DOAPP.utils.translate(c,a.module)),1),r]),(0,l._)("div",u,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"row"},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e,((e,t)=>((0,l.wg)(),(0,l.iD)(l.HY,{key:t},["reminders"!==t?((0,l.wg)(),(0,l.j4)((0,l.LL)(a.fieldTemplate(a.beanData[t],a.panelsFields[c][t])),{key:0,name:t,module:a.module,record:a.record,metadata:a.panelsFields[c][t],beanData:a.beanData},null,8,["name","module","record","metadata","beanData"])):(0,l.kq)("",!0)],64)))),128))])))),128)),c.includes("INFORMATION")?((0,l.wg)(),(0,l.iD)("button",{key:0,type:"button",class:"btn btn-info float-right",onClick:t[0]||(t[0]=(...e)=>p.openPopup&&p.openPopup(...e))},[o,(0,l.Uk)(" "+(0,n.zw)(e.DOAPP.utils.translate("LBL_REMINDERS_ADD_REMINDER",a.module)),1)])):(0,l.kq)("",!0)])],2)))),128)),(0,l.WI)(e.$slots,"default",{},void 0,!0)],2)}var p=a(93312),m={name:"MainActivitiesPanel",extends:p["default"],props:{panelsMetadata:{type:Object,required:!0},fieldMap:{type:Object,required:!0},beanData:{type:Object,required:!0},panelsFields:{type:Object,required:!0},module:{type:String,required:!0},record:{type:String},fieldTemplate:{type:Function,required:!0}},methods:{openPopup(){let e={type:"Reminder",header:{data:{module:this.module,title:"LBL_REMINDERS_ADD_REMINDER"},show:!0},body:{data:{reminders:this.reminders,module:this.module,user:this.user},show:!0},footer:{data:{}}};this.addPopup(e,"lg")},getPanelClass(e){return this.panelsMetadata[e]&&this.panelsMetadata[e].panelDefault?this.panelsMetadata[e].panelDefault:""}}},_=a(40089);const v=(0,_.Z)(m,[["render",c],["__scopeId","data-v-3dcf9821"]]);var h=v},27115:function(e,t,a){a.r(t),a.d(t,{default:function(){return N}});var l=a(73396),n=a(49242),d=a(87139);const i=e=>((0,l.dD)("data-v-15120efc"),e=e(),(0,l.Cn)(),e),s={class:"card-header"},r={class:"card-title"},u=i((()=>(0,l._)("div",{class:"card-tools"},[(0,l._)("button",{type:"button",class:"btn btn-tool","data-card-widget":"collapse",title:"Collapse"},[(0,l._)("i",{class:"fas fa-minus"})])],-1))),o={class:"card-body"},c={id:"reminders"},p={class:"row"},m=["data-reminder-id"],_=i((()=>(0,l._)("span",{class:"error-msg"},null,-1))),v={class:"col"},h={class:"truncate-label"},f={class:"col mb-2"},b={class:"form-check mb-2"},D=["id","onUpdate:modelValue"],w=["for"],y=["onUpdate:modelValue"],g=["label","value"],P={class:"col mb-4"},L={class:"form-check mb-2"},k=["id","onUpdate:modelValue"],I=["for"],O=["onUpdate:modelValue"],R=["label","value"],M=["onClick"];function S(e,t,a,i,S,A){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.wy)((0,l._)("input",{type:"hidden",name:"reminders_data",id:"reminders_data","onUpdate:modelValue":t[0]||(t[0]=t=>e.remindersData=t)},null,512),[[n.nr,e.remindersData]]),(0,l.Wm)(n.W3,{name:"reminder",tag:"div",class:"col-lg-4 da-reminder-container"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(S.remindersList,((t,i)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"card card-info card-outline expanded"},[(0,l._)("div",s,[(0,l._)("h3",r,(0,d.zw)(e.DOAPP.utils.translate(a.beanData.reminders.vname,a.module)),1),u]),(0,l._)("div",o,[(0,l._)("div",c,[(0,l._)("div",p,[(0,l._)("div",{class:"form-group col-lg-12 mb-4","data-reminder-id":i},[_,(0,l._)("div",v,[(0,l._)("label",h,(0,d.zw)(e.DOAPP.utils.translate("LBL_REMINDERS_ACTIONS",a.module)),1)]),(0,l._)("div",f,[(0,l._)("div",b,[(0,l.wy)((0,l._)("input",{type:"checkbox",class:"form-check-input",id:"reminder_popup"+i,"true-value":"1","false-value":"0","onUpdate:modelValue":e=>t.popup=e},null,8,D),[[n.e8,t.popup]]),(0,l._)("label",{class:"form-check-label",for:"reminder_popup"+i},(0,d.zw)(e.DOAPP.utils.translate("LBL_REMINDERS_POPUP",a.module)),9,w)]),(0,l.wy)((0,l._)("select",{class:"custom-select",tabindex:"0","onUpdate:modelValue":e=>t.timer_popup=e},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.reminders.reminder_time_options,((e,t)=>((0,l.wg)(),(0,l.iD)("option",{key:t,label:e,value:t},(0,d.zw)(e),9,g)))),128))],8,y),[[n.bM,t.timer_popup]])]),(0,l._)("div",P,[(0,l._)("div",L,[(0,l.wy)((0,l._)("input",{type:"checkbox",class:"form-check-input",id:"reminder_email"+i,"true-value":"1","false-value":"0","onUpdate:modelValue":e=>t.email=e},null,8,k),[[n.e8,t.email]]),(0,l._)("label",{class:"form-check-label",for:"reminder_email"+i},(0,d.zw)(e.DOAPP.utils.translate("LBL_REMINDERS_EMAIL",a.module)),9,I)]),(0,l.wy)((0,l._)("select",{class:"custom-select",tabindex:"0","onUpdate:modelValue":e=>t.timer_email=e},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.reminders.reminder_time_options,((e,t)=>((0,l.wg)(),(0,l.iD)("option",{key:t,label:e,value:t},(0,d.zw)(e),9,R)))),128))],8,O),[[n.bM,t.timer_email]])]),(0,l._)("button",{type:"button",class:"btn btn-danger ml-2 mt-2",onClick:e=>A.deleteReminder(t)},(0,d.zw)(e.DOAPP.utils.translate("LBL_REMINDERS_REMOVE_REMINDER",a.module)),9,M)],8,m)])])])])))),128))])),_:1})],64)}var A=a(93312),C={name:"RemindersPanel",extends:A["default"],beforeMount(){this.remindersList=this.reminders.remindersData},props:{beanData:{type:Object,required:!0},module:{type:String,required:!0}},data(){return{remindersList:[]}},methods:{deleteReminder(e){let t=this.remindersList.indexOf(e);t>-1&&this.remindersList.splice(t,1)}}},z=a(40089);const E=(0,z.Z)(C,[["render",S],["__scopeId","data-v-15120efc"]]);var N=E},37332:function(e,t,a){a.r(t),a.d(t,{default:function(){return Y}});var l=a(73396),n=a(49242),d=a(87139);const i=e=>((0,l.dD)("data-v-07f8f024"),e=e(),(0,l.Cn)(),e),s={class:"card card-primary card-outline card expanded"},r={class:"card-header"},u={class:"card-title"},o=i((()=>(0,l._)("div",{class:"card-tools"},[(0,l._)("button",{type:"button",class:"btn btn-tool","data-card-widget":"collapse",title:"Collapse"},[(0,l._)("i",{class:"fas fa-minus"})])],-1))),c={class:"card-body"},p={id:"scheduler"},m={class:"row"},_={class:"col"},v=i((()=>(0,l._)("i",{class:"fas fa-plus"},null,-1))),h={id:"scheduler-legend",class:"row scheduler-legend"},f={class:"col-6"},b={class:"scheduler-legend__elem"},D=i((()=>(0,l._)("i",{class:"bi bi-square-fill text-teal"},null,-1))),w={class:"scheduler-legend__description-accept"},y={class:"scheduler-legend__elem"},g=i((()=>(0,l._)("i",{class:"bi bi-square-fill text-red"},null,-1))),P={class:"scheduler-legend__description-decline"},L={class:"scheduler-legend__elem"},k=i((()=>(0,l._)("i",{class:"bi bi-square-fill text-indigo"},null,-1))),I={class:"scheduler-legend__description-busy"},O={class:"col-6"},R={class:"scheduler-legend__elem"},M=i((()=>(0,l._)("i",{class:"bi bi-square-fill text-warning"},null,-1))),S={class:"scheduler-legend__description-conflict"},A={class:"scheduler-legend__elem"},C=i((()=>(0,l._)("i",{class:"bi bi-square-fill custom-text-none"},null,-1))),z={class:"scheduler-legend__description-none"},E={class:"scheduler-legend__elem"},N=i((()=>(0,l._)("i",{class:"bi bi-square-fill text-info"},null,-1))),U={class:"scheduler-legend__description-tentative"};function q(e,t,a,i,q,x){const B=(0,l.up)("CustomSchedulerTable");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.wy)((0,l._)("input",{type:"hidden",name:"user_invitees","onUpdate:modelValue":t[0]||(t[0]=t=>e.reminderInvite.Users=t)},null,512),[[n.nr,e.reminderInvite.Users]]),(0,l.wy)((0,l._)("input",{type:"hidden",name:"lead_invitees","onUpdate:modelValue":t[1]||(t[1]=t=>e.reminderInvite.Leads=t)},null,512),[[n.nr,e.reminderInvite.Leads]]),(0,l.wy)((0,l._)("input",{type:"hidden",name:"contact_invitees","onUpdate:modelValue":t[2]||(t[2]=t=>e.reminderInvite.Contacts=t)},null,512),[[n.nr,e.reminderInvite.Contacts]]),(0,l._)("div",s,[(0,l._)("div",r,[(0,l._)("h3",u,(0,d.zw)(e.DOAPP.utils.translate("LBL_PARTICIPANTS_TAB","Home")),1),o]),(0,l._)("div",c,[(0,l._)("div",p,[(0,l._)("div",m,[(0,l._)("div",_,[(0,l.Wm)(B,{persons:e.scheduler,"window-size":a.windowSize},null,8,["persons","window-size"]),(0,l._)("button",{type:"button",class:"btn btn-info float-right",onClick:t[3]||(t[3]=(...e)=>x.openPopup&&x.openPopup(...e))},[v,(0,l.Uk)(" "+(0,d.zw)(e.DOAPP.utils.translate("LBL_ADD_BUTTON",a.module)),1)])])]),(0,l._)("div",h,[(0,l._)("div",f,[(0,l._)("div",b,[D,(0,l._)("span",w," - "+(0,d.zw)(q.invitationStatuses.accept),1)]),(0,l._)("div",y,[g,(0,l._)("span",P," - "+(0,d.zw)(q.invitationStatuses.decline),1)]),(0,l._)("div",L,[k,(0,l._)("span",I," - "+(0,d.zw)(e.DOAPP.utils.translate("LBL_BUSY","Calendar")),1)])]),(0,l._)("div",O,[(0,l._)("div",R,[M,(0,l._)("span",S," - "+(0,d.zw)(e.DOAPP.utils.translate("LBL_CONFLICT","Calendar")),1)]),(0,l._)("div",A,[C,(0,l._)("span",z," - "+(0,d.zw)(q.invitationStatuses.none),1)]),(0,l._)("div",E,[N,(0,l._)("span",U," - "+(0,d.zw)(q.invitationStatuses.tentative),1)])])])])])])])}var x=a(93312),B=a(64863),T={name:"SchedulerPanel",extends:x["default"],components:{CustomSchedulerTable:B["default"]},props:{module:{type:String,required:!0},windowSize:{type:Object,required:!0}},data(){return{invitationStatuses:this.$store.state.app.list_strings.dom_meeting_accept_status,employeeBusyStatus:this.$store.state.app.list_strings.call_reschedule_dom}},methods:{openPopup(){let e={type:"Invite",header:{data:{module:this.module,title:"LBL_ADD_BUTTON"},show:!0},body:{data:{viewData:{data:{},displayColumns:{itemModule:{label:""},name:{label:"LBL_NAME"},email1:{label:"LBL_EMAIL"},phone_work:{label:"LBL_PHONE"}}},pageData:{module:this.module},module:this.module},show:!0},footer:{data:{},show:!1}};this.addPopup(e,"xl")}}},V=a(40089);const H=(0,V.Z)(T,[["render",q],["__scopeId","data-v-07f8f024"]]);var Y=H}}]);