"use strict";(self["webpackChunkdoapp_crmtheme"]=self["webpackChunkdoapp_crmtheme"]||[]).push([[4242,855],{54242:function(e,t,l){l.r(t),l.d(t,{default:function(){return q}});var s=l(73396),i=l(87139),o=l(49242);const a=e=>((0,s.dD)("data-v-da6aa88a"),e=e(),(0,s.Cn)(),e),r={class:"d-sm-flex"},n={class:"mb-2 mr-sm-1"},c={class:"btn-group w-100",role:"group"},d=["disabled","title"],u={class:"dropdown-menu"},p=["id","value"],h={class:"mb-2 mr-sm-1"},m={class:"btn-group w-100",role:"group"},w=["title"],b=a((()=>(0,s._)("i",{class:"bi bi-funnel"},null,-1))),g=[b],_={key:0,class:"px-2 w-100"},F=["form"],A={class:"ml-auto mb-2 d-flex flex-row"},v=["title","form"],C=a((()=>(0,s._)("i",{class:"fas fa-cogs"},null,-1))),f=[C],S=["title","form"],y=a((()=>(0,s._)("i",{class:"far fa-save"},null,-1))),D=[y],L=["title","form"],P=a((()=>(0,s._)("i",{class:"bi bi-x-circle"},null,-1))),k=[P];function O(e,t,l,a,b,C){return(0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("div",n,[(0,s._)("div",c,[(0,s._)("button",{type:"button",id:"my_filters_list",class:"btn btn-sm btn-outline-secondary dropdown-toggle","data-toggle":"dropdown","aria-expanded":"false",disabled:!l.searchData.savedSearchData.hasOptions,title:e.DOAPP.utils.translate("LBL_SAVED_FILTER_SHORTCUT")},(0,i.zw)(C.myFillter),9,d),(0,s._)("div",u,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.searchData.savedSearchData?.options,((e,o)=>((0,s.wg)(),(0,s.iD)("button",{key:o,id:o,value:e,class:"dropdown-item",onClick:t[0]||(t[0]=(...e)=>l.chooseSS&&l.chooseSS(...e))},(0,i.zw)(e),9,p)))),128))])])]),(0,s._)("div",h,[(0,s._)("div",m,[(0,s._)("div",{id:"filter_button",onClick:t[2]||(t[2]=(...e)=>C.toggleFilter&&C.toggleFilter(...e)),class:(0,i.C_)(["d-flex flex-row btn btn-sm",{"btn-success":b.isActiveFilter,"btn-info":!b.isActiveFilter}]),role:"button",title:e.DOAPP.utils.translate("LBL_FILTER")},[(0,s._)("div",{class:(0,i.C_)({"mx-auto":!b.isActiveFilter})},g,2),b.isActiveFilter?((0,s.wg)(),(0,s.iD)("div",_,[(0,s._)("i",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.searchData.searchInfoJson,((e,t)=>((0,s.wg)(),(0,s.iD)("b",{key:e},(0,i.zw)(t)+" "+(0,i.zw)(e)+"; ",1)))),128))])])):(0,s.kq)("",!0),b.isActiveFilter?((0,s.wg)(),(0,s.iD)("button",{key:1,class:"default_button",type:"button",form:l.activeTab,onClick:t[1]||(t[1]=(0,o.iM)(((...e)=>C.clearAndSearch&&C.clearAndSearch(...e)),["stop"]))},"тип",8,F)):(0,s.kq)("",!0)],10,w)])]),(0,s._)("div",A,[(0,s._)("button",{class:"btn btn-sm btn-outline-warning w-100 mr-2",type:"button",title:e.DOAPP.utils.translate("LBL_COLUMN_CHOOSER"),onClick:t[3]||(t[3]=(...e)=>C.toggleColumnChooser&&C.toggleColumnChooser(...e)),form:l.activeTab},f,8,v),(0,s._)("button",{class:"btn btn-sm btn-outline-success w-100 mr-2",type:"button",title:e.DOAPP.utils.translate("LBL_SAVING_LAYOUT"),onClick:t[4]||(t[4]=(...e)=>C.togglePresetActions&&C.togglePresetActions(...e)),form:l.activeTab},D,8,S),(0,s._)("button",{class:"btn btn-sm btn-outline-danger w-100",type:"button",title:e.DOAPP.utils.translate("LBL_CLEARALL"),onClick:t[5]||(t[5]=(...e)=>C.clearAll&&C.clearAll(...e)),form:l.activeTab},k,8,L)])])}var T={name:"ListHeadPanels",data(){return{isActiveFilter:!1}},mounted(){this.hasFilterResults&&(this.isActiveFilter=!0)},props:{selectedSS:{type:String,required:!0},activeTab:{type:String,required:!0},module:{type:String,required:!0},hasFilterResults:{type:Boolean,required:!0},searchData:{type:Object,required:!0},clearForm:{type:Function,required:!0},applyForm:{type:Function,required:!0},chooseSS:{type:Function,required:!0}},watch:{hasFilterResults(e){this.isActiveFilter=!!e}},computed:{myFillter(){return this.selectedSS?this.selectedSS:this.DOAPP.utils.translate("LBL_SAVED_FILTER_SHORTCUT")}},methods:{async clearAndSearch(e){await this.clearForm(e),await this.applyForm(e),this.isActiveFilter=!1},toggleFilter(){window.$("#collapseColumnChooser").collapse("hide"),window.$("#collapsePresetActions").collapse("hide"),window.$("#collapseSearchForm").collapse("toggle")},toggleColumnChooser(e){this.hasFilterResults||this.clearForm(e),window.$("#collapseSearchForm").collapse("hide"),window.$("#collapsePresetActions").collapse("hide"),window.$("#collapseColumnChooser").collapse("toggle")},togglePresetActions(e){this.hasFilterResults||this.clearForm(e),window.$("#collapseSearchForm").collapse("hide"),window.$("#collapseColumnChooser").collapse("hide"),window.$("#collapsePresetActions").collapse("toggle")},clearColumns(){this.$store.commit("focus/updateListColumnChooser",{displayedFields:[],hiddenFields:[]})},async clearAll(e){window.$("#collapseSearchForm").collapse("hide"),window.$("#collapsePresetActions").collapse("hide"),window.$("#collapseColumnChooser").collapse("hide"),this.clearColumns(),await this.clearAndSearch(e)}}},$=l(40089);const R=(0,$.Z)(T,[["render",O],["__scopeId","data-v-da6aa88a"]]);var q=R}}]);