"use strict";(self["webpackChunkdoapp_crmtheme"]=self["webpackChunkdoapp_crmtheme"]||[]).push([[9773,1486],{31486:function(e,i,t){t.r(i),t.d(i,{default:function(){return b}});var l=t(73396),a=t(87139);const n=["data-type","data-field"],d={class:"text-muted font-weight-bold"},s={key:0,class:"d-block"},o={key:1,class:"d-block"};function r(e,i,t,r,c,u){return(0,l.wg)(),(0,l.iD)("div",{class:(0,a.C_)(["mb-3",u.widthClass]),"data-type":u.fieldDef.type,"data-field":t.name},[(0,l._)("span",d,[(0,l.Uk)((0,a.zw)(e.DOAPP.utils.translate(u.resolveFieldLBL(t.metadata.field.label),t.module))+" ",1),u.inlineEditSet()&&!c.inlineEdit.run?((0,l.wg)(),(0,l.iD)("i",{key:0,class:"bi bi-pencil-square ml-2",onClick:i[0]||(i[0]=(...e)=>u.inlineEditInitBtn&&u.inlineEditInitBtn(...e)),role:"button"})):(0,l.kq)("",!0),c.inlineEdit.run?((0,l.wg)(),(0,l.iD)("i",{key:1,class:"bi bi-check-circle-fill text-success ml-2",onClick:i[1]||(i[1]=(...e)=>u.inlineEditSaveBtn&&u.inlineEditSaveBtn(...e)),role:"button"})):(0,l.kq)("",!0),c.inlineEdit.run?((0,l.wg)(),(0,l.iD)("i",{key:2,class:"bi bi-x-circle-fill text-danger ml-2",onClick:i[2]||(i[2]=(...e)=>u.inlineEditCancelBtn&&u.inlineEditCancelBtn(...e)),role:"button"})):(0,l.kq)("",!0)]),c.inlineEdit.run?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("span",s,(0,a.zw)(u.value),1)),c.inlineEdit.run||u.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("span",o,"—")),c.inlineEdit.run?((0,l.wg)(),(0,l.j4)((0,l.LL)(u.inlineEditSet()),{key:2,ref:"inlineEdit",name:t.name,module:t.module,record:t.record,metadata:t.metadata,beanData:t.beanData},null,8,["name","module","record","metadata","beanData"])):(0,l.kq)("",!0)],10,n)}var c=t(85697),u={name:"FieldName",widgetCols:1,props:{name:{type:String},module:{type:String},record:{type:String},metadata:{type:Object},beanData:{type:Object},sideBlock:{type:Boolean},accessEdit:{type:Boolean}},data(){return{inlineEdit:{tpl:!1,run:!1,temp:{}}}},computed:{fieldDef(){return this.beanData[this.name]},displayParams(){let e={};return Object.hasOwn(this.metadata.field,"displayParams")&&(e=this.metadata.field.displayParams),e},widthClass(){let e=this.$options.widgetCols;this.sideBlock&&(e=2*this.$options.widgetCols);let i=6*e,t=3*e;return i>=12&&(i=12),t>=12&&(t=12),"col-md-"+i+" col-lg-"+t},value(){return this.DOAPP.utils.htmlDecode(this.fieldDef.value)}},methods:{inlineEditSet(){return!(!this.accessEdit||!1===this.fieldDef.inline_edit)&&c["default"][this.inlineEdit.tpl]},inlineEditInitBtn(){this.inlineEdit.run=!0;let e=setInterval((()=>{this.$refs.inlineEdit&&(clearInterval(e),this.inlineEdit.temp=this.$refs.inlineEdit.localStorage.temp)}),50);setTimeout((()=>{clearInterval(e)}),1e3)},inlineEditCancelBtn(){let e=this.inlineEdit.temp;for(let i in e)this.$store.dispatch("focus/updateModelValue",{name:i,value:e[i]});this.inlineEdit.run=!1,this.inlineEdit.temp={}},inlineEditSaveBtn(){if(this.$refs.inlineEdit.validation.error)return void console.log("validation error");let e=this.$refs.inlineEdit.inlineEditForm(),i={module:"Home",action:"saveHTMLField",current_module:this.module,id:this.record,view:"DetailView",to_pdf:!0};for(let t of e.entries())i["field"]=t[0],i["value"]=t[1],t[1]!==this.inlineEdit.temp[t[0]]&&this.$store.dispatch("ajaxGet",{get:i});this.inlineEdit.run=!1,this.inlineEdit.temp={}},resolveFieldLBL(e){return void 0===e&&(e=this.fieldDef.vname),e}}},m=t(40089);const p=(0,m.Z)(u,[["render",r]]);var b=p},49773:function(e,i,t){t.r(i),t.d(i,{default:function(){return z}});var l=t(73396),a=t(87139),n=t(49242);const d=["data-type","data-field"],s={class:"text-muted font-weight-bold"},o={key:0,class:"d-block"},r={key:1,class:"card card-info card-outline expanded transition collapsed-card mb-0"},c=(0,l._)("div",{class:"card-header pl-1 pt-0 pb-1"},[(0,l._)("div",{class:"card-tools"},[(0,l._)("button",{type:"button",class:"btn btn-tool","data-card-widget":"collapse",title:"Collapse"},[(0,l._)("i",{class:"fas fa-plus"})])])],-1),u={id:"reminders"},m={class:"row"},p=["data-reminder-id"],b=(0,l._)("span",{class:"error-msg"},null,-1),f={class:"col"},v={class:"truncate-label"},E={class:"col mb-2"},h={class:"form-check mb-2"},k=["id","onUpdate:modelValue"],w=["for"],_=["onUpdate:modelValue"],D=["label","value"],g={class:"col mb-2"},y={class:"form-check mb-2"},B=["id","onUpdate:modelValue"],C=["for"],L=["onUpdate:modelValue"],P=["label","value"],S=["data-invitee-id","data-id","data-module"],x=(0,l._)("span",{class:"pr-2 suitepicon suitepicon-module-users"},null,-1);function q(e,i,t,q,I,O){return(0,l.wg)(),(0,l.iD)("div",{class:(0,a.C_)(["mb-3",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,l._)("span",s,[(0,l.Uk)((0,a.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module))+" ",1),e.inlineEditSet()&&!I.inlineEdit.run?((0,l.wg)(),(0,l.iD)("i",{key:0,class:"bi bi-pencil-square ml-2",onClick:i[0]||(i[0]=(...i)=>e.inlineEditInitBtn&&e.inlineEditInitBtn(...i)),role:"button"})):(0,l.kq)("",!0),I.inlineEdit.run?((0,l.wg)(),(0,l.iD)("i",{key:1,class:"bi bi-check-circle-fill text-success ml-2",onClick:i[1]||(i[1]=(...i)=>e.inlineEditSaveBtn&&e.inlineEditSaveBtn(...i)),role:"button"})):(0,l.kq)("",!0),I.inlineEdit.run?((0,l.wg)(),(0,l.iD)("i",{key:2,class:"bi bi-x-circle-fill text-danger ml-2",onClick:i[2]||(i[2]=(...i)=>e.inlineEditCancelBtn&&e.inlineEditCancelBtn(...i)),role:"button"})):(0,l.kq)("",!0)]),I.inlineEdit.run||0!==e.value.length?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("span",o,"—")),I.inlineEdit.run||0===e.value.length?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",r,[c,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.value.remindersData,((i,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"card-body p-1",style:{"border-bottom":"1px solid rgba(0, 0, 0, 0.125)",display:"none"}},[(0,l._)("div",u,[(0,l._)("div",m,[(0,l._)("div",{class:"form-group col-lg-12 mb-2","data-reminder-id":i.id},[b,(0,l._)("div",f,[(0,l._)("label",v,(0,a.zw)(e.DOAPP.utils.translate("LBL_REMINDERS_ACTIONS",e.module)),1)]),(0,l._)("div",E,[(0,l._)("div",h,[(0,l.wy)((0,l._)("input",{type:"checkbox",class:"form-check-input",id:"reminder_popup"+t,"true-value":"1","false-value":"0","onUpdate:modelValue":e=>i.popup=e,disabled:"disabled"},null,8,k),[[n.e8,i.popup]]),(0,l._)("label",{class:"form-check-label",for:"reminder_popup"+t},(0,a.zw)(e.DOAPP.utils.translate("LBL_REMINDERS_POPUP",e.module)),9,w)]),(0,l.wy)((0,l._)("select",{class:"custom-select",tabindex:"0","onUpdate:modelValue":e=>i.timer_popup=e,disabled:""},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.value.reminder_time_options,((e,i)=>((0,l.wg)(),(0,l.iD)("option",{key:i,label:e,value:i},(0,a.zw)(e),9,D)))),128))],8,_),[[n.bM,i.timer_popup]])]),(0,l._)("div",g,[(0,l._)("div",y,[(0,l.wy)((0,l._)("input",{type:"checkbox",class:"form-check-input",id:"reminder_email"+t,"true-value":"1","false-value":"0","onUpdate:modelValue":e=>i.email=e,disabled:"disabled"},null,8,B),[[n.e8,i.email]]),(0,l._)("label",{class:"form-check-label",for:"reminder_email"+t},(0,a.zw)(e.DOAPP.utils.translate("LBL_REMINDERS_EMAIL",e.module)),9,C)]),(0,l.wy)((0,l._)("select",{class:"custom-select",tabindex:"0","onUpdate:modelValue":e=>i.timer_email=e,disabled:"disabled"},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.value.reminder_time_options,((e,i)=>((0,l.wg)(),(0,l.iD)("option",{key:i,label:e,value:i},(0,a.zw)(e),9,P)))),128))],8,L),[[n.bM,i.timer_email]])]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.invitees,((e,i)=>((0,l.wg)(),(0,l.iD)("button",{key:i,type:"button",class:"btn btn-info ml-2 mt-2","data-invitee-id":e.id,"data-id":e.module_id,"data-module":e.module},[x,(0,l.Uk)((0,a.zw)(e.value),1)],8,S)))),128))],8,p)])])])))),128))])),I.inlineEdit.run?((0,l.wg)(),(0,l.j4)((0,l.LL)(e.inlineEditSet()),{key:2,ref:"inlineEdit",name:e.name,module:e.module,record:e.record,metadata:e.metadata,beanData:e.beanData},null,8,["name","module","record","metadata","beanData"])):(0,l.kq)("",!0)],10,d)}var I=t(31486),O={name:"ReminderField",extends:I["default"],data(){return{inlineEdit:{tpl:!1,run:!1,temp:{}}}}},U=t(40089);const V=(0,U.Z)(O,[["render",q]]);var z=V}}]);