"use strict";(self["webpackChunkdoapp_crmtheme"]=self["webpackChunkdoapp_crmtheme"]||[]).push([[1843],{1843:function(t,a,e){e.r(a),e.d(a,{default:function(){return x}});var i=e(73396),s=e(87139);const n=t=>((0,i.dD)("data-v-93d98182"),t=t(),(0,i.Cn)(),t),o={class:"card-body px-0 py-0"},l={class:"table-responsive"},r={key:0,class:"card-footer"},p={class:"pagination pagination-sm m-0 float-right"},d=["title"],g=n((()=>(0,i._)("a",{class:"page-link",href:"javascript:void(0)"},[(0,i._)("i",{class:"fas fa-angle-double-left"})],-1))),u=[g],h=["title"],c=n((()=>(0,i._)("a",{class:"page-link",href:"javascript:void(0)"},[(0,i._)("i",{class:"fas fa-angle-left"})],-1))),m=[c],f={class:"page-item disabled"},_={class:"page-link",href:"javascript:void(0)"},D=["title"],v=n((()=>(0,i._)("a",{class:"page-link",href:"javascript:void(0)"},[(0,i._)("i",{class:"fas fa-angle-right"})],-1))),P=[v],b=["title"],w=n((()=>(0,i._)("a",{class:"page-link",href:"javascript:void(0)"},[(0,i._)("i",{class:"fas fa-angle-double-right"})],-1))),k=[w];function y(t,a,e,n,g,c){const v=(0,i.up)("daTable");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",o,[(0,i._)("div",l,[((0,i.wg)(),(0,i.j4)(v,{key:Date.now(),onSortHandler:c.sortHandler,tableId:e.tabsProperties.subpanel_name,name:e.name,module:e.module,viewData:c.viewData,pageData:c.pageData,viewOptions:{tabsProperties:e.tabsProperties,view:"subpanel",addInfo:!1}},null,8,["onSortHandler","tableId","name","module","viewData","pageData","viewOptions"]))])]),c.dataNotEmpty()?((0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("ul",p,[c.paginationBtn.start?((0,i.wg)(),(0,i.iD)("li",{key:0,class:"page-item",name:"listViewStartButton",title:t.DOAPP.utils.translate("LNK_LIST_START"),onClick:a[0]||(a[0]=t=>c.paginationHandler(c.paginationBtn.start))},u,8,d)):(0,i.kq)("",!0),c.paginationBtn.previous?((0,i.wg)(),(0,i.iD)("li",{key:1,class:"page-item",id:"listViewPrevButton_top",name:"listViewPrevButton",title:t.DOAPP.utils.translate("LNK_LIST_PREVIOUS"),onClick:a[1]||(a[1]=t=>c.paginationHandler(c.paginationBtn.previous))},m,8,h)):(0,i.kq)("",!0),(0,i._)("li",f,[(0,i._)("a",_,(0,s.zw)(c.paginationInfo),1)]),c.paginationBtn.next?((0,i.wg)(),(0,i.iD)("li",{key:2,class:"page-item",id:"listViewNextButton_top",name:"listViewNextButton",title:t.DOAPP.utils.translate("LNK_LIST_NEXT"),onClick:a[2]||(a[2]=t=>c.paginationHandler(c.paginationBtn.next))},P,8,D)):(0,i.kq)("",!0),c.paginationBtn.end?((0,i.wg)(),(0,i.iD)("li",{key:3,class:"page-item",id:"listViewEndButton_top",name:"listViewEndButton",title:t.DOAPP.utils.translate("LNK_LIST_END"),onClick:a[3]||(a[3]=t=>c.paginationHandler(c.paginationBtn.end))},k,8,b)):(0,i.kq)("",!0)])])):(0,i.kq)("",!0)],64)}var O=e(19495),B={name:"TabContent",components:{daTable:O["default"]},props:{show:{type:Boolean},name:{type:String},module:{type:String},tabsProperties:{type:Object}},computed:{viewData(){let t={};return this.$store.state.focus.subpanels.data[this.name]&&(t=this.$store.state.focus.subpanels.data[this.name].viewData),t},pageData(){let t={};return this.$store.state.focus.subpanels.data[this.name]&&(t=this.$store.state.focus.subpanels.data[this.name].pageData),t},pagination(){return this.DOAPP.utils.isEmpty(this.pageData)?this.pageData:this.pageData.pagination},paginationInfo(){let t="";return t=0===this.pagination.lastOffsetOnPage?"0":1*this.pagination.current+1,t+=" - "+this.pagination.lastOffsetOnPage,t+=" "+this.DOAPP.utils.translate("LBL_LIST_OF")+" ",this.pagination.totalCounted?t+=this.pagination.total:(t+=this.pagination.total,this.pagination.lastOffsetOnPage!==this.pagination.total&&(t+="+")),t},paginationBtn(){let t={start:!1,previous:!1,next:!1,end:!1};return this.pageData.urls.startPage&&(t["start"]=this.pageData.urls.startPage),this.pageData.urls.prevPage&&(t["previous"]=this.pageData.urls.prevPage),this.pageData.urls.nextPage&&(t["next"]=this.pageData.urls.nextPage),this.pageData.urls.endPage&&(t["end"]=this.pageData.urls.endPage),t}},methods:{async sortHandler(t){let a=this.module+"_"+this.name+"_CELL_ORDER_BY",e=this.module+"_"+this.name+"_CELL_offset",i={};i.module=this.module,i.action="SubPanelViewer",i.subpanel=this.name,i.record=this.$route.query.record,i.layout_def_key=this.module,i[a]=t,i[e]="",i.to_pdf=1,await this.$store.dispatch("ajaxGet",{get:i}),this.$store.dispatch("focus/getSubpanelData",{name:this.name,order:this.tabsProperties.order})},dataNotEmpty(){return!this.DOAPP.utils.isEmpty(this.viewData.data)},async paginationHandler(t){let a=decodeURI(t.substring(t.indexOf("?")+1)),e={},i=["action","arg[subpanel]","method","VueAjax"];a.split("&").forEach((t=>{let[a,s]=t.split("=");i.includes(a)||(e[a]=s)})),e.subpanel=this.name,e.layout_def_key=this.module,e.action="SubPanelViewer",e.sort_order=this.pageData.sortOrder,await this.$store.dispatch("ajaxGet",{get:e}),this.$store.dispatch("focus/getSubpanelData",{name:this.name,order:this.tabsProperties.order})}}},S=e(40089);const L=(0,S.Z)(B,[["render",y],["__scopeId","data-v-93d98182"]]);var x=L}}]);