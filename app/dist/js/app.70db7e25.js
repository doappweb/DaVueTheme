(function(){var e={78797:function(e,t,n){n(57658),function(e,a){a(t,n(77387))}(0,(function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=n(t),o="CardRefresh",s="lte.cardrefresh",i=a.default.fn[o],r="card",l='[data-card-widget="card-refresh"]',d={source:"",sourceSelector:"",params:{},trigger:l,content:".card-body",loadInContent:!0,loadOnInit:!0,loadErrorTemplate:!0,responseType:"",overlayTemplate:'<div class="overlay"><i class="fas fa-2x fa-sync-alt fa-spin"></i></div>',errorTemplate:'<span class="text-danger"></span>',onLoadStart:function(){},onLoadDone:function(e){return e},onLoadFail:function(e,t,n){}},c=function(){function e(e,t){if(this._element=e,this._parent=e.parents(".card").first(),this._settings=a.default.extend({},d,t),this._overlay=a.default(this._settings.overlayTemplate),e.hasClass(r)&&(this._parent=e),""===this._settings.source)throw new Error("Source url was not defined. Please specify a url in your CardRefresh source option.")}var t=e.prototype;return t.load=function(){var e=this;this._addOverlay(),this._settings.onLoadStart.call(a.default(this)),a.default.get(this._settings.source,this._settings.params,(function(t){e._settings.loadInContent&&(""!==e._settings.sourceSelector&&(t=a.default(t).find(e._settings.sourceSelector).html()),e._parent.find(e._settings.content).html(t)),e._settings.onLoadDone.call(a.default(e),t),e._removeOverlay()}),""!==this._settings.responseType&&this._settings.responseType).fail((function(t,n,o){if(e._removeOverlay(),e._settings.loadErrorTemplate){var s=a.default(e._settings.errorTemplate).text(o);e._parent.find(e._settings.content).empty().append(s)}e._settings.onLoadFail.call(a.default(e),t,n,o)})),a.default(this._element).trigger(a.default.Event("loaded.lte.cardrefresh"))},t._addOverlay=function(){this._parent.append(this._overlay),a.default(this._element).trigger(a.default.Event("overlay.added.lte.cardrefresh"))},t._removeOverlay=function(){this._parent.find(this._overlay).remove(),a.default(this._element).trigger(a.default.Event("overlay.removed.lte.cardrefresh"))},t._init=function(){var e=this;a.default(this).find(this._settings.trigger).on("click",(function(){e.load()})),this._settings.loadOnInit&&this.load()},e._jQueryInterface=function(t){var n=a.default(this).data(s),o=a.default.extend({},d,a.default(this).data());n||(n=new e(a.default(this),o),a.default(this).data(s,"string"==typeof t?n:t)),"string"==typeof t&&/load/.test(t)?n[t]():n._init(a.default(this))},e}();a.default(document).on("click",l,(function(e){e&&e.preventDefault(),c._jQueryInterface.call(a.default(this),"load")})),a.default((function(){a.default(l).each((function(){c._jQueryInterface.call(a.default(this))}))})),a.default.fn[o]=c._jQueryInterface,a.default.fn[o].Constructor=c,a.default.fn[o].noConflict=function(){return a.default.fn[o]=i,c._jQueryInterface};var u="CardWidget",m="lte.cardwidget",p=a.default.fn[u],h="card",f="collapsed-card",g="collapsing-card",v="expanding-card",b="was-collapsed",w="maximized-card",y='[data-card-widget="remove"]',_='[data-card-widget="collapse"]',C='[data-card-widget="maximize"]',D={animationSpeed:"normal",collapseTrigger:_,removeTrigger:y,maximizeTrigger:C,collapseIcon:"fa-minus",expandIcon:"fa-plus",maximizeIcon:"fa-expand",minimizeIcon:"fa-compress"},x=function(){function e(e,t){this._element=e,this._parent=e.parents(".card").first(),e.hasClass(h)&&(this._parent=e),this._settings=a.default.extend({},D,t)}var t=e.prototype;return t.collapse=function(){var e=this;this._parent.addClass(g).children(".card-body, .card-footer").slideUp(this._settings.animationSpeed,(function(){e._parent.addClass(f).removeClass(g)})),this._parent.find("> .card-header "+this._settings.collapseTrigger+" ."+this._settings.collapseIcon).addClass(this._settings.expandIcon).removeClass(this._settings.collapseIcon),this._element.trigger(a.default.Event("collapsed.lte.cardwidget"),this._parent)},t.expand=function(){var e=this;this._parent.addClass(v).children(".card-body, .card-footer").slideDown(this._settings.animationSpeed,(function(){e._parent.removeClass(f).removeClass(v)})),this._parent.find("> .card-header "+this._settings.collapseTrigger+" ."+this._settings.expandIcon).addClass(this._settings.collapseIcon).removeClass(this._settings.expandIcon),this._element.trigger(a.default.Event("expanded.lte.cardwidget"),this._parent)},t.remove=function(){this._parent.slideUp(),this._element.trigger(a.default.Event("removed.lte.cardwidget"),this._parent)},t.toggle=function(){this._parent.hasClass(f)?this.expand():this.collapse()},t.maximize=function(){this._parent.find(this._settings.maximizeTrigger+" ."+this._settings.maximizeIcon).addClass(this._settings.minimizeIcon).removeClass(this._settings.maximizeIcon),this._parent.css({height:this._parent.height(),width:this._parent.width(),transition:"all .15s"}).delay(150).queue((function(){var e=a.default(this);e.addClass(w),a.default("html").addClass(w),e.hasClass(f)&&e.addClass(b),e.dequeue()})),this._element.trigger(a.default.Event("maximized.lte.cardwidget"),this._parent)},t.minimize=function(){this._parent.find(this._settings.maximizeTrigger+" ."+this._settings.minimizeIcon).addClass(this._settings.maximizeIcon).removeClass(this._settings.minimizeIcon),this._parent.css("cssText","height: "+this._parent[0].style.height+" !important; width: "+this._parent[0].style.width+" !important; transition: all .15s;").delay(10).queue((function(){var e=a.default(this);e.removeClass(w),a.default("html").removeClass(w),e.css({height:"inherit",width:"inherit"}),e.hasClass(b)&&e.removeClass(b),e.dequeue()})),this._element.trigger(a.default.Event("minimized.lte.cardwidget"),this._parent)},t.toggleMaximize=function(){this._parent.hasClass(w)?this.minimize():this.maximize()},t._init=function(e){var t=this;this._parent=e,a.default(this).find(this._settings.collapseTrigger).click((function(){t.toggle()})),a.default(this).find(this._settings.maximizeTrigger).click((function(){t.toggleMaximize()})),a.default(this).find(this._settings.removeTrigger).click((function(){t.remove()}))},e._jQueryInterface=function(t){var n=a.default(this).data(m),o=a.default.extend({},D,a.default(this).data());n||(n=new e(a.default(this),o),a.default(this).data(m,"string"==typeof t?n:t)),"string"==typeof t&&/collapse|expand|remove|toggle|maximize|minimize|toggleMaximize/.test(t)?n[t]():"object"==typeof t&&n._init(a.default(this))},e}();a.default(document).on("click",_,(function(e){e&&e.preventDefault(),x._jQueryInterface.call(a.default(this),"toggle")})),a.default(document).on("click",y,(function(e){e&&e.preventDefault(),x._jQueryInterface.call(a.default(this),"remove")})),a.default(document).on("click",C,(function(e){e&&e.preventDefault(),x._jQueryInterface.call(a.default(this),"toggleMaximize")})),a.default.fn[u]=x._jQueryInterface,a.default.fn[u].Constructor=x,a.default.fn[u].noConflict=function(){return a.default.fn[u]=p,x._jQueryInterface};var k="ControlSidebar",E="lte.controlsidebar",S=a.default.fn[k],A=".control-sidebar",T=".control-sidebar-content",O='[data-widget="control-sidebar"]',L=".main-header",P=".main-footer",M="control-sidebar-animate",B="control-sidebar-open",I="control-sidebar-slide-open",R="layout-fixed",F={controlsidebarSlide:!0,scrollbarTheme:"os-theme-light",scrollbarAutoHide:"l",target:A,animationSpeed:300},N=function(){function e(e,t){this._element=e,this._config=t}var t=e.prototype;return t.collapse=function(){var e=this,t=a.default("body"),n=a.default("html");this._config.controlsidebarSlide?(n.addClass(M),t.removeClass(I).delay(300).queue((function(){a.default(A).hide(),n.removeClass(M),a.default(this).dequeue()}))):t.removeClass(B),a.default(this._element).trigger(a.default.Event("collapsed.lte.controlsidebar")),setTimeout((function(){a.default(e._element).trigger(a.default.Event("collapsed-done.lte.controlsidebar"))}),this._config.animationSpeed)},t.show=function(e){void 0===e&&(e=!1);var t=a.default("body"),n=a.default("html");e&&a.default(A).hide(),this._config.controlsidebarSlide?(n.addClass(M),a.default(this._config.target).show().delay(10).queue((function(){t.addClass(I).delay(300).queue((function(){n.removeClass(M),a.default(this).dequeue()})),a.default(this).dequeue()}))):t.addClass(B),this._fixHeight(),this._fixScrollHeight(),a.default(this._element).trigger(a.default.Event("expanded.lte.controlsidebar"))},t.toggle=function(){var e=a.default("body"),t=this._config.target,n=!a.default(t).is(":visible"),o=e.hasClass(B)||e.hasClass(I),s=n&&(e.hasClass(B)||e.hasClass(I));n||s?this.show(n):o&&this.collapse()},t._init=function(){var e=this,t=a.default("body");t.hasClass(B)||t.hasClass(I)?(a.default(A).not(this._config.target).hide(),a.default(this._config.target).css("display","block")):a.default(A).hide(),this._fixHeight(),this._fixScrollHeight(),a.default(window).resize((function(){e._fixHeight(),e._fixScrollHeight()})),a.default(window).scroll((function(){var t=a.default("body");(t.hasClass(B)||t.hasClass(I))&&e._fixScrollHeight()}))},t._isNavbarFixed=function(){var e=a.default("body");return e.hasClass("layout-navbar-fixed")||e.hasClass("layout-sm-navbar-fixed")||e.hasClass("layout-md-navbar-fixed")||e.hasClass("layout-lg-navbar-fixed")||e.hasClass("layout-xl-navbar-fixed")},t._isFooterFixed=function(){var e=a.default("body");return e.hasClass("layout-footer-fixed")||e.hasClass("layout-sm-footer-fixed")||e.hasClass("layout-md-footer-fixed")||e.hasClass("layout-lg-footer-fixed")||e.hasClass("layout-xl-footer-fixed")},t._fixScrollHeight=function(){var e=a.default("body"),t=a.default(this._config.target);if(e.hasClass(R)){var n={scroll:a.default(document).height(),window:a.default(window).height(),header:a.default(L).outerHeight(),footer:a.default(P).outerHeight()},o=Math.abs(n.window+a.default(window).scrollTop()-n.scroll),s=a.default(window).scrollTop(),i=this._isNavbarFixed()&&"fixed"===a.default(L).css("position"),r=this._isFooterFixed()&&"fixed"===a.default(P).css("position"),l=a.default(this._config.target+", "+this._config.target+" "+T);if(0===s&&0===o)t.css({bottom:n.footer,top:n.header}),l.css("height",n.window-(n.header+n.footer));else if(o<=n.footer)if(!1===r){var d=n.header-s;t.css("bottom",n.footer-o).css("top",d>=0?d:0),l.css("height",n.window-(n.footer-o))}else t.css("bottom",n.footer);else s<=n.header?!1===i?(t.css("top",n.header-s),l.css("height",n.window-(n.header-s))):t.css("top",n.header):!1===i?(t.css("top",0),l.css("height",n.window)):t.css("top",n.header);r&&i?(l.css("height","100%"),t.css("height","")):(r||i)&&(l.css("height","100%"),l.css("height",""))}},t._fixHeight=function(){var e=a.default("body"),t=a.default(this._config.target+" "+T);if(e.hasClass(R)){var n=a.default(window).height(),o=a.default(L).outerHeight(),s=a.default(P).outerHeight(),i=n-o;this._isFooterFixed()&&"fixed"===a.default(P).css("position")&&(i=n-o-s),t.css("height",i),"undefined"!=typeof a.default.fn.overlayScrollbars&&t.overlayScrollbars({className:this._config.scrollbarTheme,sizeAutoCapable:!0,scrollbars:{autoHide:this._config.scrollbarAutoHide,clickScrolling:!0}})}else t.attr("style","")},e._jQueryInterface=function(t){return this.each((function(){var n=a.default(this).data(E),o=a.default.extend({},F,a.default(this).data());if(n||(n=new e(this,o),a.default(this).data(E,n)),"undefined"===n[t])throw new Error(t+" is not a function");n[t]()}))},e}();a.default(document).on("click",O,(function(e){e.preventDefault(),N._jQueryInterface.call(a.default(this),"toggle")})),a.default(document).ready((function(){N._jQueryInterface.call(a.default(O),"_init")})),a.default.fn[k]=N._jQueryInterface,a.default.fn[k].Constructor=N,a.default.fn[k].noConflict=function(){return a.default.fn[k]=S,N._jQueryInterface};var V="DirectChat",U="lte.directchat",H=a.default.fn[V],z=function(){function e(e){this._element=e}return e.prototype.toggle=function(){a.default(this._element).parents(".direct-chat").first().toggleClass("direct-chat-contacts-open"),a.default(this._element).trigger(a.default.Event("toggled.lte.directchat"))},e._jQueryInterface=function(t){return this.each((function(){var n=a.default(this).data(U);n||(n=new e(a.default(this)),a.default(this).data(U,n)),n[t]()}))},e}();a.default(document).on("click",'[data-widget="chat-pane-toggle"]',(function(e){e&&e.preventDefault(),z._jQueryInterface.call(a.default(this),"toggle")})),a.default.fn[V]=z._jQueryInterface,a.default.fn[V].Constructor=z,a.default.fn[V].noConflict=function(){return a.default.fn[V]=H,z._jQueryInterface};var j="Dropdown",Z="lte.dropdown",q=a.default.fn[j],$=".dropdown-menu",W={},K=function(){function e(e,t){this._config=t,this._element=e}var t=e.prototype;return t.toggleSubmenu=function(){this._element.siblings().show().toggleClass("show"),this._element.next().hasClass("show")||this._element.parents($).first().find(".show").removeClass("show").hide(),this._element.parents("li.nav-item.dropdown.show").on("hidden.bs.dropdown",(function(){a.default(".dropdown-submenu .show").removeClass("show").hide()}))},t.fixPosition=function(){var e=a.default(".dropdown-menu.show");if(0!==e.length){e.hasClass("dropdown-menu-right")?e.css({left:"inherit",right:0}):e.css({left:0,right:"inherit"});var t=e.offset(),n=e.width(),o=a.default(window).width()-t.left;t.left<0?e.css({left:"inherit",right:t.left-5}):o<n&&e.css({left:"inherit",right:0})}},e._jQueryInterface=function(t){return this.each((function(){var n=a.default(this).data(Z),o=a.default.extend({},W,a.default(this).data());n||(n=new e(a.default(this),o),a.default(this).data(Z,n)),"toggleSubmenu"!==t&&"fixPosition"!==t||n[t]()}))},e}();a.default('.dropdown-menu [data-toggle="dropdown"]').on("click",(function(e){e.preventDefault(),e.stopPropagation(),K._jQueryInterface.call(a.default(this),"toggleSubmenu")})),a.default('.navbar [data-toggle="dropdown"]').on("click",(function(e){e.preventDefault(),a.default(e.target).parent().hasClass("dropdown-submenu")||setTimeout((function(){K._jQueryInterface.call(a.default(this),"fixPosition")}),1)})),a.default.fn[j]=K._jQueryInterface,a.default.fn[j].Constructor=K,a.default.fn[j].noConflict=function(){return a.default.fn[j]=q,K._jQueryInterface};var G="ExpandableTable",Y="lte.expandableTable",X=a.default.fn[G],Q=".expandable-body",J='[data-widget="expandable-table"]',ee="aria-expanded",te=function(){function e(e,t){this._options=t,this._element=e}var t=e.prototype;return t.init=function(){a.default(J).each((function(e,t){var n=a.default(t).attr(ee),o=a.default(t).next(Q).children().first().children();"true"===n?o.show():"false"===n&&(o.hide(),o.parent().parent().addClass("d-none"))}))},t.toggleRow=function(){var e=this._element;"TR"!==e[0].nodeName&&"TR"!==(e=e.parent())[0].nodeName&&(e=e.parent());var t=e.attr(ee),n=e.next(Q).children().first().children();n.stop(),"true"===t?(n.slideUp(500,(function(){e.next(Q).addClass("d-none")})),e.attr(ee,"false"),e.trigger(a.default.Event("collapsed.lte.expandableTable"))):"false"===t&&(e.next(Q).removeClass("d-none"),n.slideDown(500),e.attr(ee,"true"),e.trigger(a.default.Event("expanded.lte.expandableTable")))},e._jQueryInterface=function(t){return this.each((function(){var n=a.default(this).data(Y);n||(n=new e(a.default(this)),a.default(this).data(Y,n)),"string"==typeof t&&/init|toggleRow/.test(t)&&n[t]()}))},e}();a.default(".expandable-table").ready((function(){te._jQueryInterface.call(a.default(this),"init")})),a.default(document).on("click",J,(function(){te._jQueryInterface.call(a.default(this),"toggleRow")})),a.default.fn[G]=te._jQueryInterface,a.default.fn[G].Constructor=te,a.default.fn[G].noConflict=function(){return a.default.fn[G]=X,te._jQueryInterface};var ne="Fullscreen",ae="lte.fullscreen",oe=a.default.fn[ne],se='[data-widget="fullscreen"]',ie=se+" i",re={minimizeIcon:"fa-compress-arrows-alt",maximizeIcon:"fa-expand-arrows-alt"},le=function(){function e(e,t){this.element=e,this.options=a.default.extend({},re,t)}var t=e.prototype;return t.toggle=function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?this.windowed():this.fullscreen()},t.toggleIcon=function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?a.default(ie).removeClass(this.options.maximizeIcon).addClass(this.options.minimizeIcon):a.default(ie).removeClass(this.options.minimizeIcon).addClass(this.options.maximizeIcon)},t.fullscreen=function(){document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen()},t.windowed=function(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},e._jQueryInterface=function(t){var n=a.default(this).data(ae);n||(n=a.default(this).data());var o=a.default.extend({},re,"object"==typeof t?t:n),s=new e(a.default(this),o);a.default(this).data(ae,"object"==typeof t?t:n),"string"==typeof t&&/toggle|toggleIcon|fullscreen|windowed/.test(t)?s[t]():s.init()},e}();a.default(document).on("click",se,(function(){le._jQueryInterface.call(a.default(this),"toggle")})),a.default(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",(function(){le._jQueryInterface.call(a.default(se),"toggleIcon")})),a.default.fn[ne]=le._jQueryInterface,a.default.fn[ne].Constructor=le,a.default.fn[ne].noConflict=function(){return a.default.fn[ne]=oe,le._jQueryInterface};var de="lte.iframe",ce=a.default.fn.IFrame,ue='[data-widget="iframe"]',me='[data-widget="iframe-fullscreen"]',pe=".content-wrapper",he=".content-wrapper iframe",fe=".content-wrapper.iframe-mode .nav",ge=".content-wrapper.iframe-mode .navbar-nav",ve=ge+" .nav-item",be=ge+" .nav-link",we=".content-wrapper.iframe-mode .tab-content",ye=we+" .tab-empty",_e=we+" .tab-loading",Ce=we+" .tab-pane",De=".main-sidebar .nav-item > a.nav-link",xe=".main-header .nav-item a.nav-link",ke=".main-header a.dropdown-item",Ee="iframe-mode",Se="iframe-mode-fullscreen",Ae={onTabClick:function(e){return e},onTabChanged:function(e){return e},onTabCreated:function(e){return e},autoIframeMode:!0,autoItemActive:!0,autoShowNewTab:!0,autoDarkMode:!1,allowDuplicates:!1,allowReload:!0,loadingScreen:!0,useNavbarItems:!0,scrollOffset:40,scrollBehaviorSwap:!1,iconMaximize:"fa-expand",iconMinimize:"fa-compress"},Te=function(){function e(e,t){this._config=t,this._element=e,this._init()}var t=e.prototype;return t.onTabClick=function(e){this._config.onTabClick(e)},t.onTabChanged=function(e){this._config.onTabChanged(e)},t.onTabCreated=function(e){this._config.onTabCreated(e)},t.createTab=function(e,t,n,o){var s=this,i="panel-"+n,r="tab-"+n;this._config.allowDuplicates&&(i+="-"+Math.floor(1e3*Math.random()),r+="-"+Math.floor(1e3*Math.random()));var l='<li class="nav-item" role="presentation"><a href="#" class="btn-iframe-close" data-widget="iframe-close" data-type="only-this"><i class="fas fa-times"></i></a><a class="nav-link" data-toggle="row" id="'+r+'" href="#'+i+'" role="tab" aria-controls="'+i+'" aria-selected="false">'+e+"</a></li>";a.default(ge).append(unescape(escape(l)));var d='<div class="tab-pane fade" id="'+i+'" role="tabpanel" aria-labelledby="'+r+'"><iframe src="'+t+'"></iframe></div>';if(a.default(we).append(unescape(escape(d))),o)if(this._config.loadingScreen){var c=a.default(_e);c.fadeIn(),a.default(i+" iframe").ready((function(){"number"==typeof s._config.loadingScreen?(s.switchTab("#"+r),setTimeout((function(){c.fadeOut()}),s._config.loadingScreen)):(s.switchTab("#"+r),c.fadeOut())}))}else this.switchTab("#"+r);this.onTabCreated(a.default("#"+r))},t.openTabSidebar=function(e,t){void 0===t&&(t=this._config.autoShowNewTab);var n=a.default(e).clone();void 0===n.attr("href")&&(n=a.default(e).parent("a").clone()),n.find(".right, .search-path").remove();var o=n.find("p").text();""===o&&(o=n.text());var s=n.attr("href");if("#"!==s&&""!==s&&void 0!==s){var i=unescape(s).replace("./","").replace(/["#&'./:=?[\]]/gi,"-").replace(/(--)/gi,""),r="tab-"+i;if(!this._config.allowDuplicates&&a.default("#"+r).length>0)return this.switchTab("#"+r,this._config.allowReload);(!this._config.allowDuplicates&&0===a.default("#"+r).length||this._config.allowDuplicates)&&this.createTab(o,s,i,t)}},t.switchTab=function(e,t){var n=this;void 0===t&&(t=!1);var o=a.default(e),s=o.attr("href");if(a.default(ye).hide(),t){var i=a.default(_e);this._config.loadingScreen?i.show(0,(function(){a.default(s+" iframe").attr("src",a.default(s+" iframe").attr("src")).ready((function(){n._config.loadingScreen&&("number"==typeof n._config.loadingScreen?setTimeout((function(){i.fadeOut()}),n._config.loadingScreen):i.fadeOut())}))})):a.default(s+" iframe").attr("src",a.default(s+" iframe").attr("src"))}a.default(ge+" .active").tab("dispose").removeClass("active"),this._fixHeight(),o.tab("show"),o.parents("li").addClass("active"),this.onTabChanged(o),this._config.autoItemActive&&this._setItemActive(a.default(s+" iframe").attr("src"))},t.removeActiveTab=function(e,t){if("all"==e)a.default(ve).remove(),a.default(Ce).remove(),a.default(ye).show();else if("all-other"==e)a.default(ve+":not(.active)").remove(),a.default(Ce+":not(.active)").remove();else if("only-this"==e){var n=a.default(t),o=n.parent(".nav-item"),s=o.parent(),i=o.index(),r=n.siblings(".nav-link").attr("aria-controls");if(o.remove(),a.default("#"+r).remove(),a.default(we).children().length==a.default(ye+", "+_e).length)a.default(ye).show();else{var l=i-1;this.switchTab(s.children().eq(l).find("a.nav-link"))}}else{var d=a.default(ve+".active"),c=d.parent(),u=d.index();if(d.remove(),a.default(Ce+".active").remove(),a.default(we).children().length==a.default(ye+", "+_e).length)a.default(ye).show();else{var m=u-1;this.switchTab(c.children().eq(m).find("a.nav-link"))}}},t.toggleFullscreen=function(){a.default("body").hasClass(Se)?(a.default(me+" i").removeClass(this._config.iconMinimize).addClass(this._config.iconMaximize),a.default("body").removeClass(Se),a.default(ye+", "+_e).height("100%"),a.default(pe).height("100%"),a.default(he).height("100%")):(a.default(me+" i").removeClass(this._config.iconMaximize).addClass(this._config.iconMinimize),a.default("body").addClass(Se)),a.default(window).trigger("resize"),this._fixHeight(!0)},t._init=function(){var e=a.default(we).children().length>2;if(this._setupListeners(),this._fixHeight(!0),e){var t=a.default(""+Ce).first();console.log(t);var n="#tab-"+t.attr("id").replace("panel-","");this.switchTab(n,!0)}},t._initFrameElement=function(){if(window.frameElement&&this._config.autoIframeMode){var e=a.default("body");e.addClass(Ee),this._config.autoDarkMode&&e.addClass("dark-mode")}},t._navScroll=function(e){var t=a.default(ge).scrollLeft();a.default(ge).animate({scrollLeft:t+e},250,"linear")},t._setupListeners=function(){var e=this;a.default(window).on("resize",(function(){setTimeout((function(){e._fixHeight()}),1)})),a.default(pe).hasClass(Ee)&&(a.default(document).on("click",De+", .sidebar-search-results .list-group-item",(function(t){t.preventDefault(),e.openTabSidebar(t.target)})),this._config.useNavbarItems&&a.default(document).on("click",xe+", "+ke,(function(t){t.preventDefault(),e.openTabSidebar(t.target)}))),a.default(document).on("click",be,(function(t){t.preventDefault(),e.onTabClick(t.target),e.switchTab(t.target)})),a.default(document).on("click",be,(function(t){t.preventDefault(),e.onTabClick(t.target),e.switchTab(t.target)})),a.default(document).on("click",'[data-widget="iframe-close"]',(function(t){t.preventDefault();var n=t.target;"I"==n.nodeName&&(n=t.target.offsetParent),e.removeActiveTab(n.attributes["data-type"]?n.attributes["data-type"].nodeValue:null,n)})),a.default(document).on("click",me,(function(t){t.preventDefault(),e.toggleFullscreen()}));var t=!1,n=null;a.default(document).on("mousedown",'[data-widget="iframe-scrollleft"]',(function(a){a.preventDefault(),clearInterval(n);var o=e._config.scrollOffset;e._config.scrollBehaviorSwap||(o=-o),t=!0,e._navScroll(o),n=setInterval((function(){e._navScroll(o)}),250)})),a.default(document).on("mousedown",'[data-widget="iframe-scrollright"]',(function(a){a.preventDefault(),clearInterval(n);var o=e._config.scrollOffset;e._config.scrollBehaviorSwap&&(o=-o),t=!0,e._navScroll(o),n=setInterval((function(){e._navScroll(o)}),250)})),a.default(document).on("mouseup",(function(){t&&(t=!1,clearInterval(n),n=null)}))},t._setItemActive=function(e){a.default(De+", "+ke).removeClass("active"),a.default(xe).parent().removeClass("active");var t=a.default(xe+'[href$="'+e+'"]'),n=a.default('.main-header a.dropdown-item[href$="'+e+'"]'),o=a.default(De+'[href$="'+e+'"]');t.each((function(e,t){a.default(t).parent().addClass("active")})),n.each((function(e,t){a.default(t).addClass("active")})),o.each((function(e,t){a.default(t).addClass("active"),a.default(t).parents(".nav-treeview").prevAll(".nav-link").addClass("active")}))},t._fixHeight=function(e){if(void 0===e&&(e=!1),a.default("body").hasClass(Se)){var t=a.default(window).height(),n=a.default(fe).outerHeight();a.default(ye+", "+_e+", "+he).height(t-n),a.default(pe).height(t)}else{var o=parseFloat(a.default(pe).css("height")),s=a.default(fe).outerHeight();1==e?setTimeout((function(){a.default(ye+", "+_e).height(o-s)}),50):a.default(he).height(o-s)}},e._jQueryInterface=function(t){if(a.default(ue).length>0){var n=a.default(this).data(de);n||(n=a.default(this).data());var o=a.default.extend({},Ae,"object"==typeof t?t:n);localStorage.setItem("AdminLTE:IFrame:Options",JSON.stringify(o));var s=new e(a.default(this),o);a.default(this).data(de,"object"==typeof t?t:n),"string"==typeof t&&/createTab|openTabSidebar|switchTab|removeActiveTab/.test(t)&&s[t]()}else new e(a.default(this),JSON.parse(localStorage.getItem("AdminLTE:IFrame:Options")))._initFrameElement()},e}();a.default(window).on("load",(function(){Te._jQueryInterface.call(a.default(ue))})),a.default.fn.IFrame=Te._jQueryInterface,a.default.fn.IFrame.Constructor=Te,a.default.fn.IFrame.noConflict=function(){return a.default.fn.IFrame=ce,Te._jQueryInterface};var Oe="lte.layout",Le=a.default.fn.Layout,Pe=".main-header",Me=".main-sidebar",Be=".main-sidebar .sidebar",Ie=".main-footer",Re="sidebar-focused",Fe={scrollbarTheme:"os-theme-light",scrollbarAutoHide:"l",panelAutoHeight:!0,panelAutoHeightMode:"min-height",preloadDuration:200,loginRegisterAutoHeight:!0},Ne=function(){function e(e,t){this._config=t,this._element=e}var t=e.prototype;return t.fixLayoutHeight=function(e){void 0===e&&(e=null);var t=a.default("body"),n=0;(t.hasClass("control-sidebar-slide-open")||t.hasClass("control-sidebar-open")||"control_sidebar"===e)&&(n=a.default(".control-sidebar-content").outerHeight());var o={window:a.default(window).height(),header:a.default(Pe).length>0?a.default(Pe).outerHeight():0,footer:a.default(Ie).length>0?a.default(Ie).outerHeight():0,sidebar:a.default(Be).length>0?a.default(Be).height():0,controlSidebar:n},s=this._max(o),i=this._config.panelAutoHeight;!0===i&&(i=0);var r=a.default(".content-wrapper");!1!==i&&(s===o.controlSidebar?r.css(this._config.panelAutoHeightMode,s+i):s===o.window?r.css(this._config.panelAutoHeightMode,s+i-o.header-o.footer):r.css(this._config.panelAutoHeightMode,s+i-o.header),this._isFooterFixed()&&r.css(this._config.panelAutoHeightMode,parseFloat(r.css(this._config.panelAutoHeightMode))+o.footer)),t.hasClass("layout-fixed")&&("undefined"!=typeof a.default.fn.overlayScrollbars?a.default(Be).overlayScrollbars({className:this._config.scrollbarTheme,sizeAutoCapable:!0,scrollbars:{autoHide:this._config.scrollbarAutoHide,clickScrolling:!0}}):a.default(Be).css("overflow-y","auto"))},t.fixLoginRegisterHeight=function(){var e=a.default("body"),t=a.default(".login-box, .register-box");if(e.hasClass("iframe-mode"))e.css("height","100%"),a.default(".wrapper").css("height","100%"),a.default("html").css("height","100%");else if(0===t.length)e.css("height","auto"),a.default("html").css("height","auto");else{var n=t.height();e.css(this._config.panelAutoHeightMode)!==n&&e.css(this._config.panelAutoHeightMode,n)}},t._init=function(){var e=this;this.fixLayoutHeight(),!0===this._config.loginRegisterAutoHeight?this.fixLoginRegisterHeight():this._config.loginRegisterAutoHeight===parseInt(this._config.loginRegisterAutoHeight,10)&&setInterval(this.fixLoginRegisterHeight,this._config.loginRegisterAutoHeight),a.default(Be).on("collapsed.lte.treeview expanded.lte.treeview",(function(){e.fixLayoutHeight()})),a.default(Me).on("mouseenter mouseleave",(function(){a.default("body").hasClass("sidebar-collapse")&&e.fixLayoutHeight()})),a.default('[data-widget="pushmenu"]').on("collapsed.lte.pushmenu shown.lte.pushmenu",(function(){setTimeout((function(){e.fixLayoutHeight()}),300)})),a.default('[data-widget="control-sidebar"]').on("collapsed.lte.controlsidebar",(function(){e.fixLayoutHeight()})).on("expanded.lte.controlsidebar",(function(){e.fixLayoutHeight("control_sidebar")})),a.default(window).resize((function(){e.fixLayoutHeight()})),setTimeout((function(){a.default("body.hold-transition").removeClass("hold-transition")}),50),setTimeout((function(){var e=a.default(".preloader");e&&(e.css("height",0),setTimeout((function(){e.children().hide()}),200))}),this._config.preloadDuration)},t._max=function(e){var t=0;return Object.keys(e).forEach((function(n){e[n]>t&&(t=e[n])})),t},t._isFooterFixed=function(){return"fixed"===a.default(Ie).css("position")},e._jQueryInterface=function(t){return void 0===t&&(t=""),this.each((function(){var n=a.default(this).data(Oe),o=a.default.extend({},Fe,a.default(this).data());n||(n=new e(a.default(this),o),a.default(this).data(Oe,n)),"init"===t||""===t?n._init():"fixLayoutHeight"!==t&&"fixLoginRegisterHeight"!==t||n[t]()}))},e}();a.default(window).on("load",(function(){Ne._jQueryInterface.call(a.default("body"))})),a.default(Be+" a").on("focusin",(function(){a.default(Me).addClass(Re)})).on("focusout",(function(){a.default(Me).removeClass(Re)})),a.default.fn.Layout=Ne._jQueryInterface,a.default.fn.Layout.Constructor=Ne,a.default.fn.Layout.noConflict=function(){return a.default.fn.Layout=Le,Ne._jQueryInterface};var Ve="PushMenu",Ue="lte.pushmenu",He="."+Ue,ze=a.default.fn[Ve],je='[data-widget="pushmenu"]',Ze="body",qe="sidebar-collapse",$e="sidebar-open",We="sidebar-is-opening",Ke="sidebar-closed",Ge={autoCollapseSize:992,enableRemember:!1,noTransitionAfterReload:!0,animationSpeed:300},Ye=function(){function e(e,t){this._element=e,this._options=a.default.extend({},Ge,t),0===a.default("#sidebar-overlay").length&&this._addOverlay(),this._init()}var t=e.prototype;return t.expand=function(){var e=a.default(Ze);this._options.autoCollapseSize&&a.default(window).width()<=this._options.autoCollapseSize&&e.addClass($e),e.addClass(We).removeClass("sidebar-collapse sidebar-closed").delay(50).queue((function(){e.removeClass(We),a.default(this).dequeue()})),this._options.enableRemember&&localStorage.setItem("remember"+He,$e),a.default(this._element).trigger(a.default.Event("shown.lte.pushmenu"))},t.collapse=function(){var e=this,t=a.default(Ze);this._options.autoCollapseSize&&a.default(window).width()<=this._options.autoCollapseSize&&t.removeClass($e).addClass(Ke),t.addClass(qe),this._options.enableRemember&&localStorage.setItem("remember"+He,qe),a.default(this._element).trigger(a.default.Event("collapsed.lte.pushmenu")),setTimeout((function(){a.default(e._element).trigger(a.default.Event("collapsed-done.lte.pushmenu"))}),this._options.animationSpeed)},t.toggle=function(){a.default(Ze).hasClass(qe)?this.expand():this.collapse()},t.autoCollapse=function(e){if(void 0===e&&(e=!1),this._options.autoCollapseSize){var t=a.default(Ze);a.default(window).width()<=this._options.autoCollapseSize?t.hasClass($e)||this.collapse():!0===e&&(t.hasClass($e)?t.removeClass($e):t.hasClass(Ke)&&this.expand())}},t.remember=function(){if(this._options.enableRemember){var e=a.default("body");localStorage.getItem("remember"+He)===qe?this._options.noTransitionAfterReload?e.addClass("hold-transition").addClass(qe).delay(50).queue((function(){a.default(this).removeClass("hold-transition"),a.default(this).dequeue()})):e.addClass(qe):this._options.noTransitionAfterReload?e.addClass("hold-transition").removeClass(qe).delay(50).queue((function(){a.default(this).removeClass("hold-transition"),a.default(this).dequeue()})):e.removeClass(qe)}},t._init=function(){var e=this;this.remember(),this.autoCollapse(),a.default(window).resize((function(){e.autoCollapse(!0)}))},t._addOverlay=function(){var e=this,t=a.default("<div />",{id:"sidebar-overlay"});t.on("click",(function(){e.collapse()})),a.default(".wrapper").append(t)},e._jQueryInterface=function(t){return this.each((function(){var n=a.default(this).data(Ue),o=a.default.extend({},Ge,a.default(this).data());n||(n=new e(this,o),a.default(this).data(Ue,n)),"string"==typeof t&&/collapse|expand|toggle/.test(t)&&n[t]()}))},e}();a.default(document).on("click",je,(function(e){e.preventDefault();var t=e.currentTarget;"pushmenu"!==a.default(t).data("widget")&&(t=a.default(t).closest(je)),Ye._jQueryInterface.call(a.default(t),"toggle")})),a.default(window).on("load",(function(){Ye._jQueryInterface.call(a.default(je))})),a.default.fn[Ve]=Ye._jQueryInterface,a.default.fn[Ve].Constructor=Ye,a.default.fn[Ve].noConflict=function(){return a.default.fn[Ve]=ze,Ye._jQueryInterface};var Xe="SidebarSearch",Qe="lte.sidebar-search",Je=a.default.fn[Xe],et="sidebar-search-open",tt="fa-search",nt="fa-times",at="sidebar-search-results",ot="list-group",st='[data-widget="sidebar-search"]',it=st+" .form-control",rt=st+" .btn",lt=rt+" i",dt=".sidebar-search-results",ct=".sidebar-search-results .list-group",ut={arrowSign:"->",minLength:3,maxResults:7,highlightName:!0,highlightPath:!1,highlightClass:"text-light",notFoundText:"No element found!"},mt=[],pt=function(){function e(e,t){this.element=e,this.options=a.default.extend({},ut,t),this.items=[]}var n=e.prototype;return n.init=function(){var e=this;0!==a.default(st).length&&(0===a.default(st).next(dt).length&&a.default(st).after(a.default("<div />",{class:at})),0===a.default(dt).children(".list-group").length&&a.default(dt).append(a.default("<div />",{class:ot})),this._addNotFound(),a.default(".main-sidebar .nav-sidebar").children().each((function(t,n){e._parseItem(n)})))},n.search=function(){var e=this,t=a.default(it).val().toLowerCase();if(t.length<this.options.minLength)return a.default(ct).empty(),this._addNotFound(),void this.close();var n=mt.filter((function(e){return e.name.toLowerCase().includes(t)})),o=a.default(n.slice(0,this.options.maxResults));a.default(ct).empty(),0===o.length?this._addNotFound():o.each((function(t,n){a.default(ct).append(e._renderItem(escape(n.name),encodeURI(n.link),n.path))})),this.open()},n.open=function(){a.default(st).parent().addClass(et),a.default(lt).removeClass(tt).addClass(nt)},n.close=function(){a.default(st).parent().removeClass(et),a.default(lt).removeClass(nt).addClass(tt)},n.toggle=function(){a.default(st).parent().hasClass(et)?this.close():this.open()},n._parseItem=function(e,t){var n=this;if(void 0===t&&(t=[]),!a.default(e).hasClass("nav-header")){var o={},s=a.default(e).clone().find("> .nav-link"),i=a.default(e).clone().find("> .nav-treeview"),r=s.attr("href"),l=s.find("p").children().remove().end().text();if(o.name=this._trimText(l),o.link=r,o.path=t,0===i.length)mt.push(o);else{var d=o.path.concat([o.name]);i.children().each((function(e,t){n._parseItem(t,d)}))}}},n._trimText=function(e){return t.trim(e.replace(/(\r\n|\n|\r)/gm," "))},n._renderItem=function(e,t,n){var o=this;if(n=n.join(" "+this.options.arrowSign+" "),e=unescape(e),t=decodeURI(t),this.options.highlightName||this.options.highlightPath){var s=a.default(it).val().toLowerCase(),i=new RegExp(s,"gi");this.options.highlightName&&(e=e.replace(i,(function(e){return'<strong class="'+o.options.highlightClass+'">'+e+"</strong>"}))),this.options.highlightPath&&(n=n.replace(i,(function(e){return'<strong class="'+o.options.highlightClass+'">'+e+"</strong>"})))}var r=a.default("<a/>",{href:decodeURIComponent(t),class:"list-group-item"}),l=a.default("<div/>",{class:"search-title"}).html(e),d=a.default("<div/>",{class:"search-path"}).html(n);return r.append(l).append(d),r},n._addNotFound=function(){a.default(ct).append(this._renderItem(this.options.notFoundText,"#",[]))},e._jQueryInterface=function(t){var n=a.default(this).data(Qe);n||(n=a.default(this).data());var o=a.default.extend({},ut,"object"==typeof t?t:n),s=new e(a.default(this),o);a.default(this).data(Qe,"object"==typeof t?t:n),"string"==typeof t&&/init|toggle|close|open|search/.test(t)?s[t]():s.init()},e}();a.default(document).on("click",rt,(function(e){e.preventDefault(),pt._jQueryInterface.call(a.default(st),"toggle")})),a.default(document).on("keyup",it,(function(e){return 38==e.keyCode?(e.preventDefault(),void a.default(ct).children().last().focus()):40==e.keyCode?(e.preventDefault(),void a.default(ct).children().first().focus()):void setTimeout((function(){pt._jQueryInterface.call(a.default(st),"search")}),100)})),a.default(document).on("keydown",ct,(function(e){var t=a.default(":focus");38==e.keyCode&&(e.preventDefault(),t.is(":first-child")?t.siblings().last().focus():t.prev().focus()),40==e.keyCode&&(e.preventDefault(),t.is(":last-child")?t.siblings().first().focus():t.next().focus())})),a.default(window).on("load",(function(){pt._jQueryInterface.call(a.default(st),"init")})),a.default.fn[Xe]=pt._jQueryInterface,a.default.fn[Xe].Constructor=pt,a.default.fn[Xe].noConflict=function(){return a.default.fn[Xe]=Je,pt._jQueryInterface};var ht="NavbarSearch",ft="lte.navbar-search",gt=a.default.fn[ht],vt='[data-widget="navbar-search"]',bt=".form-control",wt="navbar-search-open",yt={resetOnClose:!0,target:".navbar-search-block"},_t=function(){function e(e,t){this._element=e,this._config=a.default.extend({},yt,t)}var t=e.prototype;return t.open=function(){a.default(this._config.target).css("display","flex").hide().fadeIn().addClass(wt),a.default(this._config.target+" "+bt).focus()},t.close=function(){a.default(this._config.target).fadeOut().removeClass(wt),this._config.resetOnClose&&a.default(this._config.target+" "+bt).val("")},t.toggle=function(){a.default(this._config.target).hasClass(wt)?this.close():this.open()},e._jQueryInterface=function(t){return this.each((function(){var n=a.default(this).data(ft),o=a.default.extend({},yt,a.default(this).data());if(n||(n=new e(this,o),a.default(this).data(ft,n)),!/toggle|close|open/.test(t))throw new Error("Undefined method "+t);n[t]()}))},e}();a.default(document).on("click",vt,(function(e){e.preventDefault();var t=a.default(e.currentTarget);"navbar-search"!==t.data("widget")&&(t=t.closest(vt)),_t._jQueryInterface.call(t,"toggle")})),a.default.fn[ht]=_t._jQueryInterface,a.default.fn[ht].Constructor=_t,a.default.fn[ht].noConflict=function(){return a.default.fn[ht]=gt,_t._jQueryInterface};var Ct=a.default.fn.Toasts,Dt="topRight",xt="topLeft",kt="bottomRight",Et="bottomLeft",St={position:Dt,fixed:!0,autohide:!1,autoremove:!0,delay:1e3,fade:!0,icon:null,image:null,imageAlt:null,imageHeight:"25px",title:null,subtitle:null,close:!0,body:null,class:null},At=function(){function e(e,t){this._config=t,this._prepareContainer(),a.default("body").trigger(a.default.Event("init.lte.toasts"))}var t=e.prototype;return t.create=function(){var e=a.default('<div class="toast" role="alert" aria-live="assertive" aria-atomic="true"/>');e.data("autohide",this._config.autohide),e.data("animation",this._config.fade),this._config.class&&e.addClass(this._config.class),this._config.delay&&500!=this._config.delay&&e.data("delay",this._config.delay);var t=a.default('<div class="toast-header">');if(null!=this._config.image){var n=a.default("<img />").addClass("rounded mr-2").attr("src",this._config.image).attr("alt",this._config.imageAlt);null!=this._config.imageHeight&&n.height(this._config.imageHeight).width("auto"),t.append(n)}if(null!=this._config.icon&&t.append(a.default("<i />").addClass("mr-2").addClass(this._config.icon)),null!=this._config.title&&t.append(a.default("<strong />").addClass("mr-auto").html(this._config.title)),null!=this._config.subtitle&&t.append(a.default("<small />").html(this._config.subtitle)),1==this._config.close){var o=a.default('<button data-dismiss="toast" />').attr("type","button").addClass("ml-2 mb-1 close").attr("aria-label","Close").append('<span aria-hidden="true">&times;</span>');null==this._config.title&&o.toggleClass("ml-2 ml-auto"),t.append(o)}e.append(t),null!=this._config.body&&e.append(a.default('<div class="toast-body" />').html(this._config.body)),a.default(this._getContainerId()).prepend(e);var s=a.default("body");s.trigger(a.default.Event("created.lte.toasts")),e.toast("show"),this._config.autoremove&&e.on("hidden.bs.toast",(function(){a.default(this).delay(200).remove(),s.trigger(a.default.Event("removed.lte.toasts"))}))},t._getContainerId=function(){return this._config.position==Dt?"#toastsContainerTopRight":this._config.position==xt?"#toastsContainerTopLeft":this._config.position==kt?"#toastsContainerBottomRight":this._config.position==Et?"#toastsContainerBottomLeft":void 0},t._prepareContainer=function(){if(0===a.default(this._getContainerId()).length){var e=a.default("<div />").attr("id",this._getContainerId().replace("#",""));this._config.position==Dt?e.addClass("toasts-top-right"):this._config.position==xt?e.addClass("toasts-top-left"):this._config.position==kt?e.addClass("toasts-bottom-right"):this._config.position==Et&&e.addClass("toasts-bottom-left"),a.default("body").append(e)}this._config.fixed?a.default(this._getContainerId()).addClass("fixed"):a.default(this._getContainerId()).removeClass("fixed")},e._jQueryInterface=function(t,n){return this.each((function(){var o=a.default.extend({},St,n),s=new e(a.default(this),o);"create"===t&&s[t]()}))},e}();a.default.fn.Toasts=At._jQueryInterface,a.default.fn.Toasts.Constructor=At,a.default.fn.Toasts.noConflict=function(){return a.default.fn.Toasts=Ct,At._jQueryInterface};var Tt="TodoList",Ot="lte.todolist",Lt=a.default.fn[Tt],Pt="done",Mt={onCheck:function(e){return e},onUnCheck:function(e){return e}},Bt=function(){function e(e,t){this._config=t,this._element=e,this._init()}var t=e.prototype;return t.toggle=function(e){e.parents("li").toggleClass(Pt),a.default(e).prop("checked")?this.check(e):this.unCheck(a.default(e))},t.check=function(e){this._config.onCheck.call(e)},t.unCheck=function(e){this._config.onUnCheck.call(e)},t._init=function(){var e=this,t=this._element;t.find("input:checkbox:checked").parents("li").toggleClass(Pt),t.on("change","input:checkbox",(function(t){e.toggle(a.default(t.target))}))},e._jQueryInterface=function(t){return this.each((function(){var n=a.default(this).data(Ot);n||(n=a.default(this).data());var o=a.default.extend({},Mt,"object"==typeof t?t:n),s=new e(a.default(this),o);a.default(this).data(Ot,"object"==typeof t?t:n),"init"===t&&s[t]()}))},e}();a.default(window).on("load",(function(){Bt._jQueryInterface.call(a.default('[data-widget="todo-list"]'))})),a.default.fn[Tt]=Bt._jQueryInterface,a.default.fn[Tt].Constructor=Bt,a.default.fn[Tt].noConflict=function(){return a.default.fn[Tt]=Lt,Bt._jQueryInterface};var It="Treeview",Rt="lte.treeview",Ft=a.default.fn[It],Nt=".nav-item",Vt=".nav-treeview",Ut=".menu-open",Ht='[data-widget="treeview"]',zt="menu-open",jt="menu-is-opening",Zt={trigger:Ht+" .nav-link",animationSpeed:300,accordion:!0,expandSidebar:!1,sidebarButtonSelector:'[data-widget="pushmenu"]'},qt=function(){function e(e,t){this._config=t,this._element=e}var t=e.prototype;return t.init=function(){a.default(".nav-item.menu-open .nav-treeview.menu-open").css("display","block"),this._setupListeners()},t.expand=function(e,t){var n=this,o=a.default.Event("expanded.lte.treeview");if(this._config.accordion){var s=t.siblings(Ut).first(),i=s.find(Vt).first();this.collapse(i,s)}t.addClass(jt),e.stop().slideDown(this._config.animationSpeed,(function(){t.addClass(zt),a.default(n._element).trigger(o)})),this._config.expandSidebar&&this._expandSidebar()},t.collapse=function(e,t){var n=this,o=a.default.Event("collapsed.lte.treeview");t.removeClass("menu-is-opening menu-open"),e.stop().slideUp(this._config.animationSpeed,(function(){a.default(n._element).trigger(o),e.find(".menu-open > .nav-treeview").slideUp(),e.find(Ut).removeClass("menu-is-opening menu-open")}))},t.toggle=function(e){var t=a.default(e.currentTarget),n=t.parent(),o=n.find("> .nav-treeview");if(o.is(Vt)||(n.is(Nt)||(o=n.parent().find("> .nav-treeview")),o.is(Vt))){e.preventDefault();var s=t.parents(Nt).first();s.hasClass(zt)?this.collapse(a.default(o),s):this.expand(a.default(o),s)}},t._setupListeners=function(){var e=this,t=void 0!==this._element.attr("id")?"#"+this._element.attr("id"):"";a.default(document).on("click",""+t+this._config.trigger,(function(t){e.toggle(t)}))},t._expandSidebar=function(){a.default("body").hasClass("sidebar-collapse")&&a.default(this._config.sidebarButtonSelector).PushMenu("expand")},e._jQueryInterface=function(t){return this.each((function(){var n=a.default(this).data(Rt),o=a.default.extend({},Zt,a.default(this).data());n||(n=new e(a.default(this),o),a.default(this).data(Rt,n)),"init"===t&&n[t]()}))},e}();a.default(window).on("load.lte.treeview",(function(){a.default(Ht).each((function(){qt._jQueryInterface.call(a.default(this),"init")}))})),a.default.fn[It]=qt._jQueryInterface,a.default.fn[It].Constructor=qt,a.default.fn[It].noConflict=function(){return a.default.fn[It]=Ft,qt._jQueryInterface},e.CardRefresh=c,e.CardWidget=x,e.ControlSidebar=N,e.DirectChat=z,e.Dropdown=K,e.ExpandableTable=te,e.Fullscreen=le,e.IFrame=Te,e.Layout=Ne,e.NavbarSearch=_t,e.PushMenu=Ye,e.SidebarSearch=pt,e.Toasts=At,e.TodoList=Bt,e.Treeview=qt,Object.defineProperty(e,"__esModule",{value:!0})}))},44806:function(e,t,n){var a,o;n(57658),function(s,i){a=[n(77387)],o=function(e){return i(s,s.document,void 0,e)}.apply(t,a),void 0===o||(e.exports=o)}("undefined"!=typeof window?window:this,(function(e,t,n,a){"use strict";var o,s,i,r,l="object",d="function",c="array",u="string",m="boolean",p="number",h="null",f={c:"class",s:"style",i:"id",l:"length",p:"prototype",ti:"tabindex",oH:"offsetHeight",cH:"clientHeight",sH:"scrollHeight",oW:"offsetWidth",cW:"clientWidth",sW:"scrollWidth",hOP:"hasOwnProperty",bCR:"getBoundingClientRect"},g=(o={},s={},{e:i=["-webkit-","-moz-","-o-","-ms-"],o:r=["WebKit","Moz","O","MS"],u:function(e){var a=s[e];if(s[f.hOP](e))return a;for(var o,r,l,d=v(e),c=t.createElement("div")[f.s],u=0;u<i.length;u++)for(l=i[u].replace(/-/g,""),o=[e,i[u]+e,l+d,v(l)+d],r=0;r<o[f.l];r++)if(c[o[r]]!==n){a=o[r];break}return s[e]=a},v:function(e,n,a){var o=e+" "+n,i=s[o];if(s[f.hOP](o))return i;for(var r,l=t.createElement("div")[f.s],d=n.split(" "),c=a||"",u=0,m=-1;u<d[f.l];u++)for(;m<g.e[f.l];m++)if(r=m<0?d[u]:g.e[m]+d[u],l.cssText=e+":"+r+c,l[f.l]){i=r;break}return s[o]=i},d:function(t,n,a){var s=0,i=o[t];if(!o[f.hOP](t)){for(i=e[t];s<r[f.l];s++)i=i||e[(n?r[s]:r[s].toLowerCase())+v(t)];o[t]=i}return i||a}});function v(e){return e.charAt(0).toUpperCase()+e.slice(1)}var b={wW:y(w,0,!0),wH:y(w,0),mO:y(g.d,0,"MutationObserver",!0),rO:y(g.d,0,"ResizeObserver",!0),rAF:y(g.d,0,"requestAnimationFrame",!1,(function(t){return e.setTimeout(t,1e3/60)})),cAF:y(g.d,0,"cancelAnimationFrame",!1,(function(t){return e.clearTimeout(t)})),now:function(){return Date.now&&Date.now()||(new Date).getTime()},stpP:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},prvD:function(e){e.preventDefault&&e.cancelable?e.preventDefault():e.returnValue=!1},page:function(e){var a=((e=e.originalEvent||e).target||e.srcElement||t).ownerDocument||t,o=a.documentElement,s=a.body;if(e.touches===n)return!e.pageX&&e.clientX&&null!=e.clientX?{x:e.clientX+(o&&o.scrollLeft||s&&s.scrollLeft||0)-(o&&o.clientLeft||s&&s.clientLeft||0),y:e.clientY+(o&&o.scrollTop||s&&s.scrollTop||0)-(o&&o.clientTop||s&&s.clientTop||0)}:{x:e.pageX,y:e.pageY};var i=e.touches[0];return{x:i.pageX,y:i.pageY}},mBtn:function(e){var t=e.button;return e.which||t===n?e.which:1&t?1:2&t?3:4&t?2:0},inA:function(e,t){for(var n=0;n<t[f.l];n++)try{if(t[n]===e)return n}catch(y){}return-1},isA:function(e){var t=Array.isArray;return t?t(e):this.type(e)==c},type:function(e){return e===n||null===e?e+"":Object[f.p].toString.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase()},bind:y};function w(n){return n?e.innerWidth||t.documentElement[f.cW]||t.body[f.cW]:e.innerHeight||t.documentElement[f.cH]||t.body[f.cH]}function y(e,t){if(typeof e!=d)throw"Can't bind function!";var n=f.p,a=Array[n].slice.call(arguments,2),o=function(){},s=function(){return e.apply(this instanceof o?this:t,a.concat(Array[n].slice.call(arguments)))};return e[n]&&(o[n]=e[n]),s[n]=new o,s}var _,C,D,x,k,E,S,A,T,O,L,P,M,B,I,R=Math,F=a,N=(a.easing,a),V=(_=[],C="__overlayScrollbars__",function(e,t){var n=arguments[f.l];if(n<1)return _;if(t)e[C]=t,_.push(e);else{var a=b.inA(e,_);if(-1<a){if(!(1<n))return _[a][C];delete e[C],_.splice(a,1)}}}),U=(B=[],E=b.type,P={className:["os-theme-dark",[h,u]],resize:["none","n:none b:both h:horizontal v:vertical"],sizeAutoCapable:A=[!0,m],clipAlways:A,normalizeRTL:A,paddingAbsolute:T=[!(S=[m,p,u,c,l,d,h]),m],autoUpdate:[null,[h,m]],autoUpdateInterval:[33,p],updateOnLoad:[["img"],[u,c,h]],nativeScrollbarsOverlaid:{showNativeScrollbars:T,initialize:A},overflowBehavior:{x:["scroll",L="v-h:visible-hidden v-s:visible-scroll s:scroll h:hidden"],y:["scroll",L]},scrollbars:{visibility:["auto","v:visible h:hidden a:auto"],autoHide:["never","n:never s:scroll l:leave m:move"],autoHideDelay:[800,p],dragScrolling:A,clickScrolling:T,touchSupport:A,snapHandle:T},textarea:{dynWidth:T,dynHeight:T,inheritedAttrs:[["style","class"],[u,c,h]]},callbacks:{onInitialized:O=[null,[h,d]],onInitializationWithdrawn:O,onDestroyed:O,onScrollStart:O,onScroll:O,onScrollStop:O,onOverflowChanged:O,onOverflowAmountChanged:O,onDirectionChanged:O,onContentSizeChanged:O,onHostSizeChanged:O,onUpdated:O}},I={m:(M=function(e){var t=function(n){var a,o,s;for(a in n)n[f.hOP](a)&&(o=n[a],(s=E(o))==c?n[a]=o[e?1:0]:s==l&&(n[a]=t(o)));return n};return t(N.extend(!0,{},P))})(),g:M(!0),_:function(t,a,o,s){var i={},r={},d=N.extend(!0,{},t),c=N.inArray,m=N.isEmptyObject,p=function(e,t,a,s,i,r){for(var d in t)if(t[f.hOP](d)&&e[f.hOP](d)){var h,g,v,w,y,_,C,D,x=!1,k=!1,A=t[d],T=E(A),O=T==l,L=b.isA(A)?A:[A],P=a[d],M=e[d],B=E(M),I=r?r+".":"",R='The option "'+I+d+"\" wasn't set, because",F=[],V=[];if(P=P===n?{}:P,O&&B==l)s[d]={},i[d]={},p(M,A,P,s[d],i[d],I+d),N.each([e,s,i],(function(e,t){m(t[d])&&delete t[d]}));else if(!O){for(_=0;_<L[f.l];_++)if(y=L[_],v=(T=E(y))==u&&-1===c(y,S))for(F.push(u),h=y.split(" "),V=V.concat(h),C=0;C<h[f.l];C++){for(w=(g=h[C].split(":"))[0],D=0;D<g[f.l];D++)if(M===g[D]){x=!0;break}if(x)break}else if(F.push(y),B===y){x=!0;break}x?((k=M!==P)&&(s[d]=M),(v?c(P,g)<0:k)&&(i[d]=v?w:M)):o&&console.warn(R+" it doesn't accept the type [ "+B.toUpperCase()+' ] with the value of "'+M+'".\r\nAccepted types are: [ '+F.join(", ").toUpperCase()+" ]."+(0<V[length]?"\r\nValid strings are: [ "+V.join(", ").split(":").join(", ")+" ].":"")),delete e[d]}}};return p(d,a,s||{},i,r),!m(d)&&o&&console.warn("The following options are discarded due to invalidity:\r\n"+e.JSON.stringify(d,null,2)),{S:i,z:r}}},(D=e.OverlayScrollbars=function(e,t,a){if(0===arguments[f.l])return this;var o,s,i=[],r=N.isPlainObject(t);return e?(e=e[f.l]!=n?e:[e[0]||e],H(),0<e[f.l]&&(r?N.each(e,(function(e,s){(o=s)!==n&&i.push(Z(o,t,a,x,k))})):N.each(e,(function(e,a){o=V(a),("!"===t&&D.valid(o)||b.type(t)==d&&t(a,o)||t===n)&&i.push(o)})),s=1===i[f.l]?i[0]:i),s):r||!t?s:i}).globals=function(){H();var e=N.extend(!0,{},x);return delete e.msie,e},D.defaultOptions=function(e){H();var t=x.defaultOptions;if(e===n)return N.extend(!0,{},t);x.defaultOptions=N.extend(!0,{},t,I._(e,I.g,!0,t).S)},D.valid=function(e){return e instanceof D&&!e.getState().destroyed},D.extension=function(e,t,n){var a=b.type(e)==u,o=arguments[f.l],s=0;if(o<1||!a)return N.extend(!0,{length:B[f.l]},B);if(a)if(b.type(t)==d)B.push({name:e,extensionFactory:t,defaultOptions:n});else for(;s<B[f.l];s++)if(B[s].name===e){if(!(1<o))return N.extend(!0,{},B[s]);B.splice(s,1)}},D);function H(){x=x||new z(I.m),k=k||new j(x)}function z(t){var n=this,a="overflow",o=N("body"),s=N('<div id="os-dummy-scrollbar-size"><div></div></div>'),i=s[0],r=N(s.children("div").eq(0));o.append(s),s.hide().show();var l,d,c,u,m,p,h,v,w,y=D(i),_={x:0===y.x,y:0===y.y},C=(d=e.navigator.userAgent,u="substring",m=d[c="indexOf"]("MSIE "),p=d[c]("Trident/"),h=d[c]("Edge/"),v=d[c]("rv:"),w=parseInt,0<m?l=w(d[u](m+5,d[c](".",m)),10):0<p?l=w(d[u](v+3,d[c](".",v)),10):0<h&&(l=w(d[u](h+5,d[c](".",h)),10)),l);function D(e){return{x:e[f.oH]-e[f.cH],y:e[f.oW]-e[f.cW]}}N.extend(n,{defaultOptions:t,msie:C,autoUpdateLoop:!1,autoUpdateRecommended:!b.mO(),nativeScrollbarSize:y,nativeScrollbarIsOverlaid:_,nativeScrollbarStyling:function(){var t=!1;s.addClass("os-viewport-native-scrollbars-invisible");try{t="none"===s.css("scrollbar-width")&&(9<C||!C)||"none"===e.getComputedStyle(i,"::-webkit-scrollbar").getPropertyValue("display")}catch(l){}return t}(),overlayScrollbarDummySize:{x:30,y:30},cssCalc:g.v("width","calc","(1px)")||null,restrictedMeasuring:function(){s.css(a,"hidden");var e=i[f.sW],t=i[f.sH];s.css(a,"visible");var n=i[f.sW],o=i[f.sH];return e-n!=0||t-o!=0}(),rtlScrollBehavior:function(){s.css({"overflow-y":"hidden","overflow-x":"scroll",direction:"rtl"}).scrollLeft(0);var e=s.offset(),t=r.offset();s.scrollLeft(-999);var n=r.offset();return{i:e.left===t.left,n:t.left!==n.left}}(),supportTransform:!!g.u("transform"),supportTransition:!!g.u("transition"),supportPassiveEvents:function(){var t=!1;try{e.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){t=!0}}))}catch(l){}return t}(),supportResizeObserver:!!b.rO(),supportMutationObserver:!!b.mO()}),s.removeAttr(f.s).remove(),function(){if(!_.x||!_.y){var t=R.abs,a=b.wW(),i=b.wH(),r=l();N(e).on("resize",(function(){if(0<V().length){var e=b.wW(),d=b.wH(),c=e-a,u=d-i;if(0==c&&0==u)return;var m,p=R.round(e/(a/100)),h=R.round(d/(i/100)),f=t(c),g=t(u),v=t(p),w=t(h),y=l(),_=2<f&&2<g,C=!function(e,n){var a=t(e),o=t(n);return a!==o&&a+1!==o&&a-1!==o}(v,w),x=_&&C&&y!==r&&0<r,k=n.nativeScrollbarSize;x&&(o.append(s),m=n.nativeScrollbarSize=D(s[0]),s.remove(),k.x===m.x&&k.y===m.y||N.each(V(),(function(){V(this)&&V(this).update("zoom")}))),a=e,i=d,r=y}}))}function l(){var t=e.screen.deviceXDPI||0,n=e.screen.logicalXDPI||1;return e.devicePixelRatio||t/n}}()}function j(e){var t,a=N.inArray,o=b.now,s="autoUpdate",i=f.l,r=[],l=[],d=!1,c=33,u=o(),m=function(){if(0<r[i]&&d){t=b.rAF()((function(){m()}));var e,a,p,h,f,g,v=o(),w=v-u;if(c<w){u=v-w%c,e=33;for(var y=0;y<r[i];y++)(a=r[y])!==n&&(h=(p=a.options())[s],f=R.max(1,p.autoUpdateInterval),g=o(),(!0===h||null===h)&&g-l[y]>f&&(a.update("auto"),l[y]=new Date(g+=f)),e=R.max(1,R.min(e,f)));c=e}}else c=33};this.add=function(t){-1===a(t,r)&&(r.push(t),l.push(o()),0<r[i]&&!d&&(d=!0,e.autoUpdateLoop=d,m()))},this.remove=function(o){var s=a(o,r);-1<s&&(l.splice(s,1),r.splice(s,1),0===r[i]&&d&&(d=!1,e.autoUpdateLoop=d,t!==n&&(b.cAF()(t),t=-1)))}}function Z(a,o,s,i,r){var h=b.type,v=N.inArray,w=N.each,y=new D,_=N[f.p];if(fo(a)){if(V(a)){var C=V(a);return C.options(o),C}var x,k,E,S,A,T,O,L,P,M,B,U,H,z,j,Z,q,$,W,K,G,Y,X,Q,J,ee,te,ne,ae,oe,se,ie,re,le,de,ce,ue,me,pe,he,fe,ge,ve,be,we,ye,_e,Ce,De,xe,ke,Ee,Se,Ae,Te,Oe,Le,Pe,Me,Be,Ie,Re,Fe,Ne,Ve,Ue,He,ze,je,Ze,qe,$e,We,Ke,Ge,Ye,Xe,Qe,Je,et,tt,nt,at,ot,st,it,rt,lt,dt,ct,ut,mt,pt,ht,ft,gt,vt,bt,wt,yt,_t,Ct,Dt,xt,kt,Et,St,At,Tt,Ot,Lt,Pt,Mt,Bt,It,Rt,Ft,Nt,Vt,Ut,Ht={},zt={},jt={},Zt={},qt={},$t="-hidden",Wt="margin-",Kt="padding-",Gt="border-",Yt="top",Xt="right",Qt="bottom",Jt="left",en="min-",tn="max-",nn="width",an="height",on="float",sn="",rn="auto",ln="sync",dn="scroll",cn="100%",un="x",mn="y",pn=".",hn=" ",fn="scrollbar",gn="-horizontal",vn="-vertical",bn=dn+"Left",wn=dn+"Top",yn="mousedown touchstart",_n="mouseup touchend touchcancel",Cn="mousemove touchmove",Dn="mouseenter",xn="mouseleave",kn="keydown",En="keyup",Sn="selectstart",An="transitionend webkitTransitionEnd oTransitionEnd",Tn="__overlayScrollbarsRO__",On="os-",Ln="os-html",Pn="os-host",Mn=Pn+"-foreign",Bn=Pn+"-textarea",In=Pn+"-"+fn+gn+$t,Rn=Pn+"-"+fn+vn+$t,Fn=Pn+"-transition",Nn=Pn+"-rtl",Vn=Pn+"-resize-disabled",Un=Pn+"-scrolling",Hn=Pn+"-overflow",zn=(Hn=Pn+"-overflow")+"-x",jn=Hn+"-y",Zn="os-textarea",qn=Zn+"-cover",$n="os-padding",Wn="os-viewport",Kn=Wn+"-native-scrollbars-invisible",Gn=Wn+"-native-scrollbars-overlaid",Yn="os-content",Xn="os-content-arrange",Qn="os-content-glue",Jn="os-size-auto-observer",ea="os-resize-observer",ta="os-resize-observer-item",na=ta+"-final",aa="os-text-inherit",oa=On+fn,sa=oa+"-track",ia=sa+"-off",ra=oa+"-handle",la=ra+"-off",da=oa+"-unusable",ca=oa+"-"+rn+$t,ua=oa+"-corner",ma=ua+"-resize",pa=ma+"-both",ha=ma+gn,fa=ma+vn,ga=oa+gn,va=oa+vn,ba="os-dragging",wa="os-theme-none",ya=[Kn,Gn,ia,la,da,ca,ma,pa,ha,fa,ba].join(hn),_a=[],Ca=[f.ti],Da={},xa={},ka=42,Ea="load",Sa=[],Aa={},Ta=["wrap","cols","rows"],Oa=[f.i,f.c,f.s,"open"].concat(Ca),La=[];return y.sleep=function(){ae=!0},y.update=function(e){var t,a,o,s,i;if(!j)return h(e)==u?e===rn?(t=function(){if(!ae&&!Et){var e,t,a,o=[],s=[{T:he,O:Oa.concat(":visible")},{T:Z?pe:n,O:Ta}];return w(s,(function(n,s){(e=s.T)&&w(s.O,(function(n,s){t=":"===s.charAt(0)?e.is(s):e.attr(s),a=Aa[s],Do(t,a)&&o.push(s),Aa[s]=t}))})),Wa(o),0<o[f.l]}}(),a=function(){if(ae)return!1;var e,t,n,a,o=bo(),s=Z&&Ze&&!gt?pe.val().length:0,i=!Et&&Ze&&!Z,r={};return i&&(e=we.css(on),r[on]=ne?Xt:Jt,r[nn]=rn,we.css(r)),a={w:o[f.sW]+s,h:o[f.sH]+s},i&&(r[on]=e,r[nn]=cn,we.css(r)),t=qa(),n=Do(a,it),it=a,n||t}(),(o=t||a)&&Ga({k:a,C:z?n:ie})):e===ln?Et?(s=xt(Ct.takeRecords()),i=kt(Dt.takeRecords())):s=y.update(rn):"zoom"===e&&Ga({A:!0,k:!0}):(e=ae||e,ae=!1,y.update(ln)&&!e||Ga({H:e})),Ya(),o||s||i},y.options=function(e,t){var n,a={};if(N.isEmptyObject(e)||!N.isPlainObject(e)){if(h(e)!=u)return se;if(!(1<arguments.length))return _o(se,e);!function(e,t,n){for(var a=t.split(pn),o=a.length,s=0,i={},r=i;s<o;s++)i=i[a[s]]=s+1<o?{}:n;N.extend(e,r,!0)}(a,e,t),n=Xa(a)}else n=Xa(e);N.isEmptyObject(n)||Ga({C:n})},y.destroy=function(){if(!j){for(var e in r.remove(y),Fa(),Ba(ge),Ba(fe),Da)y.removeExt(e);for(;0<La[f.l];)La.pop()();Za(!0),_e&&Ao(_e),ye&&Ao(ye),G&&Ao(fe),eo(!0),lo(!0),Qa(!0);for(var t=0;t<Sa[f.l];t++)N(Sa[t]).off(Ea,ja);Sa=n,ae=j=!0,V(a,0),co("onDestroyed")}},y.scroll=function(e,t,a,o){if(0===arguments.length||e===n){var s=pt&&ne&&E.i,i=pt&&ne&&E.n,r=zt.R,g=zt.L,w=zt.N;return g=s?1-g:g,r=s?w-r:r,w*=i?-1:1,{position:{x:r*=i?-1:1,y:jt.R},ratio:{x:g,y:jt.L},max:{x:w,y:jt.N},handleOffset:{x:zt.W,y:jt.W},handleLength:{x:zt.D,y:jt.D},handleLengthRatio:{x:zt.M,y:jt.M},trackLength:{x:zt.I,y:jt.I},snappedHandleOffset:{x:zt.j,y:jt.j},isRTL:ne,isRTLNormalized:pt}}y.update(ln);var _,C,D,x,k,S,A,T,O,L=pt,P=[un,Jt,"l"],B=[mn,Yt,"t"],I=["+=","-=","*=","/="],V=h(t)==l,U=V?t.complete:o,H={},z={},j="begin",Z="nearest",q="never",$="ifneeded",W=f.l,K=[un,mn,"xy","yx"],G=[j,"end","center",Z],Y=["always",q,$],X=e[f.hOP]("el"),Q=X?e.el:e,J=!!(Q instanceof N||F)&&Q instanceof F,ee=!J&&fo(Q),te=function(){C&&so(!0),D&&so(!1)},ae=h(U)!=d?n:function(){te(),U()};function oe(e,t){for(_=0;_<t[W];_++)if(e===t[_])return 1}function se(e,t){var n=e?P:B;if(t=h(t)==u||h(t)==p?[t,t]:t,b.isA(t))return e?t[0]:t[1];if(h(t)==l)for(_=0;_<n[W];_++)if(n[_]in t)return t[n[_]]}function ie(e,t){var a,o,s,i,r=h(t)==u,l=e?zt:jt,d=l.R,c=l.N,m=ne&&e,f=m&&E.n&&!L,g="replace",b=eval;if((o=r?(2<t[W]&&(i=t.substr(0,2),-1<v(i,I)&&(a=i)),t=(t=a?t.substr(2):t)[g](/min/g,0)[g](/</g,0)[g](/max/g,(f?"-":sn)+cn)[g](/>/g,(f?"-":sn)+cn)[g](/px/g,sn)[g](/%/g," * "+c*(m&&E.n?-1:1)/100)[g](/vw/g," * "+Zt.w)[g](/vh/g," * "+Zt.h),go(isNaN(t)?go(b(t),!0).toFixed():t)):t)!==n&&!isNaN(o)&&h(o)==p){var w=L&&m,y=d*(w&&E.n?-1:1),_=w&&E.i,C=w&&E.n;switch(y=_?c-y:y,a){case"+=":s=y+o;break;case"-=":s=y-o;break;case"*=":s=y*o;break;case"/=":s=y/o;break;default:s=o}s=_?c-s:s,s*=C?-1:1,s=m&&E.n?R.min(0,R.max(c,s)):R.max(0,R.min(c,s))}return s===d?n:s}function re(e,t,n,a){var o,s,i=[n,n],r=h(e);if(r==t)e=[e,e];else if(r==c){if(2<(o=e[W])||o<1)e=i;else for(1===o&&(e[1]=n),_=0;_<o;_++)if(s=e[_],h(s)!=t||!oe(s,a)){e=i;break}}else e=r==l?[e[un]||n,e[mn]||n]:i;return{x:e[0],y:e[1]}}function le(e){var t,n,a=[],o=[Yt,Xt,Qt,Jt];for(_=0;_<e[W]&&_!==o[W];_++)t=e[_],(n=h(t))==m?a.push(t?go(O.css(Wt+o[_])):0):a.push(n==p?t:0);return a}if(J||ee){var de,ce=X?e.margin:0,ue=X?e.axis:0,me=X?e.scroll:0,pe=X?e.block:0,he=[0,0,0,0],fe=h(ce);if(0<(O=J?Q:N(Q))[W]){ce=fe==p||fe==m?le([ce,ce,ce,ce]):fe==c?2===(de=ce[W])?le([ce[0],ce[1],ce[0],ce[1]]):4<=de?le(ce):he:fe==l?le([ce[Yt],ce[Xt],ce[Qt],ce[Jt]]):he,k=oe(ue,K)?ue:"xy",S=re(me,u,"always",Y),A=re(pe,u,j,G),T=ce;var ge=zt.R,we=jt.R,ye=ve.offset(),_e=O.offset(),Ce={x:S.x==q||k==mn,y:S.y==q||k==un};_e[Yt]-=T[0],_e[Jt]-=T[3];var De={x:R.round(_e[Jt]-ye[Jt]+ge),y:R.round(_e[Yt]-ye[Yt]+we)};if(ne&&(E.n||E.i||(De.x=R.round(ye[Jt]-_e[Jt]+ge)),E.n&&L&&(De.x*=-1),E.i&&L&&(De.x=R.round(ye[Jt]-_e[Jt]+(zt.N-ge)))),A.x!=j||A.y!=j||S.x==$||S.y==$||ne){var xe=O[0],ke=M?xe[f.bCR]():{width:xe[f.oW],height:xe[f.oH]},Ee={w:ke[nn]+T[3]+T[1],h:ke[an]+T[0]+T[2]},Se=function(e){var t=ro(e),n=t.F,a=t.P,o=t.U,s=A[o]==(e&&ne?j:"end"),i="center"==A[o],r=A[o]==Z,l=S[o]==q,d=S[o]==$,c=Zt[n],u=ye[a],m=Ee[n],p=_e[a],h=i?2:1,f=p+m/2,g=u+c/2,v=m<=c&&u<=p&&p+m<=u+c;l?Ce[o]=!0:Ce[o]||((r||d)&&(Ce[o]=d&&v,s=m<c?g<f:f<g),De[o]-=s||i?(c/h-m/h)*(e&&ne&&L?-1:1):0)};Se(!0),Se(!1)}Ce.y&&delete De.y,Ce.x&&delete De.x,e=De}}H[bn]=ie(!0,se(!0,e)),H[wn]=ie(!1,se(!1,e)),C=H[bn]!==n,D=H[wn]!==n,(C||D)&&(0<t||V)?V?(t.complete=ae,be.animate(H,t)):(x={duration:t,complete:ae},b.isA(a)||N.isPlainObject(a)?(z[bn]=a[0]||a.x,z[wn]=a[1]||a.y,x.specialEasing=z):x.easing=a,be.animate(H,x)):(C&&be[bn](H[bn]),D&&be[wn](H[wn]),te())},y.scrollStop=function(e,t,n){return be.stop(e,t,n),y},y.getElements=function(e){var t={target:Pe,host:Me,padding:Re,viewport:Fe,content:Ne,scrollbarHorizontal:{scrollbar:xe[0],track:ke[0],handle:Ee[0]},scrollbarVertical:{scrollbar:Se[0],track:Ae[0],handle:Te[0]},scrollbarCorner:De[0]};return h(e)==u?_o(t,e):t},y.getState=function(e){function t(e){if(!N.isPlainObject(e))return e;var t=xo({},e),n=function(e,n){t[f.hOP](e)&&(t[n]=t[e],delete t[e])};return n("w",nn),n("h",an),delete t.c,t}var n={destroyed:!!t(j),sleeping:!!t(ae),autoUpdate:t(!Et),widthAuto:t(Ze),heightAuto:t(qe),padding:t(We),overflowAmount:t(nt),hideOverflow:t(je),hasOverflow:t(ze),contentScrollSize:t(Ue),viewportSize:t(Zt),hostSize:t(Ve),documentMixed:t($)};return h(e)==u?_o(n,e):n},y.ext=function(e){var t,n="added removed on contract".split(" "),a=0;if(h(e)==u){if(Da[f.hOP](e))for(t=xo({},Da[e]);a<n.length;a++)delete t[n[a]]}else for(a in t={},Da)t[a]=xo({},y.ext(a));return t},y.addExt=function(t,n){var a,o,s,i,r=D.extension(t),l=!0;if(r){if(Da[f.hOP](t))return y.ext(t);if((a=r.extensionFactory.call(y,xo({},r.defaultOptions),N,b))&&(s=a.contract,h(s)==d&&(i=s(e),l=h(i)==m?i:l),l))return o=(Da[t]=a).added,h(o)==d&&o(n),y.ext(t)}else console.warn('A extension with the name "'+t+"\" isn't registered.")},y.removeExt=function(e){var t,n=Da[e];return!!n&&(delete Da[e],t=n.removed,h(t)==d&&t(),!0)},D.valid(function(e,a,o){var s,r;return oe=i.defaultOptions,T=i.nativeScrollbarStyling,L=xo({},i.nativeScrollbarSize),x=xo({},i.nativeScrollbarIsOverlaid),k=xo({},i.overlayScrollbarDummySize),E=xo({},i.rtlScrollBehavior),Xa(xo({},oe,a)),O=i.cssCalc,A=i.msie,S=i.autoUpdateRecommended,P=i.supportTransition,M=i.supportTransform,B=i.supportPassiveEvents,U=i.supportResizeObserver,H=i.supportMutationObserver,i.restrictedMeasuring,ce=N(e.ownerDocument),Le=ce[0],de=N(Le.defaultView||Le.parentWindow),Oe=de[0],ue=To(ce,"html"),me=To(ue,"body"),pe=N(e),Pe=pe[0],Z=pe.is("textarea"),q=pe.is("body"),$=Le!==t,W=Z?pe.hasClass(Zn)&&pe.parent().hasClass(Yn):pe.hasClass(Pn)&&pe.children(pn+$n)[f.l],x.x&&x.y&&!ie.nativeScrollbarsOverlaid.initialize?(co("onInitializationWithdrawn"),W&&(Qa(!0),eo(!0),lo(!0)),ae=j=!0):(q&&((s={}).l=R.max(pe[bn](),ue[bn](),de[bn]()),s.t=R.max(pe[wn](),ue[wn](),de[wn]()),r=function(){be.removeAttr(f.ti),Pa(be,yn,r,!0,!0)}),Qa(),eo(),lo(),Ja(),to(!0),to(!1),function(){var e,t=Oe.top!==Oe,a={},o={},s={};function i(e){if(l(e)){var t=d(e),n={};(Vt||Nt)&&(n[nn]=o.w+(t.x-a.x)*s.x),(Ut||Nt)&&(n[an]=o.h+(t.y-a.y)*s.y),he.css(n),b.stpP(e)}else r(e)}function r(t){var a=t!==n;Pa(ce,[Sn,Cn,_n],[za,i,r],!0),Eo(me,ba),De.releaseCapture&&De.releaseCapture(),a&&(e&&Ra(),y.update(rn)),e=!1}function l(e){var t=(e.originalEvent||e).touches!==n;return!ae&&!j&&(1===b.mBtn(e)||t)}function d(e){return A&&t?{x:e.screenX,y:e.screenY}:b.page(e)}Ma(De,yn,(function(t){l(t)&&!Ft&&(Et&&(e=!0,Fa()),a=d(t),o.w=Me[f.oW]-(K?0:Y),o.h=Me[f.oH]-(K?0:X),s=ho(),Pa(ce,[Sn,Cn,_n],[za,i,r]),ko(me,ba),De.setCapture&&De.setCapture(),b.prvD(t),b.stpP(t))}))}(),Ia(),Ba(ge,Na),q&&(be[bn](s.l)[wn](s.t),t.activeElement==e&&Fe.focus&&(be.attr(f.ti,"-1"),Fe.focus(),Pa(be,yn,r,!1,!0))),y.update(rn),z=!0,co("onInitialized"),w(_a,(function(e,t){co(t.n,t.a)})),_a=[],h(o)==u&&(o=[o]),b.isA(o)?w(o,(function(e,t){y.addExt(t)})):N.isPlainObject(o)&&w(o,(function(e,t){y.addExt(e,t)})),setTimeout((function(){P&&!j&&ko(he,Fn)}),333)),y}(a,o,s))&&V(a,y),y}function Pa(e,t,n,a,o){var s=b.isA(t)&&b.isA(n),i=a?"removeEventListener":"addEventListener",r=a?"off":"on",l=!s&&t.split(hn),d=0,c=N.isPlainObject(o),u=B&&(c?o.V:o)||!1,m=c&&(o.$||!1),p=B?{passive:u,capture:m}:m;if(s)for(;d<t[f.l];d++)Pa(e,t[d],n[d],a,o);else for(;d<l[f.l];d++)B?e[0][i](l[d],n,p):e[r](l[d],n)}function Ma(e,t,n,a){Pa(e,t,n,!1,a),La.push(b.bind(Pa,0,e,t,n,!0,a))}function Ba(e,t){if(e){var a=b.rO(),o="animationstart mozAnimationStart webkitAnimationStart MSAnimationStart",s="childNodes",r=3333333,d=function(){e[wn](r)[bn](ne?E.n?-r:E.i?0:r:r),t()};if(t){if(U)((I=e.addClass("observed").append(wo(ea)).contents()[0])[Tn]=new a(d)).observe(I);else if(9<A||!S){e.prepend(wo(ea,wo({c:ta,dir:"ltr"},wo(ta,wo(na))+wo(ta,wo({c:na,style:"width: 200%; height: 200%"})))));var c,u,m,p,h=e[0][s][0][s][0],g=N(h[s][1]),v=N(h[s][0]),w=N(v[0][s][0]),y=h[f.oW],_=h[f.oH],C=i.nativeScrollbarSize,D=function(){v[bn](r)[wn](r),g[bn](r)[wn](r)},x=function(){u=0,c&&(y=m,_=p,d())},k=function(e){return m=h[f.oW],p=h[f.oH],c=m!=y||p!=_,e&&c&&!u?(b.cAF()(u),u=b.rAF()(x)):e||x(),D(),e&&(b.prvD(e),b.stpP(e)),!1},T={},O={};uo(O,sn,[-2*(C.y+1),-2*C.x,-2*C.y,-2*(C.x+1)]),N(h).css(O),v.on(dn,k),g.on(dn,k),e.on(o,(function(){k(!1)})),T[nn]=r,T[an]=r,w.css(T),D()}else{var L=Le.attachEvent,P=A!==n;if(L)e.prepend(wo(ea)),To(e,pn+ea)[0].attachEvent("onresize",d);else{var M=Le.createElement(l);M.setAttribute(f.ti,"-1"),M.setAttribute(f.c,ea),M.onload=function(){var e=this.contentDocument.defaultView;e.addEventListener("resize",d),e.document.documentElement.style.display="none"},M.type="text/html",P&&e.prepend(M),M.data="about:blank",P||e.prepend(M),e.on(o,d)}}if(e[0]===Ie){var B=function(){var e=he.css("direction"),t={},n=0,a=!1;return e!==Xe&&(n="ltr"===e?(t[Jt]=0,t[Xt]=rn,r):(t[Jt]=rn,t[Xt]=0,E.n?-r:E.i?0:r),ge.children().eq(0).css(t),ge[bn](n)[wn](r),Xe=e,a=!0),a};B(),Ma(e,dn,(function(e){return B()&&Ga(),b.prvD(e),b.stpP(e),!1}))}}else if(U){var I,R=(I=e.contents()[0])[Tn];R&&(R.disconnect(),delete I[Tn])}else Ao(e.children(pn+ea).eq(0))}}function Ia(){if(H){var e,t,n,a,o,s,i,r,l,c,u=b.mO(),m=b.now();kt=function(e){var t=!1;return z&&!ae&&(w(e,(function(){return!(t=function(e){var t=e.attributeName,n=e.target,a=e.type,o="closest";if(n===Ne)return null===t;if("attributes"===a&&(t===f.c||t===f.s)&&!Z){if(t===f.c&&N(n).hasClass(Pn))return $a(e.oldValue,n.className);if(typeof n[o]!=d)return!0;if(null!==n[o](pn+ea)||null!==n[o](pn+oa)||null!==n[o](pn+ua))return!1}return!0}(this))})),t&&(r=b.now(),l=qe||Ze,c=function(){j||(m=r,Z&&Ka(),l?Ga():y.update(rn))},clearTimeout(i),11<r-m||!l?c():i=setTimeout(c,11))),t},Ct=new u(xt=function(i){var r,l=!1,d=!1,c=[];return z&&!ae&&(w(i,(function(){e=(r=this).target,t=r.attributeName,n=t===f.c,a=r.oldValue,o=e.className,W&&n&&!d&&-1<a.indexOf(Mn)&&o.indexOf(Mn)<0&&(s=po(!0),Me.className=o.split(hn).concat(a.split(hn).filter((function(e){return e.match(s)}))).join(hn),l=d=!0),l=l||(n?$a(a,o):t!==f.s||a!==e[f.s].cssText),c.push(t)})),Wa(c),l&&y.update(d||rn)),l}),Dt=new u(kt)}}function Ra(){H&&!Et&&(Ct.observe(Me,{attributes:!0,attributeOldValue:!0,attributeFilter:Oa}),Dt.observe(Z?Pe:Ne,{attributes:!0,attributeOldValue:!0,subtree:!Z,childList:!Z,characterData:!Z,attributeFilter:Z?Ta:Oa}),Et=!0)}function Fa(){H&&Et&&(Ct.disconnect(),Dt.disconnect(),Et=!1)}function Na(){if(!ae){var e,t={w:Ie[f.sW],h:Ie[f.sH]};e=Do(t,rt),rt=t,e&&Ga({A:!0})}}function Va(){Bt&&ao(!0)}function Ua(){Bt&&!me.hasClass(ba)&&ao(!1)}function Ha(){Mt&&(ao(!0),clearTimeout(Tt),Tt=setTimeout((function(){Mt&&!j&&ao(!1)}),100))}function za(e){return b.prvD(e),!1}function ja(e){var t=N(e.target);Co((function(e,n){t.is(n)&&Ga({k:!0})}))}function Za(e){e||Za(!0),Pa(he,Cn.split(hn)[0],Ha,!Mt||e,!0),Pa(he,[Dn,xn],[Va,Ua],!Bt||e,!0),z||e||he.one("mouseover",Va)}function qa(){var e={};return q&&ye&&(e.w=go(ye.css(en+nn)),e.h=go(ye.css(en+an)),e.c=Do(e,_t),e.f=!0),!!(_t=e).c}function $a(e,t){var n,a,o=typeof t==u?t.split(hn):[],s=function(e,t){var n,a,o=[],s=[];for(n=0;n<e.length;n++)o[e[n]]=!0;for(n=0;n<t.length;n++)o[t[n]]?delete o[t[n]]:o[t[n]]=!0;for(a in o)s.push(a);return s}(typeof e==u?e.split(hn):[],o),i=v(wa,s);if(-1<i&&s.splice(i,1),0<s[f.l])for(a=po(!0,!0),n=0;n<s.length;n++)if(!s[n].match(a))return!0;return!1}function Wa(e){w(e=e||Ca,(function(e,t){if(-1<b.inA(t,Ca)){var n=pe.attr(t);h(n)==u?be.attr(t,n):be.removeAttr(t)}}))}function Ka(){if(!ae){var e,t,n,a,o=!gt,s=Zt.w,i=Zt.h,r={},l=Ze||o;return r[en+nn]=sn,r[en+an]=sn,r[nn]=rn,pe.css(r),e=Pe[f.oW],t=l?R.max(e,Pe[f.sW]-1):1,r[nn]=Ze?rn:cn,r[en+nn]=cn,r[an]=rn,pe.css(r),n=Pe[f.oH],a=R.max(n,Pe[f.sH]-1),r[nn]=t,r[an]=a,Ce.css(r),r[en+nn]=s,r[en+an]=i,pe.css(r),{q:e,B:n,X:t,Y:a}}}function Ga(e){clearTimeout(le),e=e||{},xa.A|=e.A,xa.k|=e.k,xa.H|=e.H;var t,a=b.now(),o=!!xa.A,s=!!xa.k,l=!!xa.H,d=e.C,c=0<ka&&z&&!j&&!l&&!d&&a-re<ka&&!qe&&!Ze;if(c&&(le=setTimeout(Ga,ka)),!(j||c||ae&&!d||z&&!l&&(t=he.is(":hidden"))||"inline"===he.css("display"))){re=a,xa={},!T||x.x&&x.y?L=xo({},i.nativeScrollbarSize):(L.x=0,L.y=0),qt={x:3*(L.x+(x.x?0:3)),y:3*(L.y+(x.y?0:3))},d=d||{};var u=function(){return Do.apply(this,[].slice.call(arguments).concat([l]))},m={x:be[bn](),y:be[wn]()},p=ie.scrollbars,h=ie.textarea,v=p.visibility,w=u(v,lt),_=p.autoHide,C=u(_,dt),D=p.clickScrolling,A=u(D,ct),P=p.dragScrolling,M=u(P,ut),B=ie.className,I=u(B,ht),F=ie.resize,V=u(F,mt)&&!q,U=ie.paddingAbsolute,H=u(U,Qe),$=ie.clipAlways,W=u($,Je),oe=ie.sizeAutoCapable&&!q,se=u(oe,st),de=ie.nativeScrollbarsOverlaid.showNativeScrollbars,ce=u(de,at),ue=ie.autoUpdate,me=u(ue,ot),xe=ie.overflowBehavior,ke=u(xe,tt,l),Ee=h.dynWidth,Se=u(yt,Ee),Ae=h.dynHeight,Te=u(wt,Ae);if(Lt="n"===_,Pt="s"===_,Mt="m"===_,Bt="l"===_,Ot=p.autoHideDelay,ft=ht,Ft="n"===F,Nt="b"===F,Vt="h"===F,Ut="v"===F,pt=ie.normalizeRTL,de=de&&x.x&&x.y,lt=v,dt=_,ct=D,ut=P,ht=B,mt=F,Qe=U,Je=$,st=oe,at=de,ot=ue,tt=xo({},xe),yt=Ee,wt=Ae,ze=ze||{x:!1,y:!1},I&&(Eo(he,ft+hn+wa),ko(he,B!==n&&null!==B&&0<B.length?B:wa)),me&&(!0===ue||null===ue&&S?(Fa(),r.add(y)):(r.remove(y),Ra())),se)if(oe)if(_e?_e.show():(_e=N(wo(Qn)),ve.before(_e)),G)fe.show();else{fe=N(wo(Jn)),Be=fe[0],_e.before(fe);var Oe={w:-1,h:-1};Ba(fe,(function(){var e={w:Be[f.oW],h:Be[f.oH]};Do(e,Oe)&&(z&&qe&&0<e.h||Ze&&0<e.w||z&&!qe&&0===e.h||!Ze&&0===e.w)&&Ga(),Oe=e})),G=!0,null!==O&&fe.css(an,O+"(100% + 1px)")}else G&&fe.hide(),_e&&_e.hide();l&&(ge.find("*").trigger(dn),G&&fe.find("*").trigger(dn)),t=t===n?he.is(":hidden"):t;var Le,Ie=!!Z&&"off"!==pe.attr("wrap"),Xe=u(Ie,gt),it=he.css("direction"),rt=u(it,Ye),Ct=he.css("box-sizing"),Dt=u(Ct,$e),xt=mo(Kt);try{Le=G?Be[f.bCR]():null}catch(To){return}K="border-box"===Ct;var kt=(ne="rtl"===it)?Jt:Xt,At=ne?Xt:Jt,Tt=!1,It=!(!G||"none"===he.css(on))&&0===R.round(Le.right-Le.left)&&(!!U||0<Me[f.cW]-Y);if(oe&&!It){var Rt=Me[f.oW],zt=_e.css(nn);_e.css(nn,rn);var jt=Me[f.oW];_e.css(nn,zt),(Tt=Rt!==jt)||(_e.css(nn,Rt+1),jt=Me[f.oW],_e.css(nn,zt),Tt=Rt!==jt)}var $t=(It||Tt)&&oe&&!t,ln=u($t,Ze),un=!$t&&Ze,mn=!(!G||!oe||t)&&0===R.round(Le.bottom-Le.top),pn=u(mn,qe),fn=!mn&&qe,gn=mo(Gt,"-"+nn,!($t&&K||!K),!(mn&&K||!K)),vn=mo(Wt),yn={},_n={},Cn=function(){return{w:Me[f.cW],h:Me[f.cH]}},Dn=function(){return{w:Re[f.oW]+R.max(0,Ne[f.cW]-Ne[f.sW]),h:Re[f.oH]+R.max(0,Ne[f.cH]-Ne[f.sH])}},xn=Y=xt.l+xt.r,kn=X=xt.t+xt.b;if(xn*=U?1:0,kn*=U?1:0,xt.c=u(xt,We),Q=gn.l+gn.r,J=gn.t+gn.b,gn.c=u(gn,Ke),ee=vn.l+vn.r,te=vn.t+vn.b,vn.c=u(vn,Ge),gt=Ie,Ye=it,$e=Ct,Ze=$t,qe=mn,We=xt,Ke=gn,Ge=vn,rt&&G&&fe.css(on,At),xt.c||rt||H||ln||pn||Dt||se){var En={},Sn={},An=[xt.t,xt.r,xt.b,xt.l];uo(_n,Wt,[-xt.t,-xt.r,-xt.b,-xt.l]),U?(uo(En,sn,An),uo(Z?Sn:yn,Kt)):(uo(En,sn),uo(Z?Sn:yn,Kt,An)),ve.css(En),pe.css(Sn)}Zt=Dn();var Tn=!!Z&&Ka(),On=Z&&u(Tn,bt),Ln=Z&&Tn?{w:Ee?Tn.X:Tn.q,h:Ae?Tn.Y:Tn.B}:{};if(bt=Tn,mn&&(pn||H||Dt||xt.c||gn.c)?yn[an]=rn:(pn||H)&&(yn[an]=cn),$t&&(ln||H||Dt||xt.c||gn.c||rt)?(yn[nn]=rn,_n[tn+nn]=cn):(ln||H)&&(yn[nn]=cn,yn[on]=sn,_n[tn+nn]=sn),$t?(_n[nn]=rn,yn[nn]=g.v(nn,"max-content intrinsic")||rn,yn[on]=At):_n[nn]=sn,_n[an]=mn?Ln.h||Ne[f.cH]:sn,oe&&_e.css(_n),we.css(yn),yn={},_n={},o||s||On||rt||Dt||H||ln||$t||pn||mn||ce||ke||W||V||w||C||M||A||Se||Te||Xe){var Pn="overflow",Mn=Pn+"-x",Bn=Pn+"-y";if(!T){var In={},Rn=ze.y&&je.ys&&!de?x.y?be.css(kt):-L.y:0,Fn=ze.x&&je.xs&&!de?x.x?be.css(Qt):-L.x:0;uo(In,sn),be.css(In)}var Zn=bo(),qn={w:Ln.w||Zn[f.cW],h:Ln.h||Zn[f.cH]},$n=Zn[f.sW],Wn=Zn[f.sH];T||(In[Qt]=fn?sn:Fn,In[kt]=un?sn:Rn,be.css(In)),Zt=Dn();var Gn=Cn(),Yn={w:Gn.w-ee-Q-(K?0:Y),h:Gn.h-te-J-(K?0:X)},ea={w:R.max(($t?qn.w:$n)+xn,Yn.w),h:R.max((mn?qn.h:Wn)+kn,Yn.h)};if(ea.c=u(ea,et),et=ea,oe){(ea.c||mn||$t)&&(_n[nn]=ea.w,_n[an]=ea.h,Z||(qn={w:Zn[f.cW],h:Zn[f.cH]}));var ta={},na=function(e){var t=ro(e),n=t.F,a=t.K,o=e?$t:mn,s=e?Q:J,i=e?Y:X,r=e?ee:te,l=Zt[n]-s-r-(K?0:i);o&&(o||!gn.c)||(_n[a]=Yn[n]-1),!(o&&qn[n]<l)||e&&Z&&Ie||(Z&&(ta[a]=go(Ce.css(a))-1),--_n[a]),0<qn[n]&&(_n[a]=R.max(1,_n[a]))};na(!0),na(!1),Z&&Ce.css(ta),_e.css(_n)}$t&&(yn[nn]=cn),!$t||K||Et||(yn[on]="none"),we.css(yn),yn={};var aa={w:Zn[f.sW],h:Zn[f.sH]};aa.c=s=u(aa,Ue),Ue=aa,Zt=Dn(),o=u(Gn=Cn(),Ve),Ve=Gn;var oa=Z&&(0===Zt.w||0===Zt.h),sa=nt,ia={},ra={},la={},da={},ca={},ua={},ga={},va=Re[f.bCR](),ba=function(e){var t=ro(e),n=ro(!e).U,a=t.U,o=t.F,s=t.K,i=dn+t.G+"Max",r=va[s]?R.abs(va[s]-Zt[o]):0,l=sa&&0<sa[a]&&0===Fe[i];ia[a]="v-s"===xe[a],ra[a]="v-h"===xe[a],la[a]="s"===xe[a],da[a]=R.max(0,R.round(100*(aa[o]-Zt[o]))/100),da[a]*=oa||l&&0<r&&r<1?0:1,ca[a]=0<da[a],ua[a]=ia[a]||ra[a]?ca[n]&&!ia[n]&&!ra[n]:ca[a],ua[a+"s"]=!!ua[a]&&(la[a]||ia[a]),ga[a]=ca[a]&&ua[a+"s"]};if(ba(!0),ba(!1),da.c=u(da,nt),nt=da,ca.c=u(ca,ze),ze=ca,ua.c=u(ua,je),je=ua,x.x||x.y){var ya,_a={},Ca={},Da=l;(ca.x||ca.y)&&(Ca.w=x.y&&ca.y?aa.w+k.y:sn,Ca.h=x.x&&ca.x?aa.h+k.x:sn,Da=u(Ca,He),He=Ca),(ca.c||ua.c||aa.c||rt||ln||pn||$t||mn||ce)&&(yn[Wt+At]=yn[Gt+At]=sn,ya=function(e){var t=ro(e),n=ro(!e),a=t.U,o=e?Qt:kt,s=e?mn:$t;x[a]&&ca[a]&&ua[a+"s"]?(yn[Wt+o]=!s||de?sn:k[a],yn[Gt+o]=e&&s||de?sn:k[a]+"px solid transparent"):(Ca[n.F]=yn[Wt+o]=yn[Gt+o]=sn,Da=!0)},T?So(be,Kn,!de):(ya(!0),ya(!1))),de&&(Ca.w=Ca.h=sn,Da=!0),Da&&!T&&(_a[nn]=ua.y?Ca.w:sn,_a[an]=ua.x?Ca.h:sn,ye||(ye=N(wo(Xn)),be.prepend(ye)),ye.css(_a)),we.css(yn)}var Ea,Sa={};if(En={},(o||ca.c||ua.c||aa.c||ke||Dt||ce||rt||W||pn)&&(Sa[At]=sn,(Ea=function(e){var t=ro(e),n=ro(!e),a=t.U,o=t.J,s=e?Qt:kt,i=function(){Sa[s]=sn,Ht[n.F]=0};ca[a]&&ua[a+"s"]?(Sa[Pn+o]=dn,de||T?i():(Sa[s]=-(x[a]?k[a]:L[a]),Ht[n.F]=x[a]?k[n.U]:0)):(Sa[Pn+o]=sn,i())})(!0),Ea(!1),!T&&(Zt.h<qt.x||Zt.w<qt.y)&&(ca.x&&ua.x&&!x.x||ca.y&&ua.y&&!x.y)?(Sa[Kt+Yt]=qt.x,Sa[Wt+Yt]=-qt.x,Sa[Kt+At]=qt.y,Sa[Wt+At]=-qt.y):Sa[Kt+Yt]=Sa[Wt+Yt]=Sa[Kt+At]=Sa[Wt+At]=sn,Sa[Kt+kt]=Sa[Wt+kt]=sn,ca.x&&ua.x||ca.y&&ua.y||oa?Z&&oa&&(En[Mn]=En[Bn]="hidden"):(!$||ra.x||ia.x||ra.y||ia.y)&&(Z&&(En[Mn]=En[Bn]=sn),Sa[Mn]=Sa[Bn]="visible"),ve.css(En),be.css(Sa),Sa={},(ca.c||Dt||ln||pn)&&(!x.x||!x.y))){var Aa=Ne[f.s];Aa.webkitTransform="scale(1)",Aa.display="run-in",Ne[f.oH],Aa.display=sn,Aa.webkitTransform=sn}if(yn={},rt||ln||pn)if(ne&&$t){var Ta=we.css(on),Oa=R.round(we.css(on,sn).css(Jt,sn).position().left);we.css(on,Ta),Oa!==R.round(we.position().left)&&(yn[Jt]=Oa)}else yn[Jt]=sn;if(we.css(yn),Z&&s){var La=function(){var e=Pe.selectionStart;if(e!==n){var t,a,o=pe.val(),s=o[f.l],i=o.split("\n"),r=i[f.l],l=o.substr(0,e).split("\n"),d=0,c=0,u=l[f.l],m=l[l[f.l]-1][f.l];for(a=0;a<i[f.l];a++)t=i[a][f.l],c<t&&(d=a+1,c=t);return{Q:u,Z:m,nn:r,tn:c,rn:d,en:e,in:s}}}();if(La){var Pa=vt===n||La.nn!==vt.nn,Ma=La.Q,Ia=La.Z,Na=La.rn,Va=La.nn,Ua=La.tn,Ha=La.en,za=La["in"]<=Ha&&St,ja={x:Ie||Ia!==Ua||Ma!==Na?-1:nt.x,y:(Ie?za||Pa&&sa&&m.y===sa.y:(za||Pa)&&Ma===Va)?nt.y:-1};m.x=-1<ja.x?ne&&pt&&E.i?0:ja.x:m.x,m.y=-1<ja.y?ja.y:m.y}vt=La}ne&&E.i&&x.y&&ca.x&&pt&&(m.x+=Ht.w||0),$t&&he[bn](0),mn&&he[wn](0),be[bn](m.x)[wn](m.y);var $a="v"===v,Wa="h"===v,Xa="a"===v,Qa=function(e,t){t=t===n?e:t,no(!0,e,ga.x),no(!1,t,ga.y)};So(he,Hn,ua.x||ua.y),So(he,zn,ua.x),So(he,jn,ua.y),rt&&!q&&So(he,Nn,ne),q&&ko(he,Vn),V&&(So(he,Vn,Ft),So(De,ma,!Ft),So(De,pa,Nt),So(De,ha,Vt),So(De,fa,Ut)),(w||ke||ua.c||ca.c||ce)&&(de?ce&&(Eo(he,Un),de&&Qa(!1)):Xa?Qa(ga.x,ga.y):$a?Qa(!0):Wa&&Qa(!1)),(C||ce)&&(Za(!Bt&&!Mt),ao(Lt,!Lt)),(o||da.c||pn||ln||V||Dt||H||ce||rt)&&(oo(!0),so(!0),oo(!1),so(!1)),A&&io(!0,D),M&&io(!1,P),co("onDirectionChanged",{isRTL:ne,dir:it},rt),co("onHostSizeChanged",{width:Ve.w,height:Ve.h},o),co("onContentSizeChanged",{width:Ue.w,height:Ue.h},s),co("onOverflowChanged",{x:ca.x,y:ca.y,xScrollable:ua.xs,yScrollable:ua.ys,clipped:ua.x||ua.y},ca.c||ua.c),co("onOverflowAmountChanged",{x:da.x,y:da.y},da.c)}q&&_t&&(ze.c||_t.c)&&(_t.f||qa(),x.y&&ze.x&&we.css(en+nn,_t.w+k.y),x.x&&ze.y&&we.css(en+an,_t.h+k.x),_t.c=!1),z&&d.updateOnLoad&&Ya(),co("onUpdated",{forced:l})}}function Ya(){Z||Co((function(e,t){we.find(t).each((function(e,t){b.inA(t,Sa)<0&&(Sa.push(t),N(t).off(Ea,ja).on(Ea,ja))}))}))}function Xa(e){var t=I._(e,I.g,!0,se);return se=xo({},se,t.S),ie=xo({},ie,t.z),t.z}function Qa(e){var t="parent",a=Zn+hn+aa,o=Z?hn+aa:sn,s=ie.textarea.inheritedAttrs,i={},r=function(){var t=e?pe:he;w(i,(function(e,n){h(n)==u&&(e==f.c?t.addClass(n):t.attr(e,n))}))},l=[Pn,Mn,Bn,Vn,Nn,In,Rn,Fn,Un,Hn,zn,jn,wa,Zn,aa,ht].join(hn),d={};he=he||(Z?W?pe[t]()[t]()[t]()[t]():N(wo(Bn)):pe),we=we||yo(Yn+o),be=be||yo(Wn+o),ve=ve||yo($n+o),ge=ge||yo("os-resize-observer-host"),Ce=Ce||(Z?yo(qn):n),W&&ko(he,Mn),e&&Eo(he,l),s=h(s)==u?s.split(hn):s,b.isA(s)&&Z&&w(s,(function(t,n){h(n)==u&&(i[n]=e?he.attr(n):pe.attr(n))})),e?(W&&z?(ge.children().remove(),w([ve,be,we,Ce],(function(e,t){t&&Eo(t.removeAttr(f.s),ya)})),ko(he,Z?Bn:Pn)):(Ao(ge),we.contents().unwrap().unwrap().unwrap(),Z&&(pe.unwrap(),Ao(he),Ao(Ce),r())),Z&&pe.removeAttr(f.s),q&&Eo(ue,Ln)):(Z&&(ie.sizeAutoCapable||(d[nn]=pe.css(nn),d[an]=pe.css(an)),W||pe.addClass(aa).wrap(he),he=pe[t]().css(d)),W||(ko(pe,Z?a:Pn),he.wrapInner(we).wrapInner(be).wrapInner(ve).prepend(ge),we=To(he,pn+Yn),be=To(he,pn+Wn),ve=To(he,pn+$n),Z&&(we.prepend(Ce),r())),T&&ko(be,Kn),x.x&&x.y&&ko(be,Gn),q&&ko(ue,Ln),Ie=ge[0],Me=he[0],Re=ve[0],Fe=be[0],Ne=we[0],Wa())}function Ja(){var e,t,a=[112,113,114,115,116,117,118,119,120,121,123,33,34,37,38,39,40,16,17,18,19,20,144],o=[],s="focus";function i(t){Ka(),y.update(rn),t&&S&&clearInterval(e)}Z?(9<A||!S?Ma(pe,"input",i):Ma(pe,[kn,En],[function(t){var n=t.keyCode;v(n,a)<0&&(o[f.l]||(i(),e=setInterval(i,1e3/60)),v(n,o)<0&&o.push(n))},function(e){var t=e.keyCode,n=v(t,o);v(t,a)<0&&(-1<n&&o.splice(n,1),o[f.l]||i(!0))}]),Ma(pe,[dn,"drop",s,s+"out"],[function(e){return pe[bn](E.i&&pt?9999999:0),pe[wn](0),b.prvD(e),b.stpP(e),!1},function(e){setTimeout((function(){j||i()}),50)},function(){St=!0,ko(he,s)},function(){St=!1,o=[],Eo(he,s),i(!0)}])):Ma(we,An,(function(e){!0!==ot&&function(e){if(!z)return 1;var t="flex-grow",n="flex-shrink",a="flex-basis",o=[nn,en+nn,tn+nn,Wt+Jt,Wt+Xt,Jt,Xt,"font-weight","word-spacing",t,n,a],s=[Kt+Jt,Kt+Xt,Gt+Jt+nn,Gt+Xt+nn],i=[an,en+an,tn+an,Wt+Yt,Wt+Qt,Yt,Qt,"line-height",t,n,a],r=[Kt+Yt,Kt+Qt,Gt+Yt+nn,Gt+Qt+nn],l="s"===tt.x||"v-s"===tt.x,d=!1,c=function(e,t){for(var n=0;n<e[f.l];n++)if(e[n]===t)return!0;return!1};return("s"===tt.y||"v-s"===tt.y)&&((d=c(i,e))||K||(d=c(r,e))),l&&!d&&((d=c(o,e))||K||(d=c(s,e))),d}((e=e.originalEvent||e).propertyName)&&y.update(rn)})),Ma(be,dn,(function(e){ae||(t!==n?clearTimeout(t):((Pt||Mt)&&ao(!0),vo()||ko(he,Un),co("onScrollStart",e)),Rt||(so(!0),so(!1)),co("onScroll",e),t=setTimeout((function(){j||(clearTimeout(t),t=n,(Pt||Mt)&&ao(!1),vo()||Eo(he,Un),co("onScrollStop",e))}),175))}),!0)}function eo(e){var t,n,a=function(t){var n=yo(oa+hn+(t?ga:va),!0),a=yo(sa,n),o=yo(ra,n);return W||e||(n.append(a),a.append(o)),{an:n,un:a,cn:o}};function o(e){var t=ro(e),n=t.an,o=t.un,s=t.cn;W&&z?w([n,o,s],(function(e,t){Eo(t.removeAttr(f.s),ya)})):Ao(n||a(e).an)}e?(o(!0),o()):(t=a(!0),n=a(),xe=t.an,ke=t.un,Ee=t.cn,Se=n.an,Ae=n.un,Te=n.cn,W||(ve.after(Se),ve.after(xe)))}function to(e){var t,a,o,s,i=ro(e),r=i.sn,l=Oe.top!==Oe,d=i.U,c=i.J,u=dn+i.G,m="active",p="snapHandle",h="click",g=1,w=[16,17];function _(e){return A&&l?e["screen"+c]:b.page(e)[d]}function C(e){return ie.scrollbars[e]}function D(){g=.5}function x(){g=1}function k(e){b.stpP(e)}function S(e){-1<v(e.keyCode,w)&&D()}function T(e){-1<v(e.keyCode,w)&&x()}function O(e){var t=(e.originalEvent||e).touches!==n;return!(ae||j||vo()||!ut||t&&!C("touchSupport"))&&(1===b.mBtn(e)||t)}function L(t){if(O(t)){var n=r.I,i=r.D,l=r.N*((_(t)-o)*s/(n-i));l=isFinite(l)?l:0,ne&&e&&!E.i&&(l*=-1),be[u](R.round(a+l)),Rt&&so(e,a+l),B||b.prvD(t)}else M(t)}function M(r){if(r=r||r.originalEvent,Pa(ce,[Cn,_n,kn,En,Sn],[L,M,S,T,za],!0),b.rAF()((function(){Pa(ce,h,k,!0,{$:!0})})),Rt&&so(e,!0),Rt=!1,Eo(me,ba),Eo(i.cn,m),Eo(i.un,m),Eo(i.an,m),s=1,x(),t!==(o=a=n)&&(y.scrollStop(),clearTimeout(t),t=n),r){var l=Me[f.bCR]();r.clientX>=l.left&&r.clientX<=l.right&&r.clientY>=l.top&&r.clientY<=l.bottom||Ua(),(Pt||Mt)&&ao(!1)}}function I(t){a=be[u](),a=isNaN(a)?0:a,(ne&&e&&!E.n||!ne)&&(a=a<0?0:a),s=ho()[d],o=_(t),Rt=!C(p),ko(me,ba),ko(i.cn,m),ko(i.an,m),Pa(ce,[Cn,_n,Sn],[L,M,za]),b.rAF()((function(){Pa(ce,h,k,!1,{$:!0})})),!A&&$||b.prvD(t),b.stpP(t)}Ma(i.cn,yn,(function(e){O(e)&&I(e)})),Ma(i.un,[yn,Dn,xn],[function(a){if(O(a)){var l,c=i.sn.D/Math.round(R.min(1,Zt[i.F]/Ue[i.F])*i.sn.I),h=R.round(Zt[i.F]*c),f=270*c,v=400*c,w=i.un.offset()[i.P],_=a.ctrlKey,x=a.shiftKey,k=x&&_,A=!0,L=function(t){Rt&&so(e,t)},P=function(){L(),I(a)},B=function(){if(!j){var a=(o-w)*s,i=r.W,c=r.I,m=r.D,p=r.N,b=r.R,_=f*g,C=A?R.max(v,_):_,D=p*((a-m/2)/(c-m)),S=ne&&e&&(!E.i&&!E.n||pt),T=S?i<a:a<i,O={},M={easing:"linear",step:function(t){Rt&&(be[u](t),so(e,t))}};D=isFinite(D)?D:0,D=ne&&e&&!E.i?p-D:D,x?(be[u](D),k?(D=be[u](),be[u](b),D=S&&E.i?p-D:D,D=S&&E.n?-D:D,O[d]=D,y.scroll(O,xo(M,{duration:130,complete:P}))):P()):(l=A?T:l,(S?l?a<=i+m:i<=a:l?i<=a:a<=i+m)?(clearTimeout(t),y.scrollStop(),t=n,L(!0)):(t=setTimeout(B,C),O[d]=(l?"-=":"+=")+h,y.scroll(O,xo(M,{duration:_}))),A=!1)}};_&&D(),s=ho()[d],o=b.page(a)[d],Rt=!C(p),ko(me,ba),ko(i.un,m),ko(i.an,m),Pa(ce,[_n,kn,En,Sn],[M,S,T,za]),B(),b.prvD(a),b.stpP(a)}},function(e){It=!0,(Pt||Mt)&&ao(!0)},function(e){It=!1,(Pt||Mt)&&ao(!1)}]),Ma(i.an,yn,(function(e){b.stpP(e)})),P&&Ma(i.an,An,(function(t){t.target===i.an[0]&&(oo(e),so(e))}))}function no(e,t,n){var a=e?xe:Se;So(he,e?In:Rn,!t),So(a,da,!n)}function ao(e,t){if(clearTimeout(At),e)Eo(xe,ca),Eo(Se,ca);else{var n,a=function(){It||j||(!(n=Ee.hasClass("active")||Te.hasClass("active"))&&(Pt||Mt||Bt)&&ko(xe,ca),!n&&(Pt||Mt||Bt)&&ko(Se,ca))};0<Ot&&!0!==t?At=setTimeout(a,Ot):a()}}function oo(e){var t={},n=ro(e),a=n.sn,o=R.min(1,Zt[n.F]/Ue[n.F]);t[n.K]=R.floor(100*o*1e6)/1e6+"%",vo()||n.cn.css(t),a.D=n.cn[0]["offset"+n.ln],a.M=o}function so(e,t){var a,o,s=h(t)==m,i=ne&&e,r=ro(e),l=r.sn,d="translate(",c=g.u("transform"),u=g.u("transition"),p=e?be[bn]():be[wn](),v=t===n||s?p:t,b=l.D,w=r.un[0]["offset"+r.ln],y=w-b,_={},C=(Fe[dn+r.ln]-Fe["client"+r.ln])*(E.n&&i?-1:1),D=function(e){return isNaN(e/C)?0:R.max(0,R.min(1,e/C))},x=function(e){var t=y*e;return t=isNaN(t)?0:t,t=i&&!E.i?w-b-t:t,R.max(0,t)},k=D(p),S=x(D(v)),A=x(k);l.N=C,l.R=p,l.L=k,M?(a=i?-(w-b-S):S,o=e?d+a+"px, 0)":d+"0, "+a+"px)",_[c]=o,P&&(_[u]=s&&1<R.abs(S-l.W)?function(e){var t=g.u("transition"),n=e.css(t);if(n)return n;for(var a,o,s,i="\\s*(([^,(]+(\\(.+?\\))?)+)[\\s,]*",r=new RegExp(i),l=new RegExp("^("+i+")+$"),d="property duration timing-function delay".split(" "),c=[],u=0,m=function(e){if(a=[],!e.match(l))return e;for(;e.match(r);)a.push(RegExp.$1),e=e.replace(r,sn);return a};u<d[f.l];u++)for(o=m(e.css(t+"-"+d[u])),s=0;s<o[f.l];s++)c[s]=(c[s]?c[s]+hn:sn)+o[s];return c.join(", ")}(r.cn)+", "+(c+hn+250)+"ms":sn)):_[r.P]=S,vo()||(r.cn.css(_),M&&P&&s&&r.cn.one(An,(function(){j||r.cn.css(u,sn)}))),l.W=S,l.j=A,l.I=w}function io(e,t){var n=t?"removeClass":"addClass",a=e?Ae:Te,o=e?ia:la;(e?ke:Ee)[n](o),a[n](o)}function ro(e){return{K:e?nn:an,ln:e?"Width":"Height",P:e?Jt:Yt,G:e?"Left":"Top",U:e?un:mn,J:e?"X":"Y",F:e?"w":"h",vn:e?"l":"t",un:e?ke:Ae,cn:e?Ee:Te,an:e?xe:Se,sn:e?zt:jt}}function lo(e){De=De||yo(ua,!0),e?W&&z?Eo(De.removeAttr(f.s),ya):Ao(De):W||he.append(De)}function co(e,t,n){if(!1!==n)if(z){var a,o=ie.callbacks[e],s=e;"on"===s.substr(0,2)&&(s=s.substr(2,1).toLowerCase()+s.substr(3)),h(o)==d&&o.call(y,t),w(Da,(function(){h((a=this).on)==d&&a.on(s,t)}))}else j||_a.push({n:e,a:t})}function uo(e,t,n){n=n||[sn,sn,sn,sn],e[(t=t||sn)+Yt]=n[0],e[t+Xt]=n[1],e[t+Qt]=n[2],e[t+Jt]=n[3]}function mo(e,t,n,a){return t=t||sn,e=e||sn,{t:a?0:go(he.css(e+Yt+t)),r:n?0:go(he.css(e+Xt+t)),b:a?0:go(he.css(e+Qt+t)),l:n?0:go(he.css(e+Jt+t))}}function po(e,t){var n,a,o,s=function(e,t){if(o="",t&&typeof e==u)for(a=e.split(hn),n=0;n<a[f.l];n++)o+="|"+a[n]+"$";return o};return new RegExp("(^"+Pn+"([-_].+|)$)"+s(ht,e)+s(ft,t),"g")}function ho(){var e=Re[f.bCR]();return{x:M&&1/(R.round(e.width)/Re[f.oW])||1,y:M&&1/(R.round(e.height)/Re[f.oH])||1}}function fo(t){var n="ownerDocument",a="HTMLElement",o=t&&t[n]&&t[n].parentWindow||e;return typeof o[a]==l?t instanceof o[a]:t&&typeof t==l&&null!==t&&1===t.nodeType&&typeof t.nodeName==u}function go(e,t){var n=t?parseFloat(e):parseInt(e,10);return isNaN(n)?0:n}function vo(){return at&&x.x&&x.y}function bo(){return Z?Ce[0]:Ne}function wo(e,t){return"<div "+(e?h(e)==u?'class="'+e+'"':function(){var t,n=sn;if(N.isPlainObject(e))for(t in e)n+=("c"===t?"class":t)+'="'+e[t]+'" ';return n}():sn)+">"+(t||sn)+"</div>"}function yo(e,t){var n=h(t)==m,a=!n&&t||he;return W&&!a[f.l]?null:W?a[n?"children":"find"](pn+e.replace(/\s/g,pn)).eq(0):N(wo(e))}function _o(e,t){for(var n,a=t.split(pn),o=0;o<a.length;o++){if(!e[f.hOP](a[o]))return;n=e[a[o]],o<a.length&&h(n)==l&&(e=n)}return n}function Co(e){var t=ie.updateOnLoad;t=h(t)==u?t.split(hn):t,b.isA(t)&&!j&&w(t,e)}function Do(e,t,n){if(n)return n;if(h(e)!=l||h(t)!=l)return e!==t;for(var a in e)if("c"!==a){if(!e[f.hOP](a)||!t[f.hOP](a))return!0;if(Do(e[a],t[a]))return!0}return!1}function xo(){return N.extend.apply(this,[!0].concat([].slice.call(arguments)))}function ko(e,t){return _.addClass.call(e,t)}function Eo(e,t){return _.removeClass.call(e,t)}function So(e,t,n){return(n?ko:Eo)(e,t)}function Ao(e){return _.remove.call(e)}function To(e,t){return _.find.call(e,t).eq(0)}}return F&&F.fn&&(F.fn.overlayScrollbars=function(e,t){return F.isPlainObject(e)?(F.each(this,(function(){U(this,e,t)})),this):U(this,e)}),U}))},77665:function(e,t,n){n(57658),function(t,n){e.exports=n()}(0,(function(){"use strict";function e(e,n,a){return n=r(n),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,t()?Reflect.construct(n,a||[],r(e).constructor):n.apply(e,a))}function t(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(t=function(){return!!e})()}function n(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}function i(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}(e,t);if(a){var o=Object.getOwnPropertyDescriptor(a,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},d.apply(this,arguments)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,o,s,i,r=[],l=!0,d=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=s.call(n)).done)&&(r.push(a.value),r.length!==t);l=!0);}catch(e){d=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(d)throw o}}return r}}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function h(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,g(e,t,"get"))}function f(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,g(e,t,"set"),n),n}function g(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function v(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}var b={},w=function(e){return new Promise((function(t){if(!e)return t();var n=window.scrollX,a=window.scrollY;b.restoreFocusTimeout=setTimeout((function(){b.previousActiveElement instanceof HTMLElement?(b.previousActiveElement.focus(),b.previousActiveElement=null):document.body&&document.body.focus(),t()}),100),window.scrollTo(n,a)}))},y="swal2-",_=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((function(e,t){return e[t]=y+t,e}),{}),C=["success","warning","info","question","error"].reduce((function(e,t){return e[t]=y+t,e}),{}),D="SweetAlert2:",x=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},k=function(e){console.warn("".concat(D," ").concat("object"===a(e)?e.join(" "):e))},E=function(e){console.error("".concat(D," ").concat(e))},S=[],A=function(e,t){var n;n='"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(t,'" instead.'),S.includes(n)||(S.push(n),k(n))},T=function(e){return"function"==typeof e?e():e},O=function(e){return e&&"function"==typeof e.toPromise},L=function(e){return O(e)?e.toPromise():Promise.resolve(e)},P=function(e){return e&&Promise.resolve(e)===e},M=function(){return document.body.querySelector(".".concat(_.container))},B=function(e){var t=M();return t?t.querySelector(e):null},I=function(e){return B(".".concat(e))},R=function(){return I(_.popup)},F=function(){return I(_.icon)},N=function(){return I(_.title)},V=function(){return I(_["html-container"])},U=function(){return I(_.image)},H=function(){return I(_["progress-steps"])},z=function(){return I(_["validation-message"])},j=function(){return B(".".concat(_.actions," .").concat(_.confirm))},Z=function(){return B(".".concat(_.actions," .").concat(_.cancel))},q=function(){return B(".".concat(_.actions," .").concat(_.deny))},$=function(){return B(".".concat(_.loader))},W=function(){return I(_.actions)},K=function(){return I(_.footer)},G=function(){return I(_["timer-progress-bar"])},Y=function(){return I(_.close)},X=function(){var e=R();if(!e)return[];var t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(t).sort((function(e,t){var n=parseInt(e.getAttribute("tabindex")||"0"),a=parseInt(t.getAttribute("tabindex")||"0");return n>a?1:n<a?-1:0})),a=e.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),o=Array.from(a).filter((function(e){return"-1"!==e.getAttribute("tabindex")}));return u(new Set(n.concat(o))).filter((function(e){return fe(e)}))},Q=function(){return te(document.body,_.shown)&&!te(document.body,_["toast-shown"])&&!te(document.body,_["no-backdrop"])},J=function(){var e=R();return!!e&&te(e,_.toast)},ee=function(e,t){if(e.textContent="",t){var n=(new DOMParser).parseFromString(t,"text/html"),a=n.querySelector("head");a&&Array.from(a.childNodes).forEach((function(t){e.appendChild(t)}));var o=n.querySelector("body");o&&Array.from(o.childNodes).forEach((function(t){t instanceof HTMLVideoElement||t instanceof HTMLAudioElement?e.appendChild(t.cloneNode(!0)):e.appendChild(t)}))}},te=function(e,t){if(!t)return!1;for(var n=t.split(/\s+/),a=0;a<n.length;a++)if(!e.classList.contains(n[a]))return!1;return!0},ne=function(e,t,n){if(function(e,t){Array.from(e.classList).forEach((function(n){Object.values(_).includes(n)||Object.values(C).includes(n)||Object.values(t.showClass||{}).includes(n)||e.classList.remove(n)}))}(e,t),t.customClass&&t.customClass[n]){if("string"!=typeof t.customClass[n]&&!t.customClass[n].forEach)return void k("Invalid type of customClass.".concat(n,'! Expected string or iterable object, got "').concat(a(t.customClass[n]),'"'));ie(e,t.customClass[n])}},ae=function(e,t){if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(".".concat(_.popup," > .").concat(_[t]));case"checkbox":return e.querySelector(".".concat(_.popup," > .").concat(_.checkbox," input"));case"radio":return e.querySelector(".".concat(_.popup," > .").concat(_.radio," input:checked"))||e.querySelector(".".concat(_.popup," > .").concat(_.radio," input:first-child"));case"range":return e.querySelector(".".concat(_.popup," > .").concat(_.range," input"));default:return e.querySelector(".".concat(_.popup," > .").concat(_.input))}},oe=function(e){if(e.focus(),"file"!==e.type){var t=e.value;e.value="",e.value=t}},se=function(e,t,n){e&&t&&("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach((function(t){Array.isArray(e)?e.forEach((function(e){n?e.classList.add(t):e.classList.remove(t)})):n?e.classList.add(t):e.classList.remove(t)})))},ie=function(e,t){se(e,t,!0)},re=function(e,t){se(e,t,!1)},le=function(e,t){for(var n=Array.from(e.children),a=0;a<n.length;a++){var o=n[a];if(o instanceof HTMLElement&&te(o,t))return o}},de=function(e,t,n){n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?e.style.setProperty(t,"number"==typeof n?"".concat(n,"px"):n):e.style.removeProperty(t)},ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e&&(e.style.display=t)},ue=function(e){e&&(e.style.display="none")},me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";e&&new MutationObserver((function(){he(e,e.innerHTML,t)})).observe(e,{childList:!0,subtree:!0})},pe=function(e,t,n,a){var o=e.querySelector(t);o&&o.style.setProperty(n,a)},he=function(e,t){t?ce(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):ue(e)},fe=function(e){return!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))},ge=function(e){return!!(e.scrollHeight>e.clientHeight)},ve=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),a=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||a>0},be=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=G();n&&fe(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout((function(){n.style.transition="width ".concat(e/1e3,"s linear"),n.style.width="0%"}),10))},we=function(){return"undefined"==typeof window||"undefined"==typeof document},ye='\n <div aria-labelledby="'.concat(_.title,'" aria-describedby="').concat(_["html-container"],'" class="').concat(_.popup,'" tabindex="-1">\n   <button type="button" class="').concat(_.close,'"></button>\n   <ul class="').concat(_["progress-steps"],'"></ul>\n   <div class="').concat(_.icon,'"></div>\n   <img class="').concat(_.image,'" />\n   <h2 class="').concat(_.title,'" id="').concat(_.title,'"></h2>\n   <div class="').concat(_["html-container"],'" id="').concat(_["html-container"],'"></div>\n   <input class="').concat(_.input,'" id="').concat(_.input,'" />\n   <input type="file" class="').concat(_.file,'" />\n   <div class="').concat(_.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(_.select,'" id="').concat(_.select,'"></select>\n   <div class="').concat(_.radio,'"></div>\n   <label class="').concat(_.checkbox,'">\n     <input type="checkbox" id="').concat(_.checkbox,'" />\n     <span class="').concat(_.label,'"></span>\n   </label>\n   <textarea class="').concat(_.textarea,'" id="').concat(_.textarea,'"></textarea>\n   <div class="').concat(_["validation-message"],'" id="').concat(_["validation-message"],'"></div>\n   <div class="').concat(_.actions,'">\n     <div class="').concat(_.loader,'"></div>\n     <button type="button" class="').concat(_.confirm,'"></button>\n     <button type="button" class="').concat(_.deny,'"></button>\n     <button type="button" class="').concat(_.cancel,'"></button>\n   </div>\n   <div class="').concat(_.footer,'"></div>\n   <div class="').concat(_["timer-progress-bar-container"],'">\n     <div class="').concat(_["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),_e=function(){b.currentInstance.resetValidationMessage()},Ce=function(e){var t,n=!!(t=M())&&(t.remove(),re([document.documentElement,document.body],[_["no-backdrop"],_["toast-shown"],_["has-column"]]),!0);if(we())E("SweetAlert2 requires document to initialize");else{var a=document.createElement("div");a.className=_.container,n&&ie(a,_["no-transition"]),ee(a,ye);var o,s,i,r,l,d,c,u,m,p="string"==typeof(o=e.target)?document.querySelector(o):o;p.appendChild(a),function(e){var t=R();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")}(e),function(e){"rtl"===window.getComputedStyle(e).direction&&ie(M(),_.rtl)}(p),s=R(),i=le(s,_.input),r=le(s,_.file),l=s.querySelector(".".concat(_.range," input")),d=s.querySelector(".".concat(_.range," output")),c=le(s,_.select),u=s.querySelector(".".concat(_.checkbox," input")),m=le(s,_.textarea),i.oninput=_e,r.onchange=_e,c.onchange=_e,u.onchange=_e,m.oninput=_e,l.oninput=function(){_e(),d.value=l.value},l.onchange=function(){_e(),d.value=l.value}}},De=function(e,t){e instanceof HTMLElement?t.appendChild(e):"object"===a(e)?xe(e,t):e&&ee(t,e)},xe=function(e,t){e.jquery?ke(t,e):ee(t,e.toString())},ke=function(e,t){if(e.textContent="",0 in t)for(var n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},Ee=function(){if(we())return!1;var e=document.createElement("div");return void 0!==e.style.webkitAnimation?"webkitAnimationEnd":void 0!==e.style.animation&&"animationend"}(),Se=function(e,t){var n=W(),a=$();n&&a&&(t.showConfirmButton||t.showDenyButton||t.showCancelButton?ce(n):ue(n),ne(n,t,"actions"),function(e,t,n){var a=j(),o=q(),s=Z();a&&o&&s&&(Ae(a,"confirm",n),Ae(o,"deny",n),Ae(s,"cancel",n),function(e,t,n,a){a.buttonsStyling?(ie([e,t,n],_.styled),a.confirmButtonColor&&(e.style.backgroundColor=a.confirmButtonColor,ie(e,_["default-outline"])),a.denyButtonColor&&(t.style.backgroundColor=a.denyButtonColor,ie(t,_["default-outline"])),a.cancelButtonColor&&(n.style.backgroundColor=a.cancelButtonColor,ie(n,_["default-outline"]))):re([e,t,n],_.styled)}(a,o,s,n),n.reverseButtons&&(n.toast?(e.insertBefore(s,a),e.insertBefore(o,a)):(e.insertBefore(s,t),e.insertBefore(o,t),e.insertBefore(a,t))))}(n,a,t),ee(a,t.loaderHtml||""),ne(a,t,"loader"))};function Ae(e,t,n){var a=x(t);he(e,n["show".concat(a,"Button")],"inline-block"),ee(e,n["".concat(t,"ButtonText")]||""),e.setAttribute("aria-label",n["".concat(t,"ButtonAriaLabel")]||""),e.className=_[t],ne(e,n,"".concat(t,"Button"))}var Te=function(e,t){var n=M();n&&(function(e,t){"string"==typeof t?e.style.background=t:t||ie([document.documentElement,document.body],_["no-backdrop"])}(n,t.backdrop),function(e,t){t&&(t in _?ie(e,_[t]):(k('The "position" parameter is not valid, defaulting to "center"'),ie(e,_.center)))}(n,t.position),function(e,t){t&&ie(e,_["grow-".concat(t)])}(n,t.grow),ne(n,t,"container"))},Oe={innerParams:new WeakMap,domCache:new WeakMap},Le=["input","file","range","select","radio","checkbox","textarea"],Pe=function(e){if(e.input)if(Ve[e.input]){var t=Fe(e.input),n=Ve[e.input](t,e);ce(t),e.inputAutoFocus&&setTimeout((function(){oe(n)}))}else E("Unexpected type of input! Expected ".concat(Object.keys(Ve).join(" | "),', got "').concat(e.input,'"'))},Me=function(e,t){var n=ae(R(),e);if(n)for(var a in function(e){for(var t=0;t<e.attributes.length;t++){var n=e.attributes[t].name;["id","type","value","style"].includes(n)||e.removeAttribute(n)}}(n),t)n.setAttribute(a,t[a])},Be=function(e){var t=Fe(e.input);"object"===a(e.customClass)&&ie(t,e.customClass.input)},Ie=function(e,t){e.placeholder&&!t.inputPlaceholder||(e.placeholder=t.inputPlaceholder)},Re=function(e,t,n){if(n.inputLabel){var o=document.createElement("label"),s=_["input-label"];o.setAttribute("for",e.id),o.className=s,"object"===a(n.customClass)&&ie(o,n.customClass.inputLabel),o.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",o)}},Fe=function(e){return le(R(),_[e]||_.input)},Ne=function(e,t){["string","number"].includes(a(t))?e.value="".concat(t):P(t)||k('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(a(t),'"'))},Ve={};Ve.text=Ve.email=Ve.password=Ve.number=Ve.tel=Ve.url=Ve.search=Ve.date=Ve["datetime-local"]=Ve.time=Ve.week=Ve.month=function(e,t){return Ne(e,t.inputValue),Re(e,e,t),Ie(e,t),e.type=t.input,e},Ve.file=function(e,t){return Re(e,e,t),Ie(e,t),e},Ve.range=function(e,t){var n=e.querySelector("input"),a=e.querySelector("output");return Ne(n,t.inputValue),n.type=t.input,Ne(a,t.inputValue),Re(n,e,t),e},Ve.select=function(e,t){if(e.textContent="",t.inputPlaceholder){var n=document.createElement("option");ee(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return Re(e,e,t),e},Ve.radio=function(e){return e.textContent="",e},Ve.checkbox=function(e,t){var n=ae(R(),"checkbox");n.value="1",n.checked=Boolean(t.inputValue);var a=e.querySelector("span");return ee(a,t.inputPlaceholder),n},Ve.textarea=function(e,t){return Ne(e,t.inputValue),Ie(e,t),Re(e,e,t),setTimeout((function(){if("MutationObserver"in window){var n=parseInt(window.getComputedStyle(R()).width);new MutationObserver((function(){if(document.body.contains(e)){var a,o=e.offsetWidth+(a=e,parseInt(window.getComputedStyle(a).marginLeft)+parseInt(window.getComputedStyle(a).marginRight));o>n?R().style.width="".concat(o,"px"):de(R(),"width",t.width)}})).observe(e,{attributes:!0,attributeFilter:["style"]})}})),e};var Ue=function(e,t){var n=V();n&&(me(n),ne(n,t,"htmlContainer"),t.html?(De(t.html,n),ce(n,"block")):t.text?(n.textContent=t.text,ce(n,"block")):ue(n),function(e,t){var n=R();if(n){var a=Oe.innerParams.get(e),o=!a||t.input!==a.input;Le.forEach((function(e){var a=le(n,_[e]);a&&(Me(e,t.inputAttributes),a.className=_[e],o&&ue(a))})),t.input&&(o&&Pe(t),Be(t))}}(e,t))},He=function(e,t){for(var n=0,a=Object.entries(C);n<a.length;n++){var o=c(a[n],2),s=o[0],i=o[1];t.icon!==s&&re(e,i)}ie(e,t.icon&&C[t.icon]),Ze(e,t),ze(),ne(e,t,"icon")},ze=function(){var e=R();if(e)for(var t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),a=0;a<n.length;a++)n[a].style.backgroundColor=t},je=function(e,t){if(t.icon||t.iconHtml){var n=e.innerHTML,a="";t.iconHtml?a=qe(t.iconHtml):"success"===t.icon?(a='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',n=n.replace(/ style=".*?"/g,"")):"error"===t.icon?a='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':t.icon&&(a=qe({question:"?",warning:"!",info:"i"}[t.icon])),n.trim()!==a.trim()&&ee(e,a)}},Ze=function(e,t){if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(var n=0,a=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];n<a.length;n++)pe(e,a[n],"background-color",t.iconColor);pe(e,".swal2-success-ring","border-color",t.iconColor)}},qe=function(e){return'<div class="'.concat(_["icon-content"],'">').concat(e,"</div>")},$e=function(e,t){var n=t.showClass||{};e.className="".concat(_.popup," ").concat(fe(e)?n.popup:""),t.toast?(ie([document.documentElement,document.body],_["toast-shown"]),ie(e,_.toast)):ie(e,_.modal),ne(e,t,"popup"),"string"==typeof t.customClass&&ie(e,t.customClass),t.icon&&ie(e,_["icon-".concat(t.icon)])},We=function(e){var t=document.createElement("li");return ie(t,_["progress-step"]),ee(t,e),t},Ke=function(e){var t=document.createElement("li");return ie(t,_["progress-step-line"]),e.progressStepsDistance&&de(t,"width",e.progressStepsDistance),t},Ge=function(e,t){!function(e,t){var n=M(),a=R();if(n&&a){if(t.toast){de(n,"width",t.width),a.style.width="100%";var o=$();o&&a.insertBefore(o,F())}else de(a,"width",t.width);de(a,"padding",t.padding),t.color&&(a.style.color=t.color),t.background&&(a.style.background=t.background),ue(z()),$e(a,t)}}(0,t),Te(0,t),function(e,t){var n=H();if(n){var a=t.progressSteps,o=t.currentProgressStep;a&&0!==a.length&&void 0!==o?(ce(n),n.textContent="",o>=a.length&&k("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),a.forEach((function(e,s){var i=We(e);if(n.appendChild(i),s===o&&ie(i,_["active-progress-step"]),s!==a.length-1){var r=Ke(t);n.appendChild(r)}}))):ue(n)}}(0,t),function(e,t){var n=Oe.innerParams.get(e),a=F();if(a){if(n&&t.icon===n.icon)return je(a,t),void He(a,t);if(t.icon||t.iconHtml){if(t.icon&&-1===Object.keys(C).indexOf(t.icon))return E('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(t.icon,'"')),void ue(a);ce(a),je(a,t),He(a,t),ie(a,t.showClass&&t.showClass.icon)}else ue(a)}}(e,t),function(e,t){var n=U();n&&(t.imageUrl?(ce(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt||""),de(n,"width",t.imageWidth),de(n,"height",t.imageHeight),n.className=_.image,ne(n,t,"image")):ue(n))}(0,t),function(e,t){var n=N();n&&(me(n),he(n,t.title||t.titleText,"block"),t.title&&De(t.title,n),t.titleText&&(n.innerText=t.titleText),ne(n,t,"title"))}(0,t),function(e,t){var n=Y();n&&(ee(n,t.closeButtonHtml||""),ne(n,t,"closeButton"),he(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel||""))}(0,t),Ue(e,t),Se(0,t),function(e,t){var n=K();n&&(me(n),he(n,t.footer,"block"),t.footer&&De(t.footer,n),ne(n,t,"footer"))}(0,t);var n=R();"function"==typeof t.didRender&&n&&t.didRender(n)},Ye=function(){var e;return null===(e=j())||void 0===e?void 0:e.click()},Xe=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Qe=function(e){e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},Je=function(e,t){var n,a=X();if(a.length)return(e+=t)===a.length?e=0:-1===e&&(e=a.length-1),void a[e].focus();null===(n=R())||void 0===n||n.focus()},et=["ArrowRight","ArrowDown"],tt=["ArrowLeft","ArrowUp"],nt=function(e,t,n){e&&(t.isComposing||229===t.keyCode||(e.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?at(t,e):"Tab"===t.key?ot(t):[].concat(et,tt).includes(t.key)?st(t.key):"Escape"===t.key&&it(t,e,n)))},at=function(e,t){if(T(t.allowEnterKey)){var n=ae(R(),t.input);if(e.target&&n&&e.target instanceof HTMLElement&&e.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(t.input))return;Ye(),e.preventDefault()}}},ot=function(e){for(var t=e.target,n=X(),a=-1,o=0;o<n.length;o++)if(t===n[o]){a=o;break}e.shiftKey?Je(a,-1):Je(a,1),e.stopPropagation(),e.preventDefault()},st=function(e){var t=W(),n=j(),a=q(),o=Z();if(t&&n&&a&&o){var s=[n,a,o];if(!(document.activeElement instanceof HTMLElement)||s.includes(document.activeElement)){var i=et.includes(e)?"nextElementSibling":"previousElementSibling",r=document.activeElement;if(r){for(var l=0;l<t.children.length;l++){if(!(r=r[i]))return;if(r instanceof HTMLButtonElement&&fe(r))break}r instanceof HTMLButtonElement&&r.focus()}}}},it=function(e,t,n){T(t.allowEscapeKey)&&(e.preventDefault(),n(Xe.esc))},rt={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},lt=function(){Array.from(document.body.children).forEach((function(e){e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")}))},dt="undefined"!=typeof window&&!!window.GestureEvent,ct=function(){var e,t=M();t&&(t.ontouchstart=function(t){e=ut(t)},t.ontouchmove=function(t){e&&(t.preventDefault(),t.stopPropagation())})},ut=function(e){var t=e.target,n=M(),a=V();return!(!n||!a)&&!mt(e)&&!pt(e)&&(t===n||!ge(n)&&t instanceof HTMLElement&&"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&(!ge(a)||!a.contains(t)))},mt=function(e){return e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType},pt=function(e){return e.touches&&e.touches.length>1},ht=null,ft=function(e){null===ht&&(document.body.scrollHeight>window.innerHeight||"scroll"===e)&&(ht=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(ht+function(){var e=document.createElement("div");e.className=_["scrollbar-measure"],document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t}(),"px"))};function gt(e,t,n,a){J()?xt(e,a):(w(n).then((function(){return xt(e,a)})),Qe(b)),dt?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),Q()&&(null!==ht&&(document.body.style.paddingRight="".concat(ht,"px"),ht=null),function(){if(te(document.body,_.iosfix)){var e=parseInt(document.body.style.top,10);re(document.body,_.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}}(),lt()),re([document.documentElement,document.body],[_.shown,_["height-auto"],_["no-backdrop"],_["toast-shown"]])}function vt(e){e=_t(e);var t=rt.swalPromiseResolve.get(this),n=bt(this);this.isAwaitingPromise?e.isDismissed||(yt(this),t(e)):n&&t(e)}var bt=function(e){var t=R();if(!t)return!1;var n=Oe.innerParams.get(e);if(!n||te(t,n.hideClass.popup))return!1;re(t,n.showClass.popup),ie(t,n.hideClass.popup);var a=M();return re(a,n.showClass.backdrop),ie(a,n.hideClass.backdrop),Ct(e,t,n),!0};function wt(e){var t=rt.swalPromiseReject.get(this);yt(this),t&&t(e)}var yt=function(e){e.isAwaitingPromise&&(delete e.isAwaitingPromise,Oe.innerParams.get(e)||e._destroy())},_t=function(e){return void 0===e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e)},Ct=function(e,t,n){var a=M(),o=Ee&&ve(t);"function"==typeof n.willClose&&n.willClose(t),o?Dt(e,t,a,n.returnFocus,n.didClose):gt(e,a,n.returnFocus,n.didClose)},Dt=function(e,t,n,a,o){Ee&&(b.swalCloseEventFinishedCallback=gt.bind(null,e,n,a,o),t.addEventListener(Ee,(function(e){e.target===t&&(b.swalCloseEventFinishedCallback(),delete b.swalCloseEventFinishedCallback)})))},xt=function(e,t){setTimeout((function(){"function"==typeof t&&t.bind(e.params)(),e._destroy&&e._destroy()}))},kt=function(e){var t=R();if(t||new aa,t=R()){var n=$();J()?ue(F()):Et(t,e),ce(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()}},Et=function(e,t){var n=W(),a=$();n&&a&&(!t&&fe(j())&&(t=j()),ce(n),t&&(ue(t),a.setAttribute("data-button-to-replace",t.className),n.insertBefore(a,t)),ie([e,n],_.loading))},St=function(e){return e.checked?1:0},At=function(e){return e.checked?e.value:null},Tt=function(e){return e.files&&e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null},Ot=function(e,t){var n=R();if(n){var o=function(e){"select"===t.input?function(e,t,n){var a=le(e,_.select);if(a){var o=function(e,t,a){var o=document.createElement("option");o.value=a,ee(o,t),o.selected=Mt(a,n.inputValue),e.appendChild(o)};t.forEach((function(e){var t=e[0],n=e[1];if(Array.isArray(n)){var s=document.createElement("optgroup");s.label=t,s.disabled=!1,a.appendChild(s),n.forEach((function(e){return o(s,e[1],e[0])}))}else o(a,n,t)})),a.focus()}}(n,Pt(e),t):"radio"===t.input&&function(e,t,n){var a=le(e,_.radio);if(a){t.forEach((function(e){var t=e[0],o=e[1],s=document.createElement("input"),i=document.createElement("label");s.type="radio",s.name=_.radio,s.value=t,Mt(t,n.inputValue)&&(s.checked=!0);var r=document.createElement("span");ee(r,o),r.className=_.label,i.appendChild(s),i.appendChild(r),a.appendChild(i)}));var o=a.querySelectorAll("input");o.length&&o[0].focus()}}(n,Pt(e),t)};O(t.inputOptions)||P(t.inputOptions)?(kt(j()),L(t.inputOptions).then((function(t){e.hideLoading(),o(t)}))):"object"===a(t.inputOptions)?o(t.inputOptions):E("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(a(t.inputOptions)))}},Lt=function(e,t){var n=e.getInput();n&&(ue(n),L(t.inputValue).then((function(a){n.value="number"===t.input?"".concat(parseFloat(a)||0):"".concat(a),ce(n),n.focus(),e.hideLoading()})).catch((function(t){E("Error in inputValue promise: ".concat(t)),n.value="",ce(n),n.focus(),e.hideLoading()})))},Pt=function e(t){var n=[];return t instanceof Map?t.forEach((function(t,o){var s=t;"object"===a(s)&&(s=e(s)),n.push([o,s])})):Object.keys(t).forEach((function(o){var s=t[o];"object"===a(s)&&(s=e(s)),n.push([o,s])})),n},Mt=function(e,t){return!!t&&t.toString()===e.toString()},Bt=void 0,It=function(e,t){var n=Oe.innerParams.get(e);if(n.input){var a=e.getInput(),o=function(e,t){var n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return St(n);case"radio":return At(n);case"file":return Tt(n);default:return t.inputAutoTrim?n.value.trim():n.value}}(e,n);n.inputValidator?Rt(e,o,t):a&&!a.checkValidity()?(e.enableButtons(),e.showValidationMessage(n.validationMessage||a.validationMessage)):"deny"===t?Ft(e,o):Ut(e,o)}else E('The "input" parameter is needed to be set when using returnInputValueOn'.concat(x(t)))},Rt=function(e,t,n){var a=Oe.innerParams.get(e);e.disableInput(),Promise.resolve().then((function(){return L(a.inputValidator(t,a.validationMessage))})).then((function(a){e.enableButtons(),e.enableInput(),a?e.showValidationMessage(a):"deny"===n?Ft(e,t):Ut(e,t)}))},Ft=function(e,t){var n=Oe.innerParams.get(e||Bt);n.showLoaderOnDeny&&kt(q()),n.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then((function(){return L(n.preDeny(t,n.validationMessage))})).then((function(n){!1===n?(e.hideLoading(),yt(e)):e.close({isDenied:!0,value:void 0===n?t:n})})).catch((function(t){return Vt(e||Bt,t)}))):e.close({isDenied:!0,value:t})},Nt=function(e,t){e.close({isConfirmed:!0,value:t})},Vt=function(e,t){e.rejectPromise(t)},Ut=function(e,t){var n=Oe.innerParams.get(e||Bt);n.showLoaderOnConfirm&&kt(),n.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then((function(){return L(n.preConfirm(t,n.validationMessage))})).then((function(n){fe(z())||!1===n?(e.hideLoading(),yt(e)):Nt(e,void 0===n?t:n)})).catch((function(t){return Vt(e||Bt,t)}))):Nt(e,t)};function Ht(){var e=Oe.innerParams.get(this);if(e){var t=Oe.domCache.get(this);ue(t.loader),J()?e.icon&&ce(F()):zt(t),re([t.popup,t.actions],_.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}}var zt=function(e){var t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?ce(t[0],"inline-block"):fe(j())||fe(q())||fe(Z())||ue(e.actions)};function jt(){var e=Oe.innerParams.get(this),t=Oe.domCache.get(this);return t?ae(t.popup,e.input):null}function Zt(e,t,n){var a=Oe.domCache.get(e);t.forEach((function(e){a[e].disabled=n}))}function qt(e,t){var n=R();if(n&&e)if("radio"===e.type)for(var a=n.querySelectorAll('[name="'.concat(_.radio,'"]')),o=0;o<a.length;o++)a[o].disabled=t;else e.disabled=t}function $t(){Zt(this,["confirmButton","denyButton","cancelButton"],!1)}function Wt(){Zt(this,["confirmButton","denyButton","cancelButton"],!0)}function Kt(){qt(this.getInput(),!1)}function Gt(){qt(this.getInput(),!0)}function Yt(e){var t=Oe.domCache.get(this),n=Oe.innerParams.get(this);ee(t.validationMessage,e),t.validationMessage.className=_["validation-message"],n.customClass&&n.customClass.validationMessage&&ie(t.validationMessage,n.customClass.validationMessage),ce(t.validationMessage);var a=this.getInput();a&&(a.setAttribute("aria-invalid","true"),a.setAttribute("aria-describedby",_["validation-message"]),oe(a),ie(a,_.inputerror))}function Xt(){var e=Oe.domCache.get(this);e.validationMessage&&ue(e.validationMessage);var t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),re(t,_.inputerror))}var Qt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Jt=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],en={},tn=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],nn=function(e){return Object.prototype.hasOwnProperty.call(Qt,e)},an=function(e){return-1!==Jt.indexOf(e)},on=function(e){return en[e]},sn=function(e){nn(e)||k('Unknown parameter "'.concat(e,'"'))},rn=function(e){tn.includes(e)&&k('The parameter "'.concat(e,'" is incompatible with toasts'))},ln=function(e){var t=on(e);t&&A(e,t)};function dn(e){var t=R(),n=Oe.innerParams.get(this);if(t&&!te(t,n.hideClass.popup)){var a=cn(e),o=Object.assign({},n,a);Ge(this,o),Oe.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}else k("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.")}var cn=function(e){var t={};return Object.keys(e).forEach((function(n){an(n)?t[n]=e[n]:k("Invalid parameter to update: ".concat(n))})),t};function un(){var e=Oe.domCache.get(this),t=Oe.innerParams.get(this);t?(e.popup&&b.swalCloseEventFinishedCallback&&(b.swalCloseEventFinishedCallback(),delete b.swalCloseEventFinishedCallback),"function"==typeof t.didDestroy&&t.didDestroy(),pn(this)):hn(this)}var mn,pn=function(e){hn(e),delete e.params,delete b.keydownHandler,delete b.keydownTarget,delete b.currentInstance},hn=function(e){e.isAwaitingPromise?(fn(Oe,e),e.isAwaitingPromise=!0):(fn(rt,e),fn(Oe,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},fn=function(e,t){for(var n in e)e[n].delete(t)},gn=Object.freeze({__proto__:null,_destroy:un,close:vt,closeModal:vt,closePopup:vt,closeToast:vt,disableButtons:Wt,disableInput:Gt,disableLoading:Ht,enableButtons:$t,enableInput:Kt,getInput:jt,handleAwaitingPromise:yt,hideLoading:Ht,rejectPromise:wt,resetValidationMessage:Xt,showValidationMessage:Yt,update:dn}),vn=function(e,t,n){t.popup.onclick=function(){e&&(bn(e)||e.timer||e.input)||n(Xe.close)}},bn=function(e){return!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton)},wn=!1,yn=function(e){e.popup.onmousedown=function(){e.container.onmouseup=function(t){e.container.onmouseup=function(){},t.target===e.container&&(wn=!0)}}},_n=function(e){e.container.onmousedown=function(){e.popup.onmouseup=function(t){e.popup.onmouseup=function(){},(t.target===e.popup||t.target instanceof HTMLElement&&e.popup.contains(t.target))&&(wn=!0)}}},Cn=function(e,t,n){t.container.onclick=function(a){wn?wn=!1:a.target===t.container&&T(e.allowOutsideClick)&&n(Xe.backdrop)}},Dn=function(e){return e instanceof Element||function(e){return"object"===a(e)&&e.jquery}(e)},xn=function(){if(b.timeout)return function(){var e=G();if(e){var t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";var n=t/parseInt(window.getComputedStyle(e).width)*100;e.style.width="".concat(n,"%")}}(),b.timeout.stop()},kn=function(){if(b.timeout){var e=b.timeout.start();return be(e),e}},En=!1,Sn={},An=function(e){for(var t=e.target;t&&t!==document;t=t.parentNode)for(var n in Sn){var a=t.getAttribute(n);if(a)return void Sn[n].fire({template:a})}},Tn=Object.freeze({__proto__:null,argsToParams:function(e){var t={};return"object"!==a(e[0])||Dn(e[0])?["title","html","icon"].forEach((function(n,o){var s=e[o];"string"==typeof s||Dn(s)?t[n]=s:void 0!==s&&E("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(a(s)))})):Object.assign(t,e[0]),t},bindClickHandler:function(){Sn[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,En||(document.body.addEventListener("click",An),En=!0)},clickCancel:function(){var e;return null===(e=Z())||void 0===e?void 0:e.click()},clickConfirm:Ye,clickDeny:function(){var e;return null===(e=q())||void 0===e?void 0:e.click()},enableLoading:kt,fire:function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return function(e,n,a){if(t())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,n);var s=new(e.bind.apply(e,o));return a&&l(s,a.prototype),s}(this,n)},getActions:W,getCancelButton:Z,getCloseButton:Y,getConfirmButton:j,getContainer:M,getDenyButton:q,getFocusableElements:X,getFooter:K,getHtmlContainer:V,getIcon:F,getIconContent:function(){return I(_["icon-content"])},getImage:U,getInputLabel:function(){return I(_["input-label"])},getLoader:$,getPopup:R,getProgressSteps:H,getTimerLeft:function(){return b.timeout&&b.timeout.getTimerLeft()},getTimerProgressBar:G,getTitle:N,getValidationMessage:z,increaseTimer:function(e){if(b.timeout){var t=b.timeout.increase(e);return be(t,!0),t}},isDeprecatedParameter:on,isLoading:function(){var e=R();return!!e&&e.hasAttribute("data-loading")},isTimerRunning:function(){return!(!b.timeout||!b.timeout.isRunning())},isUpdatableParameter:an,isValidParameter:nn,isVisible:function(){return fe(R())},mixin:function(t){var n=function(n){function a(){return o(this,a),e(this,a,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(a,n),i(a,[{key:"_main",value:function(e,n){return d(r(a.prototype),"_main",this).call(this,e,Object.assign({},t,n))}}]),a}(this);return n},resumeTimer:kn,showLoading:kt,stopTimer:xn,toggleTimer:function(){var e=b.timeout;return e&&(e.running?xn():kn())}}),On=function(){function e(t,n){o(this,e),this.callback=t,this.remaining=n,this.running=!1,this.start()}return i(e,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(e){var t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),e}(),Ln=["swal-title","swal-html","swal-footer"],Pn=function(e){var t={};return Array.from(e.querySelectorAll("swal-param")).forEach((function(e){Un(e,["name","value"]);var n=e.getAttribute("name"),o=e.getAttribute("value");"boolean"==typeof Qt[n]?t[n]="false"!==o:"object"===a(Qt[n])?t[n]=JSON.parse(o):t[n]=o})),t},Mn=function(e){var t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach((function(e){var n=e.getAttribute("name"),a=e.getAttribute("value");t[n]=new Function("return ".concat(a))()})),t},Bn=function(e){var t={};return Array.from(e.querySelectorAll("swal-button")).forEach((function(e){Un(e,["type","color","aria-label"]);var n=e.getAttribute("type");t["".concat(n,"ButtonText")]=e.innerHTML,t["show".concat(x(n),"Button")]=!0,e.hasAttribute("color")&&(t["".concat(n,"ButtonColor")]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(t["".concat(n,"ButtonAriaLabel")]=e.getAttribute("aria-label"))})),t},In=function(e){var t={},n=e.querySelector("swal-image");return n&&(Un(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt"))),t},Rn=function(e){var t={},n=e.querySelector("swal-icon");return n&&(Un(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},Fn=function(e){var t={},n=e.querySelector("swal-input");n&&(Un(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));var a=Array.from(e.querySelectorAll("swal-input-option"));return a.length&&(t.inputOptions={},a.forEach((function(e){Un(e,["value"]);var n=e.getAttribute("value"),a=e.innerHTML;t.inputOptions[n]=a}))),t},Nn=function(e,t){var n={};for(var a in t){var o=t[a],s=e.querySelector(o);s&&(Un(s,[]),n[o.replace(/^swal-/,"")]=s.innerHTML.trim())}return n},Vn=function(e){var t=Ln.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach((function(e){var n=e.tagName.toLowerCase();t.includes(n)||k("Unrecognized element <".concat(n,">"))}))},Un=function(e,t){Array.from(e.attributes).forEach((function(n){-1===t.indexOf(n.name)&&k(['Unrecognized attribute "'.concat(n.name,'" on <').concat(e.tagName.toLowerCase(),">."),"".concat(t.length?"Allowed attributes are: ".concat(t.join(", ")):"To set the value, use HTML within the element.")])}))},Hn=function(e){var t=M(),n=R();"function"==typeof e.willOpen&&e.willOpen(n);var a=window.getComputedStyle(document.body).overflowY;qn(t,n,e),setTimeout((function(){jn(t,n)}),10),Q()&&(Zn(t,e.scrollbarPadding,a),Array.from(document.body.children).forEach((function(e){e===M()||e.contains(M())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")||""),e.setAttribute("aria-hidden","true"))}))),J()||b.previousActiveElement||(b.previousActiveElement=document.activeElement),"function"==typeof e.didOpen&&setTimeout((function(){return e.didOpen(n)})),re(t,_["no-transition"])},zn=function e(t){var n=R();if(t.target===n&&Ee){var a=M();n.removeEventListener(Ee,e),a.style.overflowY="auto"}},jn=function(e,t){Ee&&ve(t)?(e.style.overflowY="hidden",t.addEventListener(Ee,zn)):e.style.overflowY="auto"},Zn=function(e,t,n){!function(){if(dt&&!te(document.body,_.iosfix)){var e=document.body.scrollTop;document.body.style.top="".concat(-1*e,"px"),ie(document.body,_.iosfix),ct()}}(),t&&"hidden"!==n&&ft(n),setTimeout((function(){e.scrollTop=0}))},qn=function(e,t,n){ie(e,n.showClass.backdrop),n.animation?(t.style.setProperty("opacity","0","important"),ce(t,"grid"),setTimeout((function(){ie(t,n.showClass.popup),t.style.removeProperty("opacity")}),10)):ce(t,"grid"),ie([document.documentElement,document.body],_.shown),n.heightAuto&&n.backdrop&&!n.toast&&ie([document.documentElement,document.body],_["height-auto"])},$n={email:function(e,t){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address")},url:function(e,t){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")}};function Wn(e){!function(e){e.inputValidator||("email"===e.input&&(e.inputValidator=$n.email),"url"===e.input&&(e.inputValidator=$n.url))}(e),e.showLoaderOnConfirm&&!e.preConfirm&&k("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(e){(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(k('Target parameter is not valid, defaulting to "body"'),e.target="body")}(e),"string"==typeof e.title&&(e.title=e.title.split("\n").join("<br />")),Ce(e)}var Kn=new WeakMap,Gn=function(){function e(){if(o(this,e),v(this,Kn,{writable:!0,value:void 0}),"undefined"!=typeof window){mn=this;for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var s=Object.freeze(this.constructor.argsToParams(n));this.params=s,this.isAwaitingPromise=!1,f(this,Kn,this._main(mn.params))}}return i(e,[{key:"_main",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e){for(var t in!1===e.backdrop&&e.allowOutsideClick&&k('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e)sn(t),e.toast&&rn(t),ln(t)}(Object.assign({},t,e)),b.currentInstance){var n=rt.swalPromiseResolve.get(b.currentInstance),a=b.currentInstance.isAwaitingPromise;b.currentInstance._destroy(),a||n({isDismissed:!0}),Q()&&lt()}b.currentInstance=mn;var o=Xn(e,t);Wn(o),Object.freeze(o),b.timeout&&(b.timeout.stop(),delete b.timeout),clearTimeout(b.restoreFocusTimeout);var s=Qn(mn);return Ge(mn,o),Oe.innerParams.set(mn,o),Yn(mn,s,o)}},{key:"then",value:function(e){return h(this,Kn).then(e)}},{key:"finally",value:function(e){return h(this,Kn).finally(e)}}]),e}(),Yn=function(e,t,n){return new Promise((function(a,o){var s=function(t){e.close({isDismissed:!0,dismiss:t})};rt.swalPromiseResolve.set(e,a),rt.swalPromiseReject.set(e,o),t.confirmButton.onclick=function(){!function(e){var t=Oe.innerParams.get(e);e.disableButtons(),t.input?It(e,"confirm"):Ut(e,!0)}(e)},t.denyButton.onclick=function(){!function(e){var t=Oe.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?It(e,"deny"):Ft(e,!1)}(e)},t.cancelButton.onclick=function(){!function(e,t){e.disableButtons(),t(Xe.cancel)}(e,s)},t.closeButton.onclick=function(){s(Xe.close)},function(e,t,n){e.toast?vn(e,t,n):(yn(t),_n(t),Cn(e,t,n))}(n,t,s),function(e,t,n){Qe(e),t.toast||(e.keydownHandler=function(e){return nt(t,e,n)},e.keydownTarget=t.keydownListenerCapture?window:R(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)}(b,n,s),function(e,t){"select"===t.input||"radio"===t.input?Ot(e,t):["text","email","number","tel","textarea"].some((function(e){return e===t.input}))&&(O(t.inputValue)||P(t.inputValue))&&(kt(j()),Lt(e,t))}(e,n),Hn(n),Jn(b,n,s),ea(t,n),setTimeout((function(){t.container.scrollTop=0}))}))},Xn=function(e,t){var n=function(e){var t="string"==typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};var n=t.content;return Vn(n),Object.assign(Pn(n),Mn(n),Bn(n),In(n),Rn(n),Fn(n),Nn(n,Ln))}(e),a=Object.assign({},Qt,t,n,e);return a.showClass=Object.assign({},Qt.showClass,a.showClass),a.hideClass=Object.assign({},Qt.hideClass,a.hideClass),!1===a.animation&&(a.showClass={backdrop:"swal2-noanimation"},a.hideClass={}),a},Qn=function(e){var t={popup:R(),container:M(),actions:W(),confirmButton:j(),denyButton:q(),cancelButton:Z(),loader:$(),closeButton:Y(),validationMessage:z(),progressSteps:H()};return Oe.domCache.set(e,t),t},Jn=function(e,t,n){var a=G();ue(a),t.timer&&(e.timeout=new On((function(){n("timer"),delete e.timeout}),t.timer),t.timerProgressBar&&(ce(a),ne(a,t,"timerProgressBar"),setTimeout((function(){e.timeout&&e.timeout.running&&be(t.timer)}))))},ea=function(e,t){t.toast||(T(t.allowEnterKey)?ta(e,t)||Je(-1,1):na())},ta=function(e,t){return t.focusDeny&&fe(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&fe(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!fe(e.confirmButton))&&(e.confirmButton.focus(),!0)},na=function(){document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};Gn.prototype.disableButtons=Wt,Gn.prototype.enableButtons=$t,Gn.prototype.getInput=jt,Gn.prototype.disableInput=Gt,Gn.prototype.enableInput=Kt,Gn.prototype.hideLoading=Ht,Gn.prototype.disableLoading=Ht,Gn.prototype.showValidationMessage=Yt,Gn.prototype.resetValidationMessage=Xt,Gn.prototype.close=vt,Gn.prototype.closePopup=vt,Gn.prototype.closeModal=vt,Gn.prototype.closeToast=vt,Gn.prototype.rejectPromise=wt,Gn.prototype.update=dn,Gn.prototype._destroy=un,Object.assign(Gn,Tn),Object.keys(gn).forEach((function(e){Gn[e]=function(){var t;return mn&&mn[e]?(t=mn)[e].apply(t,arguments):null}})),Gn.DismissReason=Xe,Gn.version="11.10.5";var aa=Gn;return aa.default=aa,aa})),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},72848:function(){tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}})},5741:function(e,t,n){n(57658),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.ModelManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=a=e,(o=String).prototype.isPrototypeOf(n)||(null===(s=a.constructor)||void 0===s?void 0:s.name)===o.name)?"string":t;var n,a,o,s})(t)===e,n=e=>t=>typeof t===e,a=e=>t=>e===t,o=t("string"),s=t("object"),i=t("array"),r=a(null),l=n("boolean"),d=a(void 0),c=e=>!(e=>null==e)(e),u=n("function"),m=n("number"),p=()=>{},h=e=>()=>e,f=e=>e,g=(e,t)=>e===t;function v(e,...t){return(...n)=>{const a=t.concat(n);return e.apply(null,a)}}const b=e=>t=>!e(t),w=e=>e(),y=h(!1),_=h(!0);class C{constructor(e,t){this.tag=e,this.value=t}static some(e){return new C(!0,e)}static none(){return C.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?C.some(e(this.value)):C.none()}bind(e){return this.tag?e(this.value):C.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:C.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return c(e)?C.some(e):C.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}C.singletonNone=new C(!1);const D=Array.prototype.slice,x=Array.prototype.indexOf,k=Array.prototype.push,E=(e,t)=>{return n=e,a=t,x.call(n,a)>-1;var n,a},S=(e,t)=>{for(let n=0,a=e.length;n<a;n++)if(t(e[n],n))return!0;return!1},A=(e,t)=>{const n=[];for(let a=0;a<e;a++)n.push(t(a));return n},T=(e,t)=>{const n=e.length,a=new Array(n);for(let o=0;o<n;o++){const n=e[o];a[o]=t(n,o)}return a},O=(e,t)=>{for(let n=0,a=e.length;n<a;n++)t(e[n],n)},L=(e,t)=>{const n=[],a=[];for(let o=0,s=e.length;o<s;o++){const s=e[o];(t(s,o)?n:a).push(s)}return{pass:n,fail:a}},P=(e,t)=>{const n=[];for(let a=0,o=e.length;a<o;a++){const o=e[a];t(o,a)&&n.push(o)}return n},M=(e,t,n)=>(((e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)})(e,((e,a)=>{n=t(n,e,a)})),n),B=(e,t,n)=>(O(e,((e,a)=>{n=t(n,e,a)})),n),I=(e,t)=>((e,t,n)=>{for(let a=0,o=e.length;a<o;a++){const o=e[a];if(t(o,a))return C.some(o);if(n(o,a))break}return C.none()})(e,t,y),R=(e,t)=>{for(let n=0,a=e.length;n<a;n++)if(t(e[n],n))return C.some(n);return C.none()},F=e=>{const t=[];for(let n=0,a=e.length;n<a;++n){if(!i(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);k.apply(t,e[n])}return t},N=(e,t)=>F(T(e,t)),V=(e,t)=>{for(let n=0,a=e.length;n<a;++n)if(!0!==t(e[n],n))return!1;return!0},U=(e,t)=>{const n={};for(let a=0,o=e.length;a<o;a++){const o=e[a];n[String(o)]=t(o,a)}return n},H=(e,t)=>t>=0&&t<e.length?C.some(e[t]):C.none(),z=e=>H(e,0),j=e=>H(e,e.length-1),Z=(e,t)=>{for(let n=0;n<e.length;n++){const a=t(e[n],n);if(a.isSome())return a}return C.none()},q=Object.keys,$=Object.hasOwnProperty,W=(e,t)=>{const n=q(e);for(let a=0,o=n.length;a<o;a++){const o=n[a];t(e[o],o)}},K=(e,t)=>G(e,((e,n)=>({k:n,v:t(e,n)}))),G=(e,t)=>{const n={};return W(e,((e,a)=>{const o=t(e,a);n[o.k]=o.v})),n},Y=(e,t)=>{const n=[];return W(e,((e,a)=>{n.push(t(e,a))})),n},X=e=>Y(e,f),Q=(e,t)=>$.call(e,t),J="undefined"!=typeof window?window:Function("return this;")(),ee=(e,t)=>((e,t)=>{let n=null!=t?t:J;for(let a=0;a<e.length&&null!=n;++a)n=n[e[a]];return n})(e.split("."),t),te=Object.getPrototypeOf,ne=e=>{const t=ee("ownerDocument.defaultView",e);return s(e)&&((e=>((e,t)=>{const n=((e,t)=>ee(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n})("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(te(e).constructor.name))},ae=e=>e.dom.nodeName.toLowerCase(),oe=e=>e.dom.nodeType,se=e=>t=>oe(t)===e,ie=e=>8===oe(e)||"#comment"===ae(e),re=e=>le(e)&&ne(e.dom),le=se(1),de=se(3),ce=se(9),ue=se(11),me=e=>t=>le(t)&&ae(t)===e,pe=(e,t,n)=>{if(!(o(n)||l(n)||m(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},he=(e,t,n)=>{pe(e.dom,t,n)},fe=(e,t)=>{const n=e.dom;W(t,((e,t)=>{pe(n,t,e)}))},ge=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},ve=(e,t)=>C.from(ge(e,t)),be=(e,t)=>{e.dom.removeAttribute(t)},we=e=>B(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),ye=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},_e={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return ye(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return ye(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return ye(n)},fromDom:ye,fromPoint:(e,t,n)=>C.from(e.dom.elementFromPoint(t,n)).map(ye)},Ce=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},De=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,xe=(e,t)=>{const n=void 0===t?document:t.dom;return De(n)?C.none():C.from(n.querySelector(e)).map(_e.fromDom)},ke=(e,t)=>e.dom===t.dom,Ee=(e,t)=>{const n=e.dom,a=t.dom;return n!==a&&n.contains(a)},Se=Ce,Ae=e=>_e.fromDom(e.dom.ownerDocument),Te=e=>ce(e)?e:Ae(e),Oe=e=>C.from(e.dom.parentNode).map(_e.fromDom),Le=e=>C.from(e.dom.parentElement).map(_e.fromDom),Pe=(e,t)=>{const n=u(t)?t:y;let a=e.dom;const o=[];for(;null!==a.parentNode&&void 0!==a.parentNode;){const e=a.parentNode,t=_e.fromDom(e);if(o.push(t),!0===n(t))break;a=e}return o},Me=e=>C.from(e.dom.previousSibling).map(_e.fromDom),Be=e=>C.from(e.dom.nextSibling).map(_e.fromDom),Ie=e=>T(e.dom.childNodes,_e.fromDom),Re=(e,t)=>{const n=e.dom.childNodes;return C.from(n[t]).map(_e.fromDom)},Fe=(e,t)=>{Oe(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},Ne=(e,t)=>{Be(e).fold((()=>{Oe(e).each((e=>{Ue(e,t)}))}),(e=>{Fe(e,t)}))},Ve=(e,t)=>{const n=(e=>Re(e,0))(e);n.fold((()=>{Ue(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},Ue=(e,t)=>{e.dom.appendChild(t.dom)},He=(e,t)=>{Fe(e,t),Ue(t,e)},ze=(e,t)=>{O(t,((n,a)=>{const o=0===a?e:t[a-1];Ne(o,n)}))},je=(e,t)=>{O(t,(t=>{Ue(e,t)}))},Ze=e=>{e.dom.textContent="",O(Ie(e),(e=>{qe(e)}))},qe=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},$e=e=>{const t=Ie(e);t.length>0&&ze(e,t),qe(e)},We=(e,t)=>_e.fromDom(e.dom.cloneNode(t)),Ke=e=>We(e,!1),Ge=e=>We(e,!0),Ye=(e,t)=>{const n=_e.fromTag(t),a=we(e);return fe(n,a),n},Xe=["tfoot","thead","tbody","colgroup"],Qe=(e,t,n)=>({element:e,rowspan:t,colspan:n}),Je=(e,t,n)=>({element:e,cells:t,section:n}),et=(e,t,n)=>({element:e,isNew:t,isLocked:n}),tt=(e,t,n,a)=>({element:e,cells:t,section:n,isNew:a}),nt=u(Element.prototype.attachShadow)&&u(Node.prototype.getRootNode),at=h(nt),ot=nt?e=>_e.fromDom(e.dom.getRootNode()):Te,st=e=>_e.fromDom(e.dom.host),it=e=>{const t=de(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return(e=>{const t=ot(e);return ue(n=t)&&c(n.dom.host)?C.some(t):C.none();var n})(_e.fromDom(t)).fold((()=>n.body.contains(t)),(a=it,o=st,e=>a(o(e))));var a,o},rt=e=>{const t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return _e.fromDom(t)},lt=(e,t)=>{let n=[];return O(Ie(e),(e=>{t(e)&&(n=n.concat([e])),n=n.concat(lt(e,t))})),n},dt=(e,t,n)=>((e,n,a)=>P(Pe(e,a),(e=>Ce(e,t))))(e,0,n),ct=(e,t)=>((e,n)=>P(Ie(e),(e=>Ce(e,t))))(e),ut=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return De(n)?[]:T(n.querySelectorAll(e),_e.fromDom)})(t,e);var mt=(e,t,n,a,o)=>e(n,a)?C.some(n):u(o)&&o(n)?C.none():t(n,a,o);const pt=(e,t,n)=>{let a=e.dom;const o=u(n)?n:y;for(;a.parentNode;){a=a.parentNode;const e=_e.fromDom(a);if(t(e))return C.some(e);if(o(e))break}return C.none()},ht=(e,t,n)=>mt(((e,t)=>t(e)),pt,e,t,n),ft=(e,t,n)=>pt(e,(e=>Ce(e,t)),n),gt=(e,t)=>((e,n)=>I(e.dom.childNodes,(e=>{return n=_e.fromDom(e),Ce(n,t);var n})).map(_e.fromDom))(e),vt=(e,t)=>xe(t,e),bt=(e,t,n)=>mt(((e,t)=>Ce(e,t)),ft,e,t,n),wt=(e,t,n=g)=>e.exists((e=>n(e,t))),yt=e=>{const t=[],n=e=>{t.push(e)};for(let a=0;a<e.length;a++)e[a].each(n);return t},_t=(e,t)=>e?C.some(t):C.none(),Ct=(e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t,Dt=(e,t,n=0,a)=>{const o=e.indexOf(t,n);return-1!==o&&(!!d(a)||o+t.length<=a)},xt=(e,t)=>Ct(e,t,0),kt=(e,t)=>Ct(e,t,e.length-t.length),Et=(e=>t=>t.replace(e,""))(/^\s+|\s+$/g),St=e=>e.length>0,At=e=>void 0!==e.style&&u(e.style.getPropertyValue),Tt=(e,t,n)=>{if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);At(e)&&e.style.setProperty(t,n)},Ot=(e,t,n)=>{const a=e.dom;Tt(a,t,n)},Lt=(e,t)=>{const n=e.dom;W(t,((e,t)=>{Tt(n,t,e)}))},Pt=(e,t)=>{const n=e.dom,a=window.getComputedStyle(n).getPropertyValue(t);return""!==a||it(e)?a:Mt(n,t)},Mt=(e,t)=>At(e)?e.style.getPropertyValue(t):"",Bt=(e,t)=>{const n=e.dom,a=Mt(n,t);return C.from(a).filter((e=>e.length>0))},It=(e,t)=>{((e,t)=>{At(e)&&e.style.removeProperty(t)})(e.dom,t),wt(ve(e,"style").map(Et),"")&&be(e,"style")},Rt=(e,t,n=0)=>ve(e,t).map((e=>parseInt(e,10))).getOr(n),Ft=(e,t)=>Rt(e,t,1),Nt=e=>me("col")(e)?Rt(e,"span",1)>1:Ft(e,"colspan")>1,Vt=e=>Ft(e,"rowspan")>1,Ut=(e,t)=>parseInt(Pt(e,t),10),Ht=h(10),zt=h(10),jt=(e,t)=>Zt(e,t,_),Zt=(e,t,n)=>N(Ie(e),(e=>Ce(e,t)?n(e)?[e]:[]:Zt(e,t,n))),qt=(e,t)=>((e,t,n=y)=>n(t)?C.none():E(e,ae(t))?C.some(t):ft(t,e.join(","),(e=>Ce(e,"table")||n(e))))(["td","th"],e,t),$t=e=>jt(e,"th,td"),Wt=e=>Ce(e,"colgroup")?ct(e,"col"):N(Yt(e),(e=>ct(e,"col"))),Kt=(e,t)=>bt(e,"table",t),Gt=e=>jt(e,"tr"),Yt=e=>Kt(e).fold(h([]),(e=>ct(e,"colgroup"))),Xt=(e,t)=>T(e,(e=>{if("colgroup"===ae(e)){const t=T(Wt(e),(e=>{const t=Rt(e,"span",1);return Qe(e,1,t)}));return Je(e,t,"colgroup")}{const n=T($t(e),(e=>{const t=Rt(e,"rowspan",1),n=Rt(e,"colspan",1);return Qe(e,t,n)}));return Je(e,n,t(e))}})),Qt=e=>Oe(e).map((e=>{const t=ae(e);return(e=>E(Xe,e))(t)?t:"tbody"})).getOr("tbody"),Jt=e=>{const t=Gt(e),n=[...Yt(e),...t];return Xt(n,Qt)},en=e=>{let t,n=!1;return(...a)=>(n||(n=!0,t=e.apply(null,a)),t)},tn=()=>nn(0,0),nn=(e,t)=>({major:e,minor:t}),an={nu:nn,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?tn():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const a=e[n];if(a.test(t))return a}})(e,t);if(!n)return{major:0,minor:0};const a=e=>Number(t.replace(n,"$"+e));return nn(a(1),a(2))})(e,n)},unknown:tn},on=(e,t)=>{const n=String(t).toLowerCase();return I(e,(e=>e.search(n)))},sn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,rn=e=>t=>Dt(t,e),ln=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Dt(e,"edge/")&&Dt(e,"chrome")&&Dt(e,"safari")&&Dt(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,sn],search:e=>Dt(e,"chrome")&&!Dt(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Dt(e,"msie")||Dt(e,"trident")},{name:"Opera",versionRegexes:[sn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:rn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:rn("firefox")},{name:"Safari",versionRegexes:[sn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Dt(e,"safari")||Dt(e,"mobile/"))&&Dt(e,"applewebkit")}],dn=[{name:"Windows",search:rn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Dt(e,"iphone")||Dt(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:rn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:rn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:rn("linux"),versionRegexes:[]},{name:"Solaris",search:rn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:rn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:rn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],cn={browsers:h(ln),oses:h(dn)},un="Edge",mn="Chromium",pn="Opera",hn="Firefox",fn="Safari",gn=e=>{const t=e.current,n=e.version,a=e=>()=>t===e;return{current:t,version:n,isEdge:a(un),isChromium:a(mn),isIE:a("IE"),isOpera:a(pn),isFirefox:a(hn),isSafari:a(fn)}},vn=()=>gn({current:void 0,version:an.unknown()}),bn=gn,wn=(h(un),h(mn),h("IE"),h(pn),h(hn),h(fn),"Windows"),yn="Android",_n="Linux",Cn="macOS",Dn="Solaris",xn="FreeBSD",kn="ChromeOS",En=e=>{const t=e.current,n=e.version,a=e=>()=>t===e;return{current:t,version:n,isWindows:a(wn),isiOS:a("iOS"),isAndroid:a(yn),isMacOS:a(Cn),isLinux:a(_n),isSolaris:a(Dn),isFreeBSD:a(xn),isChromeOS:a(kn)}},Sn=()=>En({current:void 0,version:an.unknown()}),An=En,Tn=(h(wn),h("iOS"),h(yn),h(_n),h(Cn),h(Dn),h(xn),h(kn),e=>window.matchMedia(e).matches);let On=en((()=>((e,t,n)=>{const a=cn.browsers(),o=cn.oses(),s=t.bind((e=>((e,t)=>Z(t.brands,(t=>{const n=t.brand.toLowerCase();return I(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:an.nu(parseInt(t.version,10),0)})))})))(a,e))).orThunk((()=>((e,t)=>on(e,t).map((e=>{const n=an.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(a,e))).fold(vn,bn),i=((e,t)=>on(e,t).map((e=>{const n=an.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(o,e).fold(Sn,An),r=((e,t,n,a)=>{const o=e.isiOS()&&!0===/ipad/i.test(n),s=e.isiOS()&&!o,i=e.isiOS()||e.isAndroid(),r=i||a("(pointer:coarse)"),l=o||!s&&i&&a("(min-device-width:768px)"),d=s||i&&!l,c=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),u=!d&&!l&&!c;return{isiPad:h(o),isiPhone:h(s),isTablet:h(l),isPhone:h(d),isTouch:h(r),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:h(c),isDesktop:h(u)}})(i,s,e,n);return{browser:s,os:i,deviceType:r}})(navigator.userAgent,C.from(navigator.userAgentData),Tn)));const Ln=()=>On(),Pn=(e,t)=>{const n=n=>{const a=t(n);if(a<=0||null===a){const t=Pt(n,e);return parseFloat(t)||0}return a},a=(e,t)=>B(t,((t,n)=>{const a=Pt(e,n),o=void 0===a?0:parseInt(a,10);return isNaN(o)?t:t+o}),0);return{set:(t,n)=>{if(!m(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);const a=t.dom;At(a)&&(a.style[e]=n+"px")},get:n,getOuter:n,aggregate:a,max:(e,t,n)=>{const o=a(e,n);return t>o?t-o:0}}},Mn=(e,t,n)=>((e,t)=>(e=>{const t=parseFloat(e);return isNaN(t)?C.none():C.some(t)})(e).getOr(t))(Pt(e,t),n),Bn=Pn("width",(e=>e.dom.offsetWidth)),In=e=>Bn.get(e),Rn=e=>Bn.getOuter(e),Fn=e=>((e,t)=>{const n=e.dom,a=n.getBoundingClientRect().width||n.offsetWidth;return"border-box"===t?a:((e,t,n,a)=>t-Mn(e,`padding-${n}`,0)-Mn(e,`padding-${a}`,0)-Mn(e,`border-${n}-width`,0)-Mn(e,`border-${a}-width`,0))(e,a,"left","right")})(e,"content-box"),Nn=(e,t,n)=>{const a=e.cells,o=a.slice(0,t),s=a.slice(t),i=o.concat(n).concat(s);return Hn(e,i)},Vn=(e,t,n)=>Nn(e,t,[n]),Un=(e,t,n)=>{e.cells[t]=n},Hn=(e,t)=>tt(e.element,t,e.section,e.isNew),zn=(e,t)=>e.cells[t],jn=(e,t)=>zn(e,t).element,Zn=e=>e.cells.length,qn=e=>{const t=L(e,(e=>"colgroup"===e.section));return{rows:t.fail,cols:t.pass}},$n=(e,t,n)=>{const a=T(e.cells,n);return tt(t(e.element),a,e.section,!0)},Wn="data-snooker-locked-cols",Kn=e=>ve(e,Wn).bind((e=>C.from(e.match(/\d+/g)))).map((e=>U(e,_))),Gn=e=>{const t=B(qn(e).rows,((e,t)=>(O(t.cells,((t,n)=>{t.isLocked&&(e[n]=!0)})),e)),{}),n=Y(t,((e,t)=>parseInt(t,10)));return((e,t)=>{const n=D.call(e,0);return n.sort(void 0),n})(n)},Yn=(e,t)=>e+","+t,Xn=(e,t)=>{const n=N(e.all,(e=>e.cells));return P(n,t)},Qn=e=>{const t={},n=[],a=z(e).map((e=>e.element)).bind(Kt).bind(Kn).getOr({});let o=0,s=0,i=0;const{pass:r,fail:l}=L(e,(e=>"colgroup"===e.section));O(l,(e=>{const r=[];O(e.cells,(e=>{let n=0;for(;void 0!==t[Yn(i,n)];)n++;const o=((e,t)=>Q(e,t)&&void 0!==e[t]&&null!==e[t])(a,n.toString()),l=((e,t,n,a,o,s)=>({element:e,rowspan:t,colspan:n,row:a,column:o,isLocked:s}))(e.element,e.rowspan,e.colspan,i,n,o);for(let a=0;a<e.colspan;a++)for(let o=0;o<e.rowspan;o++){const e=n+a,r=Yn(i+o,e);t[r]=l,s=Math.max(s,e+1)}r.push(l)})),o++,n.push(Je(e.element,r,e.section)),i++}));const{columns:d,colgroups:c}=j(r).map((e=>{const t=(e=>{const t={};let n=0;return O(e.cells,(e=>{const a=e.colspan;A(a,(o=>{const s=n+o;t[s]=((e,t,n)=>({element:e,colspan:t,column:n}))(e.element,a,s)})),n+=a})),t})(e),n=((e,t)=>({element:e,columns:t}))(e.element,X(t));return{colgroups:[n],columns:t}})).getOrThunk((()=>({colgroups:[],columns:{}}))),u=((e,t)=>({rows:e,columns:t}))(o,s);return{grid:u,access:t,all:n,columns:d,colgroups:c}},Jn=e=>{const t=Jt(e);return Qn(t)},ea=Qn,ta=(e,t,n)=>C.from(e.access[Yn(t,n)]),na=(e,t,n)=>{const a=Xn(e,(e=>n(t,e.element)));return a.length>0?C.some(a[0]):C.none()},aa=Xn,oa=e=>N(e.all,(e=>e.cells)),sa=e=>X(e.columns),ia=e=>q(e.columns).length>0,ra=(e,t)=>C.from(e.columns[t]),la=(e,t=_)=>{const n=e.grid,a=A(n.columns,f),o=A(n.rows,f);return T(a,(n=>da((()=>N(o,(t=>ta(e,t,n).filter((e=>e.column===n)).toArray()))),(e=>1===e.colspan&&t(e.element)),(()=>ta(e,0,n)))))},da=(e,t,n)=>{const a=e();return I(a,t).orThunk((()=>C.from(a[0]).orThunk(n))).map((e=>e.element))},ca=e=>{const t=e.grid,n=A(t.rows,f),a=A(t.columns,f);return T(n,(t=>da((()=>N(a,(n=>ta(e,t,n).filter((e=>e.row===t)).fold(h([]),(e=>[e]))))),(e=>1===e.rowspan),(()=>ta(e,t,0)))))},ua=(e,t)=>n=>"rtl"===ma(n)?t:e,ma=e=>"rtl"===Pt(e,"direction")?"rtl":"ltr",pa=Pn("height",(e=>{const t=e.dom;return it(e)?t.getBoundingClientRect().height:t.offsetHeight})),ha=e=>pa.get(e),fa=e=>pa.getOuter(e),ga=(e,t)=>({left:e,top:t,translate:(n,a)=>ga(e+n,t+a)}),va=ga,ba=(e,t)=>void 0!==e?e:void 0!==t?t:0,wa=e=>{const t=e.dom.ownerDocument,n=t.body,a=t.defaultView,o=t.documentElement;if(n===e.dom)return va(n.offsetLeft,n.offsetTop);const s=ba(null==a?void 0:a.pageYOffset,o.scrollTop),i=ba(null==a?void 0:a.pageXOffset,o.scrollLeft),r=ba(o.clientTop,n.clientTop),l=ba(o.clientLeft,n.clientLeft);return ya(e).translate(i-l,s-r)},ya=e=>{const t=e.dom,n=t.ownerDocument.body;return n===t?va(n.offsetLeft,n.offsetTop):it(e)?(e=>{const t=e.getBoundingClientRect();return va(t.left,t.top)})(t):va(0,0)},_a=(e,t)=>({row:e,y:t}),Ca=(e,t)=>({col:e,x:t}),Da=e=>wa(e).left+Rn(e),xa=e=>wa(e).left,ka=(e,t)=>Ca(e,xa(t)),Ea=(e,t)=>Ca(e,Da(t)),Sa=e=>wa(e).top,Aa=(e,t)=>_a(e,Sa(t)),Ta=(e,t)=>_a(e,Sa(t)+fa(t)),Oa=(e,t,n)=>{if(0===n.length)return[];const a=T(n.slice(1),((t,n)=>t.map((t=>e(n,t))))),o=n[n.length-1].map((e=>t(n.length-1,e)));return a.concat([o])},La={delta:f,positions:e=>Oa(Aa,Ta,e),edge:Sa},Pa=ua({delta:f,edge:xa,positions:e=>Oa(ka,Ea,e)},{delta:e=>-e,edge:Da,positions:e=>Oa(Ea,ka,e)}),Ma={delta:(e,t)=>Pa(t).delta(e,t),positions:(e,t)=>Pa(t).positions(e,t),edge:e=>Pa(e).edge(e)},Ba={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Ia=(()=>{const e="[0-9]+",t="[eE][+-]?"+e,n=e=>`(?:${e})?`,a=["Infinity",e+"\\."+n(e)+n(t),"\\."+e+n(t),e+n(t)].join("|");return new RegExp(`^([+-]?(?:${a}))(.*)$`)})(),Ra=/(\d+(\.\d+)?)%/,Fa=/(\d+(\.\d+)?)px|em/,Na=me("col"),Va=(e,t,n)=>{const a=Le(e).getOrThunk((()=>rt(Ae(e))));return t(e)/n(a)*100},Ua=(e,t)=>{Ot(e,"width",t+"px")},Ha=(e,t)=>{Ot(e,"width",t+"%")},za=(e,t)=>{Ot(e,"height",t+"px")},ja=e=>{const t=(e=>{return Mn(t=e,"height",t.dom.offsetHeight)+"px";var t})(e);return t?((e,t,n,a)=>{const o=parseFloat(e);return kt(e,"%")&&"table"!==ae(t)?((e,t,n,a)=>{const o=Kt(e).map((e=>{const a=n(e);return Math.floor(t/100*a)})).getOr(t);return a(e,o),o})(t,o,n,a):o})(t,e,ha,za):ha(e)},Za=(e,t)=>Bt(e,t).orThunk((()=>ve(e,t).map((e=>e+"px")))),qa=e=>Za(e,"width"),$a=e=>Va(e,In,Fn),Wa=e=>{return Na(e)?In(e):Mn(t=e,"width",t.dom.offsetWidth);var t},Ka=e=>((e,t,n)=>n(e)/Ft(e,"rowspan"))(e,0,ja),Ga=(e,t,n)=>{Ot(e,"width",t+n)},Ya=e=>Va(e,In,Fn)+"%",Xa=h(Ra),Qa=me("col"),Ja=e=>qa(e).getOrThunk((()=>Wa(e)+"px")),eo=e=>{return(t=e,Za(t,"height")).getOrThunk((()=>Ka(e)+"px"));var t},to=(e,t,n,a,o,s)=>e.filter(a).fold((()=>s(((e,t)=>{if(t<0||t>=e.length-1)return C.none();const n=e[t].fold((()=>{const n=(e=>{const t=D.call(e,0);return t.reverse(),t})(e.slice(0,t));return Z(n,((e,t)=>e.map((e=>({value:e,delta:t+1})))))}),(e=>C.some({value:e,delta:0}))),a=e[t+1].fold((()=>{const n=e.slice(t+1);return Z(n,((e,t)=>e.map((e=>({value:e,delta:t+1})))))}),(e=>C.some({value:e,delta:1})));return n.bind((e=>a.map((t=>{const n=t.delta+e.delta;return Math.abs(t.value-e.value)/n}))))})(n,t))),(e=>o(e))),no=(e,t,n,a)=>{const o=la(e),s=ia(e)?(e=>T(sa(e),(e=>C.from(e.element))))(e):o,i=[C.some(Ma.edge(t))].concat(T(Ma.positions(o,t),(e=>e.map((e=>e.x))))),r=b(Nt);return T(s,((e,t)=>to(e,t,i,r,(e=>{if((e=>{const t=Ln().browser,n=t.isChromium()||t.isFirefox();return!Qa(e)||n})(e))return n(e);{const e=null!=(s=o[t])?f(s):C.none();return to(e,t,i,r,(e=>a(C.some(In(e)))),a)}var s}),a)))},ao=e=>e.map((e=>e+"px")).getOr(""),oo=(e,t,n)=>no(e,t,Wa,(e=>e.getOrThunk(n.minCellWidth))),so=(e,t,n,a,o)=>{const s=ca(e),i=[C.some(n.edge(t))].concat(T(n.positions(s,t),(e=>e.map((e=>e.y)))));return T(s,((e,t)=>to(e,t,i,b(Vt),a,o)))},io=(e,t)=>()=>it(e)?t(e):parseFloat(Bt(e,"width").getOr("0")),ro=e=>{const t=io(e,(e=>parseFloat(Ya(e)))),n=io(e,In);return{width:t,pixelWidth:n,getWidths:(t,n)=>((e,t,n)=>no(e,t,$a,(e=>e.fold((()=>n.minCellWidth()),(e=>e/n.pixelWidth()*100)))))(t,e,n),getCellDelta:e=>e/n()*100,singleColumnWidth:(e,t)=>[100-e],minCellWidth:()=>Ht()/n()*100,setElementWidth:Ha,adjustTableWidth:n=>{const a=t();Ha(e,a+n/100*a)},isRelative:!0,label:"percent"}},lo=e=>{const t=io(e,In);return{width:t,pixelWidth:t,getWidths:(t,n)=>oo(t,e,n),getCellDelta:f,singleColumnWidth:(e,t)=>[Math.max(Ht(),e+t)-e],minCellWidth:Ht,setElementWidth:Ua,adjustTableWidth:n=>{const a=t()+n;Ua(e,a)},isRelative:!1,label:"pixel"}},co=e=>qa(e).fold((()=>(e=>{const t=io(e,In),n=h(0);return{width:t,pixelWidth:t,getWidths:(t,n)=>oo(t,e,n),getCellDelta:n,singleColumnWidth:h([0]),minCellWidth:n,setElementWidth:p,adjustTableWidth:p,isRelative:!0,label:"none"}})(e)),(t=>((e,t)=>null!==Xa().exec(t)?ro(e):lo(e))(e,t))),uo=lo,mo=ro,po=(e,t,n)=>{const a=e[n].element,o=_e.fromTag("td");Ue(o,_e.fromTag("br")),(t?Ue:Ve)(a,o)},ho=((e,t)=>{const n=t=>e(t)?C.from(t.dom.nodeValue):C.none();return{get:t=>{if(!e(t))throw new Error("Can only get text value of a text node");return n(t).getOr("")},getOption:n,set:(t,n)=>{if(!e(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=n}}})(de),fo=e=>ho.get(e),go=e=>ho.getOption(e),vo=(e,t)=>ho.set(e,t),bo=e=>"img"===ae(e)?1:go(e).fold((()=>Ie(e).length),(e=>e.length)),wo=["img","br"],yo=e=>go(e).filter((e=>0!==e.trim().length||e.indexOf(" ")>-1)).isSome()||E(wo,ae(e))||(e=>re(e)&&"false"===ge(e,"contenteditable"))(e),_o=e=>((e,t)=>{const n=e=>{for(let a=0;a<e.childNodes.length;a++){const o=_e.fromDom(e.childNodes[a]);if(t(o))return C.some(o);const s=n(e.childNodes[a]);if(s.isSome())return s}return C.none()};return n(e.dom)})(e,yo),Co=e=>Do(e,yo),Do=(e,t)=>{const n=e=>{const a=Ie(e);for(let o=a.length-1;o>=0;o--){const e=a[o];if(t(e))return C.some(e);const s=n(e);if(s.isSome())return s}return C.none()};return n(e)},xo={scope:["row","col"]},ko=e=>()=>{const t=_e.fromTag("td",e.dom);return Ue(t,_e.fromTag("br",e.dom)),t},Eo=e=>()=>_e.fromTag("col",e.dom),So=e=>()=>_e.fromTag("colgroup",e.dom),Ao=e=>()=>_e.fromTag("tr",e.dom),To=(e,t,n)=>{const a=((e,t)=>{const n=Ye(e,t),a=Ie(Ge(e));return je(n,a),n})(e,t);return W(n,((e,t)=>{null===e?be(a,t):he(a,t,e)})),a},Oo=e=>e,Lo=(e,t,n)=>{const a=(e,t)=>{((e,t)=>{const n=e.dom,a=t.dom;At(n)&&At(a)&&(a.style.cssText=n.style.cssText)})(e.element,t),It(t,"height"),1!==e.colspan&&It(t,"width")};return{col:n=>{const o=_e.fromTag(ae(n.element),t.dom);return a(n,o),e(n.element,o),o},colgroup:So(t),row:Ao(t),cell:o=>{const s=_e.fromTag(ae(o.element),t.dom),i=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),r=i.length>0?((e,t,n)=>_o(e).map((a=>{const o=n.join(","),s=dt(a,o,(t=>ke(t,e)));return M(s,((e,t)=>{const n=Ke(t);return Ue(e,n),n}),t)})).getOr(t))(o.element,s,i):s;return Ue(r,_e.fromTag("br")),a(o,s),((e,t)=>{W(xo,((n,a)=>ve(e,a).filter((e=>E(n,e))).each((e=>he(t,a,e)))))})(o.element,s),e(o.element,s),s},replace:To,colGap:Eo(t),gap:ko(t)}},Po=e=>({col:Eo(e),colgroup:So(e),row:Ao(e),cell:ko(e),replace:Oo,colGap:Eo(e),gap:ko(e)}),Mo=e=>t=>t.options.get(e),Bo="100%",Io=e=>{var t;const n=e.dom,a=null!==(t=n.getParent(e.selection.getStart(),n.isBlock))&&void 0!==t?t:e.getBody();return Fn(_e.fromDom(a))+"px"},Ro=e=>C.from(e.options.get("table_clone_elements")),Fo=Mo("table_header_type"),No=Mo("table_column_resizing"),Vo=e=>"preservetable"===No(e),Uo=e=>"resizetable"===No(e),Ho=Mo("table_sizing_mode"),zo=e=>"relative"===Ho(e),jo=e=>"fixed"===Ho(e),Zo=e=>"responsive"===Ho(e),qo=Mo("table_resize_bars"),$o=Mo("table_style_by_css"),Wo=Mo("table_merge_content_on_paste"),Ko=e=>{const t=e.options,n=t.get("table_default_attributes");return t.isSet("table_default_attributes")?n:((e,t)=>Zo(e)||$o(e)?t:jo(e)?{...t,width:Io(e)}:{...t,width:Bo})(e,n)},Go=Mo("table_use_colgroups"),Yo=e=>bt(e,"[contenteditable]"),Xo=(e,t=!1)=>it(e)?e.dom.isContentEditable:Yo(e).fold(h(t),(e=>"true"===Qo(e))),Qo=e=>e.dom.contentEditable,Jo=e=>_e.fromDom(e.getBody()),es=e=>t=>ke(t,Jo(e)),ts=e=>{be(e,"data-mce-style");const t=e=>be(e,"data-mce-style");O($t(e),t),O(Wt(e),t),O(Gt(e),t)},ns=e=>_e.fromDom(e.selection.getStart()),as=e=>e.getBoundingClientRect().width,os=e=>e.getBoundingClientRect().height,ss=e=>ht(e,me("table")).exists(Xo),is=(e,t)=>{const n=t.column,a=t.column+t.colspan-1,o=t.row,s=t.row+t.rowspan-1;return n<=e.finishCol&&a>=e.startCol&&o<=e.finishRow&&s>=e.startRow},rs=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,ls=(e,t,n)=>{const a=na(e,t,ke),o=na(e,n,ke);return a.bind((e=>o.map((t=>{return n=e,a=t,{startRow:Math.min(n.row,a.row),startCol:Math.min(n.column,a.column),finishRow:Math.max(n.row+n.rowspan-1,a.row+a.rowspan-1),finishCol:Math.max(n.column+n.colspan-1,a.column+a.colspan-1)};var n,a}))))},ds=(e,t,n)=>ls(e,t,n).map((t=>{const n=aa(e,v(is,t));return T(n,(e=>e.element))})),cs=(e,t)=>na(e,t,((e,t)=>Ee(t,e))).map((e=>e.element)),us=(e,t,n)=>{const a=ps(e);return ds(a,t,n)},ms=(e,t,n,a,o)=>{const s=ps(e),i=ke(e,n)?C.some(t):cs(s,t),r=ke(e,o)?C.some(a):cs(s,a);return i.bind((e=>r.bind((t=>ds(s,e,t)))))},ps=Jn;var hs=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],fs=()=>({up:h({selector:ft,closest:bt,predicate:pt,all:Pe}),down:h({selector:ut,predicate:lt}),styles:h({get:Pt,getRaw:Bt,set:Ot,remove:It}),attrs:h({get:ge,set:he,remove:be,copyTo:(e,t)=>{const n=we(e);fe(t,n)}}),insert:h({before:Fe,after:Ne,afterAll:ze,append:Ue,appendAll:je,prepend:Ve,wrap:He}),remove:h({unwrap:$e,remove:qe}),create:h({nu:_e.fromTag,clone:e=>_e.fromDom(e.dom.cloneNode(!1)),text:_e.fromText}),query:h({comparePosition:(e,t)=>e.dom.compareDocumentPosition(t.dom),prevSibling:Me,nextSibling:Be}),property:h({children:Ie,name:ae,parent:Oe,document:e=>Te(e).dom,isText:de,isComment:ie,isElement:le,isSpecial:e=>{const t=ae(e);return E(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)},getLanguage:e=>le(e)?ve(e,"lang"):C.none(),getText:fo,setText:vo,isBoundary:e=>!!le(e)&&("body"===ae(e)||E(hs,ae(e))),isEmptyTag:e=>!!le(e)&&E(["br","img","hr","input"],ae(e)),isNonEditable:e=>le(e)&&"false"===ge(e,"contenteditable")}),eq:ke,is:Se});const gs=(e,t,n,a)=>{const o=t(e,n);return M(a,((n,a)=>{const o=t(e,a);return vs(e,n,o)}),o)},vs=(e,t,n)=>t.bind((t=>n.filter(v(e.eq,t)))),bs=fs(),ws=(e,t)=>((e,t,n)=>n.length>0?((e,t,n,a)=>a(e,t,n[0],n.slice(1)))(e,t,n,gs):C.none())(bs,((t,n)=>e(n)),t),ys=e=>ft(e,"table"),_s=(e,t,n)=>{const a=e=>t=>void 0!==n&&n(t)||ke(t,e);return ke(e,t)?C.some({boxes:C.some([e]),start:e,finish:t}):ys(e).bind((o=>ys(t).bind((s=>{if(ke(o,s))return C.some({boxes:us(o,e,t),start:e,finish:t});if(Ee(o,s)){const n=dt(t,"td,th",a(o)),i=n.length>0?n[n.length-1]:t;return C.some({boxes:ms(o,e,o,t,s),start:e,finish:i})}if(Ee(s,o)){const n=dt(e,"td,th",a(s)),i=n.length>0?n[n.length-1]:e;return C.some({boxes:ms(s,e,o,t,s),start:e,finish:i})}return((e,t,n)=>((e,t,n,a=y)=>{const o=[t].concat(e.up().all(t)),s=[n].concat(e.up().all(n)),i=e=>R(e,a).fold((()=>e),(t=>e.slice(0,t+1))),r=i(o),l=i(s),d=I(r,(t=>S(l,((e,t)=>v(e.eq,t))(e,t))));return{firstpath:r,secondpath:l,shared:d}})(bs,e,t,void 0))(e,t).shared.bind((i=>bt(i,"table",n).bind((n=>{const i=dt(t,"td,th",a(n)),r=i.length>0?i[i.length-1]:t,l=dt(e,"td,th",a(n)),d=l.length>0?l[l.length-1]:e;return C.some({boxes:ms(n,e,o,t,s),start:d,finish:r})}))))}))))},Cs=(e,t)=>{const n=ut(e,t);return n.length>0?C.some(n):C.none()},Ds=(e,t,n)=>vt(e,t).bind((t=>vt(e,n).bind((e=>ws(ys,[t,e]).map((n=>({first:t,last:e,table:n}))))))),xs=(e,t,n,a,o)=>((e,t)=>I(e,(e=>Ce(e,t))))(e,o).bind((e=>((e,t,n)=>Kt(e).bind((a=>((e,t,n,a)=>na(e,t,ke).bind((t=>{const o=n>0?t.row+t.rowspan-1:t.row,s=a>0?t.column+t.colspan-1:t.column;return ta(e,o+n,s+a).map((e=>e.element))})))(ps(a),e,t,n))))(e,t,n).bind((e=>((e,t)=>ft(e,"table").bind((n=>vt(n,t).bind((t=>_s(t,e).bind((e=>e.boxes.map((t=>({boxes:t,start:e.start,finish:e.finish}))))))))))(e,a))))),ks=(e,t)=>Cs(e,t),Es=(e,t,n)=>Ds(e,t,n).bind((t=>{const n=t=>ke(e,t),a="thead,tfoot,tbody,table",o=ft(t.first,a,n),s=ft(t.last,a,n);return o.bind((e=>s.bind((n=>ke(e,n)?((e,t,n)=>((e,t,n)=>ls(e,t,n).bind((t=>((e,t)=>{let n=!0;const a=v(rs,t);for(let o=t.startRow;o<=t.finishRow;o++)for(let s=t.startCol;s<=t.finishCol;s++)n=n&&ta(e,o,s).exists(a);return n?C.some(t):C.none()})(e,t))))(ps(e),t,n))(t.table,t.first,t.last):C.none()))))})),Ss=f,As=e=>{const t=(e,t)=>ve(e,t).exists((e=>parseInt(e,10)>1));return e.length>0&&V(e,(e=>t(e,"rowspan")||t(e,"colspan")))?C.some(e):C.none()},Ts=(e,t,n)=>t.length<=1?C.none():Es(e,n.firstSelectedSelector,n.lastSelectedSelector).map((e=>({bounds:e,cells:t}))),Os="data-mce-selected",Ls="data-mce-first-selected",Ps="data-mce-last-selected",Ms="["+Os+"]",Bs={selected:Os,selectedSelector:"td["+Os+"],th["+Os+"]",firstSelected:Ls,firstSelectedSelector:"td["+Ls+"],th["+Ls+"]",lastSelected:Ps,lastSelectedSelector:"td["+Ps+"],th["+Ps+"]"},Is=(e,t,n)=>({element:n,mergable:Ts(t,e,Bs),unmergable:As(e),selection:Ss(e)}),Rs=e=>(t,n)=>{const a=ae(t),o="col"===a||"colgroup"===a?Kt(s=t).bind((e=>ks(e,Bs.firstSelectedSelector))).fold(h(s),(e=>e[0])):t;var s;return bt(o,e,n)},Fs=Rs("th,td,caption"),Ns=Rs("th,td"),Vs=e=>{return t=e.model.table.getSelectedCells(),T(t,_e.fromDom);var t},Us=(e,t)=>{e.on("BeforeGetContent",(t=>{const n=n=>{t.preventDefault(),(e=>Kt(e[0]).map((e=>{const t=((e,t)=>{const n=e=>Ce(e.element,t),a=Ge(e),o=Jt(a),s=co(e),i=ea(o),r=((e,t)=>{const n=e.grid.columns;let a=e.grid.rows,o=n,s=0,i=0;const r=[],l=[];return W(e.access,(e=>{if(r.push(e),t(e)){l.push(e);const t=e.row,n=t+e.rowspan-1,r=e.column,d=r+e.colspan-1;t<a?a=t:n>s&&(s=n),r<o?o=r:d>i&&(i=d)}})),((e,t,n,a,o,s)=>({minRow:e,minCol:t,maxRow:n,maxCol:a,allCells:o,selectedCells:s}))(a,o,s,i,r,l)})(i,n),l="th:not("+t+"),td:not("+t+")",d=Zt(a,"th,td",(e=>Ce(e,l)));O(d,qe),((e,t,n,a)=>{const o=P(e,(e=>"colgroup"!==e.section)),s=t.grid.columns,i=t.grid.rows;for(let r=0;r<i;r++){let e=!1;for(let i=0;i<s;i++)r<n.minRow||r>n.maxRow||i<n.minCol||i>n.maxCol||(ta(t,r,i).filter(a).isNone()?po(o,e,r):e=!0)}})(o,i,r,n);const c=((e,t,n,a)=>{if(0===a.minCol&&t.grid.columns===a.maxCol+1)return 0;const o=oo(t,e,n),s=B(o,((e,t)=>e+t),0),i=B(o.slice(a.minCol,a.maxCol+1),((e,t)=>e+t),0),r=i/s*n.pixelWidth()-n.pixelWidth();return n.getCellDelta(r)})(e,Jn(e),s,r);return((e,t,n,a)=>{W(n.columns,(e=>{(e.column<t.minCol||e.column>t.maxCol)&&qe(e.element)}));const o=P(jt(e,"tr"),(e=>0===e.dom.childElementCount));O(o,qe),t.minCol!==t.maxCol&&t.minRow!==t.maxRow||O(jt(e,"th,td"),(e=>{be(e,"rowspan"),be(e,"colspan")})),be(e,Wn),be(e,"data-snooker-col-series"),co(e).adjustTableWidth(a)})(a,r,i,c),a})(e,Ms);return ts(t),[t]})))(n).each((n=>{t.content="text"===t.format?(e=>T(e,(e=>e.dom.innerText)).join(""))(n):((e,t)=>T(t,(t=>e.selection.serializer.serialize(t.dom,{}))).join(""))(e,n)}))};if(!0===t.selection){const t=(e=>P(Vs(e),(e=>Ce(e,Bs.selectedSelector))))(e);t.length>=1&&n(t)}})),e.on("BeforeSetContent",(n=>{if(!0===n.selection&&!0===n.paste){const a=Vs(e);z(a).each((a=>{Kt(a).each((o=>{const s=P(((e,t)=>{const n=document.createElement("div");return n.innerHTML=e,Ie(_e.fromDom(n))})(n.content),(e=>"meta"!==ae(e))),i=me("table");if(Wo(e)&&1===s.length&&i(s[0])){n.preventDefault();const i=_e.fromDom(e.getDoc()),r=Po(i),l=((e,t,n)=>({element:e,clipboard:t,generators:n}))(a,s[0],r);t.pasteCells(o,l).each((()=>{e.focus()}))}}))}))}}))},Hs=(e,t)=>({element:e,offset:t}),zs=(e,t,n)=>e.property().isText(t)&&0===e.property().getText(t).trim().length||e.property().isComment(t)?n(t).bind((t=>zs(e,t,n).orThunk((()=>C.some(t))))):C.none(),js=(e,t)=>e.property().isText(t)?e.property().getText(t).length:e.property().children(t).length,Zs=(e,t)=>{const n=zs(e,t,e.query().prevSibling).getOr(t);if(e.property().isText(n))return Hs(n,js(e,n));const a=e.property().children(n);return a.length>0?Zs(e,a[a.length-1]):Hs(n,js(e,n))},qs=Zs,$s=fs(),Ws=(e,t)=>{if(!Nt(e)){const n=(e=>qa(e).bind((e=>{return t=e,n=["fixed","relative","empty"],C.from(Ia.exec(t)).bind((e=>{const t=Number(e[1]),a=e[2];return((e,t)=>S(t,(t=>S(Ba[t],(t=>e===t)))))(a,n)?C.some({value:t,unit:a}):C.none()}));var t,n})))(e);n.each((n=>{const a=n.value/2;Ga(e,a,n.unit),Ga(t,a,n.unit)}))}},Ks=e=>T(e,h(0)),Gs=(e,t,n,a,o)=>o(e.slice(0,t)).concat(a).concat(o(e.slice(n))),Ys=e=>(t,n,a,o)=>{if(e(a)){const e=Math.max(o,t[n]-Math.abs(a)),s=Math.abs(e-t[n]);return a>=0?s:-s}return a},Xs=Ys((e=>e<0)),Qs=Ys(_),Js=()=>{const e=(e,t,n,a)=>{const o=(100+n)/100,s=Math.max(a,(e[t]+n)/o);return T(e,((e,n)=>(n===t?s:e/o)-e))},t=(t,n,a,o,s,i)=>i?e(t,n,o,s):((e,t,n,a,o)=>{const s=Xs(e,t,a,o);return Gs(e,t,n+1,[s,0],Ks)})(t,n,a,o,s);return{resizeTable:(e,t)=>e(t),clampTableDelta:Xs,calcLeftEdgeDeltas:t,calcMiddleDeltas:(e,n,a,o,s,i,r)=>t(e,a,o,s,i,r),calcRightEdgeDeltas:(t,n,a,o,s,i)=>{if(i)return e(t,a,o,s);{const e=Xs(t,a,o,s);return Ks(t.slice(0,a)).concat([e])}},calcRedestributedWidths:(e,t,n,a)=>{if(a){const a=(t+n)/t,o=T(e,(e=>e/a));return{delta:100*a-100,newSizes:o}}return{delta:n,newSizes:e}}}},ei=()=>{const e=(e,t,n,a,o)=>{const s=Qs(e,a>=0?n:t,a,o);return Gs(e,t,n+1,[s,-s],Ks)};return{resizeTable:(e,t,n)=>{n&&e(t)},clampTableDelta:(e,t,n,a,o)=>{if(o){if(n>=0)return n;{const t=B(e,((e,t)=>e+t-a),0);return Math.max(-t,n)}}return Xs(e,t,n,a)},calcLeftEdgeDeltas:e,calcMiddleDeltas:(t,n,a,o,s,i)=>e(t,a,o,s,i),calcRightEdgeDeltas:(e,t,n,a,o,s)=>{if(s)return Ks(e);{const t=a/e.length;return T(e,h(t))}},calcRedestributedWidths:(e,t,n,a)=>({delta:0,newSizes:e})}},ti=e=>Jn(e).grid,ni=me("th"),ai=e=>V(e,(e=>ni(e.element))),oi=(e,t)=>e&&t?"sectionCells":e?"section":"cells",si=e=>{const t="thead"===e.section,n=wt(ii(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||n?{type:"header",subType:oi(t,n)}:{type:"body"}},ii=e=>{const t=P(e,(e=>ni(e.element)));return 0===t.length?C.some("td"):t.length===e.length?C.some("th"):C.none()},ri=(e,t,n)=>et(n(e.element,t),!0,e.isLocked),li=(e,t)=>e.section!==t?tt(e.element,e.cells,t,e.isNew):e,di=()=>({transformRow:li,transformCell:(e,t,n)=>{const a=n(e.element,t),o="td"!==ae(a)?((e,t)=>{const n=Ye(e,"td");Ne(e,n);const a=Ie(e);return je(n,a),qe(e),n})(a):a;return et(o,e.isNew,e.isLocked)}}),ci=()=>({transformRow:li,transformCell:ri}),ui=()=>({transformRow:(e,t)=>li(e,"thead"===t?"tbody":t),transformCell:ri}),mi=di,pi=ci,hi=ui,fi=()=>({transformRow:f,transformCell:ri}),gi=(e,t,n,a)=>{n===a?be(e,t):he(e,t,n)},vi=(e,t,n)=>{j(ct(e,t)).fold((()=>Ve(e,n)),(e=>Ne(e,n)))},bi=(e,t)=>{const n=[],a=[],o=e=>T(e,(e=>{e.isNew&&n.push(e.element);const t=e.element;return Ze(t),O(e.cells,(e=>{e.isNew&&a.push(e.element),gi(e.element,"colspan",e.colspan,1),gi(e.element,"rowspan",e.rowspan,1),Ue(t,e.element)})),t})),s=e=>N(e,(e=>T(e.cells,(e=>(gi(e.element,"span",e.colspan,1),e.element))))),i=(t,n)=>{const a=((e,t)=>{const n=gt(e,t).getOrThunk((()=>{const n=_e.fromTag(t,Ae(e).dom);return"thead"===t?vi(e,"caption,colgroup",n):"colgroup"===t?vi(e,"caption",n):Ue(e,n),n}));return Ze(n),n})(e,n),i=("colgroup"===n?s:o)(t);je(a,i)},r=(t,n)=>{t.length>0?i(t,n):(t=>{gt(e,t).each(qe)})(n)},l=[],d=[],c=[],u=[];return O(t,(e=>{switch(e.section){case"thead":l.push(e);break;case"tbody":d.push(e);break;case"tfoot":c.push(e);break;case"colgroup":u.push(e)}})),r(u,"colgroup"),r(l,"thead"),r(d,"tbody"),r(c,"tfoot"),{newRows:n,newCells:a}},wi=(e,t)=>{if(0===e.length)return 0;const n=e[0];return R(e,(e=>!t(n.element,e.element))).getOr(e.length)},yi=(e,t)=>{const n=T(e,(e=>T(e.cells,y)));return T(e,((a,o)=>{const s=N(a.cells,((a,s)=>{if(!1===n[o][s]){const c=((e,t,n,a)=>{const o=((e,t)=>e[t])(e,t),s="colgroup"===o.section,i=wi(o.cells.slice(n),a),r=s?1:wi(((e,t)=>T(e,(e=>zn(e,t))))(e.slice(t),n),a);return{colspan:i,rowspan:r}})(e,o,s,t);return((e,t,a,o)=>{for(let s=e;s<e+a;s++)for(let e=t;e<t+o;e++)n[s][e]=!0})(o,s,c.rowspan,c.colspan),[(i=a.element,r=c.rowspan,l=c.colspan,d=a.isNew,{element:i,rowspan:r,colspan:l,isNew:d})]}return[];var i,r,l,d}));return((e,t,n,a)=>({element:e,cells:t,section:n,isNew:a}))(a.element,s,a.section,a.isNew)}))},_i=(e,t,n)=>{const a=[];O(e.colgroups,(o=>{const s=[];for(let a=0;a<e.grid.columns;a++){const o=ra(e,a).map((e=>et(e.element,n,!1))).getOrThunk((()=>et(t.colGap(),!0,!1)));s.push(o)}a.push(tt(o.element,s,"colgroup",n))}));for(let o=0;o<e.grid.rows;o++){const s=[];for(let a=0;a<e.grid.columns;a++){const i=ta(e,o,a).map((e=>et(e.element,n,e.isLocked))).getOrThunk((()=>et(t.gap(),!0,!1)));s.push(i)}const i=e.all[o],r=tt(i.element,s,i.section,n);a.push(r)}return a},Ci=e=>yi(e,ke),Di=(e,t)=>Z(e.all,(e=>I(e.cells,(e=>ke(t,e.element))))),xi=(e,t,n)=>{const a=T(t.selection,(t=>qt(t).bind((t=>Di(e,t))).filter(n))),o=yt(a);return _t(o.length>0,o)},ki=(e,t,n,a,o)=>(s,i,r,l)=>{const d=Jn(s),c=C.from(null==l?void 0:l.section).getOrThunk(fi);return t(d,i).map((t=>{const n=((e,t)=>_i(e,t,!1))(d,r),a=e(n,t,ke,o(r),c),s=Gn(a.grid);return{info:t,grid:Ci(a.grid),cursor:a.cursor,lockedColumns:s}})).bind((e=>{const t=bi(s,e.grid),o=C.from(null==l?void 0:l.sizing).getOrThunk((()=>co(s))),i=C.from(null==l?void 0:l.resize).getOrThunk(ei);return n(s,e.grid,e.info,{sizing:o,resize:i,section:c}),a(s),be(s,Wn),e.lockedColumns.length>0&&he(s,Wn,e.lockedColumns.join(",")),C.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})}))},Ei=(e,t)=>xi(e,t,_).map((e=>({cells:e,generators:t.generators,clipboard:t.clipboard}))),Si=(e,t)=>xi(e,t,_),Ai=(e,t)=>xi(e,t,(e=>!e.isLocked)),Ti=(e,t)=>V(t,(t=>((e,t)=>Di(e,t).exists((e=>!e.isLocked)))(e,t))),Oi=(e,t,n,a)=>{const o=qn(e).rows;let s=!0;for(let i=0;i<o.length;i++)for(let e=0;e<Zn(o[0]);e++){const r=o[i],l=zn(r,e),d=n(l.element,t);d&&!s?Un(r,e,et(a(),!0,l.isLocked)):d&&(s=!1)}return e},Li=e=>{const t=t=>t(e),n=h(e),a=()=>o,o={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:_,isError:y,map:t=>Mi.value(t(e)),mapError:a,bind:t,exists:t,forall:t,getOr:n,or:a,getOrThunk:n,orThunk:a,getOrDie:n,each:t=>{t(e)},toOptional:()=>C.some(e)};return o},Pi=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:y,isError:_,map:t,mapError:t=>Mi.error(t(e)),bind:t,exists:y,forall:_,getOr:f,or:f,getOrThunk:w,orThunk:w,getOrDie:(a=String(e),()=>{throw new Error(a)}),each:p,toOptional:C.none};var a;return n},Mi={value:Li,error:Pi,fromOption:(e,t)=>e.fold((()=>Pi(t)),Li)},Bi=(e,t)=>({rowDelta:0,colDelta:Zn(e[0])-Zn(t[0])}),Ii=(e,t)=>({rowDelta:e.length-t.length,colDelta:0}),Ri=(e,t,n,a)=>{const o="colgroup"===t.section?n.col:n.cell;return A(e,(e=>et(o(),!0,a(e))))},Fi=(e,t,n,a)=>{const o=e[e.length-1];return e.concat(A(t,(()=>{const e="colgroup"===o.section?n.colgroup:n.row,t=$n(o,e,f),s=Ri(t.cells.length,t,n,(e=>Q(a,e.toString())));return Hn(t,s)})))},Ni=(e,t,n,a)=>T(e,(e=>{const o=Ri(t,e,n,y);return Nn(e,a,o)})),Vi=(e,t,n)=>{const a=t.colDelta<0?Ni:f,o=t.rowDelta<0?Fi:f,s=Gn(e),i=Zn(e[0]),r=S(s,(e=>e===i-1)),l=a(e,Math.abs(t.colDelta),n,r?i-1:i),d=Gn(l);return o(l,Math.abs(t.rowDelta),n,U(d,_))},Ui=(e,t,n,a)=>{const o=v(a,zn(e[t],n).element),s=e[t];return e.length>1&&Zn(s)>1&&(n>0&&o(jn(s,n-1))||n<s.cells.length-1&&o(jn(s,n+1))||t>0&&o(jn(e[t-1],n))||t<e.length-1&&o(jn(e[t+1],n)))},Hi=(e,t,n)=>P(n,(n=>n>=e.column&&n<=Zn(t[0])+e.column)),zi=(e,t,n,a,o)=>{((e,t,n,a)=>{t>0&&t<e[0].cells.length&&O(e,(e=>{const o=e.cells[t-1];let s=0;const i=a();for(;e.cells.length>t+s&&n(o.element,e.cells[t+s].element);)Un(e,t+s,et(i,!0,e.cells[t+s].isLocked)),s++}))})(t,e,o,a.cell);const s=Ii(n,t),i=Vi(n,s,a),r=Ii(t,i),l=Vi(t,r,a);return T(l,((t,n)=>Nn(t,e,i[n].cells)))},ji=(e,t,n,a,o)=>{((e,t,n,a)=>{const o=qn(e).rows;if(t>0&&t<o.length){const e=((e,t)=>B(e,((e,n)=>S(e,(e=>t(e.element,n.element)))?e:e.concat([n])),[]))(o[t-1].cells,n);O(e,(e=>{let s=C.none();for(let i=t;i<o.length;i++)for(let t=0;t<Zn(o[0]);t++){const r=o[i],l=zn(r,t);n(l.element,e.element)&&(s.isNone()&&(s=C.some(a())),s.each((e=>{Un(r,t,et(e,!0,l.isLocked))})))}}))}})(t,e,o,a.cell);const s=Gn(t),i=Bi(t,n),r={...i,colDelta:i.colDelta-s.length},l=Vi(t,r,a),{cols:d,rows:c}=qn(l),u=Gn(l),m=Bi(n,t),p={...m,colDelta:m.colDelta+u.length},h=(g=a,v=u,T(n,(e=>B(v,((t,n)=>{const a=Ri(1,e,g,_)[0];return Vn(t,n,a)}),e)))),f=Vi(h,p,a);var g,v;return[...d,...c.slice(0,e),...f,...c.slice(e,c.length)]},Zi=(e,t,n,a,o)=>{const{rows:s,cols:i}=qn(e),r=s.slice(0,t),l=s.slice(t);return[...i,...r,((e,t,n,a)=>$n(e,(e=>a(e,n)),t))(s[n],((e,n)=>t>0&&t<s.length&&a(jn(s[t-1],n),jn(s[t],n))?zn(s[t],n):et(o(e.element,a),!0,e.isLocked)),a,o),...l]},qi=(e,t,n,a,o)=>T(e,(e=>{const s=t>0&&t<Zn(e)&&a(jn(e,t-1),jn(e,t)),i=((e,t,n,a,o,s,i)=>{if("colgroup"!==n&&a)return zn(e,t);{const t=zn(e,o);return et(i(t.element,s),!0,!1)}})(e,t,e.section,s,n,a,o);return Vn(e,t,i)})),$i=(e,t,n,a)=>((e,t,n,a)=>void 0!==jn(e[t],n)&&t>0&&a(jn(e[t-1],n),jn(e[t],n)))(e,t,n,a)||((e,t,n)=>t>0&&n(jn(e,t-1),jn(e,t)))(e[t],n,a),Wi=(e,t,n,a)=>{const o=e=>(e=>"row"===e?Vt(t):Nt(t))(e)?`${e}group`:e;return e?ni(t)?o(n):null:a&&ni(t)?o("row"===n?"col":"row"):null},Ki=(e,t,n)=>et(n(e.element,t),!0,e.isLocked),Gi=(e,t,n,a,o,s,i)=>T(e,((e,r)=>((e,l)=>{const d=e.cells,c=T(d,((e,l)=>{if((e=>S(t,(t=>n(e.element,t.element))))(e)){const t=i(e,r,l)?o(e,n,a):e;return s(t,r,l).each((e=>{var n,a;n=t.element,a={scope:C.from(e)},W(a,((e,t)=>{e.fold((()=>{be(n,t)}),(e=>{pe(n.dom,t,e)}))}))})),t}return e}));return tt(e.element,c,e.section,e.isNew)})(e))),Yi=(e,t,n)=>N(e,((a,o)=>$i(e,o,t,n)?[]:[zn(a,t)])),Xi=(e,t,n,a,o)=>{const s=qn(e).rows,i=N(t,(e=>Yi(s,e,a))),r=T(s,(e=>ai(e.cells))),l=((e,t)=>V(t,f)&&ai(e)?_:(e,n,a)=>!("th"===ae(e.element)&&t[n]))(i,r),d=((e,t)=>(n,a)=>C.some(Wi(e,n.element,"row",t[a])))(n,r);return Gi(e,i,a,o,Ki,d,l)},Qi=(e,t,n,a)=>{const o=qn(e).rows,s=T(t,(e=>zn(o[e.row],e.column)));return Gi(e,s,n,a,Ki,C.none,_)},Ji=e=>{if(!i(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return O(e,((a,o)=>{const s=q(a);if(1!==s.length)throw new Error("one and only one name per case");const r=s[0],l=a[r];if(void 0!==n[r])throw new Error("duplicate key detected:"+r);if("cata"===r)throw new Error("cannot have a case named cata (sorry)");if(!i(l))throw new Error("case arguments must be an array");t.push(r),n[r]=(...n)=>{const a=n.length;if(a!==l.length)throw new Error("Wrong number of arguments to case "+r+". Expected "+l.length+" ("+l+"), got "+a);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[o].apply(null,n)},match:e=>{const a=q(e);if(t.length!==a.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+a.join(","));if(!V(t,(e=>E(a,e))))throw new Error("Not all branches were specified when using match. Specified: "+a.join(", ")+"\nRequired: "+t.join(", "));return e[r].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:r,params:n})}}}})),n},er={...Ji([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},tr=(e,t,n)=>{let a=0;for(let o=e;o<t;o++)a+=void 0!==n[o]?n[o]:0;return a},nr=(e,t)=>{const n=oa(e);return T(n,(e=>{const n=tr(e.row,e.row+e.rowspan,t);return{element:e.element,height:n,rowspan:e.rowspan}}))},ar=(e,t,n)=>{const a=((e,t)=>ia(e)?((e,t)=>{const n=sa(e);return T(n,((e,n)=>({element:e.element,width:t[n],colspan:e.colspan})))})(e,t):((e,t)=>{const n=oa(e);return T(n,(e=>{const n=tr(e.column,e.column+e.colspan,t);return{element:e.element,width:n,colspan:e.colspan}}))})(e,t))(e,t);O(a,(e=>{n.setElementWidth(e.element,e.width)}))},or=(e,t,n,a,o)=>{const s=Jn(e),i=o.getCellDelta(t),r=o.getWidths(s,o),l=n===s.grid.columns-1,d=a.clampTableDelta(r,n,i,o.minCellWidth(),l),c=((e,t,n,a,o)=>{const s=e.slice(0),i=((e,t)=>0===e.length?er.none():1===e.length?er.only(0):0===t?er.left(0,1):t===e.length-1?er.right(t-1,t):t>0&&t<e.length-1?er.middle(t-1,t,t+1):er.none())(e,t),r=h(T(s,h(0)));return i.fold(r,(e=>a.singleColumnWidth(s[e],n)),((e,t)=>o.calcLeftEdgeDeltas(s,e,t,n,a.minCellWidth(),a.isRelative)),((e,t,i)=>o.calcMiddleDeltas(s,e,t,i,n,a.minCellWidth(),a.isRelative)),((e,t)=>o.calcRightEdgeDeltas(s,e,t,n,a.minCellWidth(),a.isRelative)))})(r,n,d,o,a),u=T(c,((e,t)=>e+r[t]));ar(s,u,o),a.resizeTable(o.adjustTableWidth,d,l)},sr=e=>B(e,((e,t)=>S(e,(e=>e.column===t.column))?e:e.concat([t])),[]).sort(((e,t)=>e.column-t.column)),ir=me("col"),rr=me("colgroup"),lr=e=>"tr"===ae(e)||rr(e),dr=e=>({element:e,colspan:Rt(e,"colspan",1),rowspan:Rt(e,"rowspan",1)}),cr=e=>ve(e,"scope").map((e=>e.substr(0,3))),ur=(e,t=dr)=>{const n=n=>{if(lr(n))return rr((o={element:n}).element)?e.colgroup(o):e.row(o);{const o=n,s=(t=>ir(t.element)?e.col(t):e.cell(t))(t(o));return a=C.some({item:o,replacement:s}),s}var o};let a=C.none();return{getOrInit:(e,t)=>a.fold((()=>n(e)),(a=>t(e,a.item)?a.replacement:n(e)))}},mr=e=>t=>{const n=[],a=a=>{const o="td"===e?{scope:null}:{},s=t.replace(a,e,o);return n.push({item:a,sub:s}),s};return{replaceOrInit:(e,t)=>{if(lr(e)||ir(e))return e;{const o=e;return((e,t)=>I(n,(n=>t(n.item,e))))(o,t).fold((()=>a(o)),(n=>t(e,n.item)?n.sub:a(o)))}}}},pr=e=>({unmerge:t=>{const n=cr(t);return n.each((e=>he(t,"scope",e))),()=>{const a=e.cell({element:t,colspan:1,rowspan:1});return It(a,"width"),It(t,"width"),n.each((e=>he(a,"scope",e))),a}},merge:e=>(It(e[0],"width"),(()=>{const t=yt(T(e,cr));if(0===t.length)return C.none();{const e=t[0],n=["row","col"];return S(t,(t=>t!==e&&E(n,t)))?C.none():C.from(e)}})().fold((()=>be(e[0],"scope")),(t=>he(e[0],"scope",t+"group"))),h(e[0]))}),hr=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],fr=fs(),gr=e=>((e,t)=>{const n=e.property().name(t);return E(hr,n)})(fr,e),vr=e=>((e,t)=>{const n=e.property().name(t);return E(["ol","ul"],n)})(fr,e),br=e=>{const t=me("br"),n=e=>Co(e).bind((n=>{const a=Be(n).map((e=>!!gr(e)||!!((e,t)=>E(["br","img","hr","input"],e.property().name(t)))(fr,e)&&"img"!==ae(e))).getOr(!1);return Oe(n).map((o=>{return!0===a||"li"===ae(s=o)||pt(s,vr).isSome()||t(n)||gr(o)&&!ke(e,o)?[]:[_e.fromTag("br")];var s}))})).getOr([]),a=(()=>{const a=N(e,(e=>{const a=Ie(e);return(e=>V(e,(e=>t(e)||de(e)&&0===fo(e).trim().length)))(a)?[]:a.concat(n(e))}));return 0===a.length?[_e.fromTag("br")]:a})();Ze(e[0]),je(e[0],a)},wr=e=>Xo(e,!0),yr=e=>{0===$t(e).length&&qe(e)},_r=(e,t)=>({grid:e,cursor:t}),Cr=(e,t,n)=>{const a=((e,t,n)=>{var a,o;const s=qn(e).rows;return C.from(null===(o=null===(a=s[t])||void 0===a?void 0:a.cells[n])||void 0===o?void 0:o.element).filter(wr).orThunk((()=>(e=>Z(e,(e=>Z(e.cells,(e=>{const t=e.element;return _t(wr(t),t)})))))(s)))})(e,t,n);return _r(e,a)},Dr=e=>B(e,((e,t)=>S(e,(e=>e.row===t.row))?e:e.concat([t])),[]).sort(((e,t)=>e.row-t.row)),xr=(e,t)=>(n,a,o,s,i)=>{const r=Dr(a),l=T(r,(e=>e.row)),d=((e,t,n,a,o,s,i)=>{const{cols:r,rows:l}=qn(e),d=l[t[0]],c=N(t,(e=>((e,t,n)=>{const a=e[t];return N(a.cells,((a,o)=>$i(e,t,o,n)?[]:[a]))})(l,e,o))),u=T(d.cells,((e,t)=>ai(Yi(l,t,o)))),m=[...l];O(t,(e=>{m[e]=i.transformRow(l[e],n)}));const p=[...r,...m],h=((e,t)=>V(t,f)&&ai(e.cells)?_:(e,n,a)=>!("th"===ae(e.element)&&t[a]))(d,u),g=((e,t)=>(n,a,o)=>C.some(Wi(e,n.element,"col",t[o])))(a,u);return Gi(p,c,o,s,i.transformCell,g,h)})(n,l,e,t,o,s.replaceOrInit,i);return Cr(d,a[0].row,a[0].column)},kr=xr("thead",!0),Er=xr("tbody",!1),Sr=xr("tfoot",!1),Ar=(e,t,n)=>{const a=((e,t)=>Xt(e,(()=>t)))(e,n.section),o=ea(a);return _i(o,t,!0)},Tr=(e,t,n,a)=>((e,t,n,a)=>{const o=ea(t),s=a.getWidths(o,a);ar(o,s,a)})(0,t,0,a.sizing),Or=(e,t,n,a)=>((e,t,n,a,o)=>{const s=ea(t),i=a.getWidths(s,a),r=a.pixelWidth(),{newSizes:l,delta:d}=o.calcRedestributedWidths(i,r,n.pixelDelta,a.isRelative);ar(s,l,a),a.adjustTableWidth(d)})(0,t,n,a.sizing,a.resize),Lr=(e,t)=>S(t,(e=>0===e.column&&e.isLocked)),Pr=(e,t)=>S(t,(t=>t.column+t.colspan>=e.grid.columns&&t.isLocked)),Mr=(e,t)=>{const n=la(e),a=sr(t);return B(a,((e,t)=>e+n[t.column].map(Rn).getOr(0)),0)},Br=e=>(t,n)=>Si(t,n).filter((n=>!(e?Lr:Pr)(t,n))).map((e=>({details:e,pixelDelta:Mr(t,e)}))),Ir=e=>(t,n)=>Ei(t,n).filter((n=>!(e?Lr:Pr)(t,n.cells))),Rr=mr("th"),Fr=mr("td"),Nr=ki(((e,t,n,a)=>{const o=t[0].row,s=Dr(t),i=M(s,((e,t)=>({grid:Zi(e.grid,o,t.row+e.delta,n,a.getOrInit),delta:e.delta+1})),{grid:e,delta:0}).grid;return Cr(i,o,t[0].column)}),Si,p,p,ur),Vr=ki(((e,t,n,a)=>{const o=Dr(t),s=o[o.length-1],i=s.row+s.rowspan,r=M(o,((e,t)=>Zi(e,i,t.row,n,a.getOrInit)),e);return Cr(r,i,t[0].column)}),Si,p,p,ur),Ur=ki(((e,t,n,a)=>{const o=t.details,s=sr(o),i=s[0].column,r=M(s,((e,t)=>({grid:qi(e.grid,i,t.column+e.delta,n,a.getOrInit),delta:e.delta+1})),{grid:e,delta:0}).grid;return Cr(r,o[0].row,i)}),Br(!0),Or,p,ur),Hr=ki(((e,t,n,a)=>{const o=t.details,s=o[o.length-1],i=s.column+s.colspan,r=sr(o),l=M(r,((e,t)=>qi(e,i,t.column,n,a.getOrInit)),e);return Cr(l,o[0].row,i)}),Br(!1),Or,p,ur),zr=ki(((e,t,n,a)=>{const o=sr(t.details),s=((e,t)=>N(e,(e=>{const n=e.cells,a=M(t,((e,t)=>t>=0&&t<e.length?e.slice(0,t).concat(e.slice(t+1)):e),n);return a.length>0?[tt(e.element,a,e.section,e.isNew)]:[]})))(e,T(o,(e=>e.column))),i=s.length>0?s[0].cells.length-1:0;return Cr(s,o[0].row,Math.min(o[0].column,i))}),((e,t)=>Ai(e,t).map((t=>({details:t,pixelDelta:-Mr(e,t)})))),Or,yr,ur),jr=ki(((e,t,n,a)=>{const o=Dr(t),s=((e,t,n)=>{const{rows:a,cols:o}=qn(e);return[...o,...a.slice(0,t),...a.slice(n+1)]})(e,o[0].row,o[o.length-1].row),i=s.length>0?s.length-1:0;return Cr(s,Math.min(t[0].row,i),t[0].column)}),Si,p,yr,ur),Zr=ki(((e,t,n,a)=>{const o=sr(t),s=T(o,(e=>e.column)),i=Xi(e,s,!0,n,a.replaceOrInit);return Cr(i,t[0].row,t[0].column)}),Ai,p,p,Rr),qr=ki(((e,t,n,a)=>{const o=sr(t),s=T(o,(e=>e.column)),i=Xi(e,s,!1,n,a.replaceOrInit);return Cr(i,t[0].row,t[0].column)}),Ai,p,p,Fr),$r=ki(kr,Ai,p,p,Rr),Wr=ki(Er,Ai,p,p,Fr),Kr=ki(Sr,Ai,p,p,Fr),Gr=ki(((e,t,n,a)=>{const o=Qi(e,t,n,a.replaceOrInit);return Cr(o,t[0].row,t[0].column)}),Ai,p,p,Rr),Yr=ki(((e,t,n,a)=>{const o=Qi(e,t,n,a.replaceOrInit);return Cr(o,t[0].row,t[0].column)}),Ai,p,p,Fr),Xr=ki(((e,t,n,a)=>{const o=t.cells;br(o);const s=((e,t,n,a)=>{const o=qn(e).rows;if(0===o.length)return e;for(let s=t.startRow;s<=t.finishRow;s++)for(let e=t.startCol;e<=t.finishCol;e++){const t=o[s],n=zn(t,e).isLocked;Un(t,e,et(a(),!1,n))}return e})(e,t.bounds,0,a.merge(o));return _r(s,C.from(o[0]))}),((e,t)=>((e,t)=>t.mergable)(0,t).filter((t=>Ti(e,t.cells)))),Tr,p,pr),Qr=ki(((e,t,n,a)=>{const o=M(t,((e,t)=>Oi(e,t,n,a.unmerge(t))),e);return _r(o,C.from(t[0]))}),((e,t)=>((e,t)=>t.unmergable)(0,t).filter((t=>Ti(e,t)))),Tr,p,pr),Jr=ki(((e,t,n,a)=>{const o=((e,t)=>{const n=Jn(e);return _i(n,t,!0)})(t.clipboard,t.generators);var s,i;return((e,t,n,a,o)=>{const s=Gn(t),i=((e,t,n)=>{const a=Zn(t[0]),o=qn(t).cols.length+e.row,s=A(a-e.column,(t=>t+e.column));return{row:o,column:I(s,(e=>V(n,(t=>t!==e)))).getOr(a-1)}})(e,t,s),r=qn(n).rows,l=Hi(i,r,s),d=((e,t,n)=>{if(e.row>=t.length||e.column>Zn(t[0]))return Mi.error("invalid start address out of table bounds, row: "+e.row+", column: "+e.column);const a=t.slice(e.row),o=a[0].cells.slice(e.column),s=Zn(n[0]),i=n.length;return Mi.value({rowDelta:a.length-i,colDelta:o.length-s})})(i,t,r);return d.map((e=>{const n={...e,colDelta:e.colDelta-l.length},s=Vi(t,n,a),d=Gn(s),c=Hi(i,r,d);return((e,t,n,a,o,s)=>{const i=e.row,r=e.column,l=i+n.length,d=r+Zn(n[0])+s.length,c=U(s,_);for(let u=i;u<l;u++){let e=0;for(let s=r;s<d;s++){if(c[s]){e++;continue}Ui(t,u,s,o)&&Oi(t,jn(t[u],s),o,a.cell);const l=s-r-e,d=zn(n[u-i],l),m=d.element,p=a.replace(m);Un(t[u],s,et(p,!0,d.isLocked))}}return t})(i,s,r,a,o,c)}))})((s=t.row,i=t.column,{row:s,column:i}),e,o,t.generators,n).fold((()=>_r(e,C.some(t.element))),(e=>Cr(e,t.row,t.column)))}),((e,t)=>qt(t.element).bind((n=>Di(e,n).map((e=>({...e,generators:t.generators,clipboard:t.clipboard})))))),Tr,p,ur),el=ki(((e,t,n,a)=>{const o=qn(e).rows,s=t.cells[0].column,i=o[t.cells[0].row],r=Ar(t.clipboard,t.generators,i),l=zi(s,e,r,t.generators,n);return Cr(l,t.cells[0].row,t.cells[0].column)}),Ir(!0),p,p,ur),tl=ki(((e,t,n,a)=>{const o=qn(e).rows,s=t.cells[t.cells.length-1].column+t.cells[t.cells.length-1].colspan,i=o[t.cells[0].row],r=Ar(t.clipboard,t.generators,i),l=zi(s,e,r,t.generators,n);return Cr(l,t.cells[0].row,t.cells[0].column)}),Ir(!1),p,p,ur),nl=ki(((e,t,n,a)=>{const o=qn(e).rows,s=t.cells[0].row,i=o[s],r=Ar(t.clipboard,t.generators,i),l=ji(s,e,r,t.generators,n);return Cr(l,t.cells[0].row,t.cells[0].column)}),Ei,p,p,ur),al=ki(((e,t,n,a)=>{const o=qn(e).rows,s=t.cells[t.cells.length-1].row+t.cells[t.cells.length-1].rowspan,i=o[t.cells[0].row],r=Ar(t.clipboard,t.generators,i),l=ji(s,e,r,t.generators,n);return Cr(l,t.cells[0].row,t.cells[0].column)}),Ei,p,p,ur),ol=(e,t)=>{const n=Jn(e);return Si(n,t).bind((e=>{const t=e[e.length-1],a=e[0].column,o=t.column+t.colspan,s=F(T(n.all,(e=>P(e.cells,(e=>e.column>=a&&e.column<o)))));return ii(s)})).getOr("")},sl=(e,t)=>{const n=Jn(e);return Si(n,t).bind(ii).getOr("")},il=(e,t)=>{const n=Jn(e);return Si(n,t).bind((e=>{const t=e[e.length-1],a=e[0].row,o=t.row+t.rowspan;return(e=>{const t=T(e,(e=>si(e).type)),n=E(t,"header"),a=E(t,"footer");if(n||a){const e=E(t,"body");return!n||e||a?n||e||!a?C.none():C.some("footer"):C.some("header")}return C.some("body")})(n.all.slice(a,o))})).getOr("")},rl=(e,t)=>e.dispatch("NewRow",{node:t}),ll=(e,t)=>e.dispatch("NewCell",{node:t}),dl=(e,t,n)=>{e.dispatch("TableModified",{...n,table:t})},cl={structure:!1,style:!0},ul={structure:!0,style:!1},ml={structure:!0,style:!0},pl=(e,t)=>zo(e)?mo(t):jo(e)?uo(t):co(t),hl=(e,t,n)=>{const a=e=>"table"===ae(Jo(e)),o=Ro(e),s=Uo(e)?p:Ws,i=t=>{switch(Fo(e)){case"section":return mi();case"sectionCells":return pi();case"cells":return hi();default:return((e,t)=>{var n;switch((n=Jn(e),Z(n.all,(e=>{const t=si(e);return"header"===t.type?C.from(t.subType):C.none()}))).getOr(t)){case"section":return di();case"sectionCells":return ci();case"cells":return ui()}})(t,"section")}},r=(a,s,r,l)=>(d,c,u=!1)=>{ts(d);const m=_e.fromDom(e.getDoc()),p=Lo(r,m,o),h={sizing:pl(e,d),resize:Uo(e)?Js():ei(),section:i(d)};return s(d)?a(d,c,p,h).bind((a=>{t.refresh(d.dom),O(a.newRows,(t=>{rl(e,t.dom)})),O(a.newCells,(t=>{ll(e,t.dom)}));const o=((t,a)=>a.cursor.fold((()=>{const a=$t(t);return z(a).filter(it).map((a=>{n.clearSelectedCells(t.dom);const o=e.dom.createRng();return o.selectNode(a.dom),e.selection.setRng(o),he(a,"data-mce-selected","1"),o}))}),(a=>{const o=qs($s,a),s=e.dom.createRng();return s.setStart(o.element.dom,o.offset),s.setEnd(o.element.dom,o.offset),e.selection.setRng(s),n.clearSelectedCells(t.dom),C.some(s)})))(d,a);return it(d)&&(ts(d),u||dl(e,d.dom,l)),o.map((e=>({rng:e,effect:l})))})):C.none()},l=r(jr,(t=>!a(e)||ti(t).rows>1),p,ul),d=r(zr,(t=>!a(e)||ti(t).columns>1),p,ul);return{deleteRow:l,deleteColumn:d,insertRowsBefore:r(Nr,_,p,ul),insertRowsAfter:r(Vr,_,p,ul),insertColumnsBefore:r(Ur,_,s,ul),insertColumnsAfter:r(Hr,_,s,ul),mergeCells:r(Xr,_,p,ul),unmergeCells:r(Qr,_,p,ul),pasteColsBefore:r(el,_,p,ul),pasteColsAfter:r(tl,_,p,ul),pasteRowsBefore:r(nl,_,p,ul),pasteRowsAfter:r(al,_,p,ul),pasteCells:r(Jr,_,p,ml),makeCellsHeader:r(Gr,_,p,ul),unmakeCellsHeader:r(Yr,_,p,ul),makeColumnsHeader:r(Zr,_,p,ul),unmakeColumnsHeader:r(qr,_,p,ul),makeRowsHeader:r($r,_,p,ul),makeRowsBody:r(Wr,_,p,ul),makeRowsFooter:r(Kr,_,p,ul),getTableRowType:il,getTableCellType:sl,getTableColType:ol}},fl=(e,t,n)=>{const a=Rt(e,t,1);1===n||a<=1?be(e,t):he(e,t,Math.min(n,a))},gl=(e,t)=>n=>{const a=n.column+n.colspan-1,o=n.column;return a>=e&&o<t},vl=Ji([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),bl=(e,t,n)=>{const a=n.substring(0,n.length-e.length),o=parseFloat(a);return a===o.toString()?t(o):vl.invalid(n)},wl={...vl,from:e=>kt(e,"%")?bl("%",vl.percent,e):kt(e,"px")?bl("px",vl.pixels,e):vl.invalid(e)},yl=(e,t,n)=>{const a=wl.from(n),o=V(e,(e=>"0px"===e))?((e,t)=>{const n=e.fold((()=>h("")),(e=>h(e/t+"px")),(()=>h(100/t+"%")));return A(t,n)})(a,e.length):((e,t,n)=>e.fold((()=>t),(e=>((e,t,n)=>{const a=n/t;return T(e,(e=>wl.from(e).fold((()=>e),(e=>e*a+"px"),(e=>e/100*n+"px"))))})(t,n,e)),(e=>((e,t)=>T(e,(e=>wl.from(e).fold((()=>e),(e=>e/t*100+"%"),(e=>e+"%")))))(t,n))))(a,e,t);return Dl(o)},_l=(e,t)=>0===e.length?t:M(e,((e,t)=>wl.from(t).fold(h(0),f,f)+e),0),Cl=(e,t)=>wl.from(e).fold(h(e),(e=>e+t+"px"),(e=>e+t+"%")),Dl=e=>{if(0===e.length)return e;const t=M(e,((e,t)=>{const n=wl.from(t).fold((()=>({value:t,remainder:0})),(e=>((e,t)=>{const n=Math.floor(e);return{value:n+"px",remainder:e-n}})(e)),(e=>({value:e+"%",remainder:0})));return{output:[n.value].concat(e.output),remainder:e.remainder+n.remainder}}),{output:[],remainder:0}),n=t.output;return n.slice(0,n.length-1).concat([Cl(n[n.length-1],Math.round(t.remainder))])},xl=wl.from,kl=e=>xl(e).fold(h("px"),h("px"),h("%")),El=(e,t,n)=>{const a=Jn(e),o=a.all,s=oa(a),i=sa(a);t.each((t=>{const n=kl(t),o=In(e),r=((e,t)=>no(e,t,Ja,ao))(a,e),l=yl(r,o,t);ia(a)?((e,t,n)=>{O(t,((t,a)=>{const o=_l([e[a]],Ht());Ot(t.element,"width",o+n)}))})(l,i,n):((e,t,n)=>{O(t,(t=>{const a=e.slice(t.column,t.colspan+t.column),o=_l(a,Ht());Ot(t.element,"width",o+n)}))})(l,s,n),Ot(e,"width",t)})),n.each((t=>{const n=kl(t),i=ha(e),r=((e,t,n)=>so(e,t,n,eo,ao))(a,e,La);((e,t,n,a)=>{O(n,(t=>{const n=e.slice(t.row,t.rowspan+t.row),o=_l(n,zt());Ot(t.element,"height",o+a)})),O(t,((t,n)=>{Ot(t.element,"height",e[n])}))})(yl(r,i,t),o,s,n),Ot(e,"height",t)}))},Sl=e=>qa(e).exists((e=>Ra.test(e))),Al=e=>qa(e).exists((e=>Fa.test(e))),Tl=e=>qa(e).isNone(),Ol=e=>{be(e,"width")},Ll=e=>{const t=Ya(e);El(e,C.some(t),C.none()),Ol(e)},Pl=e=>{const t=(e=>In(e)+"px")(e);El(e,C.some(t),C.none()),Ol(e)},Ml=e=>{It(e,"width");const t=Wt(e),n=t.length>0?t:$t(e);O(n,(e=>{It(e,"width"),Ol(e)})),Ol(e)},Bl={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Il=(e,t,n,a)=>A(e,(e=>((e,t,n,a)=>{const o=_e.fromTag("tr");for(let s=0;s<e;s++){const e=_e.fromTag(a<t||s<n?"th":"td");s<n&&he(e,"scope","row"),a<t&&he(e,"scope","col"),Ue(e,_e.fromTag("br")),Ue(o,e)}return o})(t,n,a,e))),Rl=(e,t)=>{e.selection.select(t.dom,!0),e.selection.collapse(!0)},Fl=(e,t,n,a,s)=>{const i=(e=>{const t=e.options,n=t.get("table_default_styles");return t.isSet("table_default_styles")?n:((e,t)=>Zo(e)||!$o(e)?t:jo(e)?{...t,width:Io(e)}:{...t,width:Bo})(e,n)})(e),r={styles:i,attributes:Ko(e),colGroups:Go(e)};return e.undoManager.ignore((()=>{const o=((e,t,n,a,o,s=Bl)=>{const i=_e.fromTag("table"),r="cells"!==o;Lt(i,s.styles),fe(i,s.attributes),s.colGroups&&Ue(i,(e=>{const t=_e.fromTag("colgroup");return A(e,(()=>Ue(t,_e.fromTag("col")))),t})(t));const l=Math.min(e,n);if(r&&n>0){const e=_e.fromTag("thead");Ue(i,e);const s=Il(n,t,"sectionCells"===o?l:0,a);je(e,s)}const d=_e.fromTag("tbody");Ue(i,d);const c=Il(r?e-l:e,t,r?0:n,a);return je(d,c),i})(n,t,s,a,Fo(e),r);he(o,"data-mce-id","__mce");const i=(e=>{const t=_e.fromTag("div"),n=_e.fromDom(e.dom.cloneNode(!0));return Ue(t,n),(e=>e.dom.innerHTML)(t)})(o);e.insertContent(i),e.addVisual()})),vt(Jo(e),'table[data-mce-id="__mce"]').map((t=>(jo(e)?Pl(t):Zo(e)?Ml(t):(zo(e)||(e=>o(e)&&-1!==e.indexOf("%"))(i.width))&&Ll(t),ts(t),be(t,"data-mce-id"),((e,t)=>{O(ut(t,"tr"),(t=>{rl(e,t.dom),O(ut(t,"th,td"),(t=>{ll(e,t.dom)}))}))})(e,t),((e,t)=>{vt(t,"td,th").each(v(Rl,e))})(e,t),t.dom))).getOrNull()};var Nl=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Vl="x-tinymce/dom-table-",Ul=Vl+"rows",Hl=Vl+"columns",zl=e=>{const t=Nl.FakeClipboardItem(e);Nl.write([t])},jl=e=>{var t;const n=null!==(t=Nl.read())&&void 0!==t?t:[];return Z(n,(t=>C.from(t.getType(e))))},Zl=e=>{jl(e).isSome()&&Nl.clear()},ql=e=>{e.fold(Wl,(e=>zl({[Ul]:e})))},$l=()=>jl(Ul),Wl=()=>Zl(Ul),Kl=e=>{e.fold(Yl,(e=>zl({[Hl]:e})))},Gl=()=>jl(Hl),Yl=()=>Zl(Hl),Xl=e=>Fs(ns(e),es(e)).filter(ss),Ql=(e,t)=>{const n=es(e),a=e=>Kt(e,n),i=t=>(e=>Ns(ns(e),es(e)).filter(ss))(e).bind((e=>a(e).map((n=>t(n,e))))),r=t=>{e.focus()},l=(t,n=!1)=>i(((a,o)=>{const s=Is(Vs(e),a,o);t(a,s,n).each(r)})),d=()=>i(((t,n)=>((e,t,n)=>{const a=Jn(e);return Si(a,t).bind((e=>{const t=_i(a,n,!1),o=qn(t).rows.slice(e[0].row,e[e.length-1].row+e[e.length-1].rowspan),s=N(o,(e=>{const t=P(e.cells,(e=>!e.isLocked));return t.length>0?[{...e,cells:t}]:[]})),i=Ci(s);return _t(i.length>0,i)})).map((e=>T(e,(e=>{const t=Ke(e.element);return O(e.cells,(e=>{const n=Ge(e.element);gi(n,"colspan",e.colspan,1),gi(n,"rowspan",e.rowspan,1),Ue(t,n)})),t}))))})(t,Is(Vs(e),t,n),Lo(p,_e.fromDom(e.getDoc()),C.none())))),c=()=>i(((t,n)=>((e,t)=>{const n=Jn(e);return Ai(n,t).map((e=>{const t=e[e.length-1],a=e[0].column,o=t.column+t.colspan,s=((e,t,n)=>{if(ia(e)){const a=P(sa(e),gl(t,n)),o=T(a,(e=>{const a=Ge(e.element);return fl(a,"span",n-t),a})),s=_e.fromTag("colgroup");return je(s,o),[s]}return[]})(n,a,o),i=((e,t,n)=>T(e.all,(e=>{const a=P(e.cells,gl(t,n)),o=T(a,(e=>{const a=Ge(e.element);return fl(a,"colspan",n-t),a})),s=_e.fromTag("tr");return je(s,o),s})))(n,a,o);return[...s,...i]}))})(t,Is(Vs(e),t,n)))),u=(t,n)=>n().each((n=>{const a=T(n,(e=>Ge(e)));i(((n,o)=>{const s=Po(_e.fromDom(e.getDoc())),i=((e,t,n,a)=>({selection:Ss(e),clipboard:n,generators:a}))(Vs(e),0,a,s);t(n,i).each(r)}))})),h=e=>(t,n)=>((e,t)=>Q(e,t)?C.from(e[t]):C.none())(n,"type").each((t=>{l(e(t),n.no_events)}));W({mceTableSplitCells:()=>l(t.unmergeCells),mceTableMergeCells:()=>l(t.mergeCells),mceTableInsertRowBefore:()=>l(t.insertRowsBefore),mceTableInsertRowAfter:()=>l(t.insertRowsAfter),mceTableInsertColBefore:()=>l(t.insertColumnsBefore),mceTableInsertColAfter:()=>l(t.insertColumnsAfter),mceTableDeleteCol:()=>l(t.deleteColumn),mceTableDeleteRow:()=>l(t.deleteRow),mceTableCutCol:()=>c().each((e=>{Kl(e),l(t.deleteColumn)})),mceTableCutRow:()=>d().each((e=>{ql(e),l(t.deleteRow)})),mceTableCopyCol:()=>c().each((e=>Kl(e))),mceTableCopyRow:()=>d().each((e=>ql(e))),mceTablePasteColBefore:()=>u(t.pasteColsBefore,Gl),mceTablePasteColAfter:()=>u(t.pasteColsAfter,Gl),mceTablePasteRowBefore:()=>u(t.pasteRowsBefore,$l),mceTablePasteRowAfter:()=>u(t.pasteRowsAfter,$l),mceTableDelete:()=>Xl(e).each((t=>{Kt(t,n).filter(b(n)).each((t=>{const n=_e.fromText("");if(Ne(t,n),qe(t),e.dom.isEmpty(e.getBody()))e.setContent(""),e.selection.setCursorLocation();else{const t=e.dom.createRng();t.setStart(n.dom,0),t.setEnd(n.dom,0),e.selection.setRng(t),e.nodeChanged()}}))})),mceTableCellToggleClass:(t,n)=>{i((t=>{const a=Vs(e),o=V(a,(t=>e.formatter.match("tablecellclass",{value:n},t.dom))),s=o?e.formatter.remove:e.formatter.apply;O(a,(e=>s("tablecellclass",{value:n},e.dom))),dl(e,t.dom,cl)}))},mceTableToggleClass:(t,n)=>{i((t=>{e.formatter.toggle("tableclass",{value:n},t.dom),dl(e,t.dom,cl)}))},mceTableToggleCaption:()=>{Xl(e).each((t=>{Kt(t,n).each((n=>{gt(n,"caption").fold((()=>{const t=_e.fromTag("caption");Ue(t,_e.fromText("Caption")),((e,t,n)=>{Re(e,0).fold((()=>{Ue(e,t)}),(e=>{Fe(e,t)}))})(n,t),e.selection.setCursorLocation(t.dom,0)}),(a=>{me("caption")(t)&&xe("td",n).each((t=>e.selection.setCursorLocation(t.dom,0))),qe(a)})),dl(e,n.dom,ul)}))}))},mceTableSizingMode:(t,a)=>(t=>Xl(e).each((a=>{Zo(e)||jo(e)||zo(e)||Kt(a,n).each((n=>{"relative"!==t||Sl(n)?"fixed"!==t||Al(n)?"responsive"!==t||Tl(n)||Ml(n):Pl(n):Ll(n),ts(n),dl(e,n.dom,ul)}))})))(a),mceTableCellType:h((e=>"th"===e?t.makeCellsHeader:t.unmakeCellsHeader)),mceTableColType:h((e=>"th"===e?t.makeColumnsHeader:t.unmakeColumnsHeader)),mceTableRowType:h((e=>{switch(e){case"header":return t.makeRowsHeader;case"footer":return t.makeRowsFooter;default:return t.makeRowsBody}}))},((t,n)=>e.addCommand(n,t))),e.addCommand("mceInsertTable",((t,n)=>{((e,t,n,a={})=>{const o=e=>m(e)&&e>0;if(o(t)&&o(n)){const o=a.headerRows||0,s=a.headerColumns||0;return Fl(e,n,t,s,o)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(e,n.rows,n.columns,n.options)})),e.addCommand("mceTableApplyCellStyle",((t,n)=>{const i=e=>"tablecell"+e.toLowerCase().replace("-","");if(!s(n))return;const r=P(Vs(e),ss);if(0===r.length)return;const l=((e,t)=>{const n={};return((e,t,n,a)=>{W(e,((e,o)=>{(t(e,o)?n:a)(e,o)}))})(e,t,(e=>(t,n)=>{e[n]=t})(n),p),n})(n,((t,n)=>e.formatter.has(i(n))&&o(t)));(e=>{for(const t in e)if($.call(e,t))return!1;return!0})(l)||(W(l,((t,n)=>{const a=i(n);O(r,(n=>{""===t?e.formatter.remove(a,{value:null},n.dom,!0):e.formatter.apply(a,{value:t},n.dom)}))})),a(r[0]).each((t=>dl(e,t.dom,cl))))}))},Jl=Ji([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),ed={before:Jl.before,on:Jl.on,after:Jl.after,cata:(e,t,n,a)=>e.fold(t,n,a),getStart:e=>e.fold(f,f,f)},td=(e,t)=>({selection:e,kill:t}),nd=(e,t)=>{const n=e.document.createRange();return n.selectNode(t.dom),n},ad=(e,t)=>{const n=e.document.createRange();return od(n,t),n},od=(e,t)=>e.selectNodeContents(t.dom),sd=(e,t,n)=>{const a=e.document.createRange();var o;return o=a,t.fold((e=>{o.setStartBefore(e.dom)}),((e,t)=>{o.setStart(e.dom,t)}),(e=>{o.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,n)=>{e.setEnd(t.dom,n)}),(t=>{e.setEndAfter(t.dom)}))})(a,n),a},id=(e,t,n,a,o)=>{const s=e.document.createRange();return s.setStart(t.dom,n),s.setEnd(a.dom,o),s},rd=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),ld=Ji([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),dd=(e,t,n)=>t(_e.fromDom(n.startContainer),n.startOffset,_e.fromDom(n.endContainer),n.endOffset),cd=(e,t)=>{const n=((e,t)=>t.match({domRange:e=>({ltr:h(e),rtl:C.none}),relative:(t,n)=>({ltr:en((()=>sd(e,t,n))),rtl:en((()=>C.some(sd(e,n,t))))}),exact:(t,n,a,o)=>({ltr:en((()=>id(e,t,n,a,o))),rtl:en((()=>C.some(id(e,a,o,t,n))))})}))(e,t);return((e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter((e=>!1===e.collapsed)).map((e=>ld.rtl(_e.fromDom(e.endContainer),e.endOffset,_e.fromDom(e.startContainer),e.startOffset))).getOrThunk((()=>dd(0,ld.ltr,n))):dd(0,ld.ltr,n)})(0,n)},ud=(e,t)=>cd(e,t).match({ltr:(t,n,a,o)=>{const s=e.document.createRange();return s.setStart(t.dom,n),s.setEnd(a.dom,o),s},rtl:(t,n,a,o)=>{const s=e.document.createRange();return s.setStart(a.dom,o),s.setEnd(t.dom,n),s}});ld.ltr,ld.rtl;const md=(e,t,n,a)=>({start:e,soffset:t,finish:n,foffset:a}),pd=(e,t,n,a)=>({start:ed.on(e,t),finish:ed.on(n,a)}),hd=(e,t)=>{const n=ud(e,t);return md(_e.fromDom(n.startContainer),n.startOffset,_e.fromDom(n.endContainer),n.endOffset)},fd=pd,gd=(e,t,n,a,o)=>ke(n,a)?C.none():_s(n,a,t).bind((t=>{const a=t.boxes.getOr([]);return a.length>1?(o(e,a,t.start,t.finish),C.some(td(C.some(fd(n,0,n,bo(n))),!0))):C.none()})),vd=(e,t)=>({item:e,mode:t}),bd=(e,t,n,a=wd)=>e.property().parent(t).map((e=>vd(e,a))),wd=(e,t,n,a=yd)=>n.sibling(e,t).map((e=>vd(e,a))),yd=(e,t,n,a=yd)=>{const o=e.property().children(t);return n.first(o).map((e=>vd(e,a)))},_d=[{current:bd,next:wd,fallback:C.none()},{current:wd,next:yd,fallback:C.some(bd)},{current:yd,next:yd,fallback:C.some(wd)}],Cd=(e,t,n,a,o=_d)=>I(o,(e=>e.current===n)).bind((n=>n.current(e,t,a,n.next).orThunk((()=>n.fallback.bind((n=>Cd(e,t,n,a))))))),Dd=(e,t,n,a,o,s)=>Cd(e,t,a,o).bind((t=>s(t.item)?C.none():n(t.item)?C.some(t.item):Dd(e,t.item,n,t.mode,o,s))),xd=e=>t=>0===e.property().children(t).length,kd=(e,t,n,a)=>Dd(e,t,n,wd,{sibling:(e,t)=>e.query().prevSibling(t),first:e=>e.length>0?C.some(e[e.length-1]):C.none()},a),Ed=(e,t,n,a)=>Dd(e,t,n,wd,{sibling:(e,t)=>e.query().nextSibling(t),first:e=>e.length>0?C.some(e[0]):C.none()},a),Sd=fs(),Ad=(e,t)=>((e,t,n)=>kd(e,t,xd(e),n))(Sd,e,t),Td=(e,t)=>((e,t,n)=>Ed(e,t,xd(e),n))(Sd,e,t),Od=Ji([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Ld=e=>bt(e,"tr"),Pd={...Od,verify:(e,t,n,a,o,s,i)=>bt(a,"td,th",i).bind((n=>bt(t,"td,th",i).map((t=>ke(n,t)?ke(a,n)&&bo(n)===o?s(t):Od.none("in same cell"):ws(Ld,[n,t]).fold((()=>((e,t,n)=>{const a=e.getRect(t),o=e.getRect(n);return o.right>a.left&&o.left<a.right})(e,t,n)?Od.success():s(t)),(e=>s(t))))))).getOr(Od.none("default")),cata:(e,t,n,a,o)=>e.fold(t,n,a,o)},Md=me("br"),Bd=(e,t,n)=>t(e,n).bind((e=>de(e)&&0===fo(e).trim().length?Bd(e,t,n):C.some(e))),Id=(e,t,n,a)=>((e,t)=>Re(e,t).filter(Md).orThunk((()=>Re(e,t-1).filter(Md))))(t,n).bind((t=>a.traverse(t).fold((()=>Bd(t,a.gather,e).map(a.relative)),(e=>(e=>Oe(e).bind((t=>{const n=Ie(t);return((e,t)=>R(e,v(ke,t)))(n,e).map((a=>((e,t,n,a)=>({parent:e,children:t,element:n,index:a}))(t,n,e,a)))})))(e).map((e=>ed.on(e.parent,e.index))))))),Rd=(e,t)=>({left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t}),Fd=(e,t)=>({left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t}),Nd=(e,t,n)=>({left:e.left+t,top:e.top+n,right:e.right+t,bottom:e.bottom+n}),Vd=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom}),Ud=(e,t)=>C.some(e.getRect(t)),Hd=(e,t,n)=>le(t)?Ud(e,t).map(Vd):de(t)?((e,t,n)=>n>=0&&n<bo(t)?e.getRangedRect(t,n,t,n+1):n>0?e.getRangedRect(t,n-1,t,n):C.none())(e,t,n).map(Vd):C.none(),zd=(e,t)=>le(t)?Ud(e,t).map(Vd):de(t)?e.getRangedRect(t,0,t,bo(t)).map(Vd):C.none(),jd=Ji([{none:[]},{retry:["caret"]}]),Zd=(e,t,n)=>ht(t,gr).fold(y,(t=>zd(e,t).exists((e=>((e,t)=>e.left<t.left||Math.abs(t.right-e.left)<1||e.left>t.right)(n,e))))),qd={point:e=>e.bottom,adjuster:(e,t,n,a,o)=>{const s=Rd(o,5);return Math.abs(n.bottom-a.bottom)<1||n.top>o.bottom?jd.retry(s):n.top===o.bottom?jd.retry(Rd(o,1)):Zd(e,t,o)?jd.retry(Nd(s,5,0)):jd.none()},move:Rd,gather:Td},$d=(e,t,n,a,o)=>0===o?C.some(a):((e,t,n)=>e.elementFromPoint(t,n).filter((e=>"table"===ae(e))).isSome())(e,a.left,t.point(a))?((e,t,n,a,o)=>$d(e,t,n,t.move(a,5),o))(e,t,n,a,o-1):e.situsFromPoint(a.left,t.point(a)).bind((s=>s.start.fold(C.none,(s=>zd(e,s).bind((i=>t.adjuster(e,s,i,n,a).fold(C.none,(a=>$d(e,t,n,a,o-1))))).orThunk((()=>C.some(a)))),C.none))),Wd=(e,t,n)=>{const a=e.move(n,5),o=$d(t,e,n,a,100).getOr(a);return((e,t,n)=>e.point(t)>n.getInnerHeight()?C.some(e.point(t)-n.getInnerHeight()):e.point(t)<0?C.some(-e.point(t)):C.none())(e,o,t).fold((()=>t.situsFromPoint(o.left,e.point(o))),(n=>(t.scrollBy(0,n),t.situsFromPoint(o.left,e.point(o)-n))))},Kd={tryUp:v(Wd,{point:e=>e.top,adjuster:(e,t,n,a,o)=>{const s=Fd(o,5);return Math.abs(n.top-a.top)<1||n.bottom<o.top?jd.retry(s):n.bottom===o.top?jd.retry(Fd(o,1)):Zd(e,t,o)?jd.retry(Nd(s,5,0)):jd.none()},move:Fd,gather:Ad}),tryDown:v(Wd,qd),getJumpSize:h(5)},Gd=(e,t,n)=>e.getSelection().bind((a=>((e,t,n,a)=>{const o=Md(t)?((e,t,n)=>n.traverse(t).orThunk((()=>Bd(t,n.gather,e))).map(n.relative))(e,t,a):Id(e,t,n,a);return o.map((e=>({start:e,finish:e})))})(t,a.finish,a.foffset,n).fold((()=>C.some(Hs(a.finish,a.foffset))),(o=>{const s=e.fromSitus(o);return i=Pd.verify(e,a.finish,a.foffset,s.finish,s.foffset,n.failure,t),Pd.cata(i,(e=>C.none()),(()=>C.none()),(e=>C.some(Hs(e,0))),(e=>C.some(Hs(e,bo(e)))));var i})))),Yd=(e,t,n,a,o,s)=>0===s?C.none():Jd(e,t,n,a,o).bind((i=>{const r=e.fromSitus(i),l=Pd.verify(e,n,a,r.finish,r.foffset,o.failure,t);return Pd.cata(l,(()=>C.none()),(()=>C.some(i)),(i=>ke(n,i)&&0===a?Xd(e,n,a,Fd,o):Yd(e,t,i,0,o,s-1)),(i=>ke(n,i)&&a===bo(i)?Xd(e,n,a,Rd,o):Yd(e,t,i,bo(i),o,s-1)))})),Xd=(e,t,n,a,o)=>Hd(e,t,n).bind((t=>Qd(e,o,a(t,Kd.getJumpSize())))),Qd=(e,t,n)=>{const a=Ln().browser;return a.isChromium()||a.isSafari()||a.isFirefox()?t.retry(e,n):C.none()},Jd=(e,t,n,a,o)=>Hd(e,n,a).bind((t=>Qd(e,o,t))),ec=(e,t,n,a,o)=>bt(a,"td,th",t).bind((a=>bt(a,"table",t).bind((s=>((e,t)=>pt(e,(e=>Oe(e).exists((e=>ke(e,t)))),void 0).isSome())(o,s)?((e,t,n)=>Gd(e,t,n).bind((a=>Yd(e,t,a.element,a.offset,n,20).map(e.fromSitus))))(e,t,n).bind((e=>bt(e.finish,"td,th",t).map((t=>({start:a,finish:t,range:e}))))):C.none())))),tc=(e,t,n,a,o,s)=>s(a,t).orThunk((()=>ec(e,t,n,a,o).map((e=>{const t=e.range;return td(C.some(fd(t.start,t.soffset,t.finish,t.foffset)),!0)})))),nc=(e,t)=>bt(e,"tr",t).bind((e=>bt(e,"table",t).bind((n=>{const a=ut(n,"tr");return ke(e,a[0])?((e,t,n)=>kd(Sd,e,(e=>Co(e).isSome()),n))(n,0,t).map((e=>{const t=bo(e);return td(C.some(fd(e,t,e,t)),!0)})):C.none()})))),ac=(e,t)=>bt(e,"tr",t).bind((e=>bt(e,"table",t).bind((n=>{const a=ut(n,"tr");return ke(e,a[a.length-1])?((e,t,n)=>Ed(Sd,e,(e=>_o(e).isSome()),n))(n,0,t).map((e=>td(C.some(fd(e,0,e,0)),!0))):C.none()})))),oc=(e,t,n,a,o,s,i)=>ec(e,n,a,o,s).bind((e=>gd(t,n,e.start,e.finish,i))),sc=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},ic=()=>{const e=(e=>{const t=sc(C.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(C.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(C.some(e))}}})(p);return{...e,on:t=>e.get().each(t)}},rc=(e,t)=>bt(e,"td,th",t),lc=e=>Le(e).exists(Xo),dc={traverse:Be,gather:Td,relative:ed.before,retry:Kd.tryDown,failure:Pd.failedDown},cc={traverse:Me,gather:Ad,relative:ed.before,retry:Kd.tryUp,failure:Pd.failedUp},uc=e=>t=>t===e,mc=uc(38),pc=uc(40),hc=e=>e>=37&&e<=40,fc={isBackward:uc(37),isForward:uc(39)},gc={isBackward:uc(39),isForward:uc(37)},vc=Ji([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),bc={domRange:vc.domRange,relative:vc.relative,exact:vc.exact,exactFromRange:e=>vc.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>_e.fromDom(e.startContainer),relative:(e,t)=>ed.getStart(e),exact:(e,t,n,a)=>e}))(e);return _e.fromDom(Te(t).dom.defaultView)},range:md},wc=document.caretPositionFromPoint?(e,t,n)=>{var a,o;return C.from(null===(o=(a=e.dom).caretPositionFromPoint)||void 0===o?void 0:o.call(a,t,n)).bind((t=>{if(null===t.offsetNode)return C.none();const n=e.dom.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),C.some(n)}))}:document.caretRangeFromPoint?(e,t,n)=>{var a,o;return C.from(null===(o=(a=e.dom).caretRangeFromPoint)||void 0===o?void 0:o.call(a,t,n))}:C.none,yc=(e,t)=>{const n=ae(e);return"input"===n?ed.after(e):E(["br","img"],n)?0===t?ed.before(e):ed.after(e):ed.on(e,t)},_c=e=>C.from(e.getSelection()),Cc=(e,t)=>{_c(e).each((e=>{e.removeAllRanges(),e.addRange(t)}))},Dc=(e,t,n,a,o)=>{const s=id(e,t,n,a,o);Cc(e,s)},xc=(e,t)=>cd(e,t).match({ltr:(t,n,a,o)=>{Dc(e,t,n,a,o)},rtl:(t,n,a,o)=>{_c(e).each((s=>{if(s.setBaseAndExtent)s.setBaseAndExtent(t.dom,n,a.dom,o);else if(s.extend)try{((e,t,n,a,o,s)=>{t.collapse(n.dom,a),t.extend(o.dom,s)})(0,s,t,n,a,o)}catch(s){Dc(e,a,o,t,n)}else Dc(e,a,o,t,n)}))}}),kc=(e,t,n,a,o)=>{const s=((e,t,n,a)=>{const o=yc(e,t),s=yc(n,a);return bc.relative(o,s)})(t,n,a,o);xc(e,s)},Ec=(e,t,n)=>{const a=((e,t)=>{const n=e.fold(ed.before,yc,ed.after),a=t.fold(ed.before,yc,ed.after);return bc.relative(n,a)})(t,n);xc(e,a)},Sc=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return C.some(md(_e.fromDom(t.startContainer),t.startOffset,_e.fromDom(n.endContainer),n.endOffset))}return C.none()},Ac=e=>{if(null===e.anchorNode||null===e.focusNode)return Sc(e);{const t=_e.fromDom(e.anchorNode),n=_e.fromDom(e.focusNode);return((e,t,n,a)=>{const o=((e,t,n,a)=>{const o=Ae(e).dom.createRange();return o.setStart(e.dom,t),o.setEnd(n.dom,a),o})(e,t,n,a),s=ke(e,n)&&t===a;return o.collapsed&&!s})(t,e.anchorOffset,n,e.focusOffset)?C.some(md(t,e.anchorOffset,n,e.focusOffset)):Sc(e)}},Tc=(e,t,n=!0)=>{const a=(n?ad:nd)(e,t);Cc(e,a)},Oc=e=>(e=>_c(e).filter((e=>e.rangeCount>0)).bind(Ac))(e).map((e=>bc.exact(e.start,e.soffset,e.finish,e.foffset))),Lc=e=>({elementFromPoint:(t,n)=>_e.fromPoint(_e.fromDom(e.document),t,n),getRect:e=>e.dom.getBoundingClientRect(),getRangedRect:(t,n,a,o)=>{const s=bc.exact(t,n,a,o);return((e,t)=>(e=>{const t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?C.some(n).map(rd):C.none()})(ud(e,t)))(e,s)},getSelection:()=>Oc(e).map((t=>hd(e,t))),fromSitus:t=>{const n=bc.relative(t.start,t.finish);return hd(e,n)},situsFromPoint:(t,n)=>((e,t,n)=>((e,t,n)=>{const a=_e.fromDom(e.document);return wc(a,t,n).map((e=>md(_e.fromDom(e.startContainer),e.startOffset,_e.fromDom(e.endContainer),e.endOffset)))})(e,t,n))(e,t,n).map((e=>pd(e.start,e.soffset,e.finish,e.foffset))),clearSelection:()=>{(e=>{_c(e).each((e=>e.removeAllRanges()))})(e)},collapseSelection:(t=!1)=>{Oc(e).each((n=>n.fold((e=>e.collapse(t)),((n,a)=>{const o=t?n:a;Ec(e,o,o)}),((n,a,o,s)=>{const i=t?n:o,r=t?a:s;kc(e,i,r,i,r)}))))},setSelection:t=>{kc(e,t.start,t.soffset,t.finish,t.foffset)},setRelativeSelection:(t,n)=>{Ec(e,t,n)},selectNode:t=>{Tc(e,t,!1)},selectContents:t=>{Tc(e,t)},getInnerHeight:()=>e.innerHeight,getScrollY:()=>(e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,a=t.body.scrollTop||t.documentElement.scrollTop;return va(n,a)})(_e.fromDom(e.document)).top,scrollBy:(t,n)=>{((e,t,n)=>{const a=(void 0!==n?n.dom:document).defaultView;a&&a.scrollBy(e,t)})(t,n,_e.fromDom(e.document))}}),Pc=(e,t)=>({rows:e,cols:t}),Mc=e=>ht(e,re).exists(Xo),Bc=(e,t)=>Mc(e)||Mc(t),Ic=e=>void 0!==e.dom.classList,Rc=(e,t)=>((e,t,n)=>{const a=((e,t)=>{const n=ge(e,t);return void 0===n||""===n?[]:n.split(" ")})(e,t).concat([n]);return he(e,t,a.join(" ")),!0})(e,"class",t),Fc=(e,t)=>{Ic(e)?e.dom.classList.add(t):Rc(e,t)},Nc=(e,t)=>Ic(e)&&e.dom.classList.contains(t),Vc=()=>({tag:"none"}),Uc=e=>({tag:"multiple",elements:e}),Hc=e=>({tag:"single",element:e}),zc=e=>{const t=_e.fromDom((e=>{if(at()&&c(e.target)){const t=_e.fromDom(e.target);if(le(t)&&c(t.dom.shadowRoot)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return z(t)}}return C.from(e.target)})(e).getOr(e.target)),n=()=>e.stopPropagation(),a=()=>e.preventDefault(),o=(s=a,i=n,(...e)=>s(i.apply(null,e)));var s,i;return((e,t,n,a,o,s,i)=>({target:e,x:t,y:n,stop:a,prevent:o,kill:s,raw:i}))(t,e.clientX,e.clientY,n,a,o,e)},jc=(e,t,n,a)=>{e.dom.removeEventListener(t,n,a)},Zc=_,qc=(e,t,n)=>((e,t,n,a)=>((e,t,n,a,o)=>{const s=((e,t)=>n=>{e(n)&&t(zc(n))})(n,a);return e.dom.addEventListener(t,s,o),{unbind:v(jc,e,t,s,o)}})(e,t,n,a,!1))(e,t,Zc,n),$c=zc,Wc=e=>!Nc(_e.fromDom(e.target),"ephox-snooker-resizer-bar"),Kc=(e,t)=>{const n=(o=Bs.selectedSelector,{get:()=>ks(_e.fromDom(e.getBody()),o).fold((()=>Ns(ns(e),es(e)).fold(Vc,Hc)),Uc)}),a=((e,t,n)=>{const a=t=>{be(t,e.selected),be(t,e.firstSelected),be(t,e.lastSelected)},o=t=>{he(t,e.selected,"1")},s=e=>{i(e),n()},i=t=>{const n=ut(t,`${e.selectedSelector},${e.firstSelectedSelector},${e.lastSelectedSelector}`);O(n,a)};return{clearBeforeUpdate:i,clear:s,selectRange:(n,a,i,r)=>{s(n),O(a,o),he(i,e.firstSelected,"1"),he(r,e.lastSelected,"1"),t(a,i,r)},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}})(Bs,((t,n,a)=>{Kt(n).each((o=>{const s=Ro(e),i=Lo(p,_e.fromDom(e.getDoc()),s),r=((e,t,n)=>{const a=Jn(e);return Si(a,t).map((e=>{const t=_i(a,n,!1),{rows:o}=qn(t),s=((e,t)=>{const n=e.slice(0,t[t.length-1].row+1),a=Ci(n);return N(a,(e=>{const n=e.cells.slice(0,t[t.length-1].column+1);return T(n,(e=>e.element))}))})(o,e),i=((e,t)=>{const n=e.slice(t[0].row+t[0].rowspan-1,e.length),a=Ci(n);return N(a,(e=>{const n=e.cells.slice(t[0].column+t[0].colspan-1,e.cells.length);return T(n,(e=>e.element))}))})(o,e);return{upOrLeftCells:s,downOrRightCells:i}}))})(o,{selection:Vs(e)},i);((e,t,n,a,o)=>{e.dispatch("TableSelectionChange",{cells:t,start:n,finish:a,otherCells:o})})(e,t,n,a,r)}))}),(()=>(e=>{e.dispatch("TableSelectionClear")})(e)));var o;return e.on("init",(n=>{const o=e.getWin(),s=Jo(e),i=es(e),r=((e,t,n,a)=>{const o=((e,t,n,a)=>{const o=ic(),s=o.clear,i=s=>{o.on((o=>{a.clearBeforeUpdate(t),rc(s.target,n).each((i=>{_s(o,i,n).each((n=>{const o=n.boxes.getOr([]);if(1===o.length){const n=o[0],i="false"===Qo(n),r=wt(Yo(s.target),n,ke);i&&r&&(a.selectRange(t,o,n,n),e.selectContents(n))}else o.length>1&&(a.selectRange(t,o,n.start,n.finish),e.selectContents(i))}))}))}))};return{clearstate:s,mousedown:e=>{a.clear(t),rc(e.target,n).filter(lc).each(o.set)},mouseover:e=>{i(e)},mouseup:e=>{i(e),s()}}})(Lc(e),t,n,a);return{clearstate:o.clearstate,mousedown:o.mousedown,mouseover:o.mouseover,mouseup:o.mouseup}})(o,s,i,a),l=((e,t,n,a)=>{const o=Lc(e),s=()=>(a.clear(t),C.none());return{keydown:(e,i,r,l,d,c)=>{const u=e.raw,m=u.which,p=!0===u.shiftKey,h=Cs(t,a.selectedSelector).fold((()=>(hc(m)&&!p&&a.clearBeforeUpdate(t),hc(m)&&p&&!Bc(i,l)?C.none:pc(m)&&p?v(oc,o,t,n,dc,l,i,a.selectRange):mc(m)&&p?v(oc,o,t,n,cc,l,i,a.selectRange):pc(m)?v(tc,o,n,dc,l,i,ac):mc(m)?v(tc,o,n,cc,l,i,nc):C.none)),(e=>{const n=n=>()=>{const s=Z(n,(n=>((e,t,n,a,o)=>xs(a,e,t,o.firstSelectedSelector,o.lastSelectedSelector).map((e=>(o.clearBeforeUpdate(n),o.selectRange(n,e.boxes,e.start,e.finish),e.boxes))))(n.rows,n.cols,t,e,a)));return s.fold((()=>Ds(t,a.firstSelectedSelector,a.lastSelectedSelector).map((e=>{const n=pc(m)||c.isForward(m)?ed.after:ed.before;return o.setRelativeSelection(ed.on(e.first,0),n(e.table)),a.clear(t),td(C.none(),!0)}))),(e=>C.some(td(C.none(),!0))))};return hc(m)&&p&&!Bc(i,l)?C.none:pc(m)&&p?n([Pc(1,0)]):mc(m)&&p?n([Pc(-1,0)]):c.isBackward(m)&&p?n([Pc(0,-1),Pc(-1,0)]):c.isForward(m)&&p?n([Pc(0,1),Pc(1,0)]):hc(m)&&!p?s:C.none}));return h()},keyup:(e,o,s,i,r)=>Cs(t,a.selectedSelector).fold((()=>{const l=e.raw,d=l.which;return!0===l.shiftKey&&hc(d)&&Bc(o,i)?((e,t,n,a,o,s,i)=>ke(n,o)&&a===s?C.none():bt(n,"td,th",t).bind((n=>bt(o,"td,th",t).bind((a=>gd(e,t,n,a,i))))))(t,n,o,s,i,r,a.selectRange):C.none()}),C.none)}})(o,s,i,a),d=((e,t,n,a)=>{const o=Lc(e);return(e,s)=>{a.clearBeforeUpdate(t),_s(e,s,n).each((e=>{const n=e.boxes.getOr([]);a.selectRange(t,n,e.start,e.finish),o.selectContents(s),o.collapseSelection()}))}})(o,s,i,a);e.on("TableSelectorChange",(e=>d(e.start,e.finish)));const c=(t,n)=>{(e=>!0===e.raw.shiftKey)(t)&&(n.kill&&t.kill(),n.selection.each((t=>{const n=bc.relative(t.start,t.finish),a=ud(o,n);e.selection.setRng(a)})))},u=e=>0===e.button,m=(()=>{const e=sc(_e.fromDom(s)),t=sc(0);return{touchEnd:n=>{const a=_e.fromDom(n.target);if(me("td")(a)||me("th")(a)){const o=e.get(),s=t.get();ke(o,a)&&n.timeStamp-s<300&&(n.preventDefault(),d(a,a))}e.set(a),t.set(n.timeStamp)}}})();e.on("dragstart",(e=>{r.clearstate()})),e.on("mousedown",(e=>{u(e)&&Wc(e)&&r.mousedown($c(e))})),e.on("mouseover",(e=>{var t;void 0!==(t=e).buttons&&0==(1&t.buttons)||!Wc(e)||r.mouseover($c(e))})),e.on("mouseup",(e=>{u(e)&&Wc(e)&&r.mouseup($c(e))})),e.on("touchend",m.touchEnd),e.on("keyup",(t=>{const n=$c(t);if(n.raw.shiftKey&&hc(n.raw.which)){const t=e.selection.getRng(),a=_e.fromDom(t.startContainer),o=_e.fromDom(t.endContainer);l.keyup(n,a,t.startOffset,o,t.endOffset).each((e=>{c(n,e)}))}})),e.on("keydown",(n=>{const a=$c(n);t.hide();const o=e.selection.getRng(),s=_e.fromDom(o.startContainer),i=_e.fromDom(o.endContainer),r=ua(fc,gc)(_e.fromDom(e.selection.getStart()));l.keydown(a,s,o.startOffset,i,o.endOffset,r).each((e=>{c(a,e)})),t.show()})),e.on("NodeChange",(()=>{const t=e.selection,n=_e.fromDom(t.getStart()),o=_e.fromDom(t.getEnd());ws(Kt,[n,o]).fold((()=>a.clear(s)),p)}))})),e.on("PreInit",(()=>{e.serializer.addTempAttr(Bs.firstSelected),e.serializer.addTempAttr(Bs.lastSelected)})),{getSelectedCells:()=>((e,t,n,a)=>{switch(e.tag){case"none":return t();case"single":return(e=>[e.dom])(e.element);case"multiple":return(e=>T(e,(e=>e.dom)))(e.elements)}})(n.get(),h([])),clearSelectedCells:e=>a.clear(_e.fromDom(e))}},Gc=e=>{let t=[];return{bind:e=>{if(void 0===e)throw new Error("Event bind error: undefined handler");t.push(e)},unbind:e=>{t=P(t,(t=>t!==e))},trigger:(...n)=>{const a={};O(e,((e,t)=>{a[e]=n[t]})),O(t,(e=>{e(a)}))}}},Yc=e=>({registry:K(e,(e=>({bind:e.bind,unbind:e.unbind}))),trigger:K(e,(e=>e.trigger))}),Xc=e=>e.slice(0).sort(),Qc=(e,t)=>{const n=P(t,(t=>!E(e,t)));n.length>0&&(e=>{throw new Error("Unsupported keys for object: "+Xc(e).join(", "))})(n)},Jc=e=>((e,t)=>((e,t,n)=>{if(0===t.length)throw new Error("You must specify at least one required field.");return((e,t)=>{if(!i(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");O(t,(t=>{if(!o(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")}))})("required",t),(e=>{const t=Xc(e);I(t,((e,n)=>n<t.length-1&&e===t[n+1])).each((e=>{throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")}))})(t),a=>{const o=q(a);V(t,(e=>E(o,e)))||((e,t)=>{throw new Error("All required keys ("+Xc(e).join(", ")+") were not specified. Specified keys were: "+Xc(t).join(", ")+".")})(t,o),e(t,o);const s=P(t,(e=>!n.validate(a[e],e)));return s.length>0&&((e,t)=>{throw new Error("All values need to be of type: "+t+". Keys ("+Xc(e).join(", ")+") were not.")})(s,n.label),a}})(e,t,{validate:u,label:"function"}))(Qc,e),eu=Jc(["compare","extract","mutate","sink"]),tu=Jc(["element","start","stop","destroy"]),nu=Jc(["forceDrop","drop","move","delayDrop"]),au=()=>{const e=(()=>{const e=Yc({move:Gc(["info"])});return{onEvent:p,reset:p,events:e.registry}})(),t=(()=>{let e=C.none();const t=Yc({move:Gc(["info"])});return{onEvent:(n,a)=>{a.extract(n).each((n=>{const o=((t,n)=>{const a=e.map((e=>t.compare(e,n)));return e=C.some(n),a})(a,n);o.each((e=>{t.trigger.move(e)}))}))},reset:()=>{e=C.none()},events:t.registry}})();let n=e;return{on:()=>{n.reset(),n=t},off:()=>{n.reset(),n=e},isOn:()=>n===t,onEvent:(e,t)=>{n.onEvent(e,t)},events:t.events}},ou=e=>{const t=e.replace(/\./g,"-");return{resolve:e=>t+"-"+e}},su=ou("ephox-dragster").resolve;var iu=eu({compare:(e,t)=>va(t.left-e.left,t.top-e.top),extract:e=>C.some(va(e.x,e.y)),sink:(e,t)=>{const n=(e=>{const t={layerClass:su("blocker"),...e},n=_e.fromTag("div");return he(n,"role","presentation"),Lt(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Fc(n,su("blocker")),Fc(n,t.layerClass),{element:h(n),destroy:()=>{qe(n)}}})(t),a=qc(n.element(),"mousedown",e.forceDrop),o=qc(n.element(),"mouseup",e.drop),s=qc(n.element(),"mousemove",e.move),i=qc(n.element(),"mouseout",e.delayDrop);return tu({element:n.element,start:e=>{Ue(e,n.element())},stop:()=>{qe(n.element())},destroy:()=>{n.destroy(),o.unbind(),s.unbind(),i.unbind(),a.unbind()}})},mutate:(e,t)=>{e.mutate(t.left,t.top)}});const ru=ou("ephox-snooker").resolve,lu=ru("resizer-bar"),du=ru("resizer-rows"),cu=ru("resizer-cols"),uu=e=>{const t=ut(e.parent(),"."+lu);O(t,qe)},mu=(e,t,n)=>{const a=e.origin();O(t,(t=>{t.each((t=>{const o=n(a,t);Fc(o,lu),Ue(e.parent(),o)}))}))},pu=(e,t,n,a,o)=>{const s=wa(n),i=t.isResizable,r=a.length>0?La.positions(a,n):[],l=r.length>0?((e,t)=>N(e.all,((e,n)=>t(e.element)?[n]:[])))(e,i):[];((e,t,n,a)=>{mu(e,t,((e,t)=>{const o=((e,t,n,a,o)=>{const s=_e.fromTag("div");return Lt(s,{position:"absolute",left:t+"px",top:n-3.5+"px",height:"7px",width:a+"px"}),fe(s,{"data-row":e,role:"presentation"}),s})(t.row,n.left-e.left,t.y-e.top,a);return Fc(o,du),o}))})(t,P(r,((e,t)=>S(l,(e=>t===e)))),s,Rn(n));const d=o.length>0?Ma.positions(o,n):[],c=d.length>0?((e,t)=>{const n=[];return A(e.grid.columns,(a=>{ra(e,a).map((e=>e.element)).forall(t)&&n.push(a)})),P(n,(n=>{const a=aa(e,(e=>e.column===n));return V(a,(e=>t(e.element)))}))})(e,i):[];((e,t,n,a)=>{mu(e,t,((e,t)=>{const o=((e,t,n,a,o)=>{const s=_e.fromTag("div");return Lt(s,{position:"absolute",left:t-3.5+"px",top:n+"px",height:o+"px",width:"7px"}),fe(s,{"data-column":e,role:"presentation"}),s})(t.col,t.x-e.left,n.top-e.top,0,a);return Fc(o,cu),o}))})(t,P(d,((e,t)=>S(c,(e=>t===e)))),s,fa(n))},hu=(e,t)=>{if(uu(e),e.isResizable(t)){const n=Jn(t),a=ca(n),o=la(n);pu(n,e,t,a,o)}},fu=(e,t)=>{const n=ut(e.parent(),"."+lu);O(n,t)},gu=e=>{fu(e,(e=>{Ot(e,"display","none")}))},vu=e=>{fu(e,(e=>{Ot(e,"display","block")}))},bu=ru("resizer-bar-dragging"),wu=e=>{const t=(()=>{const e=Yc({drag:Gc(["xDelta","yDelta","target"])});let t=C.none();const n=(()=>{const e=Yc({drag:Gc(["xDelta","yDelta"])});return{mutate:(t,n)=>{e.trigger.drag(t,n)},events:e.registry}})();return n.events.drag.bind((n=>{t.each((t=>{e.trigger.drag(n.xDelta,n.yDelta,t)}))})),{assign:e=>{t=C.some(e)},get:()=>t,mutate:n.mutate,events:e.registry}})(),n=((e,t={})=>{var n;return((e,t,n)=>{let a=!1;const o=Yc({start:Gc([]),stop:Gc([])}),s=au(),i=()=>{c.stop(),s.isOn()&&(s.off(),o.trigger.stop())},l=((e,t)=>{let n=null;const a=()=>{r(n)||(clearTimeout(n),n=null)};return{cancel:a,throttle:(...t)=>{a(),n=setTimeout((()=>{n=null,e.apply(null,t)}),200)}}})(i);s.events.move.bind((n=>{t.mutate(e,n.info)}));const d=e=>(...t)=>{a&&e.apply(null,t)},c=t.sink(nu({forceDrop:i,drop:d(i),move:d((e=>{l.cancel(),s.onEvent(e,t)})),delayDrop:d(l.throttle)}),n);return{element:c.element,go:e=>{c.start(e),s.on(),o.trigger.start()},on:()=>{a=!0},off:()=>{a=!1},isActive:()=>a,destroy:()=>{c.destroy()},events:o.registry}})(e,null!==(n=t.mode)&&void 0!==n?n:iu,t)})(t,{});let a=C.none();const o=(e,t)=>C.from(ge(e,t));t.events.drag.bind((e=>{o(e.target,"data-row").each((t=>{const n=Ut(e.target,"top");Ot(e.target,"top",n+e.yDelta+"px")})),o(e.target,"data-column").each((t=>{const n=Ut(e.target,"left");Ot(e.target,"left",n+e.xDelta+"px")}))}));const s=(e,t)=>Ut(e,t)-Rt(e,"data-initial-"+t,0);n.events.stop.bind((()=>{t.get().each((t=>{a.each((n=>{o(t,"data-row").each((e=>{const a=s(t,"top");be(t,"data-initial-top"),u.trigger.adjustHeight(n,a,parseInt(e,10))})),o(t,"data-column").each((e=>{const a=s(t,"left");be(t,"data-initial-left"),u.trigger.adjustWidth(n,a,parseInt(e,10))})),hu(e,n)}))}))}));const i=(a,o)=>{u.trigger.startAdjust(),t.assign(a),he(a,"data-initial-"+o,Ut(a,o)),Fc(a,bu),Ot(a,"opacity","0.2"),n.go(e.parent())},l=qc(e.parent(),"mousedown",(e=>{var t;t=e.target,Nc(t,du)&&i(e.target,"top"),(e=>Nc(e,cu))(e.target)&&i(e.target,"left")})),d=t=>ke(t,e.view()),c=qc(e.view(),"mouseover",(t=>{var o;(o=t.target,bt(o,"table",d).filter(Xo)).fold((()=>{it(t.target)&&uu(e)}),(t=>{n.isActive()&&(a=C.some(t),hu(e,t))}))})),u=Yc({adjustHeight:Gc(["table","delta","row"]),adjustWidth:Gc(["table","delta","column"]),startAdjust:Gc([])});return{destroy:()=>{l.unbind(),c.unbind(),n.destroy(),uu(e)},refresh:t=>{hu(e,t)},on:n.on,off:n.off,hideBars:v(gu,e),showBars:v(vu,e),events:u.registry}},yu=(e,t,n)=>{const a=La,o=Ma,s=wu(e),i=Yc({beforeResize:Gc(["table","type"]),afterResize:Gc(["table","type"]),startDrag:Gc([])});return s.events.adjustHeight.bind((e=>{const t=e.table;i.trigger.beforeResize(t,"row"),((e,t,n,a)=>{const o=Jn(e),s=((e,t,n)=>so(e,t,n,Ka,(e=>e.getOrThunk(zt))))(o,e,a),i=T(s,((e,a)=>n===a?Math.max(t+e,zt()):e)),r=nr(o,i),l=((e,t)=>T(e.all,((e,n)=>({element:e.element,height:t[n]}))))(o,i);O(l,(e=>{za(e.element,e.height)})),O(r,(e=>{za(e.element,e.height)}));const d=M(i,((e,t)=>e+t),0);za(e,d)})(t,a.delta(e.delta,t),e.row,a),i.trigger.afterResize(t,"row")})),s.events.startAdjust.bind((e=>{i.trigger.startDrag()})),s.events.adjustWidth.bind((e=>{const a=e.table;i.trigger.beforeResize(a,"col");const s=o.delta(e.delta,a),r=n(a);or(a,s,e.column,t,r),i.trigger.afterResize(a,"col")})),{on:s.on,off:s.off,refreshBars:s.refresh,hideBars:s.hideBars,showBars:s.showBars,destroy:s.destroy,events:i.registry}},_u=e=>c(e)&&"TABLE"===e.nodeName,Cu="bar-",Du=e=>"false"!==ge(e,"data-mce-resize"),xu=e=>{const t=ic(),n=ic(),a=ic();let o,s;const i=t=>pl(e,t),r=()=>Vo(e)?ei():Js();return e.on("init",(()=>{const o=((e,t)=>e.inline?((e,t,n)=>({parent:h(t),view:h(e),origin:h(va(0,0)),isResizable:n}))(_e.fromDom(e.getBody()),(()=>{const e=_e.fromTag("div");return Lt(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Ue(rt(_e.fromDom(document)),e),e})(),t):((e,t)=>{const n=ce(e)?(e=>_e.fromDom(Te(e).dom.documentElement))(e):e;return{parent:h(n),view:h(e),origin:h(va(0,0)),isResizable:t}})(_e.fromDom(e.getDoc()),t))(e,Du);if(a.set(o),(e=>{const t=e.options.get("object_resizing");return E(t.split(","),"table")})(e)&&qo(e)){const a=r(),s=yu(o,a,i);s.on(),s.events.startDrag.bind((n=>{t.set(e.selection.getRng())})),s.events.beforeResize.bind((t=>{const n=t.table.dom;((e,t,n,a,o)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:a,origin:o})})(e,n,as(n),os(n),Cu+t.type)})),s.events.afterResize.bind((n=>{const a=n.table,o=a.dom;ts(a),t.on((t=>{e.selection.setRng(t),e.focus()})),((e,t,n,a,o)=>{e.dispatch("ObjectResized",{target:t,width:n,height:a,origin:o})})(e,o,as(o),os(o),Cu+n.type),e.undoManager.add()})),n.set(s)}})),e.on("ObjectResizeStart",(t=>{const n=t.target;if(_u(n)){const a=_e.fromDom(n);O(e.dom.select(".mce-clonedresizable"),(t=>{e.dom.addClass(t,"mce-"+No(e)+"-columns")})),!Al(a)&&jo(e)?Pl(a):!Sl(a)&&zo(e)&&Ll(a),Tl(a)&&xt(t.origin,Cu)&&Ll(a),o=t.width,s=Zo(e)?"":((e,t)=>{const n=e.dom.getStyle(t,"width")||e.dom.getAttrib(t,"width");return C.from(n).filter(St)})(e,n).getOr("")}})),e.on("ObjectResized",(t=>{const n=t.target;if(_u(n)){const a=_e.fromDom(n),l=t.origin;xt(l,"corner-")&&((t,n,a)=>{const l=kt(n,"e");if(""===s&&Ll(t),a!==o&&""!==s){Ot(t,"width",s);const n=r(),d=i(t),c=Vo(e)||l?(e=>ti(e).columns)(t)-1:0;or(t,a-o,c,n,d)}else if((e=>/^(\d+(\.\d+)?)%$/.test(e))(s)){const e=parseFloat(s.replace("%",""));Ot(t,"width",a*e/o+"%")}(e=>/^(\d+(\.\d+)?)px$/.test(e))(s)&&(e=>{const t=Jn(e);ia(t)||O($t(e),(e=>{const t=Pt(e,"width");Ot(e,"width",t),be(e,"width")}))})(t)})(a,l,t.width),ts(a),dl(e,a.dom,cl)}})),e.on("SwitchMode",(()=>{n.on((t=>{e.mode.isReadOnly()?t.hideBars():t.showBars()}))})),e.on("dragstart dragend",(e=>{n.on((t=>{"dragstart"===e.type?(t.hideBars(),t.off()):(t.on(),t.showBars())}))})),e.on("remove",(()=>{n.on((e=>{e.destroy()})),a.on((t=>{((e,t)=>{e.inline&&qe(t.parent())})(e,t)}))})),{refresh:e=>{n.on((t=>t.refreshBars(_e.fromDom(e))))},hide:()=>{n.on((e=>e.hideBars()))},show:()=>{n.on((e=>e.showBars()))}}},ku=e=>{(e=>{const t=e.options.register;t("table_clone_elements",{processor:"string[]"}),t("table_use_colgroups",{processor:"boolean",default:!0}),t("table_header_type",{processor:e=>{const t=E(["section","cells","sectionCells","auto"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),t("table_sizing_mode",{processor:"string",default:"auto"}),t("table_default_attributes",{processor:"object",default:{border:"1"}}),t("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),t("table_column_resizing",{processor:e=>{const t=E(["preservetable","resizetable"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),t("table_resize_bars",{processor:"boolean",default:!0}),t("table_style_by_css",{processor:"boolean",default:!0}),t("table_merge_content_on_paste",{processor:"boolean",default:!0})})(e);const t=xu(e),n=Kc(e,t),a=hl(e,t,n);return Ql(e,a),((e,t)=>{const n=es(e),a=t=>Ns(ns(e)).bind((a=>Kt(a,n).map((n=>{const o=Is(Vs(e),n,a);return t(n,o)})))).getOr("");W({mceTableRowType:()=>a(t.getTableRowType),mceTableCellType:()=>a(t.getTableCellType),mceTableColType:()=>a(t.getTableColType)},((t,n)=>e.addQueryValueHandler(n,t)))})(e,a),Us(e,a),{getSelectedCells:n.getSelectedCells,clearSelectedCells:n.clearSelectedCells}};e.add("dom",(e=>({table:ku(e)})))}()},53163:function(e,t,n){n(57658),n(30541),function(){"use strict";const e=Object.getPrototypeOf,t=(e,t,n)=>{var a;return!!n(e,t.prototype)||(null===(a=e.constructor)||void 0===a?void 0:a.name)===t.name},n=e=>n=>(e=>{const n=typeof e;return null===e?"null":"object"===n&&Array.isArray(e)?"array":"object"===n&&t(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":n})(n)===e,a=e=>t=>typeof t===e,o=e=>t=>e===t,s=n("string"),i=n("object"),r=n=>((n,a)=>i(n)&&t(n,a,((t,n)=>e(t)===n)))(n,Object),l=n("array"),d=o(null),c=a("boolean"),u=o(void 0),m=e=>null==e,p=e=>!m(e),h=a("function"),f=a("number"),g=(e,t)=>{if(l(e)){for(let n=0,a=e.length;n<a;++n)if(!t(e[n]))return!1;return!0}return!1},v=()=>{},b=e=>()=>e(),w=(e,t)=>(...n)=>e(t.apply(null,n)),y=e=>()=>e,_=e=>e,C=(e,t)=>e===t;function D(e,...t){return(...n)=>{const a=t.concat(n);return e.apply(null,a)}}const x=e=>t=>!e(t),k=e=>()=>{throw new Error(e)},E=e=>e(),S=y(!1),A=y(!0);class T{constructor(e,t){this.tag=e,this.value=t}static some(e){return new T(!0,e)}static none(){return T.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?T.some(e(this.value)):T.none()}bind(e){return this.tag?e(this.value):T.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:T.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return p(e)?T.some(e):T.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}T.singletonNone=new T(!1);const O=Array.prototype.slice,L=Array.prototype.indexOf,P=Array.prototype.push,M=(e,t)=>L.call(e,t),B=(e,t)=>{const n=M(e,t);return-1===n?T.none():T.some(n)},I=(e,t)=>M(e,t)>-1,R=(e,t)=>{for(let n=0,a=e.length;n<a;n++)if(t(e[n],n))return!0;return!1},F=(e,t)=>{const n=[];for(let a=0;a<e;a++)n.push(t(a));return n},N=(e,t)=>{const n=[];for(let a=0;a<e.length;a+=t){const o=O.call(e,a,a+t);n.push(o)}return n},V=(e,t)=>{const n=e.length,a=new Array(n);for(let o=0;o<n;o++){const n=e[o];a[o]=t(n,o)}return a},U=(e,t)=>{for(let n=0,a=e.length;n<a;n++)t(e[n],n)},H=(e,t)=>{const n=[],a=[];for(let o=0,s=e.length;o<s;o++){const s=e[o];(t(s,o)?n:a).push(s)}return{pass:n,fail:a}},z=(e,t)=>{const n=[];for(let a=0,o=e.length;a<o;a++){const o=e[a];t(o,a)&&n.push(o)}return n},j=(e,t,n)=>(((e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)})(e,((e,a)=>{n=t(n,e,a)})),n),Z=(e,t,n)=>(U(e,((e,a)=>{n=t(n,e,a)})),n),q=(e,t)=>((e,t,n)=>{for(let a=0,o=e.length;a<o;a++){const o=e[a];if(t(o,a))return T.some(o);if(n(o,a))break}return T.none()})(e,t,S),$=(e,t)=>{for(let n=0,a=e.length;n<a;n++)if(t(e[n],n))return T.some(n);return T.none()},W=e=>{const t=[];for(let n=0,a=e.length;n<a;++n){if(!l(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);P.apply(t,e[n])}return t},K=(e,t)=>W(V(e,t)),G=(e,t)=>{for(let n=0,a=e.length;n<a;++n)if(!0!==t(e[n],n))return!1;return!0},Y=e=>{const t=O.call(e,0);return t.reverse(),t},X=(e,t)=>z(e,(e=>!I(t,e))),Q=(e,t)=>{const n={};for(let a=0,o=e.length;a<o;a++){const o=e[a];n[String(o)]=t(o,a)}return n},J=e=>[e],ee=(e,t)=>{const n=O.call(e,0);return n.sort(t),n},te=(e,t)=>t>=0&&t<e.length?T.some(e[t]):T.none(),ne=e=>te(e,0),ae=e=>te(e,e.length-1),oe=h(Array.from)?Array.from:e=>O.call(e),se=(e,t)=>{for(let n=0;n<e.length;n++){const a=t(e[n],n);if(a.isSome())return a}return T.none()},ie=Object.keys,re=Object.hasOwnProperty,le=(e,t)=>{const n=ie(e);for(let a=0,o=n.length;a<o;a++){const o=n[a];t(e[o],o)}},de=(e,t)=>ce(e,((e,n)=>({k:n,v:t(e,n)}))),ce=(e,t)=>{const n={};return le(e,((e,a)=>{const o=t(e,a);n[o.k]=o.v})),n},ue=e=>(t,n)=>{e[n]=t},me=(e,t,n,a)=>{le(e,((e,o)=>{(t(e,o)?n:a)(e,o)}))},pe=(e,t)=>{const n={};return me(e,t,ue(n),v),n},he=(e,t)=>{const n=[];return le(e,((e,a)=>{n.push(t(e,a))})),n},fe=(e,t)=>{const n=ie(e);for(let a=0,o=n.length;a<o;a++){const o=n[a],s=e[o];if(t(s,o,e))return T.some(s)}return T.none()},ge=e=>he(e,_),ve=(e,t)=>be(e,t)?T.from(e[t]):T.none(),be=(e,t)=>re.call(e,t),we=(e,t)=>be(e,t)&&void 0!==e[t]&&null!==e[t],ye=(e,t,n=C)=>e.exists((e=>n(e,t))),_e=e=>{const t=[],n=e=>{t.push(e)};for(let a=0;a<e.length;a++)e[a].each(n);return t},Ce=(e,t,n)=>e.isSome()&&t.isSome()?T.some(n(e.getOrDie(),t.getOrDie())):T.none(),De=(e,t)=>null!=e?T.some(t(e)):T.none(),xe=(e,t)=>e?T.some(t):T.none(),ke=(e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t,Ee=(e,t)=>Ae(e,t)?((e,t)=>e.substring(t))(e,t.length):e,Se=(e,t,n=0,a)=>{const o=e.indexOf(t,n);return-1!==o&&(!!u(a)||o+t.length<=a)},Ae=(e,t)=>ke(e,t,0),Te=(e,t)=>ke(e,t,e.length-t.length),Oe=(On=/^\s+|\s+$/g,e=>e.replace(On,"")),Le=e=>e.length>0,Pe=e=>!Le(e),Me=e=>void 0!==e.style&&h(e.style.getPropertyValue),Be=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},Ie=(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return Be(n.childNodes[0])},Re=(e,t)=>{const n=(t||document).createElement(e);return Be(n)},Fe=(e,t)=>{const n=(t||document).createTextNode(e);return Be(n)},Ne=Be,Ve="undefined"!=typeof window?window:Function("return this;")(),Ue=(e,t)=>((e,t)=>{let n=null!=t?t:Ve;for(let a=0;a<e.length&&null!=n;++a)n=n[e[a]];return n})(e.split("."),t),He=Object.getPrototypeOf,ze=e=>{const t=Ue("ownerDocument.defaultView",e);return i(e)&&((e=>((e,t)=>{const n=((e,t)=>Ue(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n})("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(He(e).constructor.name))},je=e=>e.dom.nodeName.toLowerCase(),Ze=e=>t=>(e=>e.dom.nodeType)(t)===e,qe=e=>$e(e)&&ze(e.dom),$e=Ze(1),We=Ze(3),Ke=Ze(9),Ge=Ze(11),Ye=e=>t=>$e(t)&&je(t)===e,Xe=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Qe=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,Je=(e,t)=>e.dom===t.dom,et=(e,t)=>{const n=e.dom,a=t.dom;return n!==a&&n.contains(a)},tt=e=>Ne(e.dom.ownerDocument),nt=e=>Ke(e)?e:tt(e),at=e=>Ne(nt(e).dom.documentElement),ot=e=>Ne(nt(e).dom.defaultView),st=e=>T.from(e.dom.parentNode).map(Ne),it=e=>T.from(e.dom.parentElement).map(Ne),rt=e=>T.from(e.dom.offsetParent).map(Ne),lt=e=>V(e.dom.childNodes,Ne),dt=(e,t)=>{const n=e.dom.childNodes;return T.from(n[t]).map(Ne)},ct=e=>dt(e,0),ut=(e,t)=>({element:e,offset:t}),mt=(e,t)=>{const n=lt(e);return n.length>0&&t<n.length?ut(n[t],0):ut(e,t)},pt=e=>Ge(e)&&p(e.dom.host),ht=h(Element.prototype.attachShadow)&&h(Node.prototype.getRootNode),ft=y(ht),gt=ht?e=>Ne(e.dom.getRootNode()):nt,vt=e=>pt(e)?e:Ne(nt(e).dom.body),bt=e=>{const t=gt(e);return pt(t)?T.some(t):T.none()},wt=e=>Ne(e.dom.host),yt=e=>{const t=We(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return bt(Ne(t)).fold((()=>n.body.contains(t)),(a=yt,o=wt,e=>a(o(e))));var a,o},_t=()=>Ct(Ne(document)),Ct=e=>{const t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return Ne(t)},Dt=(e,t,n)=>{if(!(s(n)||c(n)||f(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},xt=(e,t,n)=>{Dt(e.dom,t,n)},kt=(e,t)=>{const n=e.dom;le(t,((e,t)=>{Dt(n,t,e)}))},Et=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},St=(e,t)=>T.from(Et(e,t)),At=(e,t)=>{const n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Tt=(e,t)=>{e.dom.removeAttribute(t)},Ot=(e,t,n)=>{if(!s(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Me(e)&&e.style.setProperty(t,n)},Lt=(e,t)=>{Me(e)&&e.style.removeProperty(t)},Pt=(e,t,n)=>{const a=e.dom;Ot(a,t,n)},Mt=(e,t)=>{const n=e.dom;le(t,((e,t)=>{Ot(n,t,e)}))},Bt=(e,t)=>{const n=e.dom;le(t,((e,t)=>{e.fold((()=>{Lt(n,t)}),(e=>{Ot(n,t,e)}))}))},It=(e,t)=>{const n=e.dom,a=window.getComputedStyle(n).getPropertyValue(t);return""!==a||yt(e)?a:Rt(n,t)},Rt=(e,t)=>Me(e)?e.style.getPropertyValue(t):"",Ft=(e,t)=>{const n=e.dom,a=Rt(n,t);return T.from(a).filter((e=>e.length>0))},Nt=e=>{const t={},n=e.dom;if(Me(n))for(let a=0;a<n.style.length;a++){const e=n.style.item(a);t[e]=n.style[e]}return t},Vt=(e,t,n)=>{const a=Re(e);return Pt(a,t,n),Ft(a,t).isSome()},Ut=(e,t)=>{const n=e.dom;Lt(n,t),ye(St(e,"style").map(Oe),"")&&Tt(e,"style")},Ht=e=>e.dom.offsetWidth,zt=(e,t)=>{const n=n=>{const a=t(n);if(a<=0||null===a){const t=It(n,e);return parseFloat(t)||0}return a},a=(e,t)=>Z(t,((t,n)=>{const a=It(e,n),o=void 0===a?0:parseInt(a,10);return isNaN(o)?t:t+o}),0);return{set:(t,n)=>{if(!f(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);const a=t.dom;Me(a)&&(a.style[e]=n+"px")},get:n,getOuter:n,aggregate:a,max:(e,t,n)=>{const o=a(e,n);return t>o?t-o:0}}},jt=zt("height",(e=>{const t=e.dom;return yt(e)?t.getBoundingClientRect().height:t.offsetHeight})),Zt=e=>jt.get(e),qt=e=>jt.getOuter(e),$t=(e,t)=>({left:e,top:t,translate:(n,a)=>$t(e+n,t+a)}),Wt=$t,Kt=(e,t)=>void 0!==e?e:void 0!==t?t:0,Gt=e=>{const t=e.dom.ownerDocument,n=t.body,a=t.defaultView,o=t.documentElement;if(n===e.dom)return Wt(n.offsetLeft,n.offsetTop);const s=Kt(null==a?void 0:a.pageYOffset,o.scrollTop),i=Kt(null==a?void 0:a.pageXOffset,o.scrollLeft),r=Kt(o.clientTop,n.clientTop),l=Kt(o.clientLeft,n.clientLeft);return Yt(e).translate(i-l,s-r)},Yt=e=>{const t=e.dom,n=t.ownerDocument.body;return n===t?Wt(n.offsetLeft,n.offsetTop):yt(e)?(e=>{const t=e.getBoundingClientRect();return Wt(t.left,t.top)})(t):Wt(0,0)},Xt=zt("width",(e=>e.dom.offsetWidth)),Qt=e=>Xt.get(e),Jt=e=>Xt.getOuter(e),en=e=>{let t,n=!1;return(...a)=>(n||(n=!0,t=e.apply(null,a)),t)},tn=()=>nn(0,0),nn=(e,t)=>({major:e,minor:t}),an={nu:nn,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?tn():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const a=e[n];if(a.test(t))return a}})(e,t);if(!n)return{major:0,minor:0};const a=e=>Number(t.replace(n,"$"+e));return nn(a(1),a(2))})(e,n)},unknown:tn},on=(e,t)=>{const n=String(t).toLowerCase();return q(e,(e=>e.search(n)))},sn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,rn=e=>t=>Se(t,e),ln=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Se(e,"edge/")&&Se(e,"chrome")&&Se(e,"safari")&&Se(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,sn],search:e=>Se(e,"chrome")&&!Se(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Se(e,"msie")||Se(e,"trident")},{name:"Opera",versionRegexes:[sn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:rn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:rn("firefox")},{name:"Safari",versionRegexes:[sn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Se(e,"safari")||Se(e,"mobile/"))&&Se(e,"applewebkit")}],dn=[{name:"Windows",search:rn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Se(e,"iphone")||Se(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:rn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:rn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:rn("linux"),versionRegexes:[]},{name:"Solaris",search:rn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:rn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:rn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],cn={browsers:y(ln),oses:y(dn)},un="Edge",mn="Chromium",pn="Opera",hn="Firefox",fn="Safari",gn=e=>{const t=e.current,n=e.version,a=e=>()=>t===e;return{current:t,version:n,isEdge:a(un),isChromium:a(mn),isIE:a("IE"),isOpera:a(pn),isFirefox:a(hn),isSafari:a(fn)}},vn=()=>gn({current:void 0,version:an.unknown()}),bn=gn,wn=(y(un),y(mn),y("IE"),y(pn),y(hn),y(fn),"Windows"),yn="Android",_n="Linux",Cn="macOS",Dn="Solaris",xn="FreeBSD",kn="ChromeOS",En=e=>{const t=e.current,n=e.version,a=e=>()=>t===e;return{current:t,version:n,isWindows:a(wn),isiOS:a("iOS"),isAndroid:a(yn),isMacOS:a(Cn),isLinux:a(_n),isSolaris:a(Dn),isFreeBSD:a(xn),isChromeOS:a(kn)}},Sn=()=>En({current:void 0,version:an.unknown()}),An=En,Tn=(y(wn),y("iOS"),y(yn),y(_n),y(Cn),y(Dn),y(xn),y(kn),e=>window.matchMedia(e).matches);var On;let Ln=en((()=>((e,t,n)=>{const a=cn.browsers(),o=cn.oses(),s=t.bind((e=>((e,t)=>se(t.brands,(t=>{const n=t.brand.toLowerCase();return q(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:an.nu(parseInt(t.version,10),0)})))})))(a,e))).orThunk((()=>((e,t)=>on(e,t).map((e=>{const n=an.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(a,e))).fold(vn,bn),i=((e,t)=>on(e,t).map((e=>{const n=an.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(o,e).fold(Sn,An),r=((e,t,n,a)=>{const o=e.isiOS()&&!0===/ipad/i.test(n),s=e.isiOS()&&!o,i=e.isiOS()||e.isAndroid(),r=i||a("(pointer:coarse)"),l=o||!s&&i&&a("(min-device-width:768px)"),d=s||i&&!l,c=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),u=!d&&!l&&!c;return{isiPad:y(o),isiPhone:y(s),isTablet:y(l),isPhone:y(d),isTouch:y(r),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:y(c),isDesktop:y(u)}})(i,s,e,n);return{browser:s,os:i,deviceType:r}})(navigator.userAgent,T.from(navigator.userAgentData),Tn)));const Pn=()=>Ln(),Mn=e=>{const t=Ne((e=>{if(ft()&&p(e.target)){const t=Ne(e.target);if($e(t)&&(e=>p(e.dom.shadowRoot))(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return ne(t)}}return T.from(e.target)})(e).getOr(e.target)),n=()=>e.stopPropagation(),a=()=>e.preventDefault(),o=w(a,n);return((e,t,n,a,o,s,i)=>({target:e,x:t,y:n,stop:a,prevent:o,kill:s,raw:i}))(t,e.clientX,e.clientY,n,a,o,e)},Bn=(e,t,n,a,o)=>{const s=((e,t)=>n=>{e(n)&&t(Mn(n))})(n,a);return e.dom.addEventListener(t,s,o),{unbind:D(In,e,t,s,o)}},In=(e,t,n,a)=>{e.dom.removeEventListener(t,n,a)},Rn=(e,t)=>{st(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},Fn=(e,t)=>{const n=(e=>T.from(e.dom.nextSibling).map(Ne))(e);n.fold((()=>{st(e).each((e=>{Vn(e,t)}))}),(e=>{Rn(e,t)}))},Nn=(e,t)=>{ct(e).fold((()=>{Vn(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},Vn=(e,t)=>{e.dom.appendChild(t.dom)},Un=(e,t)=>{U(t,(t=>{Vn(e,t)}))},Hn=e=>{e.dom.textContent="",U(lt(e),(e=>{zn(e)}))},zn=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},jn=e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,a=t.body.scrollTop||t.documentElement.scrollTop;return Wt(n,a)},Zn=(e,t,n)=>{const a=(void 0!==n?n.dom:document).defaultView;a&&a.scrollTo(e,t)},qn=(e,t,n,a)=>({x:e,y:t,width:n,height:a,right:e+n,bottom:t+a}),$n=e=>{const t=void 0===e?window:e,n=t.document,a=jn(Ne(n));return(e=>{const t=void 0===e?window:e;return Pn().browser.isFirefox()?T.none():T.from(t.visualViewport)})(t).fold((()=>{const e=t.document.documentElement,n=e.clientWidth,o=e.clientHeight;return qn(a.left,a.top,n,o)}),(e=>qn(Math.max(e.pageLeft,a.left),Math.max(e.pageTop,a.top),e.width,e.height)))},Wn=()=>Ne(document),Kn=(e,t)=>e.view(t).fold(y([]),(t=>{const n=e.owner(t),a=Kn(e,n);return[t].concat(a)}));var Gn=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?T.none():T.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(Ne)},owner:e=>tt(e)});const Yn=e=>{const t=Wn(),n=jn(t),a=((e,t)=>{const n=t.owner(e),a=Kn(t,n);return T.some(a)})(e,Gn);return a.fold(D(Gt,e),(t=>{const a=Yt(e),o=j(t,((e,t)=>{const n=Yt(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return Wt(o.left+a.left+n.left,o.top+a.top+n.top)}))},Xn=(e,t,n,a)=>({x:e,y:t,width:n,height:a,right:e+n,bottom:t+a}),Qn=e=>{const t=Gt(e),n=Jt(e),a=qt(e);return Xn(t.left,t.top,n,a)},Jn=e=>{const t=Yn(e),n=Jt(e),a=qt(e);return Xn(t.left,t.top,n,a)},ea=(e,t)=>{const n=Math.max(e.x,t.x),a=Math.max(e.y,t.y),o=Math.min(e.right,t.right),s=Math.min(e.bottom,t.bottom);return Xn(n,a,o-n,s-a)},ta=()=>$n(window);var na=tinymce.util.Tools.resolve("tinymce.ThemeManager");const aa=e=>{const t=t=>t(e),n=y(e),a=()=>o,o={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:A,isError:S,map:t=>sa.value(t(e)),mapError:a,bind:t,exists:t,forall:t,getOr:n,or:a,getOrThunk:n,orThunk:a,getOrDie:n,each:t=>{t(e)},toOptional:()=>T.some(e)};return o},oa=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:S,isError:A,map:t,mapError:t=>sa.error(t(e)),bind:t,exists:S,forall:A,getOr:_,or:_,getOrThunk:E,orThunk:E,getOrDie:k(String(e)),each:v,toOptional:T.none};return n},sa={value:aa,error:oa,fromOption:(e,t)=>e.fold((()=>oa(t)),aa)};var ia;!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(ia||(ia={}));const ra=(e,t,n)=>e.stype===ia.Error?t(e.serror):n(e.svalue),la=e=>({stype:ia.Value,svalue:e}),da=e=>({stype:ia.Error,serror:e}),ca=la,ua=da,ma=ra,pa=(e,t,n,a)=>({tag:"field",key:e,newKey:t,presence:n,prop:a}),ha=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},fa=e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const n={};for(let a=0;a<t.length;a++){const o=t[a];for(const t in o)be(o,t)&&(n[t]=e(n[t],o[t]))}return n},ga=fa(((e,t)=>r(e)&&r(t)?ga(e,t):t)),va=fa(((e,t)=>t)),ba=e=>({tag:"defaultedThunk",process:e}),wa=e=>ba(y(e)),ya=e=>({tag:"mergeWithThunk",process:e}),_a=e=>{const t=(e=>{const t=[],n=[];return U(e,(e=>{ra(e,(e=>n.push(e)),(e=>t.push(e)))})),{values:t,errors:n}})(e);return t.errors.length>0?(n=t.errors,w(ua,W)(n)):ca(t.values);var n},Ca=e=>i(e)&&ie(e).length>100?" removed due to size":JSON.stringify(e,null,2),Da=(e,t)=>ua([{path:e,getErrorInfo:t}]),xa=e=>({extract:(t,n)=>((e,t)=>e.stype===ia.Error?t(e.serror):e)(e(n),(e=>((e,t)=>Da(e,y(t)))(t,e))),toString:y("val")}),ka=xa(ca),Ea=(e,t,n,a)=>a(ve(e,t).getOrThunk((()=>n(e)))),Sa=(e,t,n,a,o)=>{const s=e=>o.extract(t.concat([a]),e),i=e=>e.fold((()=>ca(T.none())),(e=>((e,t)=>e.stype===ia.Value?{stype:ia.Value,svalue:t(e.svalue)}:e)(o.extract(t.concat([a]),e),T.some)));switch(e.tag){case"required":return((e,t,n,a)=>ve(t,n).fold((()=>((e,t,n)=>Da(e,(()=>'Could not find valid *required* value for "'+t+'" in '+Ca(n))))(e,n,t)),a))(t,n,a,s);case"defaultedThunk":return Ea(n,a,e.process,s);case"option":return((e,t,n)=>n(ve(e,t)))(n,a,i);case"defaultedOptionThunk":return((e,t,n,a)=>a(ve(e,t).map((t=>!0===t?n(e):t))))(n,a,e.process,i);case"mergeWithThunk":return Ea(n,a,y({}),(t=>{const a=ga(e.process(n),t);return s(a)}))}},Aa=e=>({extract:(t,n)=>e().extract(t,n),toString:()=>e().toString()}),Ta=e=>ie(pe(e,p)),Oa=e=>{const t=La(e),n=j(e,((e,t)=>ha(t,(t=>ga(e,{[t]:!0})),y(e))),{});return{extract:(e,a)=>{const o=c(a)?[]:Ta(a),s=z(o,(e=>!we(n,e)));return 0===s.length?t.extract(e,a):((e,t)=>Da(e,(()=>"There are unsupported fields: ["+t.join(", ")+"] specified")))(e,s)},toString:t.toString}},La=e=>({extract:(t,n)=>((e,t,n)=>{const a={},o=[];for(const s of n)ha(s,((n,s,i,r)=>{const l=Sa(i,e,t,n,r);ma(l,(e=>{o.push(...e)}),(e=>{a[s]=e}))}),((e,n)=>{a[e]=n(t)}));return o.length>0?ua(o):ca(a)})(t,n,e),toString:()=>{const t=V(e,(e=>ha(e,((e,t,n,a)=>e+" -> "+a.toString()),((e,t)=>"state("+e+")"))));return"obj{\n"+t.join("\n")+"}"}}),Pa=e=>({extract:(t,n)=>{const a=V(n,((n,a)=>e.extract(t.concat(["["+a+"]"]),n)));return _a(a)},toString:()=>"array("+e.toString()+")"}),Ma=(e,t)=>{const n=void 0!==t?t:_;return{extract:(t,a)=>{const o=[];for(const s of e){const e=s.extract(t,a);if(e.stype===ia.Value)return{stype:ia.Value,svalue:n(e.svalue)};o.push(e)}return _a(o)},toString:()=>"oneOf("+V(e,(e=>e.toString())).join(", ")+")"}},Ba=(e,t)=>({extract:(n,a)=>{const o=ie(a),s=((t,n)=>Pa(xa(e)).extract(t,n))(n,o);return((e,t)=>e.stype===ia.Value?t(e.svalue):e)(s,(e=>{const o=V(e,(e=>pa(e,e,{tag:"required",process:{}},t)));return La(o).extract(n,a)}))},toString:()=>"setOf("+t.toString()+")"}),Ia=w(Pa,La),Ra=y(ka),Fa=(e,t)=>xa((n=>{const a=typeof n;return e(n)?ca(n):ua(`Expected type: ${t} but got: ${a}`)})),Na=Fa(f,"number"),Va=Fa(s,"string"),Ua=Fa(c,"boolean"),Ha=Fa(h,"function"),za=e=>{if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every((t=>za(e[t])));default:return!1}},ja=xa((e=>za(e)?ca(e):ua("Expected value to be acceptable for sending via postMessage"))),Za=(e,t)=>({extract:(n,a)=>ve(a,e).fold((()=>((e,t)=>Da(e,(()=>'Choice schema did not contain choice key: "'+t+'"')))(n,e)),(e=>((e,t,n,a)=>ve(n,a).fold((()=>((e,t,n)=>Da(e,(()=>'The chosen schema: "'+n+'" did not exist in branches: '+Ca(t))))(e,n,a)),(n=>n.extract(e.concat(["branch: "+a]),t))))(n,a,t,e))),toString:()=>"chooseOn("+e+"). Possible values: "+ie(t)}),qa=e=>xa((t=>e(t).fold(ua,ca))),$a=(e,t)=>Ba((t=>e(t).fold(da,la)),t),Wa=(e,t,n)=>{return a=((e,t,n)=>((e,t)=>e.stype===ia.Error?{stype:ia.Error,serror:t(e.serror)}:e)(t.extract([e],n),(e=>({input:n,errors:e}))))(e,t,n),ra(a,sa.error,sa.value);var a},Ka=e=>e.fold((e=>{throw new Error(Ya(e))}),_),Ga=(e,t,n)=>Ka(Wa(e,t,n)),Ya=e=>"Errors: \n"+(e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:y("... (only showing first ten failures)")}]):e;return V(t,(e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()))})(e.errors).join("\n")+"\n\nInput object: "+Ca(e.input),Xa=(e,t)=>Za(e,de(t,La)),Qa=(e,t)=>((e,t)=>{const n=en(t);return{extract:(e,t)=>n().extract(e,t),toString:()=>n().toString()}})(0,t),Ja=pa,eo=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),to=e=>qa((t=>I(e,t)?sa.value(t):sa.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`))),no=e=>Ja(e,e,{tag:"required",process:{}},Ra()),ao=(e,t)=>Ja(e,e,{tag:"required",process:{}},t),oo=e=>ao(e,Na),so=e=>ao(e,Va),io=(e,t)=>Ja(e,e,{tag:"required",process:{}},to(t)),ro=e=>ao(e,Ha),lo=(e,t)=>Ja(e,e,{tag:"required",process:{}},La(t)),co=(e,t)=>Ja(e,e,{tag:"required",process:{}},Ia(t)),uo=(e,t)=>Ja(e,e,{tag:"required",process:{}},Pa(t)),mo=e=>Ja(e,e,{tag:"option",process:{}},Ra()),po=(e,t)=>Ja(e,e,{tag:"option",process:{}},t),ho=e=>po(e,Na),fo=e=>po(e,Va),go=(e,t)=>po(e,to(t)),vo=e=>po(e,Ha),bo=(e,t)=>po(e,Pa(t)),wo=(e,t)=>po(e,La(t)),yo=(e,t)=>Ja(e,e,wa(t),Ra()),_o=(e,t,n)=>Ja(e,e,wa(t),n),Co=(e,t)=>_o(e,t,Na),Do=(e,t)=>_o(e,t,Va),xo=(e,t,n)=>_o(e,t,to(n)),ko=(e,t)=>_o(e,t,Ua),Eo=(e,t)=>_o(e,t,Ha),So=(e,t,n)=>_o(e,t,Pa(n)),Ao=(e,t,n)=>_o(e,t,La(n)),To=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},Oo=e=>{if(!l(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return U(e,((a,o)=>{const s=ie(a);if(1!==s.length)throw new Error("one and only one name per case");const i=s[0],r=a[i];if(void 0!==n[i])throw new Error("duplicate key detected:"+i);if("cata"===i)throw new Error("cannot have a case named cata (sorry)");if(!l(r))throw new Error("case arguments must be an array");t.push(i),n[i]=(...n)=>{const a=n.length;if(a!==r.length)throw new Error("Wrong number of arguments to case "+i+". Expected "+r.length+" ("+r+"), got "+a);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[o].apply(null,n)},match:e=>{const a=ie(e);if(t.length!==a.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+a.join(","));if(!G(t,(e=>I(a,e))))throw new Error("Not all branches were specified when using match. Specified: "+a.join(", ")+"\nRequired: "+t.join(", "));return e[i].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:i,params:n})}}}})),n};Oo([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Lo=(e,t)=>((e,t)=>({[e]:t}))(e,t),Po=e=>(e=>{const t={};return U(e,(e=>{t[e.key]=e.value})),t})(e),Mo=e=>h(e)?e:S,Bo=(e,t,n)=>{let a=e.dom;const o=Mo(n);for(;a.parentNode;){a=a.parentNode;const e=Ne(a),n=t(e);if(n.isSome())return n;if(o(e))break}return T.none()},Io=(e,t,n)=>{const a=t(e),o=Mo(n);return a.orThunk((()=>o(e)?T.none():Bo(e,t,o)))},Ro=(e,t)=>Je(e.element,t.event.target),Fo={can:A,abort:S,run:v},No=e=>{if(!we(e,"can")&&!we(e,"abort")&&!we(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return{...Fo,...e}},Vo=y,Uo=Vo("touchstart"),Ho=Vo("touchmove"),zo=Vo("touchend"),jo=Vo("touchcancel"),Zo=Vo("mousedown"),qo=Vo("mousemove"),$o=Vo("mouseout"),Wo=Vo("mouseup"),Ko=Vo("mouseover"),Go=Vo("focusin"),Yo=Vo("focusout"),Xo=Vo("keydown"),Qo=Vo("keyup"),Jo=Vo("input"),es=Vo("change"),ts=Vo("click"),ns=Vo("transitioncancel"),as=Vo("transitionend"),os=Vo("transitionstart"),ss=Vo("selectstart"),is=e=>y("alloy."+e),rs={tap:is("tap")},ls=is("focus"),ds=is("blur.post"),cs=is("paste.post"),us=is("receive"),ms=is("execute"),ps=is("focus.item"),hs=rs.tap,fs=is("longpress"),gs=is("sandbox.close"),vs=is("typeahead.cancel"),bs=is("system.init"),ws=is("system.touchmove"),ys=is("system.touchend"),_s=is("system.scroll"),Cs=is("system.resize"),Ds=is("system.attached"),xs=is("system.detached"),ks=is("system.dismissRequested"),Es=is("system.repositionRequested"),Ss=is("focusmanager.shifted"),As=is("slotcontainer.visibility"),Ts=is("system.external.element.scroll"),Os=is("change.tab"),Ls=is("dismiss.tab"),Ps=is("highlight"),Ms=is("dehighlight"),Bs=(e,t)=>{Ns(e,e.element,t,{})},Is=(e,t,n)=>{Ns(e,e.element,t,n)},Rs=e=>{Bs(e,ms())},Fs=(e,t,n)=>{Ns(e,t,n,{})},Ns=(e,t,n,a)=>{const o={target:t,...a};e.getSystem().triggerEvent(n,t,o)},Vs=(e,t,n,a)=>{e.getSystem().triggerEvent(n,t,a.event)},Us=e=>Po(e),Hs=(e,t)=>({key:e,value:No({abort:t})}),zs=e=>({key:e,value:No({run:(e,t)=>{t.event.prevent()}})}),js=(e,t)=>({key:e,value:No({run:t})}),Zs=(e,t,n)=>({key:e,value:No({run:(e,a)=>{t.apply(void 0,[e,a].concat(n))}})}),qs=e=>t=>({key:e,value:No({run:(e,n)=>{Ro(e,n)&&t(e,n)}})}),$s=(e,t,n)=>((e,t)=>js(e,((n,a)=>{n.getSystem().getByUid(t).each((t=>{Vs(t,t.element,e,a)}))})))(e,t.partUids[n]),Ws=(e,t)=>js(e,((e,n)=>{const a=n.event,o=e.getSystem().getByDom(a.target).getOrThunk((()=>Io(a.target,(t=>e.getSystem().getByDom(t).toOptional()),S).getOr(e)));t(e,o,n)})),Ks=e=>js(e,((e,t)=>{t.cut()})),Gs=e=>js(e,((e,t)=>{t.stop()})),Ys=(e,t)=>qs(e)(t),Xs=qs(Ds()),Qs=qs(xs()),Js=qs(bs()),ei=(ii=ms(),e=>js(ii,e)),ti=e=>e.dom.innerHTML,ni=(e,t)=>{const n=tt(e).dom,a=Ne(n.createDocumentFragment()),o=((e,t)=>{const n=(t||document).createElement("div");return n.innerHTML=e,lt(Ne(n))})(t,n);Un(a,o),Hn(e),Vn(e,a)},ai=(e,t)=>Ne(e.dom.cloneNode(t)),oi=e=>(e=>{if(pt(e))return"#shadow-root";{const t=(e=>ai(e,!1))(e);return(e=>{const t=Re("div"),n=Ne(e.dom.cloneNode(!0));return Vn(t,n),ti(t)})(t)}})(e),si=Us([((e,t)=>({key:e,value:No({can:(e,t)=>{const n=t.event,a=n.originator,o=n.target;return!((e,t,n)=>Je(t,e.element)&&!Je(t,n))(e,a,o)||(console.warn(ls()+" did not get interpreted by the desired target. \nOriginator: "+oi(a)+"\nTarget: "+oi(o)+"\nCheck the "+ls()+" event handlers"),!1)}})}))(ls())]);var ii,ri=Object.freeze({__proto__:null,events:si});let li=0;const di=e=>{const t=(new Date).getTime(),n=Math.floor(1e9*Math.random());return li++,e+"_"+n+li+String(t)},ci=y("alloy-id-"),ui=y("data-alloy-id"),mi=ci(),pi=ui(),hi=(e,t)=>{Object.defineProperty(e.dom,pi,{value:t,writable:!0})},fi=e=>{const t=$e(e)?e.dom[pi]:null;return T.from(t)},gi=e=>di(e),vi=_,bi=e=>{const t=t=>`The component must be in a context to execute: ${t}`+(e?"\n"+oi(e().element)+" is not in context.":""),n=e=>()=>{throw new Error(t(e))},a=e=>()=>{console.warn(t(e))};return{debugInfo:y("fake"),triggerEvent:a("triggerEvent"),triggerFocus:a("triggerFocus"),triggerEscape:a("triggerEscape"),broadcast:a("broadcast"),broadcastOn:a("broadcastOn"),broadcastEvent:a("broadcastEvent"),build:n("build"),buildOrPatch:n("buildOrPatch"),addToWorld:n("addToWorld"),removeFromWorld:n("removeFromWorld"),addToGui:n("addToGui"),removeFromGui:n("removeFromGui"),getByUid:n("getByUid"),getByDom:n("getByDom"),isConnected:S}},wi=bi(),yi=e=>V(e,(e=>Te(e,"/*")?e.substring(0,e.length-2):e)),_i=(e,t)=>{const n=e.toString(),a=n.indexOf(")")+1,o=n.indexOf("("),s=n.substring(o+1,a-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:yi(s)}),e},Ci=di("alloy-premade"),Di=e=>(Object.defineProperty(e.element.dom,Ci,{value:e.uid,writable:!0}),Lo(Ci,e)),xi=e=>ve(e,Ci),ki=e=>((e,t)=>{const n=t.toString(),a=n.indexOf(")")+1,o=n.indexOf("("),s=n.substring(o+1,a-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:yi(s.slice(1))}),e})(((t,...n)=>e(t.getApis(),t,...n)),e),Ei={init:()=>Si({readState:y("No State required")})},Si=e=>e,Ai=(e,t)=>{const n={};return le(e,((e,a)=>{le(e,((e,o)=>{const s=ve(n,o).getOr([]);n[o]=s.concat([t(a,e)])}))})),n},Ti=e=>({classes:u(e.classes)?[]:e.classes,attributes:u(e.attributes)?{}:e.attributes,styles:u(e.styles)?{}:e.styles}),Oi=e=>e.cHandler,Li=(e,t)=>({name:e,handler:t}),Pi=(e,t)=>{const n={};return U(e,(e=>{n[e.name()]=e.handlers(t)})),n},Mi=(e,t,n)=>{const a=t[n];return a?((e,t,n,a)=>{try{const o=ee(n,((n,o)=>{const s=n[t],i=o[t],r=a.indexOf(s),l=a.indexOf(i);if(-1===r)throw new Error("The ordering for "+e+" does not have an entry for "+s+".\nOrder specified: "+JSON.stringify(a,null,2));if(-1===l)throw new Error("The ordering for "+e+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(a,null,2));return r<l?-1:l<r?1:0}));return sa.value(o)}catch(e){return sa.error([e])}})("Event: "+n,"name",e,a).map((e=>(e=>{const t=((e,t)=>(...t)=>Z(e,((e,n)=>e&&(e=>e.can)(n).apply(void 0,t)),!0))(e),n=((e,t)=>(...t)=>Z(e,((e,n)=>e||(e=>e.abort)(n).apply(void 0,t)),!1))(e);return{can:t,abort:n,run:(...t)=>{U(e,(e=>{e.run.apply(void 0,t)}))}}})(V(e,(e=>e.handler))))):((e,t)=>sa.error(["The event ("+e+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(V(t,(e=>e.name)),null,2)]))(n,e)},Bi=(e,t)=>((e,t)=>{const n=(e=>{const t=[],n=[];return U(e,(e=>{e.fold((e=>{t.push(e)}),(e=>{n.push(e)}))})),{errors:t,values:n}})(e);return n.errors.length>0?(a=n.errors,sa.error(W(a))):((e,t)=>0===e.length?sa.value(t):sa.value(ga(t,va.apply(void 0,e))))(n.values,t);var a})(he(e,((e,n)=>(1===e.length?sa.value(e[0].handler):Mi(e,t,n)).map((a=>{const o=(e=>{const t=(e=>h(e)?{can:A,abort:S,run:e}:e)(e);return(e,n,...a)=>{const o=[e,n].concat(a);t.abort.apply(void 0,o)?n.stop():t.can.apply(void 0,o)&&t.run.apply(void 0,o)}})(a),s=e.length>1?z(t[n],(t=>R(e,(e=>e.name===t)))).join(" > "):e[0].name;return Lo(n,((e,t)=>({handler:e,purpose:t}))(o,s))})))),{}),Ii="alloy.base.behaviour",Ri=La([Ja("dom","dom",{tag:"required",process:{}},La([no("tag"),yo("styles",{}),yo("classes",[]),yo("attributes",{}),mo("value"),mo("innerHtml")])),no("components"),no("uid"),yo("events",{}),yo("apis",{}),Ja("eventOrder","eventOrder",(ur={[ms()]:["disabling",Ii,"toggling","typeaheadevents"],[ls()]:[Ii,"focusing","keying"],[bs()]:[Ii,"disabling","toggling","representing"],[Jo()]:[Ii,"representing","streaming","invalidating"],[xs()]:[Ii,"representing","item-events","tooltipping"],[Zo()]:["focusing",Ii,"item-type-events"],[Uo()]:["focusing",Ii,"item-type-events"],[Ko()]:["item-type-events","tooltipping"],[us()]:["receiving","reflecting","tooltipping"]},ya(y(ur))),Ra()),mo("domModification")]),Fi=e=>e.events,Ni=(e,t)=>{const n=Et(e,t);return void 0===n||""===n?[]:n.split(" ")},Vi=e=>void 0!==e.dom.classList,Ui=e=>Ni(e,"class"),Hi=(e,t)=>((e,t,n)=>{const a=Ni(e,t).concat([n]);return xt(e,t,a.join(" ")),!0})(e,"class",t),zi=(e,t)=>((e,t,n)=>{const a=z(Ni(e,t),(e=>e!==n));return a.length>0?xt(e,t,a.join(" ")):Tt(e,t),!1})(e,"class",t),ji=(e,t)=>{Vi(e)?e.dom.classList.add(t):Hi(e,t)},Zi=e=>{0===(Vi(e)?e.dom.classList:Ui(e)).length&&Tt(e,"class")},qi=(e,t)=>{Vi(e)?e.dom.classList.remove(t):zi(e,t),Zi(e)},$i=(e,t)=>Vi(e)&&e.dom.classList.contains(t),Wi=(e,t)=>{U(t,(t=>{ji(e,t)}))},Ki=(e,t)=>{U(t,(t=>{qi(e,t)}))},Gi=e=>Vi(e)?(e=>{const t=e.dom.classList,n=new Array(t.length);for(let a=0;a<t.length;a++){const e=t.item(a);null!==e&&(n[a]=e)}return n})(e):Ui(e),Yi=e=>e.dom.value,Xi=(e,t)=>{if(void 0===t)throw new Error("Value.set was undefined");e.dom.value=t},Qi=(e,t,n)=>{n.fold((()=>Vn(e,t)),(e=>{Je(e,t)||(Rn(e,t),zn(e))}))},Ji=(e,t,n)=>{const a=V(t,n),o=lt(e);return U(o.slice(a.length),zn),a},er=(e,t,n,a)=>{const o=dt(e,t),s=a(n,o),i=((e,t,n)=>dt(e,t).map((e=>{if(n.exists((t=>!Je(t,e)))){const t=n.map(je).getOr("span"),a=Re(t);return Rn(e,a),a}return e})))(e,t,o);return Qi(e,s.element,i),s},tr=(e,t)=>{const n=ie(e),a=ie(t),o=X(a,n),s=((e,n)=>{const a={},o={};return me(e,((e,n)=>!be(t,n)||e!==t[n]),ue(a),ue(o)),{t:a,f:o}})(e).t;return{toRemove:o,toSet:s}},nr=(e,t)=>{const n=t.filter((t=>je(t)===e.tag&&!(e=>e.innerHtml.isSome()&&e.domChildren.length>0)(e)&&!(e=>be(e.dom,Ci))(t))).bind((t=>((e,t)=>{try{const n=((e,t)=>{const{class:n,style:a,...o}=(e=>Z(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}))(t),{toSet:s,toRemove:i}=tr(e.attributes,o),r=Nt(t),{toSet:l,toRemove:d}=tr(e.styles,r),c=Gi(t),u=X(c,e.classes),m=X(e.classes,c);return U(i,(e=>Tt(t,e))),kt(t,s),Wi(t,m),Ki(t,u),U(d,(e=>Ut(t,e))),Mt(t,l),e.innerHtml.fold((()=>{const n=e.domChildren;((e,t)=>{Ji(e,t,((t,n)=>{const a=dt(e,n);return Qi(e,t,a),t}))})(t,n)}),(e=>{ni(t,e)})),(()=>{const n=t,a=e.value.getOrUndefined();a!==Yi(n)&&Xi(n,null!=a?a:"")})(),t})(e,t);return T.some(n)}catch(e){return T.none()}})(e,t))).getOrThunk((()=>(e=>{const t=Re(e.tag);kt(t,e.attributes),Wi(t,e.classes),Mt(t,e.styles),e.innerHtml.each((e=>ni(t,e)));const n=e.domChildren;return Un(t,n),e.value.each((e=>{Xi(t,e)})),t})(e)));return hi(n,e.uid),n},ar=e=>{const t=(e=>{const t=ve(e,"behaviours").getOr({});return K(ie(t),(e=>{const n=t[e];return p(n)?[n.me]:[]}))})(e);return((e,t)=>((e,t)=>{const n=V(t,(e=>wo(e.name(),[no("config"),yo("state",Ei)]))),a=Wa("component.behaviours",La(n),e.behaviours).fold((t=>{throw new Error(Ya(t)+"\nComplete spec:\n"+JSON.stringify(e,null,2))}),_);return{list:t,data:de(a,(e=>{const t=e.map((e=>({config:e.config,state:e.state.init(e.config)})));return y(t)}))}})(e,t))(e,t)},or=(e,t)=>{const n=()=>m,a=To(wi),o=Ka((e=>Wa("custom.definition",Ri,e))(e)),s=ar(e),i=(e=>e.list)(s),r=(e=>e.data)(s),l=((e,t,n)=>{const a={...(o=e).dom,uid:o.uid,domChildren:V(o.components,(e=>e.element))};var o;const s=(e=>e.domModification.fold((()=>Ti({})),Ti))(e),i={"alloy.base.modification":s},r=t.length>0?((e,t,n,a)=>{const o={...t};U(n,(t=>{o[t.name()]=t.exhibit(e,a)}));const s=Ai(o,((e,t)=>({name:e,modification:t}))),i=e=>j(e,((e,t)=>({...t.modification,...e})),{}),r=j(s.classes,((e,t)=>t.modification.concat(e)),[]),l=i(s.attributes),d=i(s.styles);return Ti({classes:r,attributes:l,styles:d})})(n,i,t,a):s;return l=a,d=r,{...l,attributes:{...l.attributes,...d.attributes},styles:{...l.styles,...d.styles},classes:l.classes.concat(d.classes)};var l,d})(o,i,r),d=nr(l,t),c=((e,t,n)=>{const a={"alloy.base.behaviour":Fi(e)};return((e,t,n,a)=>{const o=((e,t,n)=>{const a={...n,...Pi(t,e)};return Ai(a,Li)})(e,n,a);return Bi(o,t)})(n,e.eventOrder,t,a).getOrDie()})(o,i,r),u=To(o.components),m={uid:e.uid,getSystem:a.get,config:t=>{const n=r;return(h(n[t.name()])?n[t.name()]:()=>{throw new Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))})()},hasConfigured:e=>h(r[e.name()]),spec:e,readState:e=>r[e]().map((e=>e.state.readState())).getOr("not enabled"),getApis:()=>o.apis,connect:e=>{a.set(e)},disconnect:()=>{a.set(bi(n))},element:d,syncComponents:()=>{const e=lt(d),t=K(e,(e=>a.get().getByDom(e).fold((()=>[]),J)));u.set(t)},components:u.get,events:c};return m},sr=e=>{const t=Fe(e);return ir({element:t})},ir=e=>{const t=Ga("external.component",Oa([no("element"),mo("uid")]),e),n=To(bi()),a=t.uid.getOrThunk((()=>gi("external")));hi(t.element,a);const o={uid:a,getSystem:n.get,config:T.none,hasConfigured:S,connect:e=>{n.set(e)},disconnect:()=>{n.set(bi((()=>o)))},getApis:()=>({}),element:t.element,spec:e,readState:y("No state"),syncComponents:v,components:y([]),events:{}};return Di(o)},rr=gi,lr=(e,t)=>xi(e).getOrThunk((()=>((e,t)=>{const{events:n,...a}=vi(e),o=((e,t)=>{const n=ve(e,"components").getOr([]);return t.fold((()=>V(n,dr)),(e=>V(n,((t,n)=>lr(t,dt(e,n))))))})(a,t),s={...a,events:{...ri,...n},components:o};return sa.value(or(s,t))})((e=>be(e,"uid"))(e)?e:{uid:rr(""),...e},t).getOrDie())),dr=e=>lr(e,T.none()),cr=Di;var ur,mr=(e,t,n,a,o)=>e(n,a)?T.some(n):h(o)&&o(n)?T.none():t(n,a,o);const pr=(e,t,n)=>{let a=e.dom;const o=h(n)?n:S;for(;a.parentNode;){a=a.parentNode;const e=Ne(a);if(t(e))return T.some(e);if(o(e))break}return T.none()},hr=(e,t,n)=>mr(((e,t)=>t(e)),pr,e,t,n),fr=(e,t,n)=>hr(e,t,n).isSome(),gr=(e,t,n)=>pr(e,(e=>Xe(e,t)),n),vr=(e,t)=>((e,n)=>q(e.dom.childNodes,(e=>{return n=Ne(e),Xe(n,t);var n})).map(Ne))(e),br=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return Qe(n)?T.none():T.from(n.querySelector(e)).map(Ne)})(t,e),wr=(e,t,n)=>mr(((e,t)=>Xe(e,t)),gr,e,t,n),yr="aria-controls",_r=()=>{const e=di(yr);return{id:e,link:t=>{xt(t,yr,e)},unlink:e=>{Tt(e,yr)}}},Cr=(e,t)=>fr(t,(t=>Je(t,e.element)),S)||((e,t)=>(e=>hr(e,(e=>{if(!$e(e))return!1;const t=Et(e,"id");return void 0!==t&&t.indexOf(yr)>-1})).bind((e=>{const t=Et(e,"id"),n=gt(e);return br(n,`[${yr}="${t}"]`)})))(t).exists((t=>Cr(e,t))))(e,t);var Dr;!function(e){e[e.STOP=0]="STOP",e[e.NORMAL=1]="NORMAL",e[e.LOGGING=2]="LOGGING"}(Dr||(Dr={}));const xr=To({}),kr=["alloy/data/Fields","alloy/debugging/Debugging"],Er=(e,t,n)=>((e,t,n)=>{switch(ve(xr.get(),e).orThunk((()=>{const t=ie(xr.get());return se(t,(t=>e.indexOf(t)>-1?T.some(xr.get()[t]):T.none()))})).getOr(Dr.NORMAL)){case Dr.NORMAL:return n(Sr());case Dr.LOGGING:{const a=((e,t)=>{const n=[],a=(new Date).getTime();return{logEventCut:(e,t,a)=>{n.push({outcome:"cut",target:t,purpose:a})},logEventStopped:(e,t,a)=>{n.push({outcome:"stopped",target:t,purpose:a})},logNoParent:(e,t,a)=>{n.push({outcome:"no-parent",target:t,purpose:a})},logEventNoHandlers:(e,t)=>{n.push({outcome:"no-handlers-left",target:t})},logEventResponse:(e,t,a)=>{n.push({outcome:"response",purpose:a,target:t})},write:()=>{const o=(new Date).getTime();I(["mousemove","mouseover","mouseout",bs()],e)||console.log(e,{event:e,time:o-a,target:t.dom,sequence:V(n,(e=>I(["cut","stopped","response"],e.outcome)?"{"+e.purpose+"} "+e.outcome+" at ("+oi(e.target)+")":e.outcome))})}}})(e,t),o=n(a);return a.write(),o}case Dr.STOP:return!0}})(e,t,n),Sr=y({logEventCut:v,logEventStopped:v,logNoParent:v,logEventNoHandlers:v,logEventResponse:v,write:v}),Ar=y([no("menu"),no("selectedMenu")]),Tr=y([no("item"),no("selectedItem")]);y(La(Tr().concat(Ar())));const Or=y(La(Tr())),Lr=lo("initSize",[no("numColumns"),no("numRows")]),Pr=()=>lo("markers",[no("backgroundMenu")].concat(Ar()).concat(Tr())),Mr=e=>lo("markers",V(e,no)),Br=(e,t,n)=>((()=>{const e=new Error;if(void 0!==e.stack){const t=e.stack.split("\n");q(t,(e=>e.indexOf("alloy")>0&&!R(kr,(t=>e.indexOf(t)>-1)))).getOr("unknown")}})(),Ja(t,t,n,qa((e=>sa.value(((...t)=>e.apply(void 0,t))))))),Ir=e=>Br(0,e,wa(v)),Rr=e=>Br(0,e,wa(T.none)),Fr=e=>Br(0,e,{tag:"required",process:{}}),Nr=e=>Br(0,e,{tag:"required",process:{}}),Vr=(e,t)=>eo(e,y(t)),Ur=e=>eo(e,_),Hr=y(Lr),zr=(e,t,n,a,o,s,i,r=!1)=>({x:e,y:t,bubble:n,direction:a,placement:o,restriction:s,label:`${i}-${o}`,alwaysFit:r}),jr=Oo([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Zr=jr.southeast,qr=jr.southwest,$r=jr.northeast,Wr=jr.northwest,Kr=jr.south,Gr=jr.north,Yr=jr.east,Xr=jr.west,Qr=(e,t,n,a)=>{const o=e+t;return o>a?n:o<n?a:o},Jr=(e,t,n)=>Math.min(Math.max(e,t),n),el=(e,t)=>Q(["left","right","top","bottom"],(n=>ve(t,n).map((t=>((e,t)=>{switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}})(e,t))))),tl="layout",nl=e=>e.x,al=(e,t)=>e.x+e.width/2-t.width/2,ol=(e,t)=>e.x+e.width-t.width,sl=(e,t)=>e.y-t.height,il=e=>e.y+e.height,rl=(e,t)=>e.y+e.height/2-t.height/2,ll=(e,t,n)=>zr(nl(e),il(e),n.southeast(),Zr(),"southeast",el(e,{left:1,top:3}),tl),dl=(e,t,n)=>zr(ol(e,t),il(e),n.southwest(),qr(),"southwest",el(e,{right:0,top:3}),tl),cl=(e,t,n)=>zr(nl(e),sl(e,t),n.northeast(),$r(),"northeast",el(e,{left:1,bottom:2}),tl),ul=(e,t,n)=>zr(ol(e,t),sl(e,t),n.northwest(),Wr(),"northwest",el(e,{right:0,bottom:2}),tl),ml=(e,t,n)=>zr(al(e,t),sl(e,t),n.north(),Gr(),"north",el(e,{bottom:2}),tl),pl=(e,t,n)=>zr(al(e,t),il(e),n.south(),Kr(),"south",el(e,{top:3}),tl),hl=(e,t,n)=>zr((e=>e.x+e.width)(e),rl(e,t),n.east(),Yr(),"east",el(e,{left:0}),tl),fl=(e,t,n)=>zr(((e,t)=>e.x-t.width)(e,t),rl(e,t),n.west(),Xr(),"west",el(e,{right:1}),tl),gl=()=>[ll,dl,cl,ul,pl,ml,hl,fl],vl=()=>[dl,ll,ul,cl,pl,ml,hl,fl],bl=()=>[cl,ul,ll,dl,ml,pl],wl=()=>[ul,cl,dl,ll,ml,pl],yl=()=>[ll,dl,cl,ul,pl,ml],_l=()=>[dl,ll,ul,cl,pl,ml];var Cl=Object.freeze({__proto__:null,events:e=>Us([js(us(),((t,n)=>{const a=e.channels,o=ie(a),s=n,i=((e,t)=>t.universal?e:z(e,(e=>I(t.channels,e))))(o,s);U(i,(e=>{const n=a[e],o=n.schema,i=Ga("channel["+e+"] data\nReceiver: "+oi(t.element),o,s.data);n.onReceive(t,i)}))}))])}),Dl=[ao("channels",$a(sa.value,Oa([Fr("onReceive"),yo("schema",Ra())])))];const xl=(e,t,n)=>Js(((a,o)=>{n(a,e,t)})),kl=e=>({key:e,value:void 0}),El=(e,t,n,a,o,s,i)=>{const r=e=>we(e,n)?e[n]():T.none(),l=de(o,((e,t)=>((e,t,n)=>((e,t,n)=>{const a=n.toString(),o=a.indexOf(")")+1,s=a.indexOf("("),i=a.substring(s+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:yi(i.slice(0,1).concat(i.slice(3)))}),e})(((a,...o)=>{const s=[a].concat(o);return a.config({name:y(e)}).fold((()=>{throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+n)}),(e=>{const n=Array.prototype.slice.call(s,1);return t.apply(void 0,[a,e.config,e.state].concat(n))}))}),n,t))(n,e,t))),d={...de(s,((e,t)=>_i(e,t))),...l,revoke:D(kl,n),config:t=>{const a=Ga(n+"-config",e,t);return{key:n,value:{config:a,me:d,configAsRaw:en((()=>Ga(n+"-config",e,t))),initialConfig:t,state:i}}},schema:y(t),exhibit:(e,t)=>Ce(r(e),ve(a,"exhibit"),((e,n)=>n(t,e.config,e.state))).getOrThunk((()=>Ti({}))),name:y(n),handlers:e=>r(e).map((e=>ve(a,"events").getOr((()=>({})))(e.config,e.state))).getOr({})};return d},Sl=e=>Po(e),Al=Oa([no("fields"),no("name"),yo("active",{}),yo("apis",{}),yo("state",Ei),yo("extra",{})]),Tl=e=>{const t=Ga("Creating behaviour: "+e.name,Al,e);return((e,t,n,a,o,s)=>{const i=Oa(e),r=wo(t,[(l=e,po("config",Oa(l)))]);var l;return El(i,r,t,n,a,o,s)})(t.fields,t.name,t.active,t.apis,t.extra,t.state)},Ol=Oa([no("branchKey"),no("branches"),no("name"),yo("active",{}),yo("apis",{}),yo("state",Ei),yo("extra",{})]),Ll=e=>{const t=Ga("Creating behaviour: "+e.name,Ol,e);return((e,t,n,a,o,s)=>{const i=e,r=wo(t,[po("config",e)]);return El(i,r,t,n,a,o,s)})(Xa(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},Pl=y(void 0),Ml=Tl({fields:Dl,name:"receiving",active:Cl});var Bl=Object.freeze({__proto__:null,exhibit:(e,t)=>Ti({classes:[],styles:t.useFixed()?{}:{position:"relative"}})});const Il=(e,t=!1)=>e.dom.focus({preventScroll:t}),Rl=e=>e.dom.blur(),Fl=e=>{const t=gt(e).dom;return e.dom===t.activeElement},Nl=(e=Wn())=>T.from(e.dom.activeElement).map(Ne),Vl=e=>Nl(gt(e)).filter((t=>e.dom.contains(t.dom))),Ul=(e,t)=>{const n=gt(t),a=Nl(n).bind((e=>{const n=t=>Je(e,t);return n(t)?T.some(t):((e,t)=>{const n=e=>{for(let a=0;a<e.childNodes.length;a++){const o=Ne(e.childNodes[a]);if(t(o))return T.some(o);const s=n(e.childNodes[a]);if(s.isSome())return s}return T.none()};return n(e.dom)})(t,n)})),o=e(t);return a.each((e=>{Nl(n).filter((t=>Je(t,e))).fold((()=>{Il(e)}),v)})),o},Hl=(e,t,n,a,o)=>{const s=e=>e+"px";return{position:e,left:t.map(s),top:n.map(s),right:a.map(s),bottom:o.map(s)}},zl=(e,t)=>{Bt(e,(e=>({...e,position:T.some(e.position)}))(t))},jl=Oo([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Zl=(e,t,n,a,o,s)=>{const i=t.rect,r=i.x-n,l=i.y-a,d=o-(r+i.width),c=s-(l+i.height),u=T.some(r),m=T.some(l),p=T.some(d),h=T.some(c),f=T.none();return t.direction.fold((()=>Hl(e,u,m,f,f)),(()=>Hl(e,f,m,p,f)),(()=>Hl(e,u,f,f,h)),(()=>Hl(e,f,f,p,h)),(()=>Hl(e,u,m,f,f)),(()=>Hl(e,u,f,f,h)),(()=>Hl(e,u,m,f,f)),(()=>Hl(e,f,m,p,f)))},ql=(e,t)=>e.fold((()=>{const e=t.rect;return Hl("absolute",T.some(e.x),T.some(e.y),T.none(),T.none())}),((e,n,a,o)=>Zl("absolute",t,e,n,a,o)),((e,n,a,o)=>Zl("fixed",t,e,n,a,o))),$l=(e,t)=>{const n=D(Yn,t),a=e.fold(n,n,(()=>{const e=jn();return Yn(t).translate(-e.left,-e.top)})),o=Jt(t),s=qt(t);return Xn(a.left,a.top,o,s)},Wl=(e,t)=>t.fold((()=>e.fold(ta,ta,Xn)),(t=>e.fold(y(t),y(t),(()=>{const n=Kl(e,t.x,t.y);return Xn(n.left,n.top,t.width,t.height)})))),Kl=(e,t,n)=>{const a=Wt(t,n);return e.fold(y(a),y(a),(()=>{const e=jn();return a.translate(-e.left,-e.top)}))};jl.none;const Gl=jl.relative,Yl=jl.fixed,Xl="data-alloy-placement",Ql=e=>St(e,Xl),Jl=Oo([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),ed=(e,t,n,a)=>{const o=e.bubble,s=o.offset,i=((e,t,n)=>{const a=(a,o)=>t[a].map((t=>{const s="top"===a||"bottom"===a,i=s?n.top:n.left,r=("left"===a||"top"===a?Math.max:Math.min)(t,o)+i;return s?Jr(r,e.y,e.bottom):Jr(r,e.x,e.right)})).getOr(o),o=a("left",e.x),s=a("top",e.y),i=a("right",e.right),r=a("bottom",e.bottom);return Xn(o,s,i-o,r-s)})(a,e.restriction,s),r=e.x+s.left,l=e.y+s.top,d=Xn(r,l,t,n),{originInBounds:c,sizeInBounds:u,visibleW:m,visibleH:p}=((e,t)=>{const{x:n,y:a,right:o,bottom:s}=t,{x:i,y:r,right:l,bottom:d,width:c,height:u}=e;return{originInBounds:i>=n&&i<=o&&r>=a&&r<=s,sizeInBounds:l<=o&&l>=n&&d<=s&&d>=a,visibleW:Math.min(c,i>=n?o-i:l-n),visibleH:Math.min(u,r>=a?s-r:d-a)}})(d,i),h=c&&u,f=h?d:((e,t)=>{const{x:n,y:a,right:o,bottom:s}=t,{x:i,y:r,width:l,height:d}=e,c=Math.max(n,o-l),u=Math.max(a,s-d),m=Jr(i,n,c),p=Jr(r,a,u),h=Math.min(m+l,o)-m,f=Math.min(p+d,s)-p;return Xn(m,p,h,f)})(d,i),g=f.width>0&&f.height>0,{maxWidth:v,maxHeight:b}=((e,t,n)=>{const a=y(t.bottom-n.y),o=y(n.bottom-t.y),s=((e,t,n,a)=>e.fold(t,t,a,a,t,a,n,n))(e,o,o,a),i=y(t.right-n.x),r=y(n.right-t.x),l=((e,t,n,a)=>e.fold(t,a,t,a,n,n,t,a))(e,r,r,i);return{maxWidth:l,maxHeight:s}})(e.direction,f,a),w={rect:f,maxHeight:b,maxWidth:v,direction:e.direction,placement:e.placement,classes:{on:o.classesOn,off:o.classesOff},layout:e.label,testY:l};return h||e.alwaysFit?Jl.fit(w):Jl.nofit(w,m,p,g)},td=e=>{const t=To(T.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(T.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(T.some(e))}}},nd=()=>td((e=>e.unbind())),ad=()=>{const e=td(v);return{...e,on:t=>e.get().each(t)}},od=A,sd=(e,t,n)=>((e,t,n,a)=>Bn(e,t,n,a,!1))(e,t,od,n),id=(e,t,n)=>((e,t,n,a)=>Bn(e,t,n,a,!0))(e,t,od,n),rd=Mn,ld=["top","bottom","right","left"],dd="data-alloy-transition-timer",cd=(e,t,n,a,o,i)=>{const r=((e,t,n)=>n.exists((n=>{const a=e.mode;return"all"===a||n[a]!==t[a]})))(a,o,i);if(r||((e,t)=>((e,t)=>G(t,(t=>$i(e,t))))(e,t.classes))(e,a)){Pt(e,"position",n.position);const i=$l(t,e),l=ql(t,{...o,rect:i}),d=Q(ld,(e=>l[e]));((e,t)=>{const n=e=>parseFloat(e).toFixed(3);return fe(t,((t,a)=>!((e,t,n=C)=>Ce(e,t,n).getOr(e.isNone()&&t.isNone()))(e[a].map(n),t.map(n)))).isSome()})(n,d)&&(Bt(e,d),r&&((e,t)=>{Wi(e,t.classes),St(e,dd).each((t=>{clearTimeout(parseInt(t,10)),Tt(e,dd)})),((e,t)=>{const n=nd(),a=nd();let o;const i=t=>{var n;const a=null!==(n=t.raw.pseudoElement)&&void 0!==n?n:"";return Je(t.target,e)&&Pe(a)&&I(ld,t.raw.propertyName)},r=s=>{if(m(s)||i(s)){n.clear(),a.clear();const i=null==s?void 0:s.raw.type;(m(i)||i===as())&&(clearTimeout(o),Tt(e,dd),Ki(e,t.classes))}},l=sd(e,os(),(t=>{i(t)&&(l.unbind(),n.set(sd(e,as(),r)),a.set(sd(e,ns(),r)))})),d=(e=>{const t=t=>{const n=It(e,t).split(/\s*,\s*/);return z(n,Le)},n=e=>{if(s(e)&&/^[\d.]+/.test(e)){const t=parseFloat(e);return Te(e,"ms")?t:1e3*t}return 0},a=t("transition-delay"),o=t("transition-duration");return Z(o,((e,t,o)=>{const s=n(a[o])+n(t);return Math.max(e,s)}),0)})(e);requestAnimationFrame((()=>{o=setTimeout(r,d+17),xt(e,dd,o)}))})(e,t)})(e,a),Ht(e))}else Ki(e,a.classes)},ud=(e,t)=>{((e,t)=>{const n=jt.max(e,t,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);Pt(e,"max-height",n+"px")})(e,Math.floor(t))},md=y(((e,t)=>{ud(e,t),Mt(e,{"overflow-x":"hidden","overflow-y":"auto"})})),pd=y(((e,t)=>{ud(e,t)})),hd=(e,t,n)=>void 0===e[t]?n:e[t],fd=(e,t,n,a)=>{const o=((e,t,n,a)=>{Ut(t,"max-height"),Ut(t,"max-width");const o={width:Jt(s=t),height:qt(s)};var s;return((e,t,n,a,o,s)=>{const i=a.width,r=a.height,l=(t,l,d,c,u)=>{const m=t(n,a,o,e,s),p=ed(m,i,r,s);return p.fold(y(p),((e,t,n,a)=>(u===a?n>c||t>d:!u&&a)?p:Jl.nofit(l,d,c,u)))};return Z(t,((e,t)=>{const n=D(l,t);return e.fold(y(e),n)}),Jl.nofit({rect:n,maxHeight:a.height,maxWidth:a.width,direction:Zr(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:n.y},-1,-1,!1)).fold(_,_)})(t,a.preference,e,o,n,a.bounds)})(e,t,n,a);return((e,t,n)=>{const a=ql(n.origin,t);n.transition.each((o=>{cd(e,n.origin,a,o,t,n.lastPlacement)})),zl(e,a)})(t,o,a),((e,t)=>{((e,t)=>{xt(e,Xl,t)})(e,t.placement)})(t,o),((e,t)=>{const n=t.classes;Ki(e,n.off),Wi(e,n.on)})(t,o),((e,t,n)=>{(0,n.maxHeightFunction)(e,t.maxHeight)})(t,o,a),((e,t,n)=>{(0,n.maxWidthFunction)(e,t.maxWidth)})(t,o,a),{layout:o.layout,placement:o.placement}},gd=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],vd=(e,t,n,a=1)=>{const o=e*a,s=t*a,i=e=>ve(n,e).getOr([]),r=(e,t,n)=>{const a=X(gd,n);return{offset:Wt(e,t),classesOn:K(n,i),classesOff:K(a,i)}};return{southeast:()=>r(-e,t,["top","alignLeft"]),southwest:()=>r(e,t,["top","alignRight"]),south:()=>r(-e/2,t,["top","alignCentre"]),northeast:()=>r(-e,-t,["bottom","alignLeft"]),northwest:()=>r(e,-t,["bottom","alignRight"]),north:()=>r(-e/2,-t,["bottom","alignCentre"]),east:()=>r(e,-t/2,["valignCentre","left"]),west:()=>r(-e,-t/2,["valignCentre","right"]),insetNortheast:()=>r(o,s,["top","alignLeft","inset"]),insetNorthwest:()=>r(-o,s,["top","alignRight","inset"]),insetNorth:()=>r(-o/2,s,["top","alignCentre","inset"]),insetSoutheast:()=>r(o,-s,["bottom","alignLeft","inset"]),insetSouthwest:()=>r(-o,-s,["bottom","alignRight","inset"]),insetSouth:()=>r(-o/2,-s,["bottom","alignCentre","inset"]),insetEast:()=>r(-o,-s/2,["valignCentre","right","inset"]),insetWest:()=>r(o,-s/2,["valignCentre","left","inset"])}},bd=()=>vd(0,0,{}),wd=_,yd=(e,t)=>n=>"rtl"===_d(n)?t:e,_d=e=>"rtl"===It(e,"direction")?"rtl":"ltr";var Cd;!function(e){e.TopToBottom="toptobottom",e.BottomToTop="bottomtotop"}(Cd||(Cd={}));const Dd="data-alloy-vertical-dir",xd=e=>fr(e,(e=>$e(e)&&Et(e,"data-alloy-vertical-dir")===Cd.BottomToTop)),kd=()=>wo("layouts",[no("onLtr"),no("onRtl"),mo("onBottomLtr"),mo("onBottomRtl")]),Ed=(e,t,n,a,o,s,i)=>{const r=i.map(xd).getOr(!1),l=t.layouts.map((t=>t.onLtr(e))),d=t.layouts.map((t=>t.onRtl(e))),c=r?t.layouts.bind((t=>t.onBottomLtr.map((t=>t(e))))).or(l).getOr(o):l.getOr(n),u=r?t.layouts.bind((t=>t.onBottomRtl.map((t=>t(e))))).or(d).getOr(s):d.getOr(a);return yd(c,u)(e)};var Sd=[no("hotspot"),mo("bubble"),yo("overrides",{}),kd(),Vr("placement",((e,t,n)=>{const a=t.hotspot,o=$l(n,a.element),s=Ed(e.element,t,yl(),_l(),bl(),wl(),T.some(t.hotspot.element));return T.some(wd({anchorBox:o,bubble:t.bubble.getOr(bd()),overrides:t.overrides,layouts:s}))}))],Ad=[no("x"),no("y"),yo("height",0),yo("width",0),yo("bubble",bd()),yo("overrides",{}),kd(),Vr("placement",((e,t,n)=>{const a=Kl(n,t.x,t.y),o=Xn(a.left,a.top,t.width,t.height),s=Ed(e.element,t,gl(),vl(),gl(),vl(),T.none());return T.some(wd({anchorBox:o,bubble:t.bubble,overrides:t.overrides,layouts:s}))}))];const Td=Oo([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Od=e=>e.fold(_,((e,t,n)=>e.translate(-t,-n))),Ld=e=>e.fold(_,_),Pd=e=>Z(e,((e,t)=>e.translate(t.left,t.top)),Wt(0,0)),Md=e=>{const t=V(e,Ld);return Pd(t)},Bd=Td.screen,Id=Td.absolute,Rd=(e,t,n)=>{const a=tt(e.element),o=jn(a),s=((e,t,n)=>{const a=ot(n.root).dom;return T.from(a.frameElement).map(Ne).filter((t=>{const n=tt(t),a=tt(e.element);return Je(n,a)})).map(Gt)})(e,0,n).getOr(o);return Id(s,o.left,o.top)},Fd=(e,t,n,a)=>{const o=Bd(Wt(e,t));return T.some(((e,t,n)=>({point:e,width:t,height:n}))(o,n,a))},Nd=(e,t,n,a,o)=>e.map((e=>{const s=[t,e.point],i=(r=()=>Md(s),l=()=>Md(s),d=()=>(e=>{const t=V(e,Od);return Pd(t)})(s),a.fold(r,l,d));var r,l,d;const c=(h=i.left,f=i.top,g=e.width,v=e.height,{x:h,y:f,width:g,height:v}),u=n.showAbove?bl():yl(),m=n.showAbove?wl():_l(),p=Ed(o,n,u,m,u,m,T.none());var h,f,g,v;return wd({anchorBox:c,bubble:n.bubble.getOr(bd()),overrides:n.overrides,layouts:p})}));var Vd=[no("node"),no("root"),mo("bubble"),kd(),yo("overrides",{}),yo("showAbove",!1),Vr("placement",((e,t,n)=>{const a=Rd(e,0,t);return t.node.filter(yt).bind((o=>{const s=o.dom.getBoundingClientRect(),i=Fd(s.left,s.top,s.width,s.height),r=t.node.getOr(e.element);return Nd(i,a,t,n,r)}))}))];const Ud=(e,t,n,a)=>({start:e,soffset:t,finish:n,foffset:a}),Hd=Oo([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),zd=(Hd.before,Hd.on,Hd.after,e=>e.fold(_,_,_)),jd=Oo([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Zd={domRange:jd.domRange,relative:jd.relative,exact:jd.exact,exactFromRange:e=>jd.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>Ne(e.startContainer),relative:(e,t)=>zd(e),exact:(e,t,n,a)=>e}))(e);return ot(t)},range:Ud},qd=(e,t,n)=>{const a=e.document.createRange();var o;return o=a,t.fold((e=>{o.setStartBefore(e.dom)}),((e,t)=>{o.setStart(e.dom,t)}),(e=>{o.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,n)=>{e.setEnd(t.dom,n)}),(t=>{e.setEndAfter(t.dom)}))})(a,n),a},$d=(e,t,n,a,o)=>{const s=e.document.createRange();return s.setStart(t.dom,n),s.setEnd(a.dom,o),s},Wd=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),Kd=Oo([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Gd=(e,t,n)=>t(Ne(n.startContainer),n.startOffset,Ne(n.endContainer),n.endOffset),Yd=(e,t)=>((e,t)=>{const n=((e,t)=>t.match({domRange:e=>({ltr:y(e),rtl:T.none}),relative:(t,n)=>({ltr:en((()=>qd(e,t,n))),rtl:en((()=>T.some(qd(e,n,t))))}),exact:(t,n,a,o)=>({ltr:en((()=>$d(e,t,n,a,o))),rtl:en((()=>T.some($d(e,a,o,t,n))))})}))(e,t);return((e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter((e=>!1===e.collapsed)).map((e=>Kd.rtl(Ne(e.endContainer),e.endOffset,Ne(e.startContainer),e.startOffset))).getOrThunk((()=>Gd(0,Kd.ltr,n))):Gd(0,Kd.ltr,n)})(0,n)})(e,t).match({ltr:(t,n,a,o)=>{const s=e.document.createRange();return s.setStart(t.dom,n),s.setEnd(a.dom,o),s},rtl:(t,n,a,o)=>{const s=e.document.createRange();return s.setStart(a.dom,o),s.setEnd(t.dom,n),s}});Kd.ltr,Kd.rtl;const Xd=(e,t,n)=>z(((e,t)=>{const n=h(t)?t:S;let a=e.dom;const o=[];for(;null!==a.parentNode&&void 0!==a.parentNode;){const e=a.parentNode,t=Ne(e);if(o.push(t),!0===n(t))break;a=e}return o})(e,n),t),Qd=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return Qe(n)?[]:V(n.querySelectorAll(e),Ne)})(t,e),Jd=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return T.some(Ud(Ne(t.startContainer),t.startOffset,Ne(n.endContainer),n.endOffset))}return T.none()},ec=e=>{if(null===e.anchorNode||null===e.focusNode)return Jd(e);{const t=Ne(e.anchorNode),n=Ne(e.focusNode);return((e,t,n,a)=>{const o=((e,t,n,a)=>{const o=tt(e).dom.createRange();return o.setStart(e.dom,t),o.setEnd(n.dom,a),o})(e,t,n,a),s=Je(e,n)&&t===a;return o.collapsed&&!s})(t,e.anchorOffset,n,e.focusOffset)?T.some(Ud(t,e.anchorOffset,n,e.focusOffset)):Jd(e)}},tc=(e,t)=>(e=>{const t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?T.some(n).map(Wd):T.none()})(Yd(e,t)),nc=((e,t)=>{const n=t=>e(t)?T.from(t.dom.nodeValue):T.none();return{get:t=>{if(!e(t))throw new Error("Can only get text value of a text node");return n(t).getOr("")},getOption:n,set:(t,n)=>{if(!e(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=n}}})(We),ac=(e,t)=>({element:e,offset:t}),oc=(e,t)=>We(e)?ac(e,t):((e,t)=>{const n=lt(e);if(0===n.length)return ac(e,t);if(t<n.length)return ac(n[t],0);{const e=n[n.length-1],t=We(e)?(e=>nc.get(e))(e).length:lt(e).length;return ac(e,t)}})(e,t),sc=e=>void 0!==e.foffset,ic=(e,t)=>t.getSelection.getOrThunk((()=>()=>(e=>(e=>T.from(e.getSelection()))(e).filter((e=>e.rangeCount>0)).bind(ec))(e)))().map((e=>{if(sc(e)){const t=oc(e.start,e.soffset),n=oc(e.finish,e.foffset);return Zd.range(t.element,t.offset,n.element,n.offset)}return e}));var rc=[mo("getSelection"),no("root"),mo("bubble"),kd(),yo("overrides",{}),yo("showAbove",!1),Vr("placement",((e,t,n)=>{const a=ot(t.root).dom,o=Rd(e,0,t),s=ic(a,t).bind((e=>{if(sc(e)){const t=((e,t)=>(e=>{const t=e.getBoundingClientRect();return t.width>0||t.height>0?T.some(t).map(Wd):T.none()})(Yd(e,t)))(a,Zd.exactFromRange(e)).orThunk((()=>{const t=Fe("\ufeff");Rn(e.start,t);const n=tc(a,Zd.exact(t,0,t,1));return zn(t),n}));return t.bind((e=>Fd(e.left,e.top,e.width,e.height)))}{const t=de(e,(e=>e.dom.getBoundingClientRect())),n={left:Math.min(t.firstCell.left,t.lastCell.left),right:Math.max(t.firstCell.right,t.lastCell.right),top:Math.min(t.firstCell.top,t.lastCell.top),bottom:Math.max(t.firstCell.bottom,t.lastCell.bottom)};return Fd(n.left,n.top,n.right-n.left,n.bottom-n.top)}})),i=ic(a,t).bind((e=>sc(e)?$e(e.start)?T.some(e.start):it(e.start):T.some(e.firstCell))).getOr(e.element);return Nd(s,o,t,n,i)}))];const lc="link-layout",dc=e=>e.x+e.width,cc=(e,t)=>e.x-t.width,uc=(e,t)=>e.y-t.height+e.height,mc=e=>e.y,pc=(e,t,n)=>zr(dc(e),mc(e),n.southeast(),Zr(),"southeast",el(e,{left:0,top:2}),lc),hc=(e,t,n)=>zr(cc(e,t),mc(e),n.southwest(),qr(),"southwest",el(e,{right:1,top:2}),lc),fc=(e,t,n)=>zr(dc(e),uc(e,t),n.northeast(),$r(),"northeast",el(e,{left:0,bottom:3}),lc),gc=(e,t,n)=>zr(cc(e,t),uc(e,t),n.northwest(),Wr(),"northwest",el(e,{right:1,bottom:3}),lc),vc=()=>[pc,hc,fc,gc],bc=()=>[hc,pc,gc,fc];var wc=[no("item"),kd(),yo("overrides",{}),Vr("placement",((e,t,n)=>{const a=$l(n,t.item.element),o=Ed(e.element,t,vc(),bc(),vc(),bc(),T.none());return T.some(wd({anchorBox:a,bubble:bd(),overrides:t.overrides,layouts:o}))}))],yc=Xa("type",{selection:rc,node:Vd,hotspot:Sd,submenu:wc,makeshift:Ad});const _c=[uo("classes",Va),xo("mode","all",["all","layout","placement"])],Cc=[yo("useFixed",S),mo("getBounds")],Dc=[ao("anchor",yc),wo("transition",_c)],xc=(e,t,n,a,o,s)=>{const i=Ga("placement.info",La(Dc),o),r=i.anchor,l=a.element,d=n.get(a.uid);Ul((()=>{Pt(l,"position","fixed");const o=Ft(l,"visibility");Pt(l,"visibility","hidden");const c=t.useFixed()?(()=>{const e=document.documentElement;return Yl(0,0,e.clientWidth,e.clientHeight)})():(e=>{const t=Gt(e.element),n=e.element.dom.getBoundingClientRect();return Gl(t.left,t.top,n.width,n.height)})(e);r.placement(e,r,c).each((e=>{const o=s.orThunk((()=>t.getBounds.map(E))),r=((e,t,n,a,o,s)=>((e,t,n,a,o,s,i,r)=>{const l=hd(i,"maxHeightFunction",md()),d=hd(i,"maxWidthFunction",v),c=e.anchorBox,u=e.origin,m={bounds:Wl(u,s),origin:u,preference:a,maxHeightFunction:l,maxWidthFunction:d,lastPlacement:o,transition:r};return fd(c,t,n,m)})(((e,t)=>((e,t)=>({anchorBox:e,origin:t}))(e,t))(t.anchorBox,e),a.element,t.bubble,t.layouts,o,n,t.overrides,s))(c,e,o,a,d,i.transition);n.set(a.uid,r)})),o.fold((()=>{Ut(l,"visibility")}),(e=>{Pt(l,"visibility",e)})),Ft(l,"left").isNone()&&Ft(l,"top").isNone()&&Ft(l,"right").isNone()&&Ft(l,"bottom").isNone()&&ye(Ft(l,"position"),"fixed")&&Ut(l,"position")}),l)};var kc=Object.freeze({__proto__:null,position:(e,t,n,a,o)=>{const s=T.none();xc(e,t,n,a,o,s)},positionWithinBounds:xc,getMode:(e,t,n)=>t.useFixed()?"fixed":"absolute",reset:(e,t,n,a)=>{const o=a.element;U(["position","left","right","top","bottom"],(e=>Ut(o,e))),(e=>{Tt(e,Xl)})(o),n.clear(a.uid)}});const Ec=Tl({fields:Cc,name:"positioning",active:Bl,apis:kc,state:Object.freeze({__proto__:null,init:()=>{let e={};return Si({readState:()=>e,clear:t=>{p(t)?delete e[t]:e={}},set:(t,n)=>{e[t]=n},get:t=>ve(e,t)})}})}),Sc=e=>e.getSystem().isConnected(),Ac=e=>{Bs(e,xs());const t=e.components();U(t,Ac)},Tc=e=>{const t=e.components();U(t,Tc),Bs(e,Ds())},Oc=(e,t)=>{e.getSystem().addToWorld(t),yt(e.element)&&Tc(t)},Lc=e=>{Ac(e),e.getSystem().removeFromWorld(e)},Pc=(e,t)=>{Vn(e.element,t.element)},Mc=(e,t)=>{Bc(e,t,Vn)},Bc=(e,t,n)=>{e.getSystem().addToWorld(t),n(e.element,t.element),yt(e.element)&&Tc(t),e.syncComponents()},Ic=e=>{Ac(e),zn(e.element),e.getSystem().removeFromWorld(e)},Rc=e=>{const t=st(e.element).bind((t=>e.getSystem().getByDom(t).toOptional()));Ic(e),t.each((e=>{e.syncComponents()}))},Fc=e=>{const t=e.components();U(t,Ic),Hn(e.element),e.syncComponents()},Nc=(e,t)=>{Uc(e,t,Vn)},Vc=(e,t)=>{Uc(e,t,Fn)},Uc=(e,t,n)=>{n(e,t.element);const a=lt(t.element);U(a,(e=>{t.getByDom(e).each(Tc)}))},Hc=e=>{const t=lt(e.element);U(t,(t=>{e.getByDom(t).each(Ac)})),zn(e.element)},zc=(e,t,n,a)=>{n.get().each((t=>{Fc(e)}));const o=t.getAttachPoint(e);Mc(o,e);const s=e.getSystem().build(a);return Mc(e,s),n.set(s),s},jc=(e,t,n,a)=>{const o=zc(e,t,n,a);return t.onOpen(e,o),o},Zc=(e,t,n)=>{n.get().each((a=>{Fc(e),Rc(e),t.onClose(e,a),n.clear()}))},qc=(e,t,n)=>n.isOpen(),$c=(e,t,n)=>{const a=t.getAttachPoint(e);Pt(e.element,"position",Ec.getMode(a)),((e,t,n,a)=>{Ft(e.element,t).fold((()=>{Tt(e.element,n)}),(t=>{xt(e.element,n,t)})),Pt(e.element,t,"hidden")})(e,"visibility",t.cloakVisibilityAttr)},Wc=(e,t,n)=>{(e=>R(["top","left","right","bottom"],(t=>Ft(e,t).isSome())))(e.element)||Ut(e.element,"position"),((e,t,n)=>{St(e.element,n).fold((()=>Ut(e.element,t)),(n=>Pt(e.element,t,n)))})(e,"visibility",t.cloakVisibilityAttr)};var Kc=Object.freeze({__proto__:null,cloak:$c,decloak:Wc,open:jc,openWhileCloaked:(e,t,n,a,o)=>{$c(e,t),jc(e,t,n,a),o(),Wc(e,t)},close:Zc,isOpen:qc,isPartOf:(e,t,n,a)=>qc(0,0,n)&&n.get().exists((n=>t.isPartOf(e,n,a))),getState:(e,t,n)=>n.get(),setContent:(e,t,n,a)=>n.get().map((()=>zc(e,t,n,a)))}),Gc=Object.freeze({__proto__:null,events:(e,t)=>Us([js(gs(),((n,a)=>{Zc(n,e,t)}))])}),Yc=[Ir("onOpen"),Ir("onClose"),no("isPartOf"),no("getAttachPoint"),yo("cloakVisibilityAttr","data-precloak-visibility")],Xc=Object.freeze({__proto__:null,init:()=>{const e=ad(),t=y("not-implemented");return Si({readState:t,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})}});const Qc=Tl({fields:Yc,name:"sandboxing",active:Gc,apis:Kc,state:Xc}),Jc=y("dismiss.popups"),eu=y("reposition.popups"),tu=y("mouse.released"),nu=Oa([yo("isExtraPart",S),wo("fireEventInstead",[yo("event",ks())])]),au=e=>{const t=Ga("Dismissal",nu,e);return{[Jc()]:{schema:Oa([no("target")]),onReceive:(e,n)=>{Qc.isOpen(e)&&(Qc.isPartOf(e,n.target)||t.isExtraPart(e,n.target)||t.fireEventInstead.fold((()=>Qc.close(e)),(t=>Bs(e,t.event))))}}}},ou=Oa([wo("fireEventInstead",[yo("event",Es())]),ro("doReposition")]),su=e=>{const t=Ga("Reposition",ou,e);return{[eu()]:{onReceive:e=>{Qc.isOpen(e)&&t.fireEventInstead.fold((()=>t.doReposition(e)),(t=>Bs(e,t.event)))}}}},iu=(e,t,n)=>{t.store.manager.onLoad(e,t,n)},ru=(e,t,n)=>{t.store.manager.onUnload(e,t,n)};var lu=Object.freeze({__proto__:null,onLoad:iu,onUnload:ru,setValue:(e,t,n,a)=>{t.store.manager.setValue(e,t,n,a)},getValue:(e,t,n)=>t.store.manager.getValue(e,t,n),getState:(e,t,n)=>n}),du=Object.freeze({__proto__:null,events:(e,t)=>{const n=e.resetOnDom?[Xs(((n,a)=>{iu(n,e,t)})),Qs(((n,a)=>{ru(n,e,t)}))]:[xl(e,t,iu)];return Us(n)}});const cu=()=>{const e=To(null);return Si({set:e.set,get:e.get,isNotSet:()=>null===e.get(),clear:()=>{e.set(null)},readState:()=>({mode:"memory",value:e.get()})})},uu=()=>{const e=To({}),t=To({});return Si({readState:()=>({mode:"dataset",dataByValue:e.get(),dataByText:t.get()}),lookup:n=>ve(e.get(),n).orThunk((()=>ve(t.get(),n))),update:n=>{const a=e.get(),o=t.get(),s={},i={};U(n,(e=>{s[e.value]=e,ve(e,"meta").each((t=>{ve(t,"text").each((t=>{i[t]=e}))}))})),e.set({...a,...s}),t.set({...o,...i})},clear:()=>{e.set({}),t.set({})}})};var mu=Object.freeze({__proto__:null,memory:cu,dataset:uu,manual:()=>Si({readState:v}),init:e=>e.store.manager.state(e)});const pu=(e,t,n,a)=>{const o=t.store;n.update([a]),o.setValue(e,a),t.onSetValue(e,a)};var hu=[mo("initialValue"),no("getFallbackEntry"),no("getDataKey"),no("setValue"),Vr("manager",{setValue:pu,getValue:(e,t,n)=>{const a=t.store,o=a.getDataKey(e);return n.lookup(o).getOrThunk((()=>a.getFallbackEntry(o)))},onLoad:(e,t,n)=>{t.store.initialValue.each((a=>{pu(e,t,n,a)}))},onUnload:(e,t,n)=>{n.clear()},state:uu})],fu=[no("getValue"),yo("setValue",v),mo("initialValue"),Vr("manager",{setValue:(e,t,n,a)=>{t.store.setValue(e,a),t.onSetValue(e,a)},getValue:(e,t,n)=>t.store.getValue(e),onLoad:(e,t,n)=>{t.store.initialValue.each((n=>{t.store.setValue(e,n)}))},onUnload:v,state:Ei.init})],gu=[mo("initialValue"),Vr("manager",{setValue:(e,t,n,a)=>{n.set(a),t.onSetValue(e,a)},getValue:(e,t,n)=>n.get(),onLoad:(e,t,n)=>{t.store.initialValue.each((e=>{n.isNotSet()&&n.set(e)}))},onUnload:(e,t,n)=>{n.clear()},state:cu})],vu=[_o("store",{mode:"memory"},Xa("mode",{memory:gu,manual:fu,dataset:hu})),Ir("onSetValue"),yo("resetOnDom",!1)];const bu=Tl({fields:vu,name:"representing",active:du,apis:lu,extra:{setValueFrom:(e,t)=>{const n=bu.getValue(t);bu.setValue(e,n)}},state:mu}),wu=(e,t)=>Ao(e,{},V(t,(t=>{return n=t.name(),a="Cannot configure "+t.name()+" for "+e,Ja(n,n,{tag:"option",process:{}},xa((e=>ua("The field: "+n+" is forbidden. "+a))));var n,a})).concat([eo("dump",_)])),yu=e=>e.dump,_u=(e,t)=>({...Sl(t),...e.dump}),Cu=wu,Du=_u,xu="placeholder",ku=Oo([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Eu=e=>be(e,"uiType"),Su=(e,t,n,a)=>((e,t,n,a)=>Eu(n)&&n.uiType===xu?((e,t,n,a)=>e.exists((e=>e!==n.owner))?ku.single(!0,y(n)):ve(a,n.name).fold((()=>{throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+ie(a)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(e=>e.replace())))(e,0,n,a):ku.single(!1,y(n)))(e,0,n,a).fold(((o,s)=>{const i=Eu(n)?s(t,n.config,n.validated):s(t),r=ve(i,"components").getOr([]),l=K(r,(n=>Su(e,t,n,a)));return[{...i,components:l}]}),((e,a)=>{if(Eu(n)){const e=a(t,n.config,n.validated);return n.validated.preprocess.getOr(_)(e)}return a(t)})),Au=ku.single,Tu=ku.multiple,Ou=y(xu),Lu=Oo([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Pu=yo("factory",{sketch:_}),Mu=yo("schema",[]),Bu=no("name"),Iu=Ja("pname","pname",ba((e=>"<alloy."+di(e.name)+">")),Ra()),Ru=eo("schema",(()=>[mo("preprocess")])),Fu=yo("defaults",y({})),Nu=yo("overrides",y({})),Vu=La([Pu,Mu,Bu,Iu,Fu,Nu]),Uu=La([Pu,Mu,Bu,Fu,Nu]),Hu=La([Pu,Mu,Bu,Iu,Fu,Nu]),zu=La([Pu,Ru,Bu,no("unit"),Iu,Fu,Nu]),ju=e=>e.fold(T.some,T.none,T.some,T.some),Zu=e=>{const t=e=>e.name;return e.fold(t,t,t,t)},qu=(e,t)=>n=>{const a=Ga("Converting part type",t,n);return e(a)},$u=qu(Lu.required,Vu),Wu=qu(Lu.external,Uu),Ku=qu(Lu.optional,Hu),Gu=qu(Lu.group,zu),Yu=y("entirety");var Xu=Object.freeze({__proto__:null,required:$u,external:Wu,optional:Ku,group:Gu,asNamedPart:ju,name:Zu,asCommon:e=>e.fold(_,_,_,_),original:Yu});const Qu=(e,t,n,a)=>ga(t.defaults(e,n,a),n,{uid:e.partUids[t.name]},t.overrides(e,n,a)),Ju=(e,t)=>{const n={};return U(t,(t=>{ju(t).each((t=>{const a=em(e,t.pname);n[t.name]=n=>{const o=Ga("Part: "+t.name+" in "+e,La(t.schema),n);return{...a,config:n,validated:o}}}))})),n},em=(e,t)=>({uiType:Ou(),owner:e,name:t}),tm=(e,t,n)=>({uiType:Ou(),owner:e,name:t,config:n,validated:{}}),nm=e=>K(e,(e=>e.fold(T.none,T.some,T.none,T.none).map((e=>lo(e.name,e.schema.concat([Ur(Yu())])))).toArray())),am=e=>V(e,Zu),om=(e,t,n)=>((e,t,n)=>{const a={},o={};return U(n,(e=>{e.fold((e=>{a[e.pname]=Au(!0,((t,n,a)=>e.factory.sketch(Qu(t,e,n,a))))}),(e=>{const n=t.parts[e.name];o[e.name]=y(e.factory.sketch(Qu(t,e,n[Yu()]),n))}),(e=>{a[e.pname]=Au(!1,((t,n,a)=>e.factory.sketch(Qu(t,e,n,a))))}),(e=>{a[e.pname]=Tu(!0,((t,n,a)=>{const o=t[e.name];return V(o,(n=>e.factory.sketch(ga(e.defaults(t,n,a),n,e.overrides(t,n)))))}))}))})),{internals:y(a),externals:y(o)}})(0,t,n),sm=(e,t,n)=>((e,t,n,a)=>{const o=de(a,((e,t)=>((e,t)=>{let n=!1;return{name:y(e),required:()=>t.fold(((e,t)=>e),((e,t)=>e)),used:()=>n,replace:()=>{if(n)throw new Error("Trying to use the same placeholder more than once: "+e);return n=!0,t}}})(t,e))),s=((e,t,n,a)=>K(n,(n=>Su(e,t,n,a))))(e,t,n,o);return le(o,(n=>{if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))})),s})(T.some(e),t,t.components,n),im=(e,t,n)=>{const a=t.partUids[n];return e.getSystem().getByUid(a).toOptional()},rm=(e,t,n)=>im(e,t,n).getOrDie("Could not find part: "+n),lm=(e,t,n)=>{const a={},o=t.partUids,s=e.getSystem();return U(n,(e=>{a[e]=y(s.getByUid(o[e]))})),a},dm=(e,t)=>{const n=e.getSystem();return de(t.partUids,((e,t)=>y(n.getByUid(e))))},cm=e=>ie(e.partUids),um=(e,t,n)=>{const a={},o=t.partUids,s=e.getSystem();return U(n,(e=>{a[e]=y(s.getByUid(o[e]).getOrDie())})),a},mm=(e,t)=>{const n=am(t);return Po(V(n,(t=>({key:t,value:e+"-"+t}))))},pm=e=>Ja("partUids","partUids",ya((t=>mm(t.uid,e))),Ra());var hm=Object.freeze({__proto__:null,generate:Ju,generateOne:tm,schemas:nm,names:am,substitutes:om,components:sm,defaultUids:mm,defaultUidsSchema:pm,getAllParts:dm,getAllPartNames:cm,getPart:im,getPartOrDie:rm,getParts:lm,getPartsOrDie:um});const fm=(e,t,n,a,o)=>{const s=((e,t)=>(e.length>0?[lo("parts",e)]:[]).concat([no("uid"),yo("dom",{}),yo("components",[]),Ur("originalSpec"),yo("debug.sketcher",{})]).concat(t))(a,o);return Ga(e+" [SpecSchema]",Oa(s.concat(t)),n)},gm=(e,t,n,a,o)=>{const s=vm(o),i=nm(n),r=pm(n),l=fm(e,t,s,i,[r]),d=om(0,l,n);return a(l,sm(e,l,d.internals()),s,d.externals())},vm=e=>(e=>be(e,"uid"))(e)?e:{...e,uid:gi("uid")},bm=Oa([no("name"),no("factory"),no("configFields"),yo("apis",{}),yo("extraApis",{})]),wm=Oa([no("name"),no("factory"),no("configFields"),no("partFields"),yo("apis",{}),yo("extraApis",{})]),ym=e=>{const t=Ga("Sketcher for "+e.name,bm,e),n=de(t.apis,ki),a=de(t.extraApis,((e,t)=>_i(e,t)));return{name:t.name,configFields:t.configFields,sketch:e=>((e,t,n,a)=>{const o=vm(a);return n(fm(e,t,o,[],[]),o)})(t.name,t.configFields,t.factory,e),...n,...a}},_m=e=>{const t=Ga("Sketcher for "+e.name,wm,e),n=Ju(t.name,t.partFields),a=de(t.apis,ki),o=de(t.extraApis,((e,t)=>_i(e,t)));return{name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:e=>gm(t.name,t.configFields,t.partFields,t.factory,e),parts:n,...a,...o}},Cm=e=>Ye("input")(e)&&"radio"!==Et(e,"type")||Ye("textarea")(e);var Dm=Object.freeze({__proto__:null,getCurrent:(e,t,n)=>t.find(e)});const xm=[no("find")],km=Tl({fields:xm,name:"composing",apis:Dm}),Em=["input","button","textarea","select"],Sm=(e,t,n)=>{(t.disabled()?Mm:Bm)(e,t)},Am=(e,t)=>!0===t.useNative&&I(Em,je(e.element)),Tm=e=>{xt(e.element,"disabled","disabled")},Om=e=>{Tt(e.element,"disabled")},Lm=e=>{xt(e.element,"aria-disabled","true")},Pm=e=>{xt(e.element,"aria-disabled","false")},Mm=(e,t,n)=>{t.disableClass.each((t=>{ji(e.element,t)})),(Am(e,t)?Tm:Lm)(e),t.onDisabled(e)},Bm=(e,t,n)=>{t.disableClass.each((t=>{qi(e.element,t)})),(Am(e,t)?Om:Pm)(e),t.onEnabled(e)},Im=(e,t)=>Am(e,t)?(e=>At(e.element,"disabled"))(e):(e=>"true"===Et(e.element,"aria-disabled"))(e);var Rm=Object.freeze({__proto__:null,enable:Bm,disable:Mm,isDisabled:Im,onLoad:Sm,set:(e,t,n,a)=>{(a?Mm:Bm)(e,t)}}),Fm=Object.freeze({__proto__:null,exhibit:(e,t)=>Ti({classes:t.disabled()?t.disableClass.toArray():[]}),events:(e,t)=>Us([Hs(ms(),((t,n)=>Im(t,e))),xl(e,t,Sm)])}),Nm=[Eo("disabled",S),yo("useNative",!0),mo("disableClass"),Ir("onDisabled"),Ir("onEnabled")];const Vm=Tl({fields:Nm,name:"disabling",active:Fm,apis:Rm}),Um=(e,t,n,a)=>{const o=Qd(e.element,"."+t.highlightClass);U(o,(n=>{R(a,(e=>Je(e.element,n)))||(qi(n,t.highlightClass),e.getSystem().getByDom(n).each((n=>{t.onDehighlight(e,n),Bs(n,Ms())})))}))},Hm=(e,t,n,a)=>{Um(e,t,0,[a]),zm(e,t,n,a)||(ji(a.element,t.highlightClass),t.onHighlight(e,a),Bs(a,Ps()))},zm=(e,t,n,a)=>$i(a.element,t.highlightClass),jm=(e,t,n)=>br(e.element,"."+t.itemClass).bind((t=>e.getSystem().getByDom(t).toOptional())),Zm=(e,t,n)=>{const a=Qd(e.element,"."+t.itemClass);return(a.length>0?T.some(a[a.length-1]):T.none()).bind((t=>e.getSystem().getByDom(t).toOptional()))},qm=(e,t,n,a)=>{const o=Qd(e.element,"."+t.itemClass);return $(o,(e=>$i(e,t.highlightClass))).bind((t=>{const n=Qr(t,a,0,o.length-1);return e.getSystem().getByDom(o[n]).toOptional()}))},$m=(e,t,n)=>{const a=Qd(e.element,"."+t.itemClass);return _e(V(a,(t=>e.getSystem().getByDom(t).toOptional())))};var Wm=Object.freeze({__proto__:null,dehighlightAll:(e,t,n)=>Um(e,t,0,[]),dehighlight:(e,t,n,a)=>{zm(e,t,n,a)&&(qi(a.element,t.highlightClass),t.onDehighlight(e,a),Bs(a,Ms()))},highlight:Hm,highlightFirst:(e,t,n)=>{jm(e,t).each((a=>{Hm(e,t,n,a)}))},highlightLast:(e,t,n)=>{Zm(e,t).each((a=>{Hm(e,t,n,a)}))},highlightAt:(e,t,n,a)=>{((e,t,n,a)=>{const o=Qd(e.element,"."+t.itemClass);return T.from(o[a]).fold((()=>sa.error(new Error("No element found with index "+a))),e.getSystem().getByDom)})(e,t,0,a).fold((e=>{throw e}),(a=>{Hm(e,t,n,a)}))},highlightBy:(e,t,n,a)=>{const o=$m(e,t);q(o,a).each((a=>{Hm(e,t,n,a)}))},isHighlighted:zm,getHighlighted:(e,t,n)=>br(e.element,"."+t.highlightClass).bind((t=>e.getSystem().getByDom(t).toOptional())),getFirst:jm,getLast:Zm,getPrevious:(e,t,n)=>qm(e,t,0,-1),getNext:(e,t,n)=>qm(e,t,0,1),getCandidates:$m}),Km=[no("highlightClass"),no("itemClass"),Ir("onHighlight"),Ir("onDehighlight")];const Gm=Tl({fields:Km,name:"highlighting",apis:Wm}),Ym=[8],Xm=[9],Qm=[13],Jm=[27],ep=[32],tp=[37],np=[38],ap=[39],op=[40],sp=(e,t,n)=>{const a=Y(e.slice(0,t)),o=Y(e.slice(t+1));return q(a.concat(o),n)},ip=(e,t,n)=>{const a=Y(e.slice(0,t));return q(a,n)},rp=(e,t,n)=>{const a=e.slice(0,t),o=e.slice(t+1);return q(o.concat(a),n)},lp=(e,t,n)=>{const a=e.slice(t+1);return q(a,n)},dp=e=>t=>{const n=t.raw;return I(e,n.which)},cp=e=>t=>G(e,(e=>e(t))),up=e=>!0===e.raw.shiftKey,mp=e=>!0===e.raw.ctrlKey,pp=x(up),hp=(e,t)=>({matches:e,classification:t}),fp=(e,t,n)=>{t.exists((e=>n.exists((t=>Je(t,e)))))||Is(e,Ss(),{prevFocus:t,newFocus:n})},gp=()=>{const e=e=>Vl(e.element);return{get:e,set:(t,n)=>{const a=e(t);t.getSystem().triggerFocus(n,t.element);const o=e(t);fp(t,a,o)}}},vp=()=>{const e=e=>Gm.getHighlighted(e).map((e=>e.element));return{get:e,set:(t,n)=>{const a=e(t);t.getSystem().getByDom(n).fold(v,(e=>{Gm.highlight(t,e)}));const o=e(t);fp(t,a,o)}}};var bp;!function(e){e.OnFocusMode="onFocus",e.OnEnterOrSpaceMode="onEnterOrSpace",e.OnApiMode="onApi"}(bp||(bp={}));const wp=(e,t,n,a,o)=>{const s=(e,t,n,a,o)=>{return(s=n(e,t,a,o),i=t.event,q(s,(e=>e.matches(i))).map((e=>e.classification))).bind((n=>n(e,t,a,o)));var s,i},i={schema:()=>e.concat([yo("focusManager",gp()),_o("focusInside","onFocus",qa((e=>I(["onFocus","onEnterOrSpace","onApi"],e)?sa.value(e):sa.error("Invalid value for focusInside")))),Vr("handler",i),Vr("state",t),Vr("sendFocusIn",o)]),processKey:s,toEvents:(e,t)=>{const i=e.focusInside!==bp.OnFocusMode?T.none():o(e).map((n=>js(ls(),((a,o)=>{n(a,e,t),o.stop()})))),r=[js(Xo(),((a,i)=>{s(a,i,n,e,t).fold((()=>{((n,a)=>{const s=dp(ep.concat(Qm))(a.event);e.focusInside===bp.OnEnterOrSpaceMode&&s&&Ro(n,a)&&o(e).each((o=>{o(n,e,t),a.stop()}))})(a,i)}),(e=>{i.stop()}))})),js(Qo(),((n,o)=>{s(n,o,a,e,t).each((e=>{o.stop()}))}))];return Us(i.toArray().concat(r))}};return i},yp=e=>{const t=[mo("onEscape"),mo("onEnter"),yo("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),yo("firstTabstop",0),yo("useTabstopAt",A),mo("visibilitySelector")].concat([e]),n=(e,t)=>{const n=e.visibilitySelector.bind((e=>wr(t,e))).getOr(t);return Zt(n)>0},a=(e,t)=>t.focusManager.get(e).bind((e=>wr(e,t.selector))),o=(e,t,a)=>{((e,t)=>{const a=Qd(e.element,t.selector),o=z(a,(e=>n(t,e)));return T.from(o[t.firstTabstop])})(e,t).each((n=>{t.focusManager.set(e,n)}))},s=(e,t,o,s)=>{const i=Qd(e.element,o.selector);return a(e,o).bind((t=>$(i,D(Je,t)).bind((t=>((e,t,a,o,s)=>s(t,a,(e=>((e,t)=>n(e,t)&&e.useTabstopAt(t))(o,e))).fold((()=>o.cyclic?T.some(!0):T.none()),(t=>(o.focusManager.set(e,t),T.some(!0)))))(e,i,t,o,s)))))},i=(e,t,n)=>{const a=n.cyclic?sp:ip;return s(e,0,n,a)},r=(e,t,n)=>{const a=n.cyclic?rp:lp;return s(e,0,n,a)},l=y([hp(cp([up,dp(Xm)]),i),hp(dp(Xm),r),hp(cp([pp,dp(Qm)]),((e,t,n)=>n.onEnter.bind((n=>n(e,t)))))]),d=y([hp(dp(Jm),((e,t,n)=>n.onEscape.bind((n=>n(e,t))))),hp(dp(Xm),((e,t,n)=>a(e,n).filter((e=>!n.useTabstopAt(e))).bind((a=>((e=>(e=>st(e))(e).bind(ct).exists((t=>Je(t,e))))(a)?i:r)(e,t,n)))))]);return wp(t,Ei.init,l,d,(()=>T.some(o)))};var _p=yp(eo("cyclic",S)),Cp=yp(eo("cyclic",A));const Dp=(e,t,n)=>Cm(n)&&dp(ep)(t.event)?T.none():((e,t,n)=>(Fs(e,n,ms()),T.some(!0)))(e,0,n),xp=(e,t)=>T.some(!0),kp=[yo("execute",Dp),yo("useSpace",!1),yo("useEnter",!0),yo("useControlEnter",!1),yo("useDown",!1)],Ep=(e,t,n)=>n.execute(e,t,e.element);var Sp=wp(kp,Ei.init,((e,t,n,a)=>{const o=n.useSpace&&!Cm(e.element)?ep:[],s=n.useEnter?Qm:[],i=n.useDown?op:[],r=o.concat(s).concat(i);return[hp(dp(r),Ep)].concat(n.useControlEnter?[hp(cp([mp,dp(Qm)]),Ep)]:[])}),((e,t,n,a)=>n.useSpace&&!Cm(e.element)?[hp(dp(ep),xp)]:[]),(()=>T.none()));const Ap=()=>{const e=ad();return Si({readState:()=>e.get().map((e=>({numRows:String(e.numRows),numColumns:String(e.numColumns)}))).getOr({numRows:"?",numColumns:"?"}),setGridSize:(t,n)=>{e.set({numRows:t,numColumns:n})},getNumRows:()=>e.get().map((e=>e.numRows)),getNumColumns:()=>e.get().map((e=>e.numColumns))})};var Tp=Object.freeze({__proto__:null,flatgrid:Ap,init:e=>e.state(e)});const Op=e=>(t,n,a,o)=>{const s=e(t.element);return Bp(s,t,n,a,o)},Lp=(e,t)=>{const n=yd(e,t);return Op(n)},Pp=(e,t)=>{const n=yd(t,e);return Op(n)},Mp=e=>(t,n,a,o)=>Bp(e,t,n,a,o),Bp=(e,t,n,a,o)=>a.focusManager.get(t).bind((n=>e(t.element,n,a,o))).map((e=>(a.focusManager.set(t,e),!0))),Ip=Mp,Rp=Mp,Fp=Mp,Np=e=>!(e=>e.offsetWidth<=0&&e.offsetHeight<=0)(e.dom),Vp=(e,t,n)=>{const a=Qd(e,n);return((e,n)=>$(e,(e=>Je(e,t))).map((t=>({index:t,candidates:e}))))(z(a,Np))},Up=(e,t)=>$(e,(e=>Je(t,e))),Hp=(e,t,n,a)=>a(Math.floor(t/n),t%n).bind((t=>{const a=t.row*n+t.column;return a>=0&&a<e.length?T.some(e[a]):T.none()})),zp=(e,t,n,a,o)=>Hp(e,t,a,((t,s)=>{const i=t===n-1?e.length-t*a:a,r=Qr(s,o,0,i-1);return T.some({row:t,column:r})})),jp=(e,t,n,a,o)=>Hp(e,t,a,((t,s)=>{const i=Qr(t,o,0,n-1),r=i===n-1?e.length-i*a:a,l=Jr(s,0,r-1);return T.some({row:i,column:l})})),Zp=[no("selector"),yo("execute",Dp),Rr("onEscape"),yo("captureTab",!1),Hr()],qp=(e,t,n)=>{br(e.element,t.selector).each((n=>{t.focusManager.set(e,n)}))},$p=e=>(t,n,a,o)=>Vp(t,n,a.selector).bind((t=>e(t.candidates,t.index,o.getNumRows().getOr(a.initSize.numRows),o.getNumColumns().getOr(a.initSize.numColumns)))),Wp=(e,t,n)=>n.captureTab?T.some(!0):T.none(),Kp=$p(((e,t,n,a)=>zp(e,t,n,a,-1))),Gp=$p(((e,t,n,a)=>zp(e,t,n,a,1))),Yp=$p(((e,t,n,a)=>jp(e,t,n,a,-1))),Xp=$p(((e,t,n,a)=>jp(e,t,n,a,1))),Qp=y([hp(dp(tp),Lp(Kp,Gp)),hp(dp(ap),Pp(Kp,Gp)),hp(dp(np),Ip(Yp)),hp(dp(op),Rp(Xp)),hp(cp([up,dp(Xm)]),Wp),hp(cp([pp,dp(Xm)]),Wp),hp(dp(ep.concat(Qm)),((e,t,n,a)=>((e,t)=>t.focusManager.get(e).bind((e=>wr(e,t.selector))))(e,n).bind((a=>n.execute(e,t,a)))))]),Jp=y([hp(dp(Jm),((e,t,n)=>n.onEscape(e,t))),hp(dp(ep),xp)]);var eh=wp(Zp,Ap,Qp,Jp,(()=>T.some(qp)));const th=(e,t,n,a,o)=>{const s=(e,t,n)=>o(e,t,a,0,n.length-1,n[t],(t=>{return a=n[t],"button"===je(a)&&"disabled"===Et(a,"disabled")?s(e,t,n):T.from(n[t]);var a}));return Vp(e,n,t).bind((e=>{const t=e.index,n=e.candidates;return s(t,t,n)}))},nh=(e,t,n,a)=>th(e,t,n,a,((e,t,n,a,o,s,i)=>{const r=Jr(t+n,a,o);return r===e?T.from(s):i(r)})),ah=(e,t,n,a)=>th(e,t,n,a,((e,t,n,a,o,s,i)=>{const r=Qr(t,n,a,o);return r===e?T.none():i(r)})),oh=[no("selector"),yo("getInitial",T.none),yo("execute",Dp),Rr("onEscape"),yo("executeOnMove",!1),yo("allowVertical",!0),yo("allowHorizontal",!0),yo("cycles",!0)],sh=(e,t,n)=>((e,t)=>t.focusManager.get(e).bind((e=>wr(e,t.selector))))(e,n).bind((a=>n.execute(e,t,a))),ih=(e,t,n)=>{t.getInitial(e).orThunk((()=>br(e.element,t.selector))).each((n=>{t.focusManager.set(e,n)}))},rh=(e,t,n)=>(n.cycles?ah:nh)(e,n.selector,t,-1),lh=(e,t,n)=>(n.cycles?ah:nh)(e,n.selector,t,1),dh=e=>(t,n,a,o)=>e(t,n,a,o).bind((()=>a.executeOnMove?sh(t,n,a):T.some(!0))),ch=y([hp(dp(ep),xp),hp(dp(Jm),((e,t,n)=>n.onEscape(e,t)))]);var uh=wp(oh,Ei.init,((e,t,n,a)=>{const o=[...n.allowHorizontal?tp:[]].concat(n.allowVertical?np:[]),s=[...n.allowHorizontal?ap:[]].concat(n.allowVertical?op:[]);return[hp(dp(o),dh(Lp(rh,lh))),hp(dp(s),dh(Pp(rh,lh))),hp(dp(Qm),sh),hp(dp(ep),sh)]}),ch,(()=>T.some(ih)));const mh=(e,t,n)=>T.from(e[t]).bind((e=>T.from(e[n]).map((e=>({rowIndex:t,columnIndex:n,cell:e}))))),ph=(e,t,n,a)=>{const o=e[t].length,s=Qr(n,a,0,o-1);return mh(e,t,s)},hh=(e,t,n,a)=>{const o=Qr(n,a,0,e.length-1),s=e[o].length,i=Jr(t,0,s-1);return mh(e,o,i)},fh=(e,t,n,a)=>{const o=e[t].length,s=Jr(n+a,0,o-1);return mh(e,t,s)},gh=(e,t,n,a)=>{const o=Jr(n+a,0,e.length-1),s=e[o].length,i=Jr(t,0,s-1);return mh(e,o,i)},vh=[lo("selectors",[no("row"),no("cell")]),yo("cycles",!0),yo("previousSelector",T.none),yo("execute",Dp)],bh=(e,t,n)=>{t.previousSelector(e).orThunk((()=>{const n=t.selectors;return br(e.element,n.cell)})).each((n=>{t.focusManager.set(e,n)}))},wh=(e,t)=>(n,a,o)=>{const s=o.cycles?e:t;return wr(a,o.selectors.row).bind((e=>{const t=Qd(e,o.selectors.cell);return Up(t,a).bind((t=>{const a=Qd(n,o.selectors.row);return Up(a,e).bind((e=>{const n=((e,t)=>V(e,(e=>Qd(e,t.selectors.cell))))(a,o);return s(n,e,t).map((e=>e.cell))}))}))}))},yh=wh(((e,t,n)=>ph(e,t,n,-1)),((e,t,n)=>fh(e,t,n,-1))),_h=wh(((e,t,n)=>ph(e,t,n,1)),((e,t,n)=>fh(e,t,n,1))),Ch=wh(((e,t,n)=>hh(e,n,t,-1)),((e,t,n)=>gh(e,n,t,-1))),Dh=wh(((e,t,n)=>hh(e,n,t,1)),((e,t,n)=>gh(e,n,t,1))),xh=y([hp(dp(tp),Lp(yh,_h)),hp(dp(ap),Pp(yh,_h)),hp(dp(np),Ip(Ch)),hp(dp(op),Rp(Dh)),hp(dp(ep.concat(Qm)),((e,t,n)=>Vl(e.element).bind((a=>n.execute(e,t,a)))))]),kh=y([hp(dp(ep),xp)]);var Eh=wp(vh,Ei.init,xh,kh,(()=>T.some(bh)));const Sh=[no("selector"),yo("execute",Dp),yo("moveOnTab",!1)],Ah=(e,t,n)=>n.focusManager.get(e).bind((a=>n.execute(e,t,a))),Th=(e,t,n)=>{br(e.element,t.selector).each((n=>{t.focusManager.set(e,n)}))},Oh=(e,t,n)=>ah(e,n.selector,t,-1),Lh=(e,t,n)=>ah(e,n.selector,t,1),Ph=y([hp(dp(np),Fp(Oh)),hp(dp(op),Fp(Lh)),hp(cp([up,dp(Xm)]),((e,t,n,a)=>n.moveOnTab?Fp(Oh)(e,t,n,a):T.none())),hp(cp([pp,dp(Xm)]),((e,t,n,a)=>n.moveOnTab?Fp(Lh)(e,t,n,a):T.none())),hp(dp(Qm),Ah),hp(dp(ep),Ah)]),Mh=y([hp(dp(ep),xp)]);var Bh=wp(Sh,Ei.init,Ph,Mh,(()=>T.some(Th)));const Ih=[Rr("onSpace"),Rr("onEnter"),Rr("onShiftEnter"),Rr("onLeft"),Rr("onRight"),Rr("onTab"),Rr("onShiftTab"),Rr("onUp"),Rr("onDown"),Rr("onEscape"),yo("stopSpaceKeyup",!1),mo("focusIn")];var Rh=wp(Ih,Ei.init,((e,t,n)=>[hp(dp(ep),n.onSpace),hp(cp([pp,dp(Qm)]),n.onEnter),hp(cp([up,dp(Qm)]),n.onShiftEnter),hp(cp([up,dp(Xm)]),n.onShiftTab),hp(cp([pp,dp(Xm)]),n.onTab),hp(dp(np),n.onUp),hp(dp(op),n.onDown),hp(dp(tp),n.onLeft),hp(dp(ap),n.onRight),hp(dp(ep),n.onSpace)]),((e,t,n)=>[...n.stopSpaceKeyup?[hp(dp(ep),xp)]:[],hp(dp(Jm),n.onEscape)]),(e=>e.focusIn));const Fh=_p.schema(),Nh=Cp.schema(),Vh=uh.schema(),Uh=eh.schema(),Hh=Eh.schema(),zh=Sp.schema(),jh=Bh.schema(),Zh=Rh.schema(),qh=Ll({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:Fh,cyclic:Nh,flow:Vh,flatgrid:Uh,matrix:Hh,execution:zh,menu:jh,special:Zh}),name:"keying",active:{events:(e,t)=>e.handler.toEvents(e,t)},apis:{focusIn:(e,t,n)=>{t.sendFocusIn(t).fold((()=>{e.getSystem().triggerFocus(e.element,e.element)}),(a=>{a(e,t,n)}))},setGridSize:(e,t,n,a,o)=>{(e=>we(e,"setGridSize"))(n)?n.setGridSize(a,o):console.error("Layout does not support setGridSize")}},state:Tp}),$h=(e,t)=>{Ul((()=>{((e,t,n)=>{const a=e.components();(e=>{U(e.components(),(e=>zn(e.element))),Hn(e.element),e.syncComponents()})(e);const o=n(t),s=X(a,o);U(s,(t=>{Ac(t),e.getSystem().removeFromWorld(t)})),U(o,(t=>{Sc(t)?Pc(e,t):(e.getSystem().addToWorld(t),Pc(e,t),yt(e.element)&&Tc(t))})),e.syncComponents()})(e,t,(()=>V(t,e.getSystem().build)))}),e.element)},Wh=(e,t)=>{Ul((()=>{((n,a,o)=>{const s=n.components(),i=K(a,(e=>xi(e).toArray()));U(s,(e=>{I(i,e)||Lc(e)}));const r=((e,t,n)=>Ji(e,t,((t,a)=>er(e,a,t,n))))(e.element,t,e.getSystem().buildOrPatch),l=X(s,r);U(l,(e=>{Sc(e)&&Lc(e)})),U(r,(e=>{Sc(e)||Oc(n,e)})),n.syncComponents()})(e,t)}),e.element)},Kh=(e,t,n,a)=>{Lc(t);const o=er(e.element,n,a,e.getSystem().buildOrPatch);Oc(e,o),e.syncComponents()},Gh=(e,t,n)=>{const a=e.getSystem().build(n);Bc(e,a,t)},Yh=(e,t,n,a)=>{Rc(t),Gh(e,((e,t)=>((e,t,n)=>{dt(e,n).fold((()=>{Vn(e,t)}),(e=>{Rn(e,t)}))})(e,t,n)),a)},Xh=(e,t)=>e.components(),Qh=(e,t,n,a,o)=>{const s=Xh(e);return T.from(s[a]).map((n=>(o.fold((()=>Rc(n)),(o=>{(t.reuseDom?Kh:Yh)(e,n,a,o)})),n)))};var Jh=Object.freeze({__proto__:null,append:(e,t,n,a)=>{Gh(e,Vn,a)},prepend:(e,t,n,a)=>{Gh(e,Nn,a)},remove:(e,t,n,a)=>{const o=Xh(e),s=q(o,(e=>Je(a.element,e.element)));s.each(Rc)},replaceAt:Qh,replaceBy:(e,t,n,a,o)=>{const s=Xh(e);return $(s,a).bind((n=>Qh(e,t,0,n,o)))},set:(e,t,n,a)=>(t.reuseDom?Wh:$h)(e,a),contents:Xh});const ef=Tl({fields:[ko("reuseDom",!0)],name:"replacing",apis:Jh}),tf=(e,t)=>{const n=((e,t)=>{const n=Us(t);return Tl({fields:[no("enabled")],name:e,active:{events:y(n)}})})(e,t);return{key:e,value:{config:{},me:n,configAsRaw:y({}),initialConfig:{},state:Ei}}},nf=(e,t)=>{t.ignore||(Il(e.element),t.onFocus(e))};var af=Object.freeze({__proto__:null,focus:nf,blur:(e,t)=>{t.ignore||Rl(e.element)},isFocused:e=>Fl(e.element)}),of=Object.freeze({__proto__:null,exhibit:(e,t)=>{const n=t.ignore?{}:{attributes:{tabindex:"-1"}};return Ti(n)},events:e=>Us([js(ls(),((t,n)=>{nf(t,e),n.stop()}))].concat(e.stopMousedown?[js(Zo(),((e,t)=>{t.event.prevent()}))]:[]))}),sf=[Ir("onFocus"),yo("stopMousedown",!1),yo("ignore",!1)];const rf=Tl({fields:sf,name:"focusing",active:of,apis:af}),lf=(e,t,n,a)=>{const o=n.get();n.set(a),((e,t,n)=>{t.toggleClass.each((t=>{n.get()?ji(e.element,t):qi(e.element,t)}))})(e,t,n),((e,t,n)=>{const a=t.aria;a.update(e,a,n.get())})(e,t,n),o!==a&&t.onToggled(e,a)},df=(e,t,n)=>{lf(e,t,n,!n.get())},cf=(e,t,n)=>{lf(e,t,n,t.selected)};var uf=Object.freeze({__proto__:null,onLoad:cf,toggle:df,isOn:(e,t,n)=>n.get(),on:(e,t,n)=>{lf(e,t,n,!0)},off:(e,t,n)=>{lf(e,t,n,!1)},set:lf}),mf=Object.freeze({__proto__:null,exhibit:()=>Ti({}),events:(e,t)=>{const n=(a=e,o=t,s=df,ei((e=>{s(e,a,o)})));var a,o,s;const i=xl(e,t,cf);return Us(W([e.toggleOnExecute?[n]:[],[i]]))}});const pf=(e,t,n)=>{xt(e.element,"aria-expanded",n)};var hf=[yo("selected",!1),mo("toggleClass"),yo("toggleOnExecute",!0),Ir("onToggled"),_o("aria",{mode:"none"},Xa("mode",{pressed:[yo("syncWithExpanded",!1),Vr("update",((e,t,n)=>{xt(e.element,"aria-pressed",n),t.syncWithExpanded&&pf(e,0,n)}))],checked:[Vr("update",((e,t,n)=>{xt(e.element,"aria-checked",n)}))],expanded:[Vr("update",pf)],selected:[Vr("update",((e,t,n)=>{xt(e.element,"aria-selected",n)}))],none:[Vr("update",v)]}))];const ff=Tl({fields:hf,name:"toggling",active:mf,apis:uf,state:{init:()=>{const e=To(!1);return{get:()=>e.get(),set:t=>e.set(t),clear:()=>e.set(!1),readState:()=>e.get()}}}}),gf=()=>{const e=(e,t)=>{t.stop(),Rs(e)};return[js(ts(),e),js(hs(),e),Ks(Uo()),Ks(Zo())]},vf=e=>Us(W([e.map((e=>ei(((t,n)=>{e(t),n.stop()})))).toArray(),gf()])),bf="alloy.item-hover",wf="alloy.item-focus",yf="alloy.item-toggled",_f=e=>{(Vl(e.element).isNone()||rf.isFocused(e))&&(rf.isFocused(e)||rf.focus(e),Is(e,bf,{item:e}))},Cf=e=>{Is(e,wf,{item:e})},Df=y(bf),xf=y(wf),kf=y(yf),Ef=e=>e.toggling.map((e=>e.exclusive?"menuitemradio":"menuitemcheckbox")).getOr("menuitem"),Sf=[no("data"),no("components"),no("dom"),yo("hasSubmenu",!1),mo("toggling"),Cu("itemBehaviours",[ff,rf,qh,bu]),yo("ignoreFocus",!1),yo("domModification",{}),Vr("builder",(e=>({dom:e.dom,domModification:{...e.domModification,attributes:{role:Ef(e),...e.domModification.attributes,"aria-haspopup":e.hasSubmenu,...e.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Du(e.itemBehaviours,[e.toggling.fold(ff.revoke,(e=>ff.config((e=>({aria:{mode:"checked"},...pe(e,((e,t)=>"exclusive"!==t)),onToggled:(t,n)=>{h(e.onToggled)&&e.onToggled(t,n),((e,t)=>{Is(e,yf,{item:e,state:t})})(t,n)}}))(e)))),rf.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:e=>{Cf(e)}}),qh.config({mode:"execution"}),bu.config({store:{mode:"memory",initialValue:e.data}}),tf("item-type-events",[...gf(),js(Ko(),_f),js(ps(),rf.focus)])]),components:e.components,eventOrder:e.eventOrder}))),yo("eventOrder",{})],Af=[no("dom"),no("components"),Vr("builder",(e=>({dom:e.dom,components:e.components,events:Us([Gs(ps())])})))],Tf=y("item-widget"),Of=y([$u({name:"widget",overrides:e=>({behaviours:Sl([bu.config({store:{mode:"manual",getValue:t=>e.data,setValue:v}})])})})]),Lf=[no("uid"),no("data"),no("components"),no("dom"),yo("autofocus",!1),yo("ignoreFocus",!1),Cu("widgetBehaviours",[bu,rf,qh]),yo("domModification",{}),pm(Of()),Vr("builder",(e=>{const t=om(Tf(),e,Of()),n=sm(Tf(),e,t.internals()),a=t=>im(t,e,"widget").map((e=>(qh.focusIn(e),e))),o=(t,n)=>Cm(n.event.target)?T.none():e.autofocus?(n.setSource(t.element),T.none()):T.none();return{dom:e.dom,components:n,domModification:e.domModification,events:Us([ei(((e,t)=>{a(e).each((e=>{t.stop()}))})),js(Ko(),_f),js(ps(),((t,n)=>{e.autofocus?a(t):rf.focus(t)}))]),behaviours:Du(e.widgetBehaviours,[bu.config({store:{mode:"memory",initialValue:e.data}}),rf.config({ignore:e.ignoreFocus,onFocus:e=>{Cf(e)}}),qh.config({mode:"special",focusIn:e.autofocus?e=>{a(e)}:Pl(),onLeft:o,onRight:o,onEscape:(t,n)=>rf.isFocused(t)||e.autofocus?e.autofocus?(n.setSource(t.element),T.none()):T.none():(rf.focus(t),T.some(!0))})])}}))],Pf=Xa("type",{widget:Lf,item:Sf,separator:Af}),Mf=y([Gu({factory:{sketch:e=>{const t=Ga("menu.spec item",Pf,e);return t.builder(t)}},name:"items",unit:"item",defaults:(e,t)=>be(t,"uid")?t:{...t,uid:gi("item")},overrides:(e,t)=>({type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}})})]),Bf=y([no("value"),no("items"),no("dom"),no("components"),yo("eventOrder",{}),wu("menuBehaviours",[Gm,bu,km,qh]),_o("movement",{mode:"menu",moveOnTab:!0},Xa("mode",{grid:[Hr(),Vr("config",((e,t)=>({mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager})))],matrix:[Vr("config",((e,t)=>({mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},previousSelector:t.previousSelector,focusManager:e.focusManager}))),no("rowSelector"),yo("previousSelector",T.none)],menu:[yo("moveOnTab",!0),Vr("config",((e,t)=>({mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager})))]})),ao("markers",Or()),yo("fakeFocus",!1),yo("focusManager",gp()),Ir("onHighlight"),Ir("onDehighlight")]),If=y("alloy.menu-focus"),Rf=_m({name:"Menu",configFields:Bf(),partFields:Mf(),factory:(e,t,n,a)=>({uid:e.uid,dom:e.dom,markers:e.markers,behaviours:_u(e.menuBehaviours,[Gm.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight,onDehighlight:e.onDehighlight}),bu.config({store:{mode:"memory",initialValue:e.value}}),km.config({find:T.some}),qh.config(e.movement.config(e,e.movement))]),events:Us([js(xf(),((e,t)=>{const n=t.event;e.getSystem().getByDom(n.target).each((n=>{Gm.highlight(e,n),t.stop(),Is(e,If(),{menu:e,item:n})}))})),js(Df(),((e,t)=>{const n=t.event.item;Gm.highlight(e,n)})),js(kf(),((e,t)=>{const{item:n,state:a}=t.event;a&&"menuitemradio"===Et(n.element,"role")&&((e,t)=>{const n=Qd(e.element,'[role="menuitemradio"][aria-checked="true"]');U(n,(n=>{Je(n,t.element)||e.getSystem().getByDom(n).each((e=>{ff.off(e)}))}))})(e,n)}))]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}})}),Ff=(e,t,n,a)=>ve(n,a).bind((a=>ve(e,a).bind((a=>{const o=Ff(e,t,n,a);return T.some([a].concat(o))})))).getOr([]),Nf=e=>"prepared"===e.type?T.some(e.menu):T.none(),Vf=()=>{const e=To({}),t=To({}),n=To({}),a=ad(),o=To({}),s=e=>i(e).bind(Nf),i=e=>ve(t.get(),e),r=t=>ve(e.get(),t);return{setMenuBuilt:(e,n)=>{t.set({...t.get(),[e]:{type:"prepared",menu:n}})},setContents:(s,i,r,l)=>{a.set(s),e.set(r),t.set(i),o.set(l);const d=((e,t)=>{const n={};le(e,((e,t)=>{U(e,(e=>{n[e]=t}))}));const a=t,o=ce(t,((e,t)=>({k:e,v:t}))),s=de(o,((e,t)=>[t].concat(Ff(n,a,o,t))));return de(n,(e=>ve(s,e).getOr([e])))})(l,r);n.set(d)},expand:t=>ve(e.get(),t).map((e=>{const a=ve(n.get(),t).getOr([]);return[e].concat(a)})),refresh:e=>ve(n.get(),e),collapse:e=>ve(n.get(),e).bind((e=>e.length>1?T.some(e.slice(1)):T.none())),lookupMenu:i,lookupItem:r,otherMenus:e=>{const t=o.get();return X(ie(t),e)},getPrimary:()=>a.get().bind(s),getMenus:()=>t.get(),clear:()=>{e.set({}),t.set({}),n.set({}),a.clear()},isClear:()=>a.get().isNone(),getTriggeringPath:(t,o)=>{const i=z(r(t).toArray(),(e=>s(e).isSome()));return ve(n.get(),t).bind((t=>{const n=Y(i.concat(t));return(e=>{const t=[];for(let n=0;n<e.length;n++){const a=e[n];if(!a.isSome())return T.none();t.push(a.getOrDie())}return T.some(t)})(K(n,((t,i)=>((t,n,a)=>s(t).bind((o=>(t=>fe(e.get(),((e,n)=>e===t)))(t).bind((e=>n(e).map((e=>({triggeredMenu:o,triggeringItem:e,triggeringPath:a}))))))))(t,o,n.slice(0,i+1)).fold((()=>ye(a.get(),t)?[]:[T.none()]),(e=>[T.some(e)])))))}))}}},Uf=Nf,Hf=di("tiered-menu-item-highlight"),zf=di("tiered-menu-item-dehighlight");var jf;!function(e){e[e.HighlightMenuAndItem=0]="HighlightMenuAndItem",e[e.HighlightJustMenu=1]="HighlightJustMenu",e[e.HighlightNone=2]="HighlightNone"}(jf||(jf={}));const Zf=y("collapse-item"),qf=ym({name:"TieredMenu",configFields:[Nr("onExecute"),Nr("onEscape"),Fr("onOpenMenu"),Fr("onOpenSubmenu"),Ir("onRepositionMenu"),Ir("onCollapseMenu"),yo("highlightOnOpen",jf.HighlightMenuAndItem),lo("data",[no("primary"),no("menus"),no("expansions")]),yo("fakeFocus",!1),Ir("onHighlightItem"),Ir("onDehighlightItem"),Ir("onHover"),Pr(),no("dom"),yo("navigateOnHover",!0),yo("stayInDom",!1),wu("tmenuBehaviours",[qh,Gm,km,ef]),yo("eventOrder",{})],apis:{collapseMenu:(e,t)=>{e.collapseMenu(t)},highlightPrimary:(e,t)=>{e.highlightPrimary(t)},repositionMenus:(e,t)=>{e.repositionMenus(t)}},factory:(e,t)=>{const n=ad(),a=Vf(),o=e=>bu.getValue(e).value,s=t=>de(e.data.menus,((e,t)=>K(e.items,(e=>"separator"===e.type?[]:[e.data.value])))),i=Gm.highlight,r=(t,n)=>{i(t,n),Gm.getHighlighted(n).orThunk((()=>Gm.getFirst(n))).each((a=>{e.fakeFocus?Gm.highlight(n,a):Fs(t,a.element,ps())}))},l=(e,t)=>_e(V(t,(t=>e.lookupMenu(t).bind((e=>"prepared"===e.type?T.some(e.menu):T.none()))))),d=(t,n,a)=>{const o=l(n,n.otherMenus(a));U(o,(n=>{Ki(n.element,[e.markers.backgroundMenu]),e.stayInDom||ef.remove(t,n)}))},c=(t,a)=>{const s=(t=>n.get().getOrThunk((()=>{const a={},s=Qd(t.element,`.${e.markers.item}`),i=z(s,(e=>"true"===Et(e,"aria-haspopup")));return U(i,(e=>{t.getSystem().getByDom(e).each((e=>{const t=o(e);a[t]=e}))})),n.set(a),a})))(t);le(s,((e,t)=>{const n=I(a,t);xt(e.element,"aria-expanded",n)}))},u=(t,n,a)=>T.from(a[0]).bind((o=>n.lookupMenu(o).bind((o=>{if("notbuilt"===o.type)return T.none();{const s=o.menu,i=l(n,a.slice(1));return U(i,(t=>{ji(t.element,e.markers.backgroundMenu)})),yt(s.element)||ef.append(t,cr(s)),Ki(s.element,[e.markers.backgroundMenu]),r(t,s),d(t,n,a),T.some(s)}}))));let m;!function(e){e[e.HighlightSubmenu=0]="HighlightSubmenu",e[e.HighlightParent=1]="HighlightParent"}(m||(m={}));const p=(t,n,s=m.HighlightSubmenu)=>{if(n.hasConfigured(Vm)&&Vm.isDisabled(n))return T.some(n);{const i=o(n);return a.expand(i).bind((o=>(c(t,o),T.from(o[0]).bind((i=>a.lookupMenu(i).bind((r=>{const l=((e,t,n)=>{if("notbuilt"===n.type){const o=e.getSystem().build(n.nbMenu());return a.setMenuBuilt(t,o),o}return n.menu})(t,i,r);return yt(l.element)||ef.append(t,cr(l)),e.onOpenSubmenu(t,n,l,Y(o)),s===m.HighlightSubmenu?(Gm.highlightFirst(l),u(t,a,o)):(Gm.dehighlightAll(l),T.some(n))})))))))}},h=(t,n)=>{const s=o(n);return a.collapse(s).bind((o=>(c(t,o),u(t,a,o).map((a=>(e.onCollapseMenu(t,n,a),a))))))},f=t=>(n,a)=>wr(a.getSource(),`.${e.markers.item}`).bind((e=>n.getSystem().getByDom(e).toOptional().bind((e=>t(n,e).map(A))))),g=Us([js(If(),((e,t)=>{const n=t.event.item;a.lookupItem(o(n)).each((()=>{const n=t.event.menu;Gm.highlight(e,n);const s=o(t.event.item);a.refresh(s).each((t=>d(e,a,t)))}))})),ei(((t,n)=>{const a=n.event.target;t.getSystem().getByDom(a).each((n=>{0===o(n).indexOf("collapse-item")&&h(t,n),p(t,n,m.HighlightSubmenu).fold((()=>{e.onExecute(t,n)}),v)}))})),Xs(((t,n)=>{(t=>{const n=((t,n,a)=>de(a,((a,o)=>{const s=()=>Rf.sketch({...a,value:o,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:(e,t)=>{Is(e,Hf,{menuComp:e,itemComp:t})},onDehighlight:(e,t)=>{Is(e,zf,{menuComp:e,itemComp:t})},focusManager:e.fakeFocus?vp():gp()});return o===n?{type:"prepared",menu:t.getSystem().build(s())}:{type:"notbuilt",nbMenu:s}})))(t,e.data.primary,e.data.menus),o=s();return a.setContents(e.data.primary,n,e.data.expansions,o),a.getPrimary()})(t).each((n=>{ef.append(t,cr(n)),e.onOpenMenu(t,n),e.highlightOnOpen===jf.HighlightMenuAndItem?r(t,n):e.highlightOnOpen===jf.HighlightJustMenu&&i(t,n)}))})),js(Hf,((t,n)=>{e.onHighlightItem(t,n.event.menuComp,n.event.itemComp)})),js(zf,((t,n)=>{e.onDehighlightItem(t,n.event.menuComp,n.event.itemComp)})),...e.navigateOnHover?[js(Df(),((t,n)=>{const s=n.event.item;((e,t)=>{const n=o(t);a.refresh(n).bind((t=>(c(e,t),u(e,a,t))))})(t,s),p(t,s,m.HighlightParent),e.onHover(t,s)}))]:[]]),b=e=>Gm.getHighlighted(e).bind(Gm.getHighlighted),w={collapseMenu:e=>{b(e).each((t=>{h(e,t)}))},highlightPrimary:e=>{a.getPrimary().each((t=>{r(e,t)}))},repositionMenus:t=>{const n=a.getPrimary().bind((e=>b(t).bind((e=>{const t=o(e),n=ge(a.getMenus()),s=_e(V(n,Uf));return a.getTriggeringPath(t,(e=>((e,t,n)=>se(t,(e=>{if(!e.getSystem().isConnected())return T.none();const t=Gm.getCandidates(e);return q(t,(e=>o(e)===n))})))(0,s,e)))})).map((t=>({primary:e,triggeringPath:t})))));n.fold((()=>{(e=>T.from(e.components()[0]).filter((e=>"menu"===Et(e.element,"role"))))(t).each((n=>{e.onRepositionMenu(t,n,[])}))}),(({primary:n,triggeringPath:a})=>{e.onRepositionMenu(t,n,a)}))}};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:_u(e.tmenuBehaviours,[qh.config({mode:"special",onRight:f(((e,t)=>Cm(t.element)?T.none():p(e,t,m.HighlightSubmenu))),onLeft:f(((e,t)=>Cm(t.element)?T.none():h(e,t))),onEscape:f(((t,n)=>h(t,n).orThunk((()=>e.onEscape(t,n).map((()=>t)))))),focusIn:(e,t)=>{a.getPrimary().each((t=>{Fs(e,t.element,ps())}))}}),Gm.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),km.config({find:e=>Gm.getHighlighted(e)}),ef.config({})]),eventOrder:e.eventOrder,apis:w,events:g}},extraApis:{tieredData:(e,t,n)=>({primary:e,menus:t,expansions:n}),singleData:(e,t)=>({primary:e,menus:Lo(e,t),expansions:{}}),collapseItem:e=>({value:di(Zf()),meta:{text:e}})}}),$f=ym({name:"InlineView",configFields:[no("lazySink"),Ir("onShow"),Ir("onHide"),vo("onEscape"),wu("inlineBehaviours",[Qc,bu,Ml]),wo("fireDismissalEventInstead",[yo("event",ks())]),wo("fireRepositionEventInstead",[yo("event",Es())]),yo("getRelated",T.none),yo("isExtraPart",S),yo("eventOrder",T.none)],factory:(e,t)=>{const n=(t,n,a,o)=>{const s=e.lazySink(t).getOrDie();Qc.openWhileCloaked(t,n,(()=>Ec.positionWithinBounds(s,t,a,o()))),bu.setValue(t,T.some({mode:"position",config:a,getBounds:o}))},a=(t,n,a,o)=>{const s=((e,t,n,a,o)=>{const s=()=>e.lazySink(t),i="horizontal"===a.type?{layouts:{onLtr:()=>yl(),onRtl:()=>_l()}}:{},r=e=>(e=>2===e.length)(e)?i:{};return qf.sketch({dom:{tag:"div"},data:a.data,markers:a.menu.markers,highlightOnOpen:a.menu.highlightOnOpen,fakeFocus:a.menu.fakeFocus,onEscape:()=>(Qc.close(t),e.onEscape.map((e=>e(t))),T.some(!0)),onExecute:()=>T.some(!0),onOpenMenu:(e,t)=>{Ec.positionWithinBounds(s().getOrDie(),t,n,o())},onOpenSubmenu:(e,t,n,a)=>{const o=s().getOrDie();Ec.position(o,n,{anchor:{type:"submenu",item:t,...r(a)}})},onRepositionMenu:(e,t,a)=>{const i=s().getOrDie();Ec.positionWithinBounds(i,t,n,o()),U(a,(e=>{const t=r(e.triggeringPath);Ec.position(i,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem,...t}})}))}})})(e,t,n,a,o);Qc.open(t,s),bu.setValue(t,T.some({mode:"menu",menu:s}))},o=t=>{Qc.isOpen(t)&&bu.getValue(t).each((n=>{switch(n.mode){case"menu":Qc.getState(t).each(qf.repositionMenus);break;case"position":const a=e.lazySink(t).getOrDie();Ec.positionWithinBounds(a,t,n.config,n.getBounds())}}))},s={setContent:(e,t)=>{Qc.setContent(e,t)},showAt:(e,t,a)=>{const o=T.none;n(e,t,a,o)},showWithinBounds:n,showMenuAt:(e,t,n)=>{a(e,t,n,T.none)},showMenuWithinBounds:a,hide:e=>{Qc.isOpen(e)&&(bu.setValue(e,T.none()),Qc.close(e))},getContent:e=>Qc.getState(e),reposition:o,isOpen:Qc.isOpen};return{uid:e.uid,dom:e.dom,behaviours:_u(e.inlineBehaviours,[Qc.config({isPartOf:(t,n,a)=>Cr(n,a)||((t,n)=>e.getRelated(t).exists((e=>Cr(e,n))))(t,a),getAttachPoint:t=>e.lazySink(t).getOrDie(),onOpen:t=>{e.onShow(t)},onClose:t=>{e.onHide(t)}}),bu.config({store:{mode:"memory",initialValue:T.none()}}),Ml.config({channels:{...au({isExtraPart:t.isExtraPart,...e.fireDismissalEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({})}),...su({...e.fireRepositionEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({}),doReposition:o})}})]),eventOrder:e.eventOrder,apis:s}},apis:{showAt:(e,t,n,a)=>{e.showAt(t,n,a)},showWithinBounds:(e,t,n,a,o)=>{e.showWithinBounds(t,n,a,o)},showMenuAt:(e,t,n,a)=>{e.showMenuAt(t,n,a)},showMenuWithinBounds:(e,t,n,a,o)=>{e.showMenuWithinBounds(t,n,a,o)},hide:(e,t)=>{e.hide(t)},isOpen:(e,t)=>e.isOpen(t),getContent:(e,t)=>e.getContent(t),setContent:(e,t,n)=>{e.setContent(t,n)},reposition:(e,t)=>{e.reposition(t)}}});var Wf=tinymce.util.Tools.resolve("tinymce.util.Delay");const Kf=ym({name:"Button",factory:e=>{const t=vf(e.action),n=e.dom.tag,a=t=>ve(e.dom,"attributes").bind((e=>ve(e,t)));return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:Du(e.buttonBehaviours,[rf.config({}),qh.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:"button"===n?{type:a("type").getOr("button"),...a("role").map((e=>({role:e}))).getOr({})}:{role:e.role.getOr(a("role").getOr("button"))}},eventOrder:e.eventOrder}},configFields:[yo("uid",void 0),no("dom"),yo("components",[]),Cu("buttonBehaviours",[rf,qh]),mo("action"),mo("role"),yo("eventOrder",{})]}),Gf=e=>{const t=Ie(e),n=lt(t),a=(e=>{const t=void 0!==e.dom.attributes?e.dom.attributes:[];return Z(t,((e,t)=>"class"===t.name?e:{...e,[t.name]:t.value}),{})})(t),o=(e=>Array.prototype.slice.call(e.dom.classList,0))(t),s=0===n.length?{}:{innerHtml:ti(t)};return{tag:je(t),classes:o,attributes:a,...s}},Yf=e=>{const t=(e=>void 0!==e.uid)(e)&&we(e,"uid")?e.uid:gi("memento");return{get:e=>e.getSystem().getByUid(t).getOrDie(),getOpt:e=>e.getSystem().getByUid(t).toOptional(),asSpec:()=>({...e,uid:t})}},{entries:Xf,setPrototypeOf:Qf,isFrozen:Jf,getPrototypeOf:eg,getOwnPropertyDescriptor:tg}=Object;let{freeze:ng,seal:ag,create:og}=Object,{apply:sg,construct:ig}="undefined"!=typeof Reflect&&Reflect;sg||(sg=function(e,t,n){return e.apply(t,n)}),ng||(ng=function(e){return e}),ag||(ag=function(e){return e}),ig||(ig=function(e,t){return new e(...t)});const rg=wg(Array.prototype.forEach),lg=wg(Array.prototype.pop),dg=wg(Array.prototype.push),cg=wg(String.prototype.toLowerCase),ug=wg(String.prototype.toString),mg=wg(String.prototype.match),pg=wg(String.prototype.replace),hg=wg(String.prototype.indexOf),fg=wg(String.prototype.trim),gg=wg(RegExp.prototype.test),vg=(bg=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ig(bg,t)});var bg;function wg(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return sg(e,t,a)}}function yg(e,t,n){var a;n=null!==(a=n)&&void 0!==a?a:cg,Qf&&Qf(e,null);let o=t.length;for(;o--;){let a=t[o];if("string"==typeof a){const e=n(a);e!==a&&(Jf(t)||(t[o]=e),a=e)}e[a]=!0}return e}function _g(e){const t=og(null);for(const[n,a]of Xf(e))t[n]=a;return t}function Cg(e,t){for(;null!==e;){const n=tg(e,t);if(n){if(n.get)return wg(n.get);if("function"==typeof n.value)return wg(n.value)}e=eg(e)}return function(e){return console.warn("fallback value for",e),null}}const Dg=ng(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),xg=ng(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),kg=ng(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Eg=ng(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Sg=ng(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Ag=ng(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Tg=ng(["#text"]),Og=ng(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Lg=ng(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Pg=ng(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Mg=ng(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Bg=ag(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ig=ag(/<%[\w\W]*|[\w\W]*%>/gm),Rg=ag(/\${[\w\W]*}/gm),Fg=ag(/^data-[\-\w.\u00B7-\uFFFF]/),Ng=ag(/^aria-[\-\w]+$/),Vg=ag(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ug=ag(/^(?:\w+script|data):/i),Hg=ag(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),zg=ag(/^html$/i);var jg=Object.freeze({__proto__:null,MUSTACHE_EXPR:Bg,ERB_EXPR:Ig,TMPLIT_EXPR:Rg,DATA_ATTR:Fg,ARIA_ATTR:Ng,IS_ALLOWED_URI:Vg,IS_SCRIPT_OR_DATA:Ug,ATTR_WHITESPACE:Hg,DOCTYPE_NAME:zg});const Zg=()=>"undefined"==typeof window?null:window;var qg=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zg();const n=t=>e(t);if(n.version="3.0.5",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;const a=t.document,o=a.currentScript;let{document:s}=t;const{DocumentFragment:i,HTMLTemplateElement:r,Node:l,Element:d,NodeFilter:c,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:m,DOMParser:p,trustedTypes:h}=t,f=d.prototype,g=Cg(f,"cloneNode"),v=Cg(f,"nextSibling"),b=Cg(f,"childNodes"),w=Cg(f,"parentNode");if("function"==typeof r){const e=s.createElement("template");e.content&&e.content.ownerDocument&&(s=e.content.ownerDocument)}let y,_="";const{implementation:C,createNodeIterator:D,createDocumentFragment:x,getElementsByTagName:k}=s,{importNode:E}=a;let S={};n.isSupported="function"==typeof Xf&&"function"==typeof w&&C&&void 0!==C.createHTMLDocument;const{MUSTACHE_EXPR:A,ERB_EXPR:T,TMPLIT_EXPR:O,DATA_ATTR:L,ARIA_ATTR:P,IS_SCRIPT_OR_DATA:M,ATTR_WHITESPACE:B}=jg;let{IS_ALLOWED_URI:I}=jg,R=null;const F=yg({},[...Dg,...xg,...kg,...Sg,...Tg]);let N=null;const V=yg({},[...Og,...Lg,...Pg,...Mg]);let U=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),H=null,z=null,j=!0,Z=!0,q=!1,$=!0,W=!1,K=!1,G=!1,Y=!1,X=!1,Q=!1,J=!1,ee=!0,te=!1,ne=!0,ae=!1,oe={},se=null;const ie=yg({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let re=null;const le=yg({},["audio","video","img","source","image","track"]);let de=null;const ce=yg({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ue="http://www.w3.org/1998/Math/MathML",me="http://www.w3.org/2000/svg",pe="http://www.w3.org/1999/xhtml";let he=pe,fe=!1,ge=null;const ve=yg({},[ue,me,pe],ug);let be;const we=["application/xhtml+xml","text/html"];let ye,_e=null;const Ce=s.createElement("form"),De=function(e){return e instanceof RegExp||e instanceof Function},xe=function(e){if(!_e||_e!==e){if(e&&"object"==typeof e||(e={}),e=_g(e),be=be=-1===we.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,ye="application/xhtml+xml"===be?ug:cg,R="ALLOWED_TAGS"in e?yg({},e.ALLOWED_TAGS,ye):F,N="ALLOWED_ATTR"in e?yg({},e.ALLOWED_ATTR,ye):V,ge="ALLOWED_NAMESPACES"in e?yg({},e.ALLOWED_NAMESPACES,ug):ve,de="ADD_URI_SAFE_ATTR"in e?yg(_g(ce),e.ADD_URI_SAFE_ATTR,ye):ce,re="ADD_DATA_URI_TAGS"in e?yg(_g(le),e.ADD_DATA_URI_TAGS,ye):le,se="FORBID_CONTENTS"in e?yg({},e.FORBID_CONTENTS,ye):ie,H="FORBID_TAGS"in e?yg({},e.FORBID_TAGS,ye):{},z="FORBID_ATTR"in e?yg({},e.FORBID_ATTR,ye):{},oe="USE_PROFILES"in e&&e.USE_PROFILES,j=!1!==e.ALLOW_ARIA_ATTR,Z=!1!==e.ALLOW_DATA_ATTR,q=e.ALLOW_UNKNOWN_PROTOCOLS||!1,$=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,W=e.SAFE_FOR_TEMPLATES||!1,K=e.WHOLE_DOCUMENT||!1,X=e.RETURN_DOM||!1,Q=e.RETURN_DOM_FRAGMENT||!1,J=e.RETURN_TRUSTED_TYPE||!1,Y=e.FORCE_BODY||!1,ee=!1!==e.SANITIZE_DOM,te=e.SANITIZE_NAMED_PROPS||!1,ne=!1!==e.KEEP_CONTENT,ae=e.IN_PLACE||!1,I=e.ALLOWED_URI_REGEXP||Vg,he=e.NAMESPACE||pe,U=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&De(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(U.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&De(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(U.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(U.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),W&&(Z=!1),Q&&(X=!0),oe&&(R=yg({},[...Tg]),N=[],!0===oe.html&&(yg(R,Dg),yg(N,Og)),!0===oe.svg&&(yg(R,xg),yg(N,Lg),yg(N,Mg)),!0===oe.svgFilters&&(yg(R,kg),yg(N,Lg),yg(N,Mg)),!0===oe.mathMl&&(yg(R,Sg),yg(N,Pg),yg(N,Mg))),e.ADD_TAGS&&(R===F&&(R=_g(R)),yg(R,e.ADD_TAGS,ye)),e.ADD_ATTR&&(N===V&&(N=_g(N)),yg(N,e.ADD_ATTR,ye)),e.ADD_URI_SAFE_ATTR&&yg(de,e.ADD_URI_SAFE_ATTR,ye),e.FORBID_CONTENTS&&(se===ie&&(se=_g(se)),yg(se,e.FORBID_CONTENTS,ye)),ne&&(R["#text"]=!0),K&&yg(R,["html","head","body"]),R.table&&(yg(R,["tbody"]),delete H.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw vg('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw vg('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');y=e.TRUSTED_TYPES_POLICY,_=y.createHTML("")}else void 0===y&&(y=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const a="data-tt-policy-suffix";t&&t.hasAttribute(a)&&(n=t.getAttribute(a));const o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}}(h,o)),null!==y&&"string"==typeof _&&(_=y.createHTML(""));ng&&ng(e),_e=e}},ke=yg({},["mi","mo","mn","ms","mtext"]),Ee=yg({},["foreignobject","desc","title","annotation-xml"]),Se=yg({},["title","style","font","a","script"]),Ae=yg({},xg);yg(Ae,kg),yg(Ae,Eg);const Te=yg({},Sg);yg(Te,Ag);const Oe=function(e){dg(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.remove()}},Le=function(e,t){try{dg(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){dg(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!N[e])if(X||Q)try{Oe(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Pe=function(e){let t,n;if(Y)e="<remove></remove>"+e;else{const t=mg(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===be&&he===pe&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const a=y?y.createHTML(e):e;if(he===pe)try{t=(new p).parseFromString(a,be)}catch(e){}if(!t||!t.documentElement){t=C.createDocument(he,"template",null);try{t.documentElement.innerHTML=fe?_:a}catch(e){}}const o=t.body||t.documentElement;return e&&n&&o.insertBefore(s.createTextNode(n),o.childNodes[0]||null),he===pe?k.call(t,K?"html":"body")[0]:K?t.documentElement:o},Me=function(e){return D.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},Be=function(e){return"object"==typeof l?e instanceof l:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Ie=function(e,t,a){S[e]&&rg(S[e],(e=>{e.call(n,t,a,_e)}))},Re=function(e){let t;if(Ie("beforeSanitizeElements",e,null),(a=e)instanceof m&&("string"!=typeof a.nodeName||"string"!=typeof a.textContent||"function"!=typeof a.removeChild||!(a.attributes instanceof u)||"function"!=typeof a.removeAttribute||"function"!=typeof a.setAttribute||"string"!=typeof a.namespaceURI||"function"!=typeof a.insertBefore||"function"!=typeof a.hasChildNodes))return Oe(e),!0;var a;const o=ye(e.nodeName);if(Ie("uponSanitizeElement",e,{tagName:o,allowedTags:R}),e.hasChildNodes()&&!Be(e.firstElementChild)&&(!Be(e.content)||!Be(e.content.firstElementChild))&&gg(/<[/\w]/g,e.innerHTML)&&gg(/<[/\w]/g,e.textContent))return Oe(e),!0;if(!R[o]||H[o]){if(!H[o]&&Ne(o)){if(U.tagNameCheck instanceof RegExp&&gg(U.tagNameCheck,o))return!1;if(U.tagNameCheck instanceof Function&&U.tagNameCheck(o))return!1}if(ne&&!se[o]){const t=w(e)||e.parentNode,n=b(e)||e.childNodes;if(n&&t)for(let a=n.length-1;a>=0;--a)t.insertBefore(g(n[a],!0),v(e))}return Oe(e),!0}return e instanceof d&&!function(e){let t=w(e);t&&t.tagName||(t={namespaceURI:he,tagName:"template"});const n=cg(e.tagName),a=cg(t.tagName);return!!ge[e.namespaceURI]&&(e.namespaceURI===me?t.namespaceURI===pe?"svg"===n:t.namespaceURI===ue?"svg"===n&&("annotation-xml"===a||ke[a]):Boolean(Ae[n]):e.namespaceURI===ue?t.namespaceURI===pe?"math"===n:t.namespaceURI===me?"math"===n&&Ee[a]:Boolean(Te[n]):e.namespaceURI===pe?!(t.namespaceURI===me&&!Ee[a])&&!(t.namespaceURI===ue&&!ke[a])&&!Te[n]&&(Se[n]||!Ae[n]):!("application/xhtml+xml"!==be||!ge[e.namespaceURI]))}(e)?(Oe(e),!0):"noscript"!==o&&"noembed"!==o&&"noframes"!==o||!gg(/<\/no(script|embed|frames)/i,e.innerHTML)?(W&&3===e.nodeType&&(t=e.textContent,t=pg(t,A," "),t=pg(t,T," "),t=pg(t,O," "),e.textContent!==t&&(dg(n.removed,{element:e.cloneNode()}),e.textContent=t)),Ie("afterSanitizeElements",e,null),!1):(Oe(e),!0)},Fe=function(e,t,n){if(ee&&("id"===t||"name"===t)&&(n in s||n in Ce))return!1;if(Z&&!z[t]&&gg(L,t));else if(j&&gg(P,t));else if(!N[t]||z[t]){if(!(Ne(e)&&(U.tagNameCheck instanceof RegExp&&gg(U.tagNameCheck,e)||U.tagNameCheck instanceof Function&&U.tagNameCheck(e))&&(U.attributeNameCheck instanceof RegExp&&gg(U.attributeNameCheck,t)||U.attributeNameCheck instanceof Function&&U.attributeNameCheck(t))||"is"===t&&U.allowCustomizedBuiltInElements&&(U.tagNameCheck instanceof RegExp&&gg(U.tagNameCheck,n)||U.tagNameCheck instanceof Function&&U.tagNameCheck(n))))return!1}else if(de[t]);else if(gg(I,pg(n,B,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==hg(n,"data:")||!re[e])if(q&&!gg(M,pg(n,B,"")));else if(n)return!1;return!0},Ne=function(e){return e.indexOf("-")>0},Ve=function(e){let t,n,a,o;Ie("beforeSanitizeAttributes",e,null);const{attributes:s}=e;if(!s)return;const i={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:N};for(o=s.length;o--;){t=s[o];const{name:r,namespaceURI:l}=t;n="value"===r?t.value:fg(t.value);const d=n;if(a=ye(r),i.attrName=a,i.attrValue=n,i.keepAttr=!0,i.forceKeepAttr=void 0,Ie("uponSanitizeAttribute",e,i),n=i.attrValue,i.forceKeepAttr)continue;if(!i.keepAttr){Le(r,e);continue}if(!$&&gg(/\/>/i,n)){Le(r,e);continue}W&&(n=pg(n,A," "),n=pg(n,T," "),n=pg(n,O," "));const c=ye(e.nodeName);if(Fe(c,a,n)){if(!te||"id"!==a&&"name"!==a||(Le(r,e),n="user-content-"+n),y&&"object"==typeof h&&"function"==typeof h.getAttributeType)if(l);else switch(h.getAttributeType(c,a)){case"TrustedHTML":n=y.createHTML(n);break;case"TrustedScriptURL":n=y.createScriptURL(n)}if(n!==d)try{l?e.setAttributeNS(l,r,n):e.setAttribute(r,n)}catch(t){Le(r,e)}}else Le(r,e)}Ie("afterSanitizeAttributes",e,null)},Ue=function e(t){let n;const a=Me(t);for(Ie("beforeSanitizeShadowDOM",t,null);n=a.nextNode();)Ie("uponSanitizeShadowNode",n,null),Re(n)||(n.content instanceof i&&e(n.content),Ve(n));Ie("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e){let t,o,s,r,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(fe=!e,fe&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Be(e)){if("function"!=typeof e.toString)throw vg("toString is not a function");if("string"!=typeof(e=e.toString()))throw vg("dirty is not a string, aborting")}if(!n.isSupported)return e;if(G||xe(d),n.removed=[],"string"==typeof e&&(ae=!1),ae){if(e.nodeName){const t=ye(e.nodeName);if(!R[t]||H[t])throw vg("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)t=Pe("\x3c!----\x3e"),o=t.ownerDocument.importNode(e,!0),1===o.nodeType&&"BODY"===o.nodeName||"HTML"===o.nodeName?t=o:t.appendChild(o);else{if(!X&&!W&&!K&&-1===e.indexOf("<"))return y&&J?y.createHTML(e):e;if(t=Pe(e),!t)return X?null:J?_:""}t&&Y&&Oe(t.firstChild);const c=Me(ae?e:t);for(;s=c.nextNode();)Re(s)||(s.content instanceof i&&Ue(s.content),Ve(s));if(ae)return e;if(X){if(Q)for(r=x.call(t.ownerDocument);t.firstChild;)r.appendChild(t.firstChild);else r=t;return(N.shadowroot||N.shadowrootmode)&&(r=E.call(a,r,!0)),r}let u=K?t.outerHTML:t.innerHTML;return K&&R["!doctype"]&&t.ownerDocument&&t.ownerDocument.doctype&&t.ownerDocument.doctype.name&&gg(zg,t.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+t.ownerDocument.doctype.name+">\n"+u),W&&(u=pg(u,A," "),u=pg(u,T," "),u=pg(u,O," ")),y&&J?y.createHTML(u):u},n.setConfig=function(e){xe(e),G=!0},n.clearConfig=function(){_e=null,G=!1},n.isValidAttribute=function(e,t,n){_e||xe({});const a=ye(e),o=ye(t);return Fe(a,o,n)},n.addHook=function(e,t){"function"==typeof t&&(S[e]=S[e]||[],dg(S[e],t))},n.removeHook=function(e){if(S[e])return lg(S[e])},n.removeHooks=function(e){S[e]&&(S[e]=[])},n.removeAllHooks=function(){S={}},n}();const $g=e=>qg().sanitize(e);var Wg=tinymce.util.Tools.resolve("tinymce.util.I18n");const Kg={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},Gg="temporary-placeholder",Yg=e=>()=>ve(e,Gg).getOr("!not found!"),Xg=(e,t)=>{const n=e.toLowerCase();if(Wg.isRtl()){const e=((e,t)=>Te(e,t)?e:((e,t)=>e+t)(e,t))(n,"-rtl");return be(t,e)?e:n}return n},Qg=(e,t)=>ve(t,Xg(e,t)),Jg=(e,t)=>{const n=t();return Qg(e,n).getOrThunk(Yg(n))},ev=()=>tf("add-focusable",[Xs((e=>{vr(e.element,"svg").each((e=>xt(e,"focusable","false")))}))]),tv=(e,t,n,a)=>{var o,s;const i=(e=>!!Wg.isRtl()&&be(Kg,e))(t)?["tox-icon--flip"]:[],r=ve(n,Xg(t,n)).or(a).getOrThunk(Yg(n));return{dom:{tag:e.tag,attributes:null!==(o=e.attributes)&&void 0!==o?o:{},classes:e.classes.concat(i),innerHtml:r},behaviours:Sl([...null!==(s=e.behaviours)&&void 0!==s?s:[],ev()])}},nv=(e,t,n,a=T.none())=>tv(t,e,n(),a),av={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},ov=ym({name:"Notification",factory:e=>{const t=Yf({dom:Gf(`<p>${$g(e.translationProvider(e.text))}</p>`),behaviours:Sl([ef.config({})])}),n=e=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${e}%`}}}),a=e=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${e}%`}}),o=Yf({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},a(0)],behaviours:Sl([ef.config({})])}),s={updateProgress:(e,t)=>{e.getSystem().isConnected()&&o.getOpt(e).each((e=>{ef.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(t)]},a(t)])}))},updateText:(e,n)=>{if(e.getSystem().isConnected()){const a=t.get(e);ef.set(a,[sr(n)])}}},i=W([e.icon.toArray(),e.level.toArray(),e.level.bind((e=>T.from(av[e]))).toArray()]),r=Yf(Kf.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[nv("close",{tag:"span",classes:["tox-icon"],attributes:{"aria-label":e.translationProvider("Close")}},e.iconProvider)],action:t=>{e.onAction(t)}})),l=((e,t,n)=>{const a=n(),o=q(e,(e=>be(a,Xg(e,a))));return tv({tag:"div",classes:["tox-notification__icon"]},o.getOr(Gg),a,T.none())})(i,0,e.iconProvider),d=[l,{dom:{tag:"div",classes:["tox-notification__body"]},components:[t.asSpec()],behaviours:Sl([ef.config({})])}];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map((e=>["tox-notification","tox-notification--in",`tox-notification--${e}`])).getOr(["tox-notification","tox-notification--in"])},behaviours:Sl([rf.config({}),tf("notification-events",[js(Go(),(e=>{r.getOpt(e).each(rf.focus)}))])]),components:d.concat(e.progress?[o.asSpec()]:[]).concat(e.closeButton?[r.asSpec()]:[]),apis:s}},configFields:[mo("level"),no("progress"),mo("icon"),no("onAction"),no("text"),no("iconProvider"),no("translationProvider"),ko("closeButton",!0)],apis:{updateProgress:(e,t,n)=>{e.updateProgress(t,n)},updateText:(e,t,n)=>{e.updateText(t,n)}}});var sv,iv,rv=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),lv=tinymce.util.Tools.resolve("tinymce.EditorManager"),dv=tinymce.util.Tools.resolve("tinymce.Env");!function(e){e.default="wrap",e.floating="floating",e.sliding="sliding",e.scrolling="scrolling"}(sv||(sv={})),function(e){e.auto="auto",e.top="top",e.bottom="bottom"}(iv||(iv={}));const cv=e=>t=>t.options.get(e),uv=e=>t=>T.from(e(t)),mv=e=>{const t=dv.deviceType.isPhone(),n=dv.deviceType.isTablet()||t,a=e.options.register,o=e=>s(e)||!1===e,i=e=>s(e)||f(e);a("skin",{processor:e=>s(e)||!1===e,default:"oxide"}),a("skin_url",{processor:"string"}),a("height",{processor:i,default:Math.max(e.getElement().offsetHeight,400)}),a("width",{processor:i,default:rv.DOM.getStyle(e.getElement(),"width")}),a("min_height",{processor:"number",default:100}),a("min_width",{processor:"number"}),a("max_height",{processor:"number"}),a("max_width",{processor:"number"}),a("style_formats",{processor:"object[]"}),a("style_formats_merge",{processor:"boolean",default:!1}),a("style_formats_autohide",{processor:"boolean",default:!1}),a("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),a("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),a("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),a("font_size_input_default_unit",{processor:"string",default:"pt"}),a("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),a("content_langs",{processor:"object[]"}),a("removed_menuitems",{processor:"string",default:""}),a("menubar",{processor:e=>s(e)||c(e),default:!t}),a("menu",{processor:"object",default:{}}),a("toolbar",{processor:e=>c(e)||s(e)||l(e)?{value:e,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),F(9,(e=>{a("toolbar"+(e+1),{processor:"string"})})),a("toolbar_mode",{processor:"string",default:n?"scrolling":"floating"}),a("toolbar_groups",{processor:"object",default:{}}),a("toolbar_location",{processor:"string",default:iv.auto}),a("toolbar_persist",{processor:"boolean",default:!1}),a("toolbar_sticky",{processor:"boolean",default:e.inline}),a("toolbar_sticky_offset",{processor:"number",default:0}),a("fixed_toolbar_container",{processor:"string",default:""}),a("fixed_toolbar_container_target",{processor:"object"}),a("ui_mode",{processor:"string",default:"combined"}),a("file_picker_callback",{processor:"function"}),a("file_picker_validator_handler",{processor:"function"}),a("file_picker_types",{processor:"string"}),a("typeahead_urls",{processor:"boolean",default:!0}),a("anchor_top",{processor:o,default:"#top"}),a("anchor_bottom",{processor:o,default:"#bottom"}),a("draggable_modal",{processor:"boolean",default:!1}),a("statusbar",{processor:"boolean",default:!0}),a("elementpath",{processor:"boolean",default:!0}),a("branding",{processor:"boolean",default:!0}),a("promotion",{processor:"boolean",default:!0}),a("resize",{processor:e=>"both"===e||c(e),default:!dv.deviceType.isTouch()}),a("sidebar_show",{processor:"string"}),a("help_accessibility",{processor:"boolean",default:e.hasPlugin("help")}),a("default_font_stack",{processor:"string[]",default:[]})},pv=cv("readonly"),hv=cv("height"),fv=cv("width"),gv=uv(cv("min_width")),vv=uv(cv("min_height")),bv=uv(cv("max_width")),wv=uv(cv("max_height")),yv=uv(cv("style_formats")),_v=cv("style_formats_merge"),Cv=cv("style_formats_autohide"),Dv=cv("content_langs"),xv=cv("removed_menuitems"),kv=cv("toolbar_mode"),Ev=cv("toolbar_groups"),Sv=cv("toolbar_location"),Av=cv("fixed_toolbar_container"),Tv=cv("fixed_toolbar_container_target"),Ov=cv("toolbar_persist"),Lv=cv("toolbar_sticky_offset"),Pv=cv("menubar"),Mv=cv("toolbar"),Bv=cv("file_picker_callback"),Iv=cv("file_picker_validator_handler"),Rv=cv("font_size_input_default_unit"),Fv=cv("file_picker_types"),Nv=cv("typeahead_urls"),Vv=cv("anchor_top"),Uv=cv("anchor_bottom"),Hv=cv("draggable_modal"),zv=cv("statusbar"),jv=cv("elementpath"),Zv=cv("branding"),qv=cv("resize"),$v=cv("paste_as_text"),Wv=cv("sidebar_show"),Kv=cv("promotion"),Gv=cv("help_accessibility"),Yv=cv("default_font_stack"),Xv=e=>!1===e.options.get("skin"),Qv=e=>!1!==e.options.get("menubar"),Jv=e=>{const t=e.options.get("skin_url");if(Xv(e))return t;if(t)return e.documentBaseURI.toAbsolute(t);{const t=e.options.get("skin");return lv.baseURL+"/skins/ui/"+t}},eb=e=>T.from(e.options.get("skin_url")),tb=e=>e.options.get("line_height_formats").split(" "),nb=e=>{const t=Mv(e),n=s(t),a=l(t)&&t.length>0;return!ob(e)&&(a||n||!0===t)},ab=e=>{const t=F(9,(t=>e.options.get("toolbar"+(t+1)))),n=z(t,s);return xe(n.length>0,n)},ob=e=>ab(e).fold((()=>{const t=Mv(e);return g(t,s)&&t.length>0}),A),sb=e=>Sv(e)===iv.bottom,ib=e=>{var t;if(!e.inline)return T.none();const n=null!==(t=Av(e))&&void 0!==t?t:"";if(n.length>0)return br(_t(),n);const a=Tv(e);return p(a)?T.some(Ne(a)):T.none()},rb=e=>e.inline&&ib(e).isSome(),lb=e=>ib(e).getOrThunk((()=>vt(gt(Ne(e.getElement()))))),db=e=>e.inline&&!Qv(e)&&!nb(e)&&!ob(e),cb=e=>(e.options.get("toolbar_sticky")||e.inline)&&!rb(e)&&!db(e),ub=e=>!rb(e)&&"split"===e.options.get("ui_mode"),mb=e=>{const t=e.options.get("menu");return de(t,(e=>({...e,items:e.items})))};var pb=Object.freeze({__proto__:null,get ToolbarMode(){return sv},get ToolbarLocation(){return iv},register:mv,getSkinUrl:Jv,getSkinUrlOption:eb,isReadOnly:pv,isSkinDisabled:Xv,getHeightOption:hv,getWidthOption:fv,getMinWidthOption:gv,getMinHeightOption:vv,getMaxWidthOption:bv,getMaxHeightOption:wv,getUserStyleFormats:yv,shouldMergeStyleFormats:_v,shouldAutoHideStyleFormats:Cv,getLineHeightFormats:tb,getContentLanguages:Dv,getRemovedMenuItems:xv,isMenubarEnabled:Qv,isMultipleToolbars:ob,isToolbarEnabled:nb,isToolbarPersist:Ov,getMultipleToolbarsOption:ab,getUiContainer:lb,useFixedContainer:rb,isSplitUiMode:ub,getToolbarMode:kv,isDraggableModal:Hv,isDistractionFree:db,isStickyToolbar:cb,getStickyToolbarOffset:Lv,getToolbarLocation:Sv,isToolbarLocationBottom:sb,getToolbarGroups:Ev,getMenus:mb,getMenubar:Pv,getToolbar:Mv,getFilePickerCallback:Bv,getFilePickerTypes:Fv,useTypeaheadUrls:Nv,getAnchorTop:Vv,getAnchorBottom:Uv,getFilePickerValidatorHandler:Iv,getFontSizeInputDefaultUnit:Rv,useStatusBar:zv,useElementPath:jv,promotionEnabled:Kv,useBranding:Zv,getResize:qv,getPasteAsText:$v,getSidebarShow:Wv,useHelpAccessibility:Gv,getDefaultFontStack:Yv});const hb="[data-mce-autocompleter]",fb=e=>wr(e,hb);var gb;!function(e){e[e.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",e[e.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"}(gb||(gb={}));var vb=gb;const bb="tox-menu-nav__js",wb="tox-collection__item",yb="tox-swatch",_b={normal:bb,color:yb},Cb="tox-collection__item--enabled",Db="tox-collection__item-icon",xb="tox-collection__item-label",kb="tox-collection__item-caret",Eb="tox-collection__item--active",Sb="tox-collection__item-container",Ab="tox-collection__item-container--row",Tb=e=>ve(_b,e).getOr(bb),Ob=e=>"color"===e?"tox-swatches":"tox-menu",Lb=e=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:Ob(e),tieredMenu:"tox-tiered-menu"}),Pb=e=>{const t=Lb(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:Tb(e)}},Mb=(e,t,n)=>{const a=Lb(n);return{tag:"div",classes:W([[a.menu,`tox-menu-${t}-column`],e?[a.hasIcons]:[]])}},Bb=[Rf.parts.items({})],Ib=(e,t,n)=>{const a=Lb(n);return{dom:{tag:"div",classes:W([[a.tieredMenu]])},markers:Pb(n)}},Rb=y([mo("data"),yo("inputAttributes",{}),yo("inputStyles",{}),yo("tag","input"),yo("inputClasses",[]),Ir("onSetValue"),yo("styles",{}),yo("eventOrder",{}),wu("inputBehaviours",[bu,rf]),yo("selectOnFocus",!0)]),Fb=e=>Sl([rf.config({onFocus:e.selectOnFocus?e=>{const t=e.element,n=Yi(t);t.dom.setSelectionRange(0,n.length)}:v})]),Nb=e=>({...Fb(e),..._u(e.inputBehaviours,[bu.config({store:{mode:"manual",...e.data.map((e=>({initialValue:e}))).getOr({}),getValue:e=>Yi(e.element),setValue:(e,t)=>{Yi(e.element)!==t&&Xi(e.element,t)}},onSetValue:e.onSetValue})])}),Vb=e=>({tag:e.tag,attributes:{type:"text",...e.inputAttributes},styles:e.inputStyles,classes:e.inputClasses}),Ub=ym({name:"Input",configFields:Rb(),factory:(e,t)=>({uid:e.uid,dom:Vb(e),components:[],behaviours:Nb(e),eventOrder:e.eventOrder})}),Hb=di("refetch-trigger-event"),zb=di("redirect-menu-item-interaction"),jb="tox-menu__searcher",Zb=e=>br(e.element,`.${jb}`).bind((t=>e.getSystem().getByDom(t).toOptional())),qb=Zb,$b=e=>({fetchPattern:bu.getValue(e),selectionStart:e.element.dom.selectionStart,selectionEnd:e.element.dom.selectionEnd}),Wb=e=>{const t=(e,t)=>(t.cut(),T.none()),n=(e,t)=>{const n={interactionEvent:t.event,eventType:t.event.raw.type};return Is(e,zb,n),T.some(!0)},a="searcher-events";return{dom:{tag:"div",classes:[wb]},components:[Ub.sketch({inputClasses:[jb,"tox-textfield"],inputAttributes:{...e.placeholder.map((t=>({placeholder:e.i18n(t)}))).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Sl([tf(a,[js(Jo(),(e=>{Bs(e,Hb)})),js(Xo(),((e,t)=>{"Escape"===t.event.raw.key&&t.stop()}))]),qh.config({mode:"special",onLeft:t,onRight:t,onSpace:t,onEnter:n,onEscape:n,onUp:n,onDown:n})]),eventOrder:{keydown:[a,qh.name()]}})]}},Kb="tox-collection--results__js",Gb=e=>{var t;return e.dom?{...e,dom:{...e.dom,attributes:{...null!==(t=e.dom.attributes)&&void 0!==t?t:{},id:di("aria-item-search-result-id"),"aria-selected":"false"}}}:e},Yb=(e,t)=>n=>{const a=N(n,t);return V(a,(t=>({dom:e,components:t})))},Xb=(e,t)=>{const n=[];let a=[];return U(e,((e,o)=>{t(e,o)?(a.length>0&&n.push(a),a=[],(be(e.dom,"innerHtml")||e.components&&e.components.length>0)&&a.push(e)):a.push(e)})),a.length>0&&n.push(a),V(n,(e=>({dom:{tag:"div",classes:["tox-collection__group"]},components:e})))},Qb=(e,t,n)=>Rf.parts.items({preprocess:a=>{const o=V(a,n);return"auto"!==e&&e>1?Yb({tag:"div",classes:["tox-collection__group"]},e)(o):Xb(o,((e,n)=>"separator"===t[n].type))}}),Jb=(e,t,n=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[Qb(e,t,_)]}),ew=e=>R(e,(e=>"icon"in e&&void 0!==e.icon)),tw=e=>(console.error(Ya(e)),console.log(e),T.none()),nw=(e,t,n,a,o)=>{const s=(i=n,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Rf.parts.items({preprocess:e=>Xb(e,((e,t)=>"separator"===i[t].type))})]});var i;return{value:e,dom:s.dom,components:s.components,items:n}},aw=(e,t,n,a,o)=>{if("color"===o.menuType){const t=(e=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Rf.parts.items({preprocess:"auto"!==e?Yb({tag:"div",classes:["tox-swatches__row"]},e):_})]}]}))(a);return{value:e,dom:t.dom,components:t.components,items:n}}if("normal"===o.menuType&&"auto"===a){const t=Jb(a,n);return{value:e,dom:t.dom,components:t.components,items:n}}if("normal"===o.menuType||"searchable"===o.menuType){const t="searchable"!==o.menuType?Jb(a,n):"search-with-field"===o.searchMode.searchMode?((e,t,n)=>{const a=di("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[Wb({i18n:Wg.translate,placeholder:n.placeholder}),{dom:{tag:"div",classes:[...1===e?["tox-collection--list"]:["tox-collection--grid"],Kb],attributes:{id:a}},components:[Qb(e,t,Gb)]}]}})(a,n,o.searchMode):((e,t,n=!0)=>{const a=di("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",Kb].concat(1===e?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:a}},components:[Qb(e,t,Gb)]}})(a,n);return{value:e,dom:t.dom,components:t.components,items:n}}if("listpreview"===o.menuType&&"auto"!==a){const t=(e=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Rf.parts.items({preprocess:Yb({tag:"div",classes:["tox-collection__group"]},e)})]}))(a);return{value:e,dom:t.dom,components:t.components,items:n}}return{value:e,dom:Mb(t,a,o.menuType),components:Bb,items:n}},ow=so("type"),sw=so("name"),iw=so("label"),rw=so("text"),lw=so("title"),dw=so("icon"),cw=so("value"),uw=ro("fetch"),mw=ro("getSubmenuItems"),pw=ro("onAction"),hw=ro("onItemAction"),fw=Eo("onSetup",(()=>v)),gw=fo("name"),vw=fo("text"),bw=fo("icon"),ww=fo("tooltip"),yw=fo("label"),_w=fo("shortcut"),Cw=vo("select"),Dw=ko("active",!1),xw=ko("borderless",!1),kw=ko("enabled",!0),Ew=ko("primary",!1),Sw=e=>yo("columns",e),Aw=yo("meta",{}),Tw=Eo("onAction",v),Ow=e=>Do("type",e),Lw=e=>Ja("name","name",ba((()=>di(`${e}-name`))),Va),Pw=La([ow,vw]),Mw=La([Ow("autocompleteitem"),Dw,kw,Aw,cw,vw,bw]),Bw=[kw,ww,bw,vw,fw],Iw=La([ow,pw].concat(Bw)),Rw=e=>Wa("toolbarbutton",Iw,e),Fw=[Dw].concat(Bw),Nw=La(Fw.concat([ow,pw])),Vw=e=>Wa("ToggleButton",Nw,e),Uw=[Eo("predicate",S),xo("scope","node",["node","editor"]),xo("position","selection",["node","selection","line"])],Hw=Bw.concat([Ow("contextformbutton"),Ew,pw,eo("original",_)]),zw=Fw.concat([Ow("contextformbutton"),Ew,pw,eo("original",_)]),jw=Bw.concat([Ow("contextformbutton")]),Zw=Fw.concat([Ow("contextformtogglebutton")]),qw=Xa("type",{contextformbutton:Hw,contextformtogglebutton:zw}),$w=La([Ow("contextform"),Eo("initValue",y("")),yw,uo("commands",qw),po("launch",Xa("type",{contextformbutton:jw,contextformtogglebutton:Zw}))].concat(Uw)),Ww=La([Ow("contexttoolbar"),so("items")].concat(Uw)),Kw=[ow,so("src"),fo("alt"),So("classes",[],Va)],Gw=La(Kw),Yw=[ow,rw,gw,So("classes",["tox-collection__item-label"],Va)],Xw=La(Yw),Qw=Aa((()=>Za("type",{cardimage:Gw,cardtext:Xw,cardcontainer:Jw}))),Jw=La([ow,Do("direction","horizontal"),Do("align","left"),Do("valign","middle"),uo("items",Qw)]),ey=[kw,vw,_w,Ja("value","value",ba((()=>di("menuitem-value"))),Ra()),Aw],ty=La([ow,yw,uo("items",Qw),fw,Tw].concat(ey)),ny=La([ow,Dw,bw].concat(ey)),ay=[ow,so("fancytype"),Tw],oy=[yo("initData",{})].concat(ay),sy=[vo("select"),Ao("initData",{},[ko("allowCustomColors",!0),Do("storageKey","default"),bo("colors",Ra())])].concat(ay),iy=Xa("fancytype",{inserttable:oy,colorswatch:sy}),ry=La([ow,fw,Tw,bw].concat(ey)),ly=La([ow,mw,fw,bw].concat(ey)),dy=La([ow,bw,Dw,fw,pw].concat(ey)),cy=(e,t,n)=>{const a=Qd(e.element,"."+n);if(a.length>0){const e=$(a,(e=>{const n=e.dom.getBoundingClientRect().top,o=a[0].dom.getBoundingClientRect().top;return Math.abs(n-o)>t})).getOr(a.length);return T.some({numColumns:e,numRows:Math.ceil(a.length/e)})}return T.none()},uy=e=>((e,t)=>Sl([tf(e,t)]))(di("unnamed-events"),e),my=di("tooltip.exclusive"),py=di("tooltip.show"),hy=di("tooltip.hide"),fy=(e,t,n)=>{e.getSystem().broadcastOn([my],{})};var gy=Object.freeze({__proto__:null,hideAllExclusive:fy,setComponents:(e,t,n,a)=>{n.getTooltip().each((e=>{e.getSystem().isConnected()&&ef.set(e,a)}))}}),vy=Object.freeze({__proto__:null,events:(e,t)=>{const n=n=>{t.getTooltip().each((a=>{Rc(a),e.onHide(n,a),t.clearTooltip()})),t.clearTimer()};return Us(W([[js(py,(n=>{t.resetTimer((()=>{(n=>{if(!t.isShowing()){fy(n);const a=e.lazySink(n).getOrDie(),o=n.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:Us("normal"===e.mode?[js(Ko(),(e=>{Bs(n,py)})),js($o(),(e=>{Bs(n,hy)}))]:[]),behaviours:Sl([ef.config({})])});t.setTooltip(o),Mc(a,o),e.onShow(n,o),Ec.position(a,o,{anchor:e.anchor(n)})}})(n)}),e.delay)})),js(hy,(a=>{t.resetTimer((()=>{n(a)}),e.delay)})),js(us(),((e,t)=>{const a=t;a.universal||I(a.channels,my)&&n(e)})),Qs((e=>{n(e)}))],"normal"===e.mode?[js(Go(),(e=>{Bs(e,py)})),js(ds(),(e=>{Bs(e,hy)})),js(Ko(),(e=>{Bs(e,py)})),js($o(),(e=>{Bs(e,hy)}))]:[js(Ps(),((e,t)=>{Bs(e,py)})),js(Ms(),(e=>{Bs(e,hy)}))]]))}}),by=[no("lazySink"),no("tooltipDom"),yo("exclusive",!0),yo("tooltipComponents",[]),yo("delay",300),xo("mode","normal",["normal","follow-highlight"]),yo("anchor",(e=>({type:"hotspot",hotspot:e,layouts:{onLtr:y([pl,ml,ll,cl,dl,ul]),onRtl:y([pl,ml,ll,cl,dl,ul])}}))),Ir("onHide"),Ir("onShow")],wy=Object.freeze({__proto__:null,init:()=>{const e=ad(),t=ad(),n=()=>{e.on(clearTimeout)},a=y("not-implemented");return Si({getTooltip:t.get,isShowing:t.isSet,setTooltip:t.set,clearTooltip:t.clear,clearTimer:n,resetTimer:(t,a)=>{n(),e.set(setTimeout(t,a))},readState:a})}});const yy=Tl({fields:by,name:"tooltipping",active:vy,state:wy,apis:gy}),_y="silver.readonly",Cy=La([ao("readonly",Ua)]),Dy=(e,t)=>{const n=e.mainUi.outerContainer.element,a=[e.mainUi.mothership,...e.uiMotherships];t&&U(a,(e=>{e.broadcastOn([Jc()],{target:n})})),U(a,(e=>{e.broadcastOn([_y],{readonly:t})}))},xy=(e,t)=>{e.on("init",(()=>{e.mode.isReadOnly()&&Dy(t,!0)})),e.on("SwitchMode",(()=>Dy(t,e.mode.isReadOnly()))),pv(e)&&e.mode.set("readonly")},ky=()=>Ml.config({channels:{[_y]:{schema:Cy,onReceive:(e,t)=>{Vm.set(e,t.readonly)}}}}),Ey=e=>Vm.config({disabled:e}),Sy=e=>Vm.config({disabled:e,disableClass:"tox-tbtn--disabled"}),Ay=e=>Vm.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1}),Ty=(e,t)=>{const n=e.getApi(t);return e=>{e(n)}},Oy=(e,t)=>Xs((n=>{Ty(e,n)((n=>{const a=e.onSetup(n);h(a)&&t.set(a)}))})),Ly=(e,t)=>Qs((n=>Ty(e,n)(t.get()))),Py=(e,t)=>ei(((n,a)=>{Ty(e,n)(e.onAction),e.triggersSubmenu||t!==vb.CLOSE_ON_EXECUTE||(n.getSystem().isConnected()&&Bs(n,gs()),a.stop())})),My={[ms()]:["disabling","alloy.base.behaviour","toggling","item-events"]},By=_e,Iy=(e,t,n,a)=>{const o=To(v);return{type:"item",dom:t.dom,components:By(t.optComponents),data:e.data,eventOrder:My,hasSubmenu:e.triggersSubmenu,itemBehaviours:Sl([tf("item-events",[Py(e,n),Oy(e,o),Ly(e,o)]),(s=()=>!e.enabled||a.isDisabled(),Vm.config({disabled:s,disableClass:"tox-collection__item--state-disabled"})),ky(),ef.config({})].concat(e.itemBehaviours))};var s},Ry=e=>({value:e.value,meta:{text:e.text.getOr(""),...e.meta}}),Fy=e=>{const t=dv.os.isMacOS()||dv.os.isiOS(),n=t?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},a=e.split("+"),o=V(a,(e=>{const t=e.toLowerCase().trim();return be(n,t)?n[t]:e}));return t?o.join(""):o.join("+")},Ny=(e,t,n=[Db])=>nv(e,{tag:"div",classes:n},t),Vy=e=>({dom:{tag:"div",classes:[xb]},components:[sr(Wg.translate(e))]}),Uy=(e,t)=>({dom:{tag:"div",classes:t,innerHtml:e}}),Hy=(e,t)=>({dom:{tag:"div",classes:[xb]},components:[{dom:{tag:e.tag,styles:e.styles},components:[sr(Wg.translate(t))]}]}),zy=e=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[sr(Fy(e))]}),jy=e=>Ny("checkmark",e,["tox-collection__item-checkmark"]),Zy=e=>{const t=e.map((e=>({attributes:{title:Wg.translate(e),id:di("menu-item")}}))).getOr({});return{tag:"div",classes:[bb,wb],...t}},qy=(e,t,n,a=T.none())=>"color"===e.presets?((e,t,n)=>{const a=e.ariaLabel,o=e.value,s=e.iconContent.map((e=>((e,t,n)=>{const a=t();return Qg(e,a).or(n).getOrThunk(Yg(a))})(e,t.icons,n)));return{dom:(()=>{const e=yb,n=s.getOr(""),i=a.map((e=>({title:t.translate(e)}))).getOr({}),r={tag:"div",attributes:i,classes:[e]};return"custom"===o?{...r,tag:"button",classes:[...r.classes,"tox-swatches__picker-btn"],innerHtml:n}:"remove"===o?{...r,classes:[...r.classes,"tox-swatch--remove"],innerHtml:n}:p(o)?{...r,attributes:{...r.attributes,"data-mce-color":o},styles:{"background-color":o},innerHtml:n}:r})(),optComponents:[]}})(e,t,a):((e,t,n,a)=>{const o={tag:"div",classes:[Db]},s=n?e.iconContent.map((e=>nv(e,o,t.icons,a))).orThunk((()=>T.some({dom:o}))):T.none(),i=e.checkMark,r=T.from(e.meta).fold((()=>Vy),(e=>be(e,"style")?D(Hy,e.style):Vy)),l=e.htmlContent.fold((()=>e.textContent.map(r)),(e=>T.some(Uy(e,[xb]))));return{dom:Zy(e.ariaLabel),optComponents:[s,l,e.shortcutContent.map(zy),i,e.caret]}})(e,t,n,a),$y=(e,t)=>ve(e,"tooltipWorker").map((e=>[yy.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:e=>({type:"submenu",item:e,overrides:{maxHeightFunction:pd}}),mode:"follow-highlight",onShow:(t,n)=>{e((e=>{yy.setComponents(t,[ir({element:Ne(e)})])}))}})])).getOr([]),Wy=(e,t)=>{const n=(e=>rv.DOM.encode(e))(Wg.translate(e));if(t.length>0){const e=new RegExp((e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(t),"gi");return n.replace(e,(e=>`<span class="tox-autocompleter-highlight">${e}</span>`))}return n},Ky=(e,t)=>V(e,(e=>{switch(e.type){case"cardcontainer":return((e,t)=>{const n="vertical"===e.direction?"tox-collection__item-container--column":Ab,a="left"===e.align?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[Sb,n,a,(()=>{switch(e.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:t}})(e,Ky(e.items,t));case"cardimage":return((e,t,n)=>({dom:{tag:"img",classes:t,attributes:{src:e,alt:n.getOr("")}}}))(e.src,e.classes,e.alt);case"cardtext":const n=e.name.exists((e=>I(t.cardText.highlightOn,e))),a=n?T.from(t.cardText.matchText).getOr(""):"";return Uy(Wy(e.text,a),e.classes)}})),Gy=Ju(Tf(),Of()),Yy=e=>({value:e_(e)}),Xy=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Qy=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Jy=e=>Xy.test(e)||Qy.test(e),e_=e=>Ee(e,"#").toUpperCase(),t_=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},n_=e=>{const t=t_(e.red)+t_(e.green)+t_(e.blue);return Yy(t)},a_=Math.min,o_=Math.max,s_=Math.round,i_=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,r_=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,l_=(e,t,n,a)=>({red:e,green:t,blue:n,alpha:a}),d_=e=>{const t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},c_=e=>{let t,n,a;const o=(e.hue||0)%360;let s=e.saturation/100,i=e.value/100;if(s=o_(0,a_(s,1)),i=o_(0,a_(i,1)),0===s)return t=n=a=s_(255*i),l_(t,n,a,1);const r=o/60,l=i*s,d=l*(1-Math.abs(r%2-1)),c=i-l;switch(Math.floor(r)){case 0:t=l,n=d,a=0;break;case 1:t=d,n=l,a=0;break;case 2:t=0,n=l,a=d;break;case 3:t=0,n=d,a=l;break;case 4:t=d,n=0,a=l;break;case 5:t=l,n=0,a=d;break;default:t=n=a=0}return t=s_(255*(t+c)),n=s_(255*(n+c)),a=s_(255*(a+c)),l_(t,n,a,1)},u_=e=>{const t=(e=>{const t=(e=>{const t=e.value.replace(Xy,((e,t,n,a)=>t+t+n+n+a+a));return{value:t}})(e),n=Qy.exec(t.value);return null===n?["FFFFFF","FF","FF","FF"]:n})(e),n=parseInt(t[1],16),a=parseInt(t[2],16),o=parseInt(t[3],16);return l_(n,a,o,1)},m_=(e,t,n,a)=>{const o=parseInt(e,10),s=parseInt(t,10),i=parseInt(n,10),r=parseFloat(a);return l_(o,s,i,r)},p_=e=>{if("transparent"===e)return T.some(l_(0,0,0,0));const t=i_.exec(e);if(null!==t)return T.some(m_(t[1],t[2],t[3],"1"));const n=r_.exec(e);return null!==n?T.some(m_(n[1],n[2],n[3],n[4])):T.none()},h_=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,f_=l_(255,0,0,1),g_=(e,t)=>{e.dispatch("ResizeContent",t)},v_=(e,t)=>{e.dispatch("TextColorChange",t)},b_=(e,t)=>e.dispatch("ResolveName",{name:t.nodeName.toLowerCase(),target:t}),w_=(e,t)=>()=>{e(),t()},y_=e=>C_(e,"NodeChange",(t=>{t.setEnabled(e.selection.isEditable())})),__=(e,t)=>n=>{const a=y_(e)(n),o=((e,t)=>n=>{const a=nd(),o=()=>{n.setActive(e.formatter.match(t));const o=e.formatter.formatChanged(t,n.setActive);a.set(o)};return e.initialized?o():e.once("init",o),()=>{e.off("init",o),a.clear()}})(e,t)(n);return()=>{a(),o()}},C_=(e,t,n)=>a=>{const o=()=>n(a),s=()=>{n(a),e.on(t,o)};return e.initialized?s():e.once("init",s),()=>{e.off("init",s),e.off(t,o)}},D_=e=>t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("mceToggleFormat",!1,t.format)}))},x_=(e,t)=>()=>e.execCommand(t);var k_=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const E_={},S_=e=>ve(E_,e).getOrThunk((()=>{const t=`tinymce-custom-colors-${e}`,n=k_.getItem(t);if(m(n)){const e=k_.getItem("tinymce-custom-colors");k_.setItem(t,p(e)?e:"[]")}const a=((e,t=10)=>{const n=k_.getItem(e),a=s(n)?JSON.parse(n):[],o=t-(i=a).length<0?i.slice(0,t):i;var i;const r=e=>{o.splice(e,1)};return{add:n=>{B(o,n).each(r),o.unshift(n),o.length>t&&o.pop(),k_.setItem(e,JSON.stringify(o))},state:()=>o.slice(0)}})(t,10);return E_[e]=a,a})),A_=(e,t)=>{S_(e).add(t)},T_=(e,t,n)=>({hue:e,saturation:t,value:n}),O_=e=>{let t=0,n=0,a=0;const o=e.red/255,s=e.green/255,i=e.blue/255,r=Math.min(o,Math.min(s,i)),l=Math.max(o,Math.max(s,i));return r===l?(a=r,T_(0,0,100*a)):(t=o===r?3:i===r?1:5,t=60*(t-(o===r?s-i:i===r?o-s:i-o)/(l-r)),n=(l-r)/l,a=l,T_(Math.round(t),Math.round(100*n),Math.round(100*a)))},L_=e=>n_(c_(e)),P_=e=>{return(t=e,Jy(t)?T.some({value:e_(t)}):T.none()).orThunk((()=>p_(e).map(n_))).getOrThunk((()=>{const t=document.createElement("canvas");t.height=1,t.width=1;const n=t.getContext("2d");n.clearRect(0,0,t.width,t.height),n.fillStyle="#FFFFFF",n.fillStyle=e,n.fillRect(0,0,1,1);const a=n.getImageData(0,0,1,1).data,o=a[0],s=a[1],i=a[2],r=a[3];return n_(l_(o,s,i,r))}));var t},M_="forecolor",B_="hilitecolor",I_=e=>{const t=[];for(let n=0;n<e.length;n+=2)t.push({text:e[n+1],value:"#"+P_(e[n]).value,icon:"checkmark",type:"choiceitem"});return t},R_=e=>t=>t.options.get(e),F_="#000000",N_=(e,t)=>t===M_&&e.options.isSet("color_map_foreground")?R_("color_map_foreground")(e):t===B_&&e.options.isSet("color_map_background")?R_("color_map_background")(e):R_("color_map")(e),V_=(e,t="default")=>Math.max(5,Math.ceil(Math.sqrt(N_(e,t).length))),U_=(e,t)=>{const n=R_("color_cols")(e),a=V_(e,t);return n===V_(e)?a:n},H_=(e,t="default")=>Math.round(t===M_?R_("color_cols_foreground")(e):t===B_?R_("color_cols_background")(e):R_("color_cols")(e)),z_=R_("custom_colors"),j_=R_("color_default_foreground"),Z_=R_("color_default_background"),q_=(e,t)=>{const n=Ne(e.selection.getStart()),a="hilitecolor"===t?Io(n,(e=>{if($e(e)){const t=It(e,"background-color");return xe(p_(t).exists((e=>0!==e.alpha)),t)}return T.none()})).getOr("rgba(0, 0, 0, 0)"):It(n,"color");return p_(a).map((e=>"#"+n_(e).value))},$_=e=>{const t="choiceitem",n={type:t,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return e?[n,{type:t,text:"Custom color",icon:"color-picker",value:"custom"}]:[n]},W_=(e,t,n,a)=>{"custom"===n?nC(e)((n=>{n.each((n=>{A_(t,n),e.execCommand("mceApplyTextcolor",t,n),a(n)}))}),q_(e,t).getOr(F_)):"remove"===n?(a(""),e.execCommand("mceRemoveTextcolor",t)):(a(n),e.execCommand("mceApplyTextcolor",t,n))},K_=(e,t,n)=>e.concat((e=>V(S_(e).state(),(e=>({type:"choiceitem",text:e,icon:"checkmark",value:e}))))(t).concat($_(n))),G_=(e,t,n)=>a=>{a(K_(e,t,n))},Y_=(e,t,n)=>{const a="forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";e.setIconFill(a,n)},X_=(e,t)=>{e.setTooltip(t)},Q_=(e,t)=>n=>{const a=q_(e,t);return ye(a,n.toUpperCase())},J_=(e,t,n)=>{if(Pe(n))return"forecolor"===t?"Text color":"Background color";const a="forecolor"===t?"Text color {0}":"Background color {0}",o=K_(N_(e,t),t,!1),s=q(o,(e=>e.value===n)).getOr({text:""}).text;return e.translate([a,e.translate(s)])},eC=(e,t,n,a)=>{e.ui.registry.addSplitButton(t,{tooltip:J_(e,n,a.get()),presets:"color",icon:"forecolor"===t?"text-color":"highlight-bg-color",select:Q_(e,n),columns:H_(e,n),fetch:G_(N_(e,n),n,z_(e)),onAction:t=>{W_(e,n,a.get(),v)},onItemAction:(o,s)=>{W_(e,n,s,(n=>{a.set(n),v_(e,{name:t,color:n})}))},onSetup:o=>{Y_(o,t,a.get());const s=a=>{a.name===t&&(Y_(o,a.name,a.color),X_(o,J_(e,n,a.color)))};return e.on("TextColorChange",s),w_(y_(e)(o),(()=>{e.off("TextColorChange",s)}))}})},tC=(e,t,n,a,o)=>{e.ui.registry.addNestedMenuItem(t,{text:a,icon:"forecolor"===t?"text-color":"highlight-bg-color",onSetup:a=>(X_(a,J_(e,n,o.get())),Y_(a,t,o.get()),y_(e)(a)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:Q_(e,n),initData:{storageKey:n},onAction:a=>{W_(e,n,a.value,(n=>{o.set(n),v_(e,{name:t,color:n})}))}}]})},nC=e=>(t,n)=>{let a=!1;const o={colorpicker:n};e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onAction:(e,t)=>{"hex-valid"===t.name&&(a=t.value)},onSubmit:n=>{const o=n.getData().colorpicker;a?(t(T.from(o)),n.close()):e.windowManager.alert(e.translate(["Invalid hex color code: {0}",o]))},onClose:v,onCancel:()=>{t(T.none())}})},aC=(e,t,n,a,o,s,i,r)=>{const l=ew(t),d=oC(t,n,a,"color"!==o?"normal":"color",s,i,r);return aw(e,l,d,a,{menuType:o})},oC=(e,t,n,a,o,s,i)=>_e(V(e,(r=>{return"choiceitem"===r.type?(l=r,Wa("choicemenuitem",ny,l)).fold(tw,(r=>T.some(((e,t,n,a,o,s,i,r=!0)=>{const l=qy({presets:n,textContent:t?e.text:T.none(),htmlContent:T.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:T.none(),checkMark:t?T.some(jy(i.icons)):T.none(),caret:T.none(),value:e.value},i,r);return ga(Iy({data:Ry(e),enabled:e.enabled,getApi:e=>({setActive:t=>{ff.set(e,t)},isActive:()=>ff.isOn(e),isEnabled:()=>!Vm.isDisabled(e),setEnabled:t=>Vm.set(e,!t)}),onAction:t=>a(e.value),onSetup:e=>(e.setActive(o),v),triggersSubmenu:!1,itemBehaviours:[]},l,s,i),{toggling:{toggleClass:Cb,toggleOnExecute:!1,selected:e.active,exclusive:!0}})})(r,1===n,a,t,s(r.value),o,i,ew(e))))):T.none();var l}))),sC=(e,t)=>{const n=Pb(t);return 1===e?{mode:"menu",moveOnTab:!0}:"auto"===e?{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+("color"===t?"tox-swatches__row":"tox-collection__group"),previousSelector:e=>"color"===t?br(e.element,"[aria-checked=true]"):T.none()}},iC=di("cell-over"),rC=di("cell-execute"),lC=(e,t,n)=>{const a=n=>Is(n,rC,{row:e,col:t}),o=(e,t)=>{t.stop(),a(e)};return dr({dom:{tag:"div",attributes:{role:"button","aria-label":n}},behaviours:Sl([tf("insert-table-picker-cell",[js(Ko(),rf.focus),js(ms(),a),js(ts(),o),js(hs(),o)]),ff.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),rf.config({onFocus:n=>Is(n,iC,{row:e,col:t})})])})},dC=e=>K(e,(e=>V(e,cr))),cC=(e,t)=>sr(`${t}x${e}`),uC={inserttable:(e,t)=>{const n=(e=>(t,n)=>e.shared.providers.translate(["{0} columns, {1} rows",n,t]))(t),a=((e,t,n)=>{const a=[];for(let o=0;o<10;o++){const t=[];for(let n=0;n<10;n++){const a=e(o+1,n+1);t.push(lC(o,n,a))}a.push(t)}return a})(n),o=cC(0,0),s=Yf({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[o],behaviours:Sl([ef.config({})])});return{type:"widget",data:{value:di("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Gy.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:dC(a).concat(s.asSpec()),behaviours:Sl([tf("insert-table-picker",[Xs((e=>{ef.set(s.get(e),[o])})),Ws(iC,((e,t,n)=>{const{row:o,col:i}=n.event;((e,t,n,a,o)=>{for(let s=0;s<10;s++)for(let a=0;a<10;a++)ff.set(e[s][a],s<=t&&a<=n)})(a,o,i),ef.set(s.get(e),[cC(o+1,i+1)])})),Ws(rC,((t,n,a)=>{const{row:o,col:s}=a.event;e.onAction({numRows:o+1,numColumns:s+1}),Bs(t,gs())}))]),qh.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(e,t)=>{const n=((e,t)=>{const n=e.initData.allowCustomColors&&t.colorinput.hasCustomColors();return e.initData.colors.fold((()=>K_(t.colorinput.getColors(e.initData.storageKey),e.initData.storageKey,n)),(e=>e.concat($_(n))))})(e,t),a=t.colorinput.getColorCols(e.initData.storageKey),o="color",s={...aC(di("menu-value"),n,(t=>{e.onAction({value:t})}),a,o,vb.CLOSE_ON_EXECUTE,e.select.getOr(S),t.shared.providers),markers:Pb(o),movement:sC(a,o)};return{type:"widget",data:{value:di("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Gy.widget(Rf.sketch(s))]}}},mC=e=>({type:"separator",dom:{tag:"div",classes:[wb,"tox-collection__group-heading"]},components:e.text.map(sr).toArray()});var pC=Object.freeze({__proto__:null,getCoupled:(e,t,n,a)=>n.getOrCreate(e,t,a),getExistingCoupled:(e,t,n,a)=>n.getExisting(e,t,a)}),hC=[ao("others",$a(sa.value,Ra()))],fC=Object.freeze({__proto__:null,init:()=>{const e={},t=(t,n)=>{if(0===ie(t.others).length)throw new Error("Cannot find any known coupled components");return ve(e,n)},n=y({});return Si({readState:n,getExisting:(e,n,a)=>t(n,a).orThunk((()=>(ve(n.others,a).getOrDie("No information found for coupled component: "+a),T.none()))),getOrCreate:(n,a,o)=>t(a,o).getOrThunk((()=>{const t=ve(a.others,o).getOrDie("No information found for coupled component: "+o)(n),s=n.getSystem().build(t);return e[o]=s,s}))})}});const gC=Tl({fields:hC,name:"coupling",apis:pC,state:fC}),vC=e=>{let t=T.none(),n=[];const a=e=>{o()?s(e):n.push(e)},o=()=>t.isSome(),s=e=>{t.each((t=>{setTimeout((()=>{e(t)}),0)}))};return e((e=>{o()||(t=T.some(e),U(n,s),n=[])})),{get:a,map:e=>vC((t=>{a((n=>{t(e(n))}))})),isReady:o}},bC={nu:vC,pure:e=>vC((t=>{t(e)}))},wC=e=>{setTimeout((()=>{throw e}),0)},yC=e=>{const t=t=>{e().then(t,wC)};return{map:t=>yC((()=>e().then(t))),bind:t=>yC((()=>e().then((e=>t(e).toPromise())))),anonBind:t=>yC((()=>e().then((()=>t.toPromise())))),toLazy:()=>bC.nu(t),toCached:()=>{let t=null;return yC((()=>(null===t&&(t=e()),t)))},toPromise:e,get:t}},_C=e=>yC((()=>new Promise(e))),CC=e=>yC((()=>Promise.resolve(e))),DC=y("sink"),xC=y(Ku({name:DC(),overrides:y({dom:{tag:"div"},behaviours:Sl([Ec.config({useFixed:A})]),events:Us([Ks(Xo()),Ks(Zo()),Ks(ts())])})})),kC=(e,t)=>{const n=e.getHotspot(t).getOr(t),a="hotspot",o=e.getAnchorOverrides();return e.layouts.fold((()=>({type:a,hotspot:n,overrides:o})),(e=>({type:a,hotspot:n,overrides:o,layouts:e})))},EC=(e,t,n,a,o,s,i)=>{const r=((e,t,n,a,o,s,i)=>{const r=((e,t,n)=>(0,e.fetch)(n).map(t))(e,t,a),l=TC(a,e);return r.map((e=>e.bind((e=>T.from(qf.sketch({...s.menu(),uid:gi(""),data:e,highlightOnOpen:i,onOpenMenu:(e,t)=>{const a=l().getOrDie();Ec.position(a,t,{anchor:n}),Qc.decloak(o)},onOpenSubmenu:(e,t,n)=>{const a=l().getOrDie();Ec.position(a,n,{anchor:{type:"submenu",item:t}}),Qc.decloak(o)},onRepositionMenu:(e,t,a)=>{const o=l().getOrDie();Ec.position(o,t,{anchor:n}),U(a,(e=>{Ec.position(o,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem}})}))},onEscape:()=>(rf.focus(a),Qc.close(o),T.some(!0))}))))))})(e,t,kC(e,n),n,a,o,i);return r.map((e=>(e.fold((()=>{Qc.isOpen(a)&&Qc.close(a)}),(e=>{Qc.cloak(a),Qc.open(a,e),s(a)})),a)))},SC=(e,t,n,a,o,s,i)=>(Qc.close(a),CC(a)),AC=(e,t,n,a,o,s)=>{const i=gC.getCoupled(n,"sandbox");return(Qc.isOpen(i)?SC:EC)(e,t,n,i,a,o,s)},TC=(e,t)=>e.getSystem().getByUid(t.uid+"-"+DC()).map((e=>()=>sa.value(e))).getOrThunk((()=>t.lazySink.fold((()=>()=>sa.error(new Error("No internal sink is specified, nor could an external sink be found"))),(t=>()=>t(e))))),OC=e=>{Qc.getState(e).each((e=>{qf.repositionMenus(e)}))},LC=(e,t,n)=>{const a=_r(),o=TC(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:a.id,role:"listbox"}},behaviours:Du(e.sandboxBehaviours,[bu.config({store:{mode:"memory",initialValue:t}}),Qc.config({onOpen:(o,s)=>{const i=kC(e,t);a.link(t.element),e.matchWidth&&((e,t,n)=>{const a=km.getCurrent(t).getOr(t),o=Qt(e.element);n?Pt(a.element,"min-width",o+"px"):((e,t)=>{Xt.set(e,t)})(a.element,o)})(i.hotspot,s,e.useMinWidth),e.onOpen(i,o,s),void 0!==n&&void 0!==n.onOpen&&n.onOpen(o,s)},onClose:(e,o)=>{a.unlink(t.element),void 0!==n&&void 0!==n.onClose&&n.onClose(e,o)},isPartOf:(e,n,a)=>Cr(n,a)||Cr(t,a),getAttachPoint:()=>o().getOrDie()}),km.config({find:e=>Qc.getState(e).bind((e=>km.getCurrent(e)))}),Ml.config({channels:{...au({isExtraPart:S}),...su({doReposition:OC})}})])}},PC=e=>{const t=gC.getCoupled(e,"sandbox");OC(t)},MC=()=>[yo("sandboxClasses",[]),Cu("sandboxBehaviours",[km,Ml,Qc,bu])],BC=y([no("dom"),no("fetch"),Ir("onOpen"),Rr("onExecute"),yo("getHotspot",T.some),yo("getAnchorOverrides",y({})),kd(),wu("dropdownBehaviours",[ff,gC,qh,rf]),no("toggleClass"),yo("eventOrder",{}),mo("lazySink"),yo("matchWidth",!1),yo("useMinWidth",!1),mo("role")].concat(MC())),IC=y([Wu({schema:[Pr(),yo("fakeFocus",!1)],name:"menu",defaults:e=>({onExecute:e.onExecute})}),xC()]),RC=_m({name:"Dropdown",configFields:BC(),partFields:IC(),factory:(e,t,n,a)=>{const o=e=>{Qc.getState(e).each((e=>{qf.highlightPrimary(e)}))},s=(t,n,o)=>AC(e,_,t,a,n,o),i={expand:e=>{ff.isOn(e)||s(e,v,jf.HighlightNone).get(v)},open:e=>{ff.isOn(e)||s(e,v,jf.HighlightMenuAndItem).get(v)},refetch:t=>gC.getExistingCoupled(t,"sandbox").fold((()=>s(t,v,jf.HighlightMenuAndItem).map(v)),(n=>EC(e,_,t,n,a,v,jf.HighlightMenuAndItem).map(v))),isOpen:ff.isOn,close:e=>{ff.isOn(e)&&s(e,v,jf.HighlightMenuAndItem).get(v)},repositionMenus:e=>{ff.isOn(e)&&PC(e)}},r=(e,t)=>(Rs(e),T.some(!0));return{uid:e.uid,dom:e.dom,components:t,behaviours:_u(e.dropdownBehaviours,[ff.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),gC.config({others:{sandbox:t=>LC(e,t,{onOpen:()=>ff.on(t),onClose:()=>ff.off(t)})}}),qh.config({mode:"special",onSpace:r,onEnter:r,onDown:(e,t)=>{if(RC.isOpen(e)){const t=gC.getCoupled(e,"sandbox");o(t)}else RC.open(e);return T.some(!0)},onEscape:(e,t)=>RC.isOpen(e)?(RC.close(e),T.some(!0)):T.none()}),rf.config({})]),events:vf(T.some((e=>{s(e,o,jf.HighlightMenuAndItem).get(v)}))),eventOrder:{...e.eventOrder,[ms()]:["disabling","toggling","alloy.base.behaviour"]},apis:i,domModification:{attributes:{"aria-haspopup":"true",...e.role.fold((()=>({})),(e=>({role:e}))),..."button"===e.dom.tag?{type:ve(e.dom,"attributes").bind((e=>ve(e,"type"))).getOr("button")}:{}}}}},apis:{open:(e,t)=>e.open(t),refetch:(e,t)=>e.refetch(t),expand:(e,t)=>e.expand(t),close:(e,t)=>e.close(t),isOpen:(e,t)=>e.isOpen(t),repositionMenus:(e,t)=>e.repositionMenus(t)}}),FC=(e,t,n)=>{qb(e).each((e=>{var a;((e,t)=>{St(t.element,"id").each((t=>xt(e.element,"aria-activedescendant",t)))})(e,n),($i((a=t).element,Kb)?T.some(a.element):br(a.element,"."+Kb)).each((t=>{St(t,"id").each((t=>xt(e.element,"aria-controls",t)))}))})),xt(n.element,"aria-selected","true")},NC=(e,t,n)=>{xt(n.element,"aria-selected","false")},VC=e=>gC.getExistingCoupled(e,"sandbox").bind(Zb).map($b).map((e=>e.fetchPattern)).getOr("");var UC;!function(e){e[e.ContentFocus=0]="ContentFocus",e[e.UiFocus=1]="UiFocus"}(UC||(UC={}));const HC=(e,t,n,a,o)=>{const s=n.shared.providers,i=e=>o?{...e,shortcut:T.none(),icon:e.text.isSome()?T.none():e.icon}:e;switch(e.type){case"menuitem":return(r=e,Wa("menuitem",ry,r)).fold(tw,(e=>T.some(((e,t,n,a=!0)=>{const o=qy({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:T.none(),ariaLabel:e.text,caret:T.none(),checkMark:T.none(),shortcutContent:e.shortcut},n,a);return Iy({data:Ry(e),getApi:e=>({isEnabled:()=>!Vm.isDisabled(e),setEnabled:t=>Vm.set(e,!t)}),enabled:e.enabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},o,t,n)})(i(e),t,s,a))));case"nestedmenuitem":return(e=>Wa("nestedmenuitem",ly,e))(e).fold(tw,(e=>T.some(((e,t,n,a=!0,o=!1)=>{const s=o?(i=n.icons,Ny("chevron-down",i,[kb])):(e=>Ny("chevron-right",e,[kb]))(n.icons);var i;const r=qy({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:T.none(),ariaLabel:e.text,caret:T.some(s),checkMark:T.none(),shortcutContent:e.shortcut},n,a);return Iy({data:Ry(e),getApi:e=>({isEnabled:()=>!Vm.isDisabled(e),setEnabled:t=>Vm.set(e,!t),setIconFill:(t,n)=>{br(e.element,`svg path[class="${t}"], rect[class="${t}"]`).each((e=>{xt(e,"fill",n)}))},setTooltip:t=>{const a=n.translate(t);kt(e.element,{"aria-label":a,title:a})}}),enabled:e.enabled,onAction:v,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},r,t,n)})(i(e),t,s,a,o))));case"togglemenuitem":return(e=>Wa("togglemenuitem",dy,e))(e).fold(tw,(e=>T.some(((e,t,n,a=!0)=>{const o=qy({iconContent:e.icon,textContent:e.text,htmlContent:T.none(),ariaLabel:e.text,checkMark:T.some(jy(n.icons)),caret:T.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},n,a);return ga(Iy({data:Ry(e),enabled:e.enabled,getApi:e=>({setActive:t=>{ff.set(e,t)},isActive:()=>ff.isOn(e),isEnabled:()=>!Vm.isDisabled(e),setEnabled:t=>Vm.set(e,!t)}),onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},o,t,n),{toggling:{toggleClass:Cb,toggleOnExecute:!1,selected:e.active}})})(i(e),t,s,a))));case"separator":return(e=>Wa("separatormenuitem",Pw,e))(e).fold(tw,(e=>T.some(mC(e))));case"fancymenuitem":return(e=>Wa("fancymenuitem",iy,e))(e).fold(tw,(e=>((e,t)=>ve(uC,e.fancytype).map((n=>n(e,t))))(e,n)));default:return console.error("Unknown item in general menu",e),T.none()}var r},zC=(e,t,n,a,o,s,i)=>{const r=1===a,l=!r||ew(e);return _e(V(e,(e=>{switch(e.type){case"separator":return(a=e,Wa("Autocompleter.Separator",Pw,a)).fold(tw,(e=>T.some(mC(e))));case"cardmenuitem":return(e=>Wa("cardmenuitem",ty,e))(e).fold(tw,(e=>T.some(((e,t,n,a)=>{const o={dom:Zy(e.label),optComponents:[T.some({dom:{tag:"div",classes:[Sb,Ab]},components:Ky(e.items,a)})]};return Iy({data:Ry({text:T.none(),...e}),enabled:e.enabled,getApi:e=>({isEnabled:()=>!Vm.isDisabled(e),setEnabled:t=>{Vm.set(e,!t),U(Qd(e.element,"*"),(n=>{e.getSystem().getByDom(n).each((e=>{e.hasConfigured(Vm)&&Vm.set(e,!t)}))}))}}),onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:T.from(a.itemBehaviours).getOr([])},o,t,n.providers)})({...e,onAction:t=>{e.onAction(t),n(e.value,e.meta)}},o,s,{itemBehaviours:$y(e.meta,s),cardText:{matchText:t,highlightOn:i}}))));default:return(e=>Wa("Autocompleter.Item",Mw,e))(e).fold(tw,(e=>T.some(((e,t,n,a,o,s,i,r=!0)=>{const l=qy({presets:a,textContent:T.none(),htmlContent:n?e.text.map((e=>Wy(e,t))):T.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:T.none(),checkMark:T.none(),caret:T.none(),value:e.value},i.providers,r,e.icon);return Iy({data:Ry(e),enabled:e.enabled,getApi:y({}),onAction:t=>o(e.value,e.meta),onSetup:y(v),triggersSubmenu:!1,itemBehaviours:$y(e.meta,i)},l,s,i.providers)})(e,t,r,"normal",n,o,s,l))))}var a})))},jC=(e,t,n,a,o,s)=>{const i=ew(t),r=_e(V(t,(e=>{const t=e=>HC(e,n,a,(e=>o?!be(e,"text"):i)(e),o);return"nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?t({...e,enabled:!1}):t(e)}))),l=(e=>"no-search"===e.searchMode?{menuType:"normal"}:{menuType:"searchable",searchMode:e})(s);return(o?nw:aw)(e,i,r,1,l)},ZC=e=>qf.singleData(e.value,e),qC=(e,t)=>{const n=di("autocompleter"),a=To(!1),o=To(!1),s=dr($f.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:n}},components:[],fireDismissalEventInstead:{},inlineBehaviours:Sl([tf("dismissAutocompleter",[js(ks(),(()=>c())),js(Ps(),((t,n)=>{St(n.event.target,"id").each((t=>xt(Ne(e.getBody()),"aria-activedescendant",t)))}))])]),lazySink:t.getSink})),i=()=>$f.isOpen(s),r=o.get,l=()=>{if(i()){$f.hide(s),e.dom.remove(n,!1);const t=Ne(e.getBody());St(t,"aria-owns").filter((e=>e===n)).each((()=>{Tt(t,"aria-owns"),Tt(t,"aria-activedescendant")}))}},d=()=>$f.getContent(s).bind((e=>te(e.components(),0))),c=()=>e.execCommand("mceAutocompleterClose"),u=o=>{const i=(n=>{const o=se(n,(e=>T.from(e.columns))).getOr(1);return K(n,(n=>{const s=n.items;return zC(s,n.matchText,((t,o)=>{const s=e.selection.getRng();((e,t)=>fb(Ne(t.startContainer)).map((t=>{const n=e.createRng();return n.selectNode(t.dom),n})))(e.dom,s).each((s=>{const i={hide:()=>c(),reload:t=>{l(),e.execCommand("mceAutocompleterReload",!1,{fetchOptions:t})}};a.set(!0),n.onAction(i,s,t,o),a.set(!1)}))}),o,vb.BUBBLE_TO_SANDBOX,t,n.highlightOn)}))})(o);i.length>0?(((t,n)=>{var a;(a=Ne(e.getBody()),br(a,hb)).each((a=>{const o=se(t,(e=>T.from(e.columns))).getOr(1);$f.showMenuAt(s,{anchor:{type:"node",root:Ne(e.getBody()),node:T.from(a)}},((e,t,n,a)=>{const o=sC(t,a),s=Pb(a);return{data:ZC({...e,movement:o,menuBehaviours:uy("auto"!==t?[]:[Xs(((e,t)=>{cy(e,4,s.item).each((({numColumns:t,numRows:n})=>{qh.setGridSize(e,n,t)}))}))])}),menu:{markers:Pb(a),fakeFocus:n===UC.ContentFocus}}})(aw("autocompleter-value",!0,n,o,{menuType:"normal"}),o,UC.ContentFocus,"normal"))})),d().each(Gm.highlightFirst)})(o,i),xt(Ne(e.getBody()),"aria-owns",n),e.inline||m()):l()},m=()=>{e.dom.get(n)&&e.dom.remove(n,!1);const t=e.getDoc().documentElement,a=e.selection.getNode(),o=(e=>ai(e,!0))(s.element);Mt(o,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${a.offsetTop}px`,left:`${a.offsetLeft}px`}),e.dom.add(t,o.dom),br(o,'[role="menu"]').each((e=>{Ut(e,"position"),Ut(e,"max-height")}))};e.on("AutocompleterStart",(({lookupData:e})=>{o.set(!0),a.set(!1),u(e)})),e.on("AutocompleterUpdate",(({lookupData:e})=>u(e))),e.on("AutocompleterEnd",(()=>{l(),o.set(!1),a.set(!1)})),((e,t)=>{const n=(e,t)=>{Is(e,Xo(),{raw:t})},a=()=>e.getMenu().bind(Gm.getHighlighted);t.on("keydown",(t=>{const o=t.which;e.isActive()&&(e.isMenuOpen()?13===o?(a().each(Rs),t.preventDefault()):40===o?(a().fold((()=>{e.getMenu().each(Gm.highlightFirst)}),(e=>{n(e,t)})),t.preventDefault(),t.stopImmediatePropagation()):37!==o&&38!==o&&39!==o||a().each((e=>{n(e,t),t.preventDefault(),t.stopImmediatePropagation()})):13!==o&&38!==o&&40!==o||e.cancelIfNecessary())})),t.on("NodeChange",(t=>{e.isActive()&&!e.isProcessingAction()&&fb(Ne(t.element)).isNone()&&e.cancelIfNecessary()}))})({cancelIfNecessary:c,isMenuOpen:i,isActive:r,isProcessingAction:a.get,getMenu:d},e)},$C=["visible","hidden","clip"],WC=e=>Oe(e).length>0&&!I($C,e),KC=e=>{if(qe(e)){const t=It(e,"overflow-x"),n=It(e,"overflow-y");return WC(t)||WC(n)}return!1},GC=(e,t)=>ub(e)?(e=>{const t=Xd(e,KC),n=0===t.length?bt(e).map(wt).map((e=>Xd(e,KC))).getOr([]):t;return ne(n).map((e=>({element:e,others:n.slice(1)})))})(t):T.none(),YC=e=>{const t=[...V(e.others,Qn),ta()];return((e,t)=>Z(t,((e,t)=>ea(e,t)),e))(Qn(e.element),t)},XC=(e,t,n)=>wr(e,t,n).isSome(),QC=(e,t)=>{let n=null;return{cancel:()=>{null!==n&&(clearTimeout(n),n=null)},schedule:(...a)=>{n=setTimeout((()=>{e.apply(null,a),n=null}),t)}}},JC=e=>{const t=e.raw;return void 0===t.touches||1!==t.touches.length?T.none():T.some(t.touches[0])},eD=(e,t)=>{const n={stopBackspace:!0,...t},a=(e=>{const t=ad(),n=To(!1),a=QC((t=>{e.triggerEvent(fs(),t),n.set(!0)}),400),o=Po([{key:Uo(),value:e=>(JC(e).each((o=>{a.cancel();const s={x:o.clientX,y:o.clientY,target:e.target};a.schedule(e),n.set(!1),t.set(s)})),T.none())},{key:Ho(),value:e=>(a.cancel(),JC(e).each((e=>{t.on((n=>{((e,t)=>{const n=Math.abs(e.clientX-t.x),a=Math.abs(e.clientY-t.y);return n>5||a>5})(e,n)&&t.clear()}))})),T.none())},{key:zo(),value:o=>(a.cancel(),t.get().filter((e=>Je(e.target,o.target))).map((t=>n.get()?(o.prevent(),!1):e.triggerEvent(hs(),o))))}]);return{fireIfReady:(e,t)=>ve(o,t).bind((t=>t(e)))}})(n),o=V(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(t=>sd(e,t,(e=>{a.fireIfReady(e,t).each((t=>{t&&e.kill()})),n.triggerEvent(t,e)&&e.kill()})))),s=ad(),i=sd(e,"paste",(e=>{a.fireIfReady(e,"paste").each((t=>{t&&e.kill()})),n.triggerEvent("paste",e)&&e.kill(),s.set(setTimeout((()=>{n.triggerEvent(cs(),e)}),0))})),r=sd(e,"keydown",(e=>{n.triggerEvent("keydown",e)?e.kill():n.stopBackspace&&(e=>e.raw.which===Ym[0]&&!I(["input","textarea"],je(e.target))&&!XC(e.target,'[contenteditable="true"]'))(e)&&e.prevent()})),l=sd(e,"focusin",(e=>{n.triggerEvent("focusin",e)&&e.kill()})),d=ad(),c=sd(e,"focusout",(e=>{n.triggerEvent("focusout",e)&&e.kill(),d.set(setTimeout((()=>{n.triggerEvent(ds(),e)}),0))}));return{unbind:()=>{U(o,(e=>{e.unbind()})),r.unbind(),l.unbind(),c.unbind(),i.unbind(),s.on(clearTimeout),d.on(clearTimeout)}}},tD=(e,t)=>{const n=ve(e,"target").getOr(t);return To(n)},nD=Oo([{stopped:[]},{resume:["element"]},{complete:[]}]),aD=(e,t,n,a,o,s)=>{const i=e(t,a),r=((e,t)=>{const n=To(!1),a=To(!1);return{stop:()=>{n.set(!0)},cut:()=>{a.set(!0)},isStopped:n.get,isCut:a.get,event:e,setSource:t.set,getSource:t.get}})(n,o);return i.fold((()=>(s.logEventNoHandlers(t,a),nD.complete())),(e=>{const n=e.descHandler;return Oi(n)(r),r.isStopped()?(s.logEventStopped(t,e.element,n.purpose),nD.stopped()):r.isCut()?(s.logEventCut(t,e.element,n.purpose),nD.complete()):st(e.element).fold((()=>(s.logNoParent(t,e.element,n.purpose),nD.complete())),(a=>(s.logEventResponse(t,e.element,n.purpose),nD.resume(a))))}))},oD=(e,t,n,a,o,s)=>aD(e,t,n,a,o,s).fold(A,(a=>oD(e,t,n,a,o,s)),S),sD=(e,t,n,a,o)=>{const s=tD(n,a);return oD(e,t,n,a,s,o)},iD=()=>{const e=(()=>{const e={};return{registerId:(t,n,a)=>{le(a,((a,o)=>{const s=void 0!==e[o]?e[o]:{};s[n]=((e,t)=>({cHandler:D.apply(void 0,[e.handler].concat(t)),purpose:e.purpose}))(a,t),e[o]=s}))},unregisterId:t=>{le(e,((e,n)=>{be(e,t)&&delete e[t]}))},filterByType:t=>ve(e,t).map((e=>he(e,((e,t)=>((e,t)=>({id:e,descHandler:t}))(t,e))))).getOr([]),find:(t,n,a)=>ve(e,n).bind((e=>Io(a,(t=>((e,t)=>fi(t).bind((t=>ve(e,t))).map((e=>((e,t)=>({element:e,descHandler:t}))(t,e))))(e,t)),t)))}})(),t={},n=n=>{fi(n.element).each((n=>{delete t[n],e.unregisterId(n)}))};return{find:(t,n,a)=>e.find(t,n,a),filter:t=>e.filterByType(t),register:a=>{const o=(e=>{const t=e.element;return fi(t).getOrThunk((()=>((e,t)=>{const n=di(mi+"uid-");return hi(t,n),n})(0,e.element)))})(a);we(t,o)&&((e,a)=>{const o=t[a];if(o!==e)throw new Error('The tagId "'+a+'" is already used by: '+oi(o.element)+"\nCannot use it for: "+oi(e.element)+"\nThe conflicting element is"+(yt(o.element)?" ":" not ")+"already in the DOM");n(e)})(a,o);const s=[a];e.registerId(s,o,a.events),t[o]=a},unregister:n,getById:e=>ve(t,e)}},rD=ym({name:"Container",factory:e=>{const{attributes:t,...n}=e.dom;return{uid:e.uid,dom:{tag:"div",attributes:{role:"presentation",...t},...n},components:e.components,behaviours:yu(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[yo("components",[]),wu("containerBehaviours",[]),yo("events",{}),yo("domModification",{}),yo("eventOrder",{})]}),lD=e=>{const t=t=>st(e.element).fold(A,(e=>Je(t,e))),n=iD(),a=(e,a)=>n.find(t,e,a),o=eD(e.element,{triggerEvent:(e,t)=>Er(e,t.target,(n=>((e,t,n,a)=>sD(e,t,n,n.target,a))(a,e,t,n)))}),s={debugInfo:y("real"),triggerEvent:(e,t,n)=>{Er(e,t,(o=>sD(a,e,n,t,o)))},triggerFocus:(e,t)=>{fi(e).fold((()=>{Il(e)}),(n=>{Er(ls(),e,(n=>(((e,t,n,a,o)=>{const s=tD(n,a);aD(e,t,n,a,s,o)})(a,ls(),{originator:t,kill:v,prevent:v,target:e},e,n),!1)))}))},triggerEscape:(e,t)=>{s.triggerEvent("keydown",e.element,t.event)},getByUid:e=>h(e),getByDom:e=>f(e),build:dr,buildOrPatch:lr,addToGui:e=>{l(e)},removeFromGui:e=>{d(e)},addToWorld:e=>{i(e)},removeFromWorld:e=>{r(e)},broadcast:e=>{u(e)},broadcastOn:(e,t)=>{m(e,t)},broadcastEvent:(e,t)=>{p(e,t)},isConnected:A},i=e=>{e.connect(s),We(e.element)||(n.register(e),U(e.components(),i),s.triggerEvent(bs(),e.element,{target:e.element}))},r=e=>{We(e.element)||(U(e.components(),r),n.unregister(e)),e.disconnect()},l=t=>{Mc(e,t)},d=e=>{Rc(e)},c=e=>{const t=n.filter(us());U(t,(t=>{const n=t.descHandler;Oi(n)(e)}))},u=e=>{c({universal:!0,data:e})},m=(e,t)=>{c({universal:!1,channels:e,data:t})},p=(e,t)=>((e,t,n)=>{const a=(e=>{const t=To(!1);return{stop:()=>{t.set(!0)},cut:v,isStopped:t.get,isCut:S,event:e,setSource:k("Cannot set source of a broadcasted event"),getSource:k("Cannot get source of a broadcasted event")}})(t);return U(e,(e=>{const t=e.descHandler;Oi(t)(a)})),a.isStopped()})(n.filter(e),t),h=e=>n.getById(e).fold((()=>sa.error(new Error('Could not find component with uid: "'+e+'" in system.'))),sa.value),f=e=>{const t=fi(e).getOr("not found");return h(t)};return i(e),{root:e,element:e.element,destroy:()=>{o.unbind(),zn(e.element)},add:l,remove:d,getByUid:h,getByDom:f,addToWorld:i,removeFromWorld:r,broadcast:u,broadcastOn:m,broadcastEvent:p}},dD=y([yo("prefix","form-field"),wu("fieldBehaviours",[km,bu])]),cD=y([Ku({schema:[no("dom")],name:"label"}),Ku({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[no("text")],name:"aria-descriptor"}),$u({factory:{sketch:e=>{const t=((e,t)=>{const n={};return le(e,((e,a)=>{I(t,a)||(n[a]=e)})),n})(e,["factory"]);return e.factory.sketch(t)}},schema:[no("factory")],name:"field"})]),uD=_m({name:"FormField",configFields:dD(),partFields:cD(),factory:(e,t,n,a)=>{const o=_u(e.fieldBehaviours,[km.config({find:t=>im(t,e,"field")}),bu.config({store:{mode:"manual",getValue:e=>km.getCurrent(e).bind(bu.getValue),setValue:(e,t)=>{km.getCurrent(e).each((e=>{bu.setValue(e,t)}))}}})]),s=Us([Xs(((t,n)=>{const a=lm(t,e,["label","field","aria-descriptor"]);a.field().each((t=>{const n=di(e.prefix);a.label().each((e=>{xt(e.element,"for",n),xt(t.element,"id",n)})),a["aria-descriptor"]().each((n=>{const a=di(e.prefix);xt(n.element,"id",a),xt(t.element,"aria-describedby",a)}))}))}))]),i={getField:t=>im(t,e,"field"),getLabel:t=>im(t,e,"label")};return{uid:e.uid,dom:e.dom,components:t,behaviours:o,events:s,apis:i}},apis:{getField:(e,t)=>e.getField(t),getLabel:(e,t)=>e.getLabel(t)}});var mD=Object.freeze({__proto__:null,exhibit:(e,t)=>Ti({attributes:Po([{key:t.tabAttr,value:"true"}])})}),pD=[yo("tabAttr","data-alloy-tabstop")];const hD=Tl({fields:pD,name:"tabstopping",active:mD});var fD=tinymce.util.Tools.resolve("tinymce.html.Entities");const gD=(e,t,n,a)=>{const o=vD(e,t,n,a);return uD.sketch(o)},vD=(e,t,n,a)=>({dom:bD(n),components:e.toArray().concat([t]),fieldBehaviours:Sl(a)}),bD=e=>({tag:"div",classes:["tox-form__group"].concat(e)}),wD=(e,t)=>uD.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[sr(t.translate(e))]}),yD=di("form-component-change"),_D=di("form-close"),CD=di("form-cancel"),DD=di("form-action"),xD=di("form-submit"),kD=di("form-block"),ED=di("form-unblock"),SD=di("form-tabchange"),AD=di("form-resize"),TD=(e,t,n)=>{const a=e.label.map((e=>wD(e,t))),o=t.icons(),s=e=>(t,n)=>{wr(n.event.target,"[data-collection-item-value]").each((a=>{e(t,n,a,Et(a,"data-collection-item-value"))}))},i=s(((n,a,o,s)=>{a.stop(),t.isDisabled()||Is(n,DD,{name:e.name,value:s})})),r=[js(Ko(),s(((e,t,n)=>{Il(n)}))),js(ts(),i),js(hs(),i),js(Go(),s(((e,t,n)=>{br(e.element,"."+Eb).each((e=>{qi(e,Eb)})),ji(n,Eb)}))),js(Yo(),s((e=>{br(e.element,"."+Eb).each((e=>{qi(e,Eb)}))}))),ei(s(((t,n,a,o)=>{Is(t,DD,{name:e.name,value:o})})))],l=(e,t)=>V(Qd(e.element,".tox-collection__item"),t),d=uD.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==e.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:_},behaviours:Sl([Vm.config({disabled:t.isDisabled,onDisabled:e=>{l(e,(e=>{ji(e,"tox-collection__item--state-disabled"),xt(e,"aria-disabled",!0)}))},onEnabled:e=>{l(e,(e=>{qi(e,"tox-collection__item--state-disabled"),Tt(e,"aria-disabled")}))}}),ky(),ef.config({}),bu.config({store:{mode:"memory",initialValue:n.getOr([])},onSetValue:(n,a)=>{((n,a)=>{const s=V(a,(n=>{const a=Wg.translate(n.text),s=1===e.columns?`<div class="tox-collection__item-label">${a}</div>`:"",i=`<div class="tox-collection__item-icon">${(e=>{var t;return null!==(t=o[e])&&void 0!==t?t:e})(n.icon)}</div>`,r={_:" "," - ":" ","-":" "},l=a.replace(/\_| \- |\-/g,(e=>r[e]));return`<div class="tox-collection__item${t.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${fD.encodeAllRaw(n.value)}" title="${l}" aria-label="${l}">${i}${s}</div>`})),i="auto"!==e.columns&&e.columns>1?N(s,e.columns):[s],r=V(i,(e=>`<div class="tox-collection__group">${e.join("")}</div>`));ni(n.element,r.join(""))})(n,a),"auto"===e.columns&&cy(n,5,"tox-collection__item").each((({numRows:e,numColumns:t})=>{qh.setGridSize(n,e,t)})),Bs(n,AD)}}),hD.config({}),qh.config((c=e.columns,1===c?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===c?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${wb}`}})),tf("collection-events",r)]),eventOrder:{[ms()]:["disabling","alloy.base.behaviour","collection-events"]}});var c;return gD(a,d,["tox-form__group--collection"],[])},OD=["input","textarea"],LD=e=>{const t=je(e);return I(OD,t)},PD=(e,t)=>{const n=t.getRoot(e).getOr(e.element);qi(n,t.invalidClass),t.notify.each((t=>{LD(e.element)&&xt(e.element,"aria-invalid",!1),t.getContainer(e).each((e=>{ni(e,t.validHtml)})),t.onValid(e)}))},MD=(e,t,n,a)=>{const o=t.getRoot(e).getOr(e.element);ji(o,t.invalidClass),t.notify.each((t=>{LD(e.element)&&xt(e.element,"aria-invalid",!0),t.getContainer(e).each((e=>{ni(e,a)})),t.onInvalid(e,a)}))},BD=(e,t,n)=>t.validator.fold((()=>CC(sa.value(!0))),(t=>t.validate(e))),ID=(e,t,n)=>(t.notify.each((t=>{t.onValidate(e)})),BD(e,t).map((n=>e.getSystem().isConnected()?n.fold((n=>(MD(e,t,0,n),sa.error(n))),(n=>(PD(e,t),sa.value(n)))):sa.error("No longer in system"))));var RD=Object.freeze({__proto__:null,markValid:PD,markInvalid:MD,query:BD,run:ID,isInvalid:(e,t)=>{const n=t.getRoot(e).getOr(e.element);return $i(n,t.invalidClass)}}),FD=Object.freeze({__proto__:null,events:(e,t)=>e.validator.map((t=>Us([js(t.onEvent,(t=>{ID(t,e).get(_)}))].concat(t.validateOnLoad?[Xs((t=>{ID(t,e).get(v)}))]:[])))).getOr({})}),ND=[no("invalidClass"),yo("getRoot",T.none),wo("notify",[yo("aria","alert"),yo("getContainer",T.none),yo("validHtml",""),Ir("onValid"),Ir("onInvalid"),Ir("onValidate")]),wo("validator",[no("validate"),yo("onEvent","input"),yo("validateOnLoad",!0)])];const VD=Tl({fields:ND,name:"invalidating",active:FD,apis:RD,extra:{validation:e=>t=>{const n=bu.getValue(t);return CC(e(n))}}}),UD=Tl({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>Us([Hs(ss(),A)]),exhibit:()=>Ti({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),HD=di("color-input-change"),zD=di("color-swatch-change"),jD=di("color-picker-cancel"),ZD=Ku({schema:[no("dom")],name:"label"}),qD=e=>Ku({name:e+"-edge",overrides:t=>t.model.manager.edgeActions[e].fold((()=>({})),(e=>({events:Us([Zs(Uo(),((t,n,a)=>e(t,a)),[t]),Zs(Zo(),((t,n,a)=>e(t,a)),[t]),Zs(qo(),((t,n,a)=>{a.mouseIsDown.get()&&e(t,a)}),[t])])})))}),$D=qD("top-left"),WD=qD("top"),KD=qD("top-right"),GD=qD("right"),YD=qD("bottom-right"),XD=qD("bottom"),QD=qD("bottom-left"),JD=qD("left"),ex=$u({name:"thumb",defaults:y({dom:{styles:{position:"absolute"}}}),overrides:e=>({events:Us([$s(Uo(),e,"spectrum"),$s(Ho(),e,"spectrum"),$s(zo(),e,"spectrum"),$s(Zo(),e,"spectrum"),$s(qo(),e,"spectrum"),$s(Wo(),e,"spectrum")])})}),tx=e=>up(e.event);var nx=[ZD,JD,GD,WD,XD,$D,KD,QD,YD,ex,$u({schema:[eo("mouseIsDown",(()=>To(!1)))],name:"spectrum",overrides:e=>{const t=e.model.manager,n=(n,a)=>t.getValueFromEvent(a).map((a=>t.setValueFrom(n,e,a)));return{behaviours:Sl([qh.config({mode:"special",onLeft:(n,a)=>t.onLeft(n,e,tx(a)),onRight:(n,a)=>t.onRight(n,e,tx(a)),onUp:(n,a)=>t.onUp(n,e,tx(a)),onDown:(n,a)=>t.onDown(n,e,tx(a))}),hD.config({}),rf.config({})]),events:Us([js(Uo(),n),js(Ho(),n),js(Zo(),n),js(qo(),((t,a)=>{e.mouseIsDown.get()&&n(t,a)}))])}}})];const ax=y("slider.change.value"),ox=e=>{const t=e.event.raw;if((e=>-1!==e.type.indexOf("touch"))(t)){const e=t;return void 0!==e.touches&&1===e.touches.length?T.some(e.touches[0]).map((e=>Wt(e.clientX,e.clientY))):T.none()}{const e=t;return void 0!==e.clientX?T.some(e).map((e=>Wt(e.clientX,e.clientY))):T.none()}},sx=e=>e.model.minX,ix=e=>e.model.minY,rx=e=>e.model.minX-1,lx=e=>e.model.minY-1,dx=e=>e.model.maxX,cx=e=>e.model.maxY,ux=e=>e.model.maxX+1,mx=e=>e.model.maxY+1,px=(e,t,n)=>t(e)-n(e),hx=e=>px(e,dx,sx),fx=e=>px(e,cx,ix),gx=e=>hx(e)/2,vx=e=>fx(e)/2,bx=(e,t)=>t?e.stepSize*e.speedMultiplier:e.stepSize,wx=e=>e.snapToGrid,yx=e=>e.snapStart,_x=e=>e.rounded,Cx=(e,t)=>void 0!==e[t+"-edge"],Dx=e=>Cx(e,"left"),xx=e=>Cx(e,"right"),kx=e=>Cx(e,"top"),Ex=e=>Cx(e,"bottom"),Sx=e=>e.model.value.get(),Ax=(e,t)=>({x:e,y:t}),Tx=(e,t)=>{Is(e,ax(),{value:t})},Ox=(e,t,n,a)=>e<t?e:e>n?n:e===t?t-1:Math.max(t,e-a),Lx=(e,t,n,a)=>e>n?e:e<t?t:e===n?n+1:Math.min(n,e+a),Px=(e,t,n)=>Math.max(t,Math.min(n,e)),Mx=e=>{const{min:t,max:n,range:a,value:o,step:s,snap:i,snapStart:r,rounded:l,hasMinEdge:d,hasMaxEdge:c,minBound:u,maxBound:m,screenRange:p}=e,h=d?t-1:t,f=c?n+1:n;if(o<u)return h;if(o>m)return f;{const e=((e,t,n)=>Math.min(n,Math.max(e,t))-t)(o,u,m),d=Px(e/p*a+t,h,f);return i&&d>=t&&d<=n?((e,t,n,a,o)=>o.fold((()=>{const o=e-t,s=Math.round(o/a)*a;return Px(t+s,t-1,n+1)}),(t=>{const o=(e-t)%a,s=Math.round(o/a),i=Math.floor((e-t)/a),r=Math.floor((n-t)/a),l=t+Math.min(r,i+s)*a;return Math.max(t,l)})))(d,t,n,s,r):l?Math.round(d):d}},Bx=e=>{const{min:t,max:n,range:a,value:o,hasMinEdge:s,hasMaxEdge:i,maxBound:r,maxOffset:l,centerMinEdge:d,centerMaxEdge:c}=e;return o<t?s?0:d:o>n?i?r:c:(o-t)/a*l},Ix="top",Rx="right",Fx="bottom",Nx="left",Vx=e=>e.element.dom.getBoundingClientRect(),Ux=(e,t)=>e[t],Hx=e=>{const t=Vx(e);return Ux(t,Nx)},zx=e=>{const t=Vx(e);return Ux(t,Rx)},jx=e=>{const t=Vx(e);return Ux(t,Ix)},Zx=e=>{const t=Vx(e);return Ux(t,Fx)},qx=e=>{const t=Vx(e);return Ux(t,"width")},$x=e=>{const t=Vx(e);return Ux(t,"height")},Wx=(e,t,n)=>(e+t)/2-n,Kx=(e,t)=>{const n=Vx(e),a=Vx(t),o=Ux(n,Nx),s=Ux(n,Rx),i=Ux(a,Nx);return Wx(o,s,i)},Gx=(e,t)=>{const n=Vx(e),a=Vx(t),o=Ux(n,Ix),s=Ux(n,Fx),i=Ux(a,Ix);return Wx(o,s,i)},Yx=(e,t)=>{Is(e,ax(),{value:t})},Xx=(e,t,n)=>{const a={min:sx(t),max:dx(t),range:hx(t),value:n,step:bx(t),snap:wx(t),snapStart:yx(t),rounded:_x(t),hasMinEdge:Dx(t),hasMaxEdge:xx(t),minBound:Hx(e),maxBound:zx(e),screenRange:qx(e)};return Mx(a)},Qx=e=>(t,n,a)=>((e,t,n,a)=>{const o=(e>0?Lx:Ox)(Sx(n),sx(n),dx(n),bx(n,a));return Yx(t,o),T.some(o)})(e,t,n,a).map(A),Jx=(e,t,n,a,o,s)=>{const i=((e,t,n,a,o)=>{const s=qx(e),i=a.bind((t=>T.some(Kx(t,e)))).getOr(0),r=o.bind((t=>T.some(Kx(t,e)))).getOr(s),l={min:sx(t),max:dx(t),range:hx(t),value:n,hasMinEdge:Dx(t),hasMaxEdge:xx(t),minBound:Hx(e),minOffset:0,maxBound:zx(e),maxOffset:s,centerMinEdge:i,centerMaxEdge:r};return Bx(l)})(t,s,n,a,o);return Hx(t)-Hx(e)+i},ek=Qx(-1),tk=Qx(1),nk=T.none,ak=T.none,ok={"top-left":T.none(),top:T.none(),"top-right":T.none(),right:T.some(((e,t)=>{Tx(e,ux(t))})),"bottom-right":T.none(),bottom:T.none(),"bottom-left":T.none(),left:T.some(((e,t)=>{Tx(e,rx(t))}))};var sk=Object.freeze({__proto__:null,setValueFrom:(e,t,n)=>{const a=Xx(e,t,n);return Yx(e,a),a},setToMin:(e,t)=>{const n=sx(t);Yx(e,n)},setToMax:(e,t)=>{const n=dx(t);Yx(e,n)},findValueOfOffset:Xx,getValueFromEvent:e=>ox(e).map((e=>e.left)),findPositionOfValue:Jx,setPositionFromValue:(e,t,n,a)=>{const o=Sx(n),s=Jx(e,a.getSpectrum(e),o,a.getLeftEdge(e),a.getRightEdge(e),n),i=Qt(t.element)/2;Pt(t.element,"left",s-i+"px")},onLeft:ek,onRight:tk,onUp:nk,onDown:ak,edgeActions:ok});const ik=(e,t)=>{Is(e,ax(),{value:t})},rk=(e,t,n)=>{const a={min:ix(t),max:cx(t),range:fx(t),value:n,step:bx(t),snap:wx(t),snapStart:yx(t),rounded:_x(t),hasMinEdge:kx(t),hasMaxEdge:Ex(t),minBound:jx(e),maxBound:Zx(e),screenRange:$x(e)};return Mx(a)},lk=e=>(t,n,a)=>((e,t,n,a)=>{const o=(e>0?Lx:Ox)(Sx(n),ix(n),cx(n),bx(n,a));return ik(t,o),T.some(o)})(e,t,n,a).map(A),dk=(e,t,n,a,o,s)=>{const i=((e,t,n,a,o)=>{const s=$x(e),i=a.bind((t=>T.some(Gx(t,e)))).getOr(0),r=o.bind((t=>T.some(Gx(t,e)))).getOr(s),l={min:ix(t),max:cx(t),range:fx(t),value:n,hasMinEdge:kx(t),hasMaxEdge:Ex(t),minBound:jx(e),minOffset:0,maxBound:Zx(e),maxOffset:s,centerMinEdge:i,centerMaxEdge:r};return Bx(l)})(t,s,n,a,o);return jx(t)-jx(e)+i},ck=T.none,uk=T.none,mk=lk(-1),pk=lk(1),hk={"top-left":T.none(),top:T.some(((e,t)=>{Tx(e,lx(t))})),"top-right":T.none(),right:T.none(),"bottom-right":T.none(),bottom:T.some(((e,t)=>{Tx(e,mx(t))})),"bottom-left":T.none(),left:T.none()};var fk=Object.freeze({__proto__:null,setValueFrom:(e,t,n)=>{const a=rk(e,t,n);return ik(e,a),a},setToMin:(e,t)=>{const n=ix(t);ik(e,n)},setToMax:(e,t)=>{const n=cx(t);ik(e,n)},findValueOfOffset:rk,getValueFromEvent:e=>ox(e).map((e=>e.top)),findPositionOfValue:dk,setPositionFromValue:(e,t,n,a)=>{const o=Sx(n),s=dk(e,a.getSpectrum(e),o,a.getTopEdge(e),a.getBottomEdge(e),n),i=Zt(t.element)/2;Pt(t.element,"top",s-i+"px")},onLeft:ck,onRight:uk,onUp:mk,onDown:pk,edgeActions:hk});const gk=(e,t)=>{Is(e,ax(),{value:t})},vk=(e,t)=>({x:e,y:t}),bk=(e,t)=>(n,a,o)=>((e,t,n,a,o)=>{const s=e>0?Lx:Ox,i=t?Sx(a).x:s(Sx(a).x,sx(a),dx(a),bx(a,o)),r=t?s(Sx(a).y,ix(a),cx(a),bx(a,o)):Sx(a).y;return gk(n,vk(i,r)),T.some(i)})(e,t,n,a,o).map(A),wk=bk(-1,!1),yk=bk(1,!1),_k=bk(-1,!0),Ck=bk(1,!0),Dk={"top-left":T.some(((e,t)=>{Tx(e,Ax(rx(t),lx(t)))})),top:T.some(((e,t)=>{Tx(e,Ax(gx(t),lx(t)))})),"top-right":T.some(((e,t)=>{Tx(e,Ax(ux(t),lx(t)))})),right:T.some(((e,t)=>{Tx(e,Ax(ux(t),vx(t)))})),"bottom-right":T.some(((e,t)=>{Tx(e,Ax(ux(t),mx(t)))})),bottom:T.some(((e,t)=>{Tx(e,Ax(gx(t),mx(t)))})),"bottom-left":T.some(((e,t)=>{Tx(e,Ax(rx(t),mx(t)))})),left:T.some(((e,t)=>{Tx(e,Ax(rx(t),vx(t)))}))};var xk=Object.freeze({__proto__:null,setValueFrom:(e,t,n)=>{const a=Xx(e,t,n.left),o=rk(e,t,n.top),s=vk(a,o);return gk(e,s),s},setToMin:(e,t)=>{const n=sx(t),a=ix(t);gk(e,vk(n,a))},setToMax:(e,t)=>{const n=dx(t),a=cx(t);gk(e,vk(n,a))},getValueFromEvent:e=>ox(e),setPositionFromValue:(e,t,n,a)=>{const o=Sx(n),s=Jx(e,a.getSpectrum(e),o.x,a.getLeftEdge(e),a.getRightEdge(e),n),i=dk(e,a.getSpectrum(e),o.y,a.getTopEdge(e),a.getBottomEdge(e),n),r=Qt(t.element)/2,l=Zt(t.element)/2;Pt(t.element,"left",s-r+"px"),Pt(t.element,"top",i-l+"px")},onLeft:wk,onRight:yk,onUp:_k,onDown:Ck,edgeActions:Dk});const kk=_m({name:"Slider",configFields:[yo("stepSize",1),yo("speedMultiplier",10),yo("onChange",v),yo("onChoose",v),yo("onInit",v),yo("onDragStart",v),yo("onDragEnd",v),yo("snapToGrid",!1),yo("rounded",!0),mo("snapStart"),ao("model",Xa("mode",{x:[yo("minX",0),yo("maxX",100),eo("value",(e=>To(e.mode.minX))),no("getInitialValue"),Vr("manager",sk)],y:[yo("minY",0),yo("maxY",100),eo("value",(e=>To(e.mode.minY))),no("getInitialValue"),Vr("manager",fk)],xy:[yo("minX",0),yo("maxX",100),yo("minY",0),yo("maxY",100),eo("value",(e=>To({x:e.mode.minX,y:e.mode.minY}))),no("getInitialValue"),Vr("manager",xk)]})),wu("sliderBehaviours",[qh,bu]),eo("mouseIsDown",(()=>To(!1)))],partFields:nx,factory:(e,t,n,a)=>{const o=t=>rm(t,e,"thumb"),s=t=>rm(t,e,"spectrum"),i=t=>im(t,e,"left-edge"),r=t=>im(t,e,"right-edge"),l=t=>im(t,e,"top-edge"),d=t=>im(t,e,"bottom-edge"),c=e.model,u=c.manager,m=(t,n)=>{u.setPositionFromValue(t,n,e,{getLeftEdge:i,getRightEdge:r,getTopEdge:l,getBottomEdge:d,getSpectrum:s})},p=(e,t)=>{c.value.set(t);const n=o(e);m(e,n)},h=t=>{const n=e.mouseIsDown.get();e.mouseIsDown.set(!1),n&&im(t,e,"thumb").each((n=>{const a=c.value.get();e.onChoose(t,n,a)}))},f=(t,n)=>{n.stop(),e.mouseIsDown.set(!0),e.onDragStart(t,o(t))},g=(t,n)=>{n.stop(),e.onDragEnd(t,o(t)),h(t)},v=t=>{im(t,e,"spectrum").map(qh.focusIn)};return{uid:e.uid,dom:e.dom,components:t,behaviours:_u(e.sliderBehaviours,[qh.config({mode:"special",focusIn:v}),bu.config({store:{mode:"manual",getValue:e=>c.value.get(),setValue:p}}),Ml.config({channels:{[tu()]:{onReceive:h}}})]),events:Us([js(ax(),((t,n)=>{((t,n)=>{p(t,n);const a=o(t);e.onChange(t,a,n),T.some(!0)})(t,n.event.value)})),Xs(((t,n)=>{const a=c.getInitialValue();c.value.set(a);const i=o(t);m(t,i);const r=s(t);e.onInit(t,i,r,c.value.get())})),js(Uo(),f),js(zo(),g),js(Zo(),((e,t)=>{v(e),f(e,t)})),js(Wo(),g)]),apis:{resetToMin:t=>{u.setToMin(t,e)},resetToMax:t=>{u.setToMax(t,e)},setValue:p,refresh:m},domModification:{styles:{position:"relative"}}}},apis:{setValue:(e,t,n)=>{e.setValue(t,n)},resetToMin:(e,t)=>{e.resetToMin(t)},resetToMax:(e,t)=>{e.resetToMax(t)},refresh:(e,t)=>{e.refresh(t)}}}),Ek=di("rgb-hex-update"),Sk=di("slider-update"),Ak=di("palette-update"),Tk="form",Ok=[wu("formBehaviours",[bu])],Lk=e=>"<alloy.field."+e+">",Pk=(e,t)=>({uid:e.uid,dom:e.dom,components:t,behaviours:_u(e.formBehaviours,[bu.config({store:{mode:"manual",getValue:t=>{const n=dm(t,e);return de(n,((e,t)=>e().bind((e=>{return n=km.getCurrent(e),a=new Error(`Cannot find a current component to extract the value from for form part '${t}': `+oi(e.element)),n.fold((()=>sa.error(a)),sa.value);var n,a})).map(bu.getValue)))},setValue:(t,n)=>{le(n,((n,a)=>{im(t,e,a).each((e=>{km.getCurrent(e).each((e=>{bu.setValue(e,n)}))}))}))}}})]),apis:{getField:(t,n)=>im(t,e,n).bind(km.getCurrent)}}),Mk={getField:ki(((e,t,n)=>e.getField(t,n))),sketch:e=>{const t=(()=>{const e=[];return{field:(t,n)=>(e.push(t),tm(Tk,Lk(t),n)),record:y(e)}})(),n=e(t),a=t.record(),o=V(a,(e=>$u({name:e,pname:Lk(e)})));return gm(Tk,Ok,o,Pk,n)}},Bk=di("valid-input"),Ik=di("invalid-input"),Rk=di("validating-input"),Fk="colorcustom.rgb.",Nk=(e,t,n,a)=>{const o=(n,a)=>VD.config({invalidClass:t("invalid"),notify:{onValidate:e=>{Is(e,Rk,{type:n})},onValid:e=>{Is(e,Bk,{type:n,value:bu.getValue(e)})},onInvalid:e=>{Is(e,Ik,{type:n,value:bu.getValue(e)})}},validator:{validate:t=>{const n=bu.getValue(t),o=a(n)?sa.value(!0):sa.error(e("aria.input.invalid"));return CC(o)},validateOnLoad:!1}}),s=(n,a,s,i,r)=>{const l=e(Fk+"range"),d=uD.parts.label({dom:{tag:"label",attributes:{"aria-label":i}},components:[sr(s)]}),c=uD.parts.field({data:r,factory:Ub,inputAttributes:{type:"text",..."hex"===a?{"aria-live":"polite"}:{}},inputClasses:[t("textfield")],inputBehaviours:Sl([o(a,n),hD.config({})]),onSetValue:e=>{VD.isInvalid(e)&&VD.run(e).get(v)}}),u=[d,c],m="hex"!==a?[uD.parts["aria-descriptor"]({text:l})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:u.concat(m)}},i=(e,t)=>{const n=t.red,a=t.green,o=t.blue;bu.setValue(e,{red:n,green:a,blue:o})},r=Yf({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),l=(e,t)=>{r.getOpt(e).each((e=>{Pt(e.element,"background-color","#"+t.value)}))},d=ym({factory:()=>{const o={red:To(T.some(255)),green:To(T.some(255)),blue:To(T.some(255)),hex:To(T.some("ffffff"))},d=e=>o[e].get(),c=(e,t)=>{o[e].set(t)},u=e=>{const t=e.red,n=e.green,a=e.blue;c("red",T.some(t)),c("green",T.some(n)),c("blue",T.some(a))},m=(e,t)=>{const n=t.event;"hex"!==n.type?c(n.type,T.none()):a(e)},p=(e,t)=>{const a=t.event;(e=>"hex"===e.type)(a)?((e,t)=>{n(e);const a=Yy(t);c("hex",T.some(a.value));const o=u_(a);i(e,o),u(o),Is(e,Ek,{hex:a}),l(e,a)})(e,a.value):((e,t,n)=>{const a=parseInt(n,10);c(t,T.some(a)),d("red").bind((e=>d("green").bind((t=>d("blue").map((n=>l_(e,t,n,1))))))).each((t=>{const n=((e,t)=>{const n=n_(t);return Mk.getField(e,"hex").each((t=>{rf.isFocused(t)||bu.setValue(e,{hex:n.value})})),n})(e,t);Is(e,Ek,{hex:n}),l(e,n)}))})(e,a.type,a.value)},h=t=>({label:e(Fk+t+".label"),description:e(Fk+t+".description")}),f=h("red"),g=h("green"),v=h("blue"),b=h("hex");return ga(Mk.sketch((n=>({dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[n.field("red",uD.sketch(s(d_,"red",f.label,f.description,255))),n.field("green",uD.sketch(s(d_,"green",g.label,g.description,255))),n.field("blue",uD.sketch(s(d_,"blue",v.label,v.description,255))),n.field("hex",uD.sketch(s(Jy,"hex",b.label,b.description,"ffffff"))),r.asSpec()],formBehaviours:Sl([VD.config({invalidClass:t("form-invalid")}),tf("rgb-form-events",[js(Bk,p),js(Ik,m),js(Rk,m)])])}))),{apis:{updateHex:(e,t)=>{bu.setValue(e,{hex:t.value}),((e,t)=>{const n=u_(t);i(e,n),u(n)})(e,t),l(e,t)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(e,t,n)=>{e.updateHex(t,n)}},extraApis:{}});return d},Vk=(e,t)=>{const n=ym({name:"ColourPicker",configFields:[no("dom"),yo("onValidHex",v),yo("onInvalidHex",v)],factory:n=>{const a=Nk(e,t,n.onValidHex,n.onInvalidHex),o=((e,t)=>{const n=kk.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),a=kk.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:`<div class=${t("sv-palette-inner-thumb")} role="presentation"></div>`}}),o=(e,t)=>{const{width:n,height:a}=e,o=e.getContext("2d");if(null===o)return;o.fillStyle=t,o.fillRect(0,0,n,a);const s=o.createLinearGradient(0,0,n,0);s.addColorStop(0,"rgba(255,255,255,1)"),s.addColorStop(1,"rgba(255,255,255,0)"),o.fillStyle=s,o.fillRect(0,0,n,a);const i=o.createLinearGradient(0,0,0,a);i.addColorStop(0,"rgba(0,0,0,0)"),i.addColorStop(1,"rgba(0,0,0,1)"),o.fillStyle=i,o.fillRect(0,0,n,a)};return ym({factory:s=>{const i=y({x:0,y:0}),r=Sl([km.config({find:T.some}),rf.config({})]);return kk.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":e(["Saturation {0}%, Brightness {1}%",0,0])},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:i},rounded:!1,components:[n,a],onChange:(t,n,a)=>{f(a)||xt(t.element,"aria-valuetext",e(["Saturation {0}%, Brightness {1}%",Math.floor(a.x),Math.floor(100-a.y)])),Is(t,Ak,{value:a})},onInit:(e,t,n,a)=>{o(n.element.dom,h_(f_))},sliderBehaviours:r})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(e,t,n)=>{((e,t)=>{const n=e.components()[0].element.dom,a=T_(t,100,100),s=c_(a);o(n,h_(s))})(t,n)},setThumb:(t,n,a)=>{((t,n)=>{const a=O_(u_(n));kk.setValue(t,{x:a.saturation,y:100-a.value}),xt(t.element,"aria-valuetext",e(["Saturation {0}%, Brightness {1}%",a.saturation,a.value]))})(n,a)}},extraApis:{}})})(e,t),s={paletteRgba:To(f_),paletteHue:To(0)},i=Yf(((e,t)=>{const n=kk.parts.spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}}),a=kk.parts.thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return kk.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:y(0)},components:[n,a],sliderBehaviours:Sl([rf.config({})]),onChange:(e,t,n)=>{xt(e.element,"aria-valuenow",Math.floor(360-3.6*n)),Is(e,Sk,{value:n})}})})(0,t)),r=Yf(o.sketch({})),l=Yf(a.sketch({})),d=(e,t,n)=>{r.getOpt(e).each((e=>{o.setHue(e,n)}))},c=(e,t)=>{l.getOpt(e).each((e=>{a.updateHex(e,t)}))},u=(e,t,n)=>{i.getOpt(e).each((e=>{kk.setValue(e,(e=>100-e/360*100)(n))}))},m=(e,t)=>{r.getOpt(e).each((e=>{o.setThumb(e,t)}))},p=(e,t,n,a)=>{((e,t)=>{const n=u_(e);s.paletteRgba.set(n),s.paletteHue.set(t)})(t,n),U(a,(a=>{a(e,t,n)}))};return{uid:n.uid,dom:n.dom,components:[r.asSpec(),i.asSpec(),l.asSpec()],behaviours:Sl([tf("colour-picker-events",[js(Ek,(()=>{const e=[d,u,m];return(t,n)=>{const a=n.event.hex,o=(e=>O_(u_(e)))(a);p(t,a,o.hue,e)}})()),js(Ak,(()=>{const e=[c];return(t,n)=>{const a=n.event.value,o=s.paletteHue.get(),i=T_(o,a.x,100-a.y),r=L_(i);p(t,r,o,e)}})()),js(Sk,(()=>{const e=[d,c];return(t,n)=>{const a=(e=>(100-e)/100*360)(n.event.value),o=s.paletteRgba.get(),i=O_(o),r=T_(a,i.saturation,i.value),l=L_(r);p(t,l,a,e)}})())]),km.config({find:e=>l.getOpt(e)}),qh.config({mode:"acyclic"})])}}});return n},Uk=()=>km.config({find:T.some}),Hk=e=>km.config({find:t=>dt(t.element,e).bind((e=>t.getSystem().getByDom(e).toOptional()))}),zk=La([yo("preprocess",_),yo("postprocess",_)]),jk=(e,t)=>{const n=Ga("RepresentingConfigs.memento processors",zk,t);return bu.config({store:{mode:"manual",getValue:t=>{const a=e.get(t),o=bu.getValue(a);return n.postprocess(o)},setValue:(t,a)=>{const o=n.preprocess(a),s=e.get(t);bu.setValue(s,o)}}})},Zk=(e,t,n)=>bu.config({store:{mode:"manual",...e.map((e=>({initialValue:e}))).getOr({}),getValue:t,setValue:n}}),qk=(e,t,n)=>Zk(e,(e=>t(e.element)),((e,t)=>n(e.element,t))),$k=e=>bu.config({store:{mode:"memory",initialValue:e}}),Wk={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var Kk=tinymce.util.Tools.resolve("tinymce.Resource"),Gk=tinymce.util.Tools.resolve("tinymce.util.Tools");const Yk=(e,t)=>{let n=null;const a=()=>{d(n)||(clearTimeout(n),n=null)};return{cancel:a,throttle:(...o)=>{a(),n=setTimeout((()=>{n=null,e.apply(null,o)}),t)}}},Xk=di("alloy-fake-before-tabstop"),Qk=di("alloy-fake-after-tabstop"),Jk=e=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:Sl([rf.config({ignore:!0}),hD.config({})])}),eE=(e,t)=>({dom:{tag:"div",classes:["tox-navobj",...e.getOr([])]},components:[Jk([Xk]),t,Jk([Qk])],behaviours:Sl([Hk(1)])}),tE=(e,t)=>{Is(e,Xo(),{raw:{which:9,shiftKey:t}})},nE=(e,t)=>{const n=t.element;$i(n,Xk)?tE(e,!0):$i(n,Qk)&&tE(e,!1)},aE=e=>XC(e,["."+Xk,"."+Qk].join(","),S),oE=di("update-dialog"),sE=di("update-title"),iE=di("update-body"),rE=di("update-footer"),lE=di("body-send-message"),dE=di("dialog-focus-shifted"),cE=Pn().browser,uE=cE.isSafari(),mE=cE.isFirefox(),pE=uE||mE,hE=cE.isChromium(),fE=({scrollTop:e,scrollHeight:t,clientHeight:n})=>Math.ceil(e)+n>=t,gE=(e,t)=>e.scrollTo(0,"bottom"===t?99999999:t),vE=(e,t,n)=>{const a=e.dom;T.from(a.contentDocument).fold(n,(e=>{let n=0;const o=((e,t)=>{const n=e.body;return T.from(!/^<!DOCTYPE (html|HTML)/.test(t)&&(!hE&&!uE||p(n)&&(0!==n.scrollTop||Math.abs(n.scrollHeight-n.clientHeight)>1))?n:e.documentElement)})(e,t).map((e=>(n=e.scrollTop,e))).forall(fE),s=()=>{const e=a.contentWindow;p(e)&&(o?gE(e,"bottom"):!o&&pE&&0!==n&&gE(e,n))};uE&&a.addEventListener("load",s,{once:!0}),e.open(),e.write(t),e.close(),uE||s()}))},bE=xe(pE,uE?500:200).map((e=>((e,t)=>{let n=null,a=null;return{cancel:()=>{d(n)||(clearTimeout(n),n=null,a=null)},throttle:(...o)=>{a=o,d(n)&&(n=setTimeout((()=>{const t=a;n=null,a=null,e.apply(null,t)}),t))}}})(vE,e))),wE=di("toolbar.button.execute"),yE=di("common-button-display-events"),_E={[ms()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[Ds()]:["toolbar-button-events",yE],[Zo()]:["focusing","alloy.base.behaviour",yE]},CE=e=>Pt(e.element,"width",It(e.element,"width")),DE=(e,t,n)=>nv(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:n},t),xE=(e,t)=>DE(e,t,[]),kE=(e,t)=>DE(e,t,[ef.config({})]),EE=(e,t,n)=>({dom:{tag:"span",classes:[`${t}__select-label`]},components:[sr(n.translate(e))],behaviours:Sl([ef.config({})])}),SE=di("update-menu-text"),AE=di("update-menu-icon"),TE=(e,t,n)=>{const a=To(v),o=e.text.map((e=>Yf(EE(e,t,n.providers)))),s=e.icon.map((e=>Yf(kE(e,n.providers.icons)))),i=(e,t)=>{const n=bu.getValue(e);return rf.focus(n),Is(n,"keydown",{raw:t.event.raw}),RC.close(n),T.some(!0)},r=e.role.fold((()=>({})),(e=>({role:e}))),l=e.tooltip.fold((()=>({})),(e=>{const t=n.providers.translate(e);return{title:t,"aria-label":t}})),d=nv("chevron-down",{tag:"div",classes:[`${t}__select-chevron`]},n.providers.icons),c=di("common-button-display-events"),u=Yf(RC.sketch({...e.uid?{uid:e.uid}:{},...r,dom:{tag:"button",classes:[t,`${t}--select`].concat(V(e.classes,(e=>`${t}--${e}`))),attributes:{...l}},components:By([s.map((e=>e.asSpec())),o.map((e=>e.asSpec())),T.some(d)]),matchWidth:!0,useMinWidth:!0,onOpen:(t,n,a)=>{e.searchable&&(e=>{qb(e).each((e=>rf.focus(e)))})(a)},dropdownBehaviours:Sl([...e.dropdownBehaviours,Ey((()=>e.disabled||n.providers.isDisabled())),ky(),UD.config({}),ef.config({}),tf("dropdown-events",[Oy(e,a),Ly(e,a)]),tf(c,[Xs(((e,t)=>CE(e)))]),tf("menubutton-update-display-text",[js(SE,((e,t)=>{o.bind((t=>t.getOpt(e))).each((e=>{ef.set(e,[sr(n.providers.translate(t.event.text))])}))})),js(AE,((e,t)=>{s.bind((t=>t.getOpt(e))).each((e=>{ef.set(e,[kE(t.event.icon,n.providers.icons)])}))}))])]),eventOrder:ga(_E,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Ds()]:["toolbar-button-events","dropdown-events",c]}),sandboxBehaviours:Sl([qh.config({mode:"special",onLeft:i,onRight:i}),tf("dropdown-sandbox-events",[js(Hb,((e,t)=>{(e=>{const t=bu.getValue(e),n=Zb(e).map($b);RC.refetch(t).get((()=>{const e=gC.getCoupled(t,"sandbox");n.each((t=>Zb(e).each((e=>((e,t)=>{bu.setValue(e,t.fetchPattern),e.element.dom.selectionStart=t.selectionStart,e.element.dom.selectionEnd=t.selectionEnd})(e,t)))))}))})(e),t.stop()})),js(zb,((e,t)=>{((e,t)=>{(e=>Qc.getState(e).bind(Gm.getHighlighted).bind(Gm.getHighlighted))(e).each((n=>{((e,t,n,a)=>{const o={...a,target:t};e.getSystem().triggerEvent(n,t,o)})(e,n.element,t.event.eventType,t.event.interactionEvent)}))})(e,t),t.stop()}))])]),lazySink:n.getSink,toggleClass:`${t}--active`,parts:{menu:{...Ib(0,e.columns,e.presets),fakeFocus:e.searchable,onHighlightItem:FC,onCollapseMenu:(e,t,n)=>{Gm.getHighlighted(n).each((t=>{FC(e,n,t)}))},onDehighlightItem:NC}},getAnchorOverrides:()=>({maxHeightFunction:(e,t)=>{md()(e,t-10)}}),fetch:t=>_C(D(e.fetch,t))}));return u.asSpec()},OE=e=>"separator"===e.type,LE={type:"separator"},PE=(e,t)=>{const n=((e,t)=>{const n=Z(e,((e,n)=>(e=>s(e))(n)?""===n?e:"|"===n?e.length>0&&!OE(e[e.length-1])?e.concat([LE]):e:be(t,n.toLowerCase())?e.concat([t[n.toLowerCase()]]):e:e.concat([n])),[]);return n.length>0&&OE(n[n.length-1])&&n.pop(),n})(s(e)?e.split(" "):e,t);return j(n,((e,n)=>{if((e=>be(e,"getSubmenuItems"))(n)){const a=(e=>{const t=ve(e,"value").getOrThunk((()=>di("generated-menu-item")));return ga({value:t},e)})(n),o=((e,t)=>{const n=e.getSubmenuItems(),a=PE(n,t);return{item:e,menus:ga(a.menus,{[e.value]:a.items}),expansions:ga(a.expansions,{[e.value]:e.value})}})(a,t);return{menus:ga(e.menus,o.menus),items:[o.item,...e.items],expansions:ga(e.expansions,o.expansions)}}return{...e,items:[n,...e.items]}}),{menus:{},expansions:{},items:[]})},ME=(e,t,n,a)=>{const o=di("primary-menu"),s=PE(e,n.shared.providers.menuItems());if(0===s.items.length)return T.none();const i=(e=>e.search.fold((()=>({searchMode:"no-search"})),(e=>({searchMode:"search-with-field",placeholder:e.placeholder}))))(a),r=jC(o,s.items,t,n,a.isHorizontalMenu,i),l=(e=>e.search.fold((()=>({searchMode:"no-search"})),(e=>({searchMode:"search-with-results"}))))(a),d=de(s.menus,((e,a)=>jC(a,e,t,n,!1,l))),c=ga(d,Lo(o,r));return T.from(qf.tieredData(o,c,s.expansions))},BE=e=>!be(e,"items"),IE="data-value",RE=(e,t,n,a)=>V(n,(n=>BE(n)?{type:"togglemenuitem",text:n.text,value:n.value,active:n.value===a,onAction:()=>{bu.setValue(e,n.value),Is(e,yD,{name:t}),rf.focus(e)}}:{type:"nestedmenuitem",text:n.text,getSubmenuItems:()=>RE(e,t,n.items,a)})),FE=(e,t)=>se(e,(e=>BE(e)?xe(e.value===t,e):FE(e.items,t))),NE=ym({name:"HtmlSelect",configFields:[no("options"),wu("selectBehaviours",[rf,bu]),yo("selectClasses",[]),yo("selectAttributes",{}),mo("data")],factory:(e,t)=>{const n=V(e.options,(e=>({dom:{tag:"option",value:e.value,innerHtml:e.text}}))),a=e.data.map((e=>Lo("initialValue",e))).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:n,behaviours:_u(e.selectBehaviours,[rf.config({}),bu.config({store:{mode:"manual",getValue:e=>Yi(e.element),setValue:(t,n)=>{const a=ne(e.options);q(e.options,(e=>e.value===n)).isSome()?Xi(t.element,n):-1===t.element.dom.selectedIndex&&""===n&&a.each((e=>Xi(t.element,e.value)))},...a}})])}}}),VE=y([yo("field1Name","field1"),yo("field2Name","field2"),Fr("onLockedChange"),Mr(["lockClass"]),yo("locked",!1),Cu("coupledFieldBehaviours",[km,bu])]),UE=(e,t)=>$u({factory:uD,name:e,overrides:e=>({fieldBehaviours:Sl([tf("coupled-input-behaviour",[js(Jo(),(n=>{((e,t,n)=>im(e,t,n).bind(km.getCurrent))(n,e,t).each((t=>{im(n,e,"lock").each((a=>{ff.isOn(a)&&e.onLockedChange(n,t,a)}))}))}))])])})}),HE=y([UE("field1","field2"),UE("field2","field1"),$u({factory:Kf,schema:[no("dom")],name:"lock",overrides:e=>({buttonBehaviours:Sl([ff.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])})})]),zE=_m({name:"FormCoupledInputs",configFields:VE(),partFields:HE(),factory:(e,t,n,a)=>({uid:e.uid,dom:e.dom,components:t,behaviours:Du(e.coupledFieldBehaviours,[km.config({find:T.some}),bu.config({store:{mode:"manual",getValue:t=>{const n=um(t,e,["field1","field2"]);return{[e.field1Name]:bu.getValue(n.field1()),[e.field2Name]:bu.getValue(n.field2())}},setValue:(t,n)=>{const a=um(t,e,["field1","field2"]);we(n,e.field1Name)&&bu.setValue(a.field1(),n[e.field1Name]),we(n,e.field2Name)&&bu.setValue(a.field2(),n[e.field2Name])}}})]),apis:{getField1:t=>im(t,e,"field1"),getField2:t=>im(t,e,"field2"),getLock:t=>im(t,e,"lock")}}),apis:{getField1:(e,t)=>e.getField1(t),getField2:(e,t)=>e.getField2(t),getLock:(e,t)=>e.getLock(t)}}),jE=e=>{const t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);if(null!==t){const e=parseFloat(t[1]),n=t[2];return sa.value({value:e,unit:n})}return sa.error(e)},ZE=(e,t)=>{const n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},a=e=>be(n,e);return e.unit===t?T.some(e.value):a(e.unit)&&a(t)?n[e.unit]===n[t]?T.some(e.value):T.some(e.value/n[e.unit]*n[t]):T.none()},qE=e=>T.none(),$E=(e,t)=>{const n=e.label.map((e=>wD(e,t))),a=[Vm.config({disabled:()=>e.disabled||t.isDisabled()}),ky(),qh.config({mode:"execution",useEnter:!0!==e.multiline,useControlEnter:!0===e.multiline,execute:e=>(Bs(e,xD),T.some(!0))}),tf("textfield-change",[js(Jo(),((t,n)=>{Is(t,yD,{name:e.name})})),js(cs(),((t,n)=>{Is(t,yD,{name:e.name})}))]),hD.config({})],o=e.validation.map((e=>VD.config({getRoot:e=>it(e.element),invalidClass:"tox-invalid",validator:{validate:t=>{const n=bu.getValue(t),a=e.validator(n);return CC(!0===a?sa.value(n):sa.error(a))},validateOnLoad:e.validateOnLoad}}))).toArray(),s={...e.placeholder.fold(y({}),(e=>({placeholder:t.translate(e)}))),...e.inputMode.fold(y({}),(e=>({inputmode:e})))},i=uD.parts.field({tag:!0===e.multiline?"textarea":"input",...e.data.map((e=>({data:e}))).getOr({}),inputAttributes:s,inputClasses:[e.classname],inputBehaviours:Sl(W([a,o])),selectOnFocus:!1,factory:Ub}),r=e.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[i]}:i,l=(e.flex?["tox-form__group--stretched"]:[]).concat(e.maximized?["tox-form-group--maximize"]:[]),d=[Vm.config({disabled:()=>e.disabled||t.isDisabled(),onDisabled:e=>{uD.getField(e).each(Vm.disable)},onEnabled:e=>{uD.getField(e).each(Vm.enable)}}),ky()];return gD(n,r,l,d)},WE=(e,t)=>t.getAnimationRoot.fold((()=>e.element),(t=>t(e))),KE=e=>e.dimension.property,GE=(e,t)=>e.dimension.getDimension(t),YE=(e,t)=>{const n=WE(e,t);Ki(n,[t.shrinkingClass,t.growingClass])},XE=(e,t)=>{qi(e.element,t.openClass),ji(e.element,t.closedClass),Pt(e.element,KE(t),"0px"),Ht(e.element)},QE=(e,t)=>{qi(e.element,t.closedClass),ji(e.element,t.openClass),Ut(e.element,KE(t))},JE=(e,t,n,a)=>{n.setCollapsed(),Pt(e.element,KE(t),GE(t,e.element)),YE(e,t),XE(e,t),t.onStartShrink(e),t.onShrunk(e)},eS=(e,t,n,a)=>{const o=a.getOrThunk((()=>GE(t,e.element)));n.setCollapsed(),Pt(e.element,KE(t),o),Ht(e.element);const s=WE(e,t);qi(s,t.growingClass),ji(s,t.shrinkingClass),XE(e,t),t.onStartShrink(e)},tS=(e,t,n)=>{const a=GE(t,e.element);("0px"===a?JE:eS)(e,t,n,T.some(a))},nS=(e,t,n)=>{const a=WE(e,t),o=$i(a,t.shrinkingClass),s=GE(t,e.element);QE(e,t);const i=GE(t,e.element);(o?()=>{Pt(e.element,KE(t),s),Ht(e.element)}:()=>{XE(e,t)})(),qi(a,t.shrinkingClass),ji(a,t.growingClass),QE(e,t),Pt(e.element,KE(t),i),n.setExpanded(),t.onStartGrow(e)},aS=(e,t,n)=>{const a=WE(e,t);return!0===$i(a,t.growingClass)},oS=(e,t,n)=>{const a=WE(e,t);return!0===$i(a,t.shrinkingClass)};var sS=Object.freeze({__proto__:null,refresh:(e,t,n)=>{if(n.isExpanded()){Ut(e.element,KE(t));const n=GE(t,e.element);Pt(e.element,KE(t),n)}},grow:(e,t,n)=>{n.isExpanded()||nS(e,t,n)},shrink:(e,t,n)=>{n.isExpanded()&&tS(e,t,n)},immediateShrink:(e,t,n)=>{n.isExpanded()&&JE(e,t,n)},hasGrown:(e,t,n)=>n.isExpanded(),hasShrunk:(e,t,n)=>n.isCollapsed(),isGrowing:aS,isShrinking:oS,isTransitioning:(e,t,n)=>aS(e,t)||oS(e,t),toggleGrow:(e,t,n)=>{(n.isExpanded()?tS:nS)(e,t,n)},disableTransitions:YE,immediateGrow:(e,t,n)=>{n.isExpanded()||(QE(e,t),Pt(e.element,KE(t),GE(t,e.element)),YE(e,t),n.setExpanded(),t.onStartGrow(e),t.onGrown(e))}}),iS=Object.freeze({__proto__:null,exhibit:(e,t,n)=>{const a=t.expanded;return Ti(a?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:Lo(t.dimension.property,"0px")})},events:(e,t)=>Us([Ys(as(),((n,a)=>{a.event.raw.propertyName===e.dimension.property&&(YE(n,e),t.isExpanded()&&Ut(n.element,e.dimension.property),(t.isExpanded()?e.onGrown:e.onShrunk)(n))}))])}),rS=[no("closedClass"),no("openClass"),no("shrinkingClass"),no("growingClass"),mo("getAnimationRoot"),Ir("onShrunk"),Ir("onStartShrink"),Ir("onGrown"),Ir("onStartGrow"),yo("expanded",!1),ao("dimension",Xa("property",{width:[Vr("property","width"),Vr("getDimension",(e=>Qt(e)+"px"))],height:[Vr("property","height"),Vr("getDimension",(e=>Zt(e)+"px"))]}))];const lS=Tl({fields:rS,name:"sliding",active:iS,apis:sS,state:Object.freeze({__proto__:null,init:e=>{const t=To(e.expanded);return Si({isExpanded:()=>!0===t.get(),isCollapsed:()=>!1===t.get(),setCollapsed:D(t.set,!1),setExpanded:D(t.set,!0),readState:()=>"expanded: "+t.get()})}})}),dS=e=>({isEnabled:()=>!Vm.isDisabled(e),setEnabled:t=>Vm.set(e,!t),setActive:t=>{const n=e.element;t?(ji(n,"tox-tbtn--enabled"),xt(n,"aria-pressed",!0)):(qi(n,"tox-tbtn--enabled"),Tt(n,"aria-pressed"))},isActive:()=>$i(e.element,"tox-tbtn--enabled"),setText:t=>{Is(e,SE,{text:t})},setIcon:t=>Is(e,AE,{icon:t})}),cS=(e,t,n,a,o=!0)=>TE({text:e.text,icon:e.icon,tooltip:e.tooltip,searchable:e.search.isSome(),role:a,fetch:(t,a)=>{const o={pattern:e.search.isSome()?VC(t):""};e.fetch((t=>{a(ME(t,vb.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:!1,search:e.search}))}),o,dS(t))},onSetup:e.onSetup,getApi:dS,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...o?[hD.config({})]:[]]},t,n.shared),uS=(e,t,n)=>{const a=e=>a=>{const o=!a.isActive();a.setActive(o),e.storage.set(o),n.shared.getSink().each((n=>{t().getOpt(n).each((t=>{Il(t.element),Is(t,DD,{name:e.name,value:e.storage.get()})}))}))},o=e=>t=>{t.setActive(e.storage.get())};return t=>{t(V(e,(e=>{const t=e.text.fold((()=>({})),(e=>({text:e})));return{type:e.type,active:!1,...t,onAction:a(e),onSetup:o(e)}})))}},mS=e=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:e,"aria-label":e}},components:[sr(e)]}),pS=di("leaf-label-event-id"),hS=({leaf:e,onLeafAction:t,visible:n,treeId:a,selectedId:o,backstage:s})=>{const i=e.menu.map((e=>cS(e,"tox-mbtn",s,T.none(),n))),r=[mS(e.title)];return i.each((e=>r.push(e))),Kf.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(n?["tox-tree--leaf__label--visible"]:[])},components:r,role:"treeitem",action:n=>{t(e.id),n.getSystem().broadcastOn([`update-active-item-${a}`],{value:e.id})},eventOrder:{[Xo()]:[pS,"keying"]},buttonBehaviours:Sl([...n?[hD.config({})]:[],ff.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Ml.config({channels:{[`update-active-item-${a}`]:{onReceive:(t,n)=>{(n.value===e.id?ff.on:ff.off)(t)}}}}),tf(pS,[Xs(((t,n)=>{o.each((n=>{(n===e.id?ff.on:ff.off)(t)}))})),js(Xo(),((e,t)=>{const n="ArrowLeft"===t.event.raw.code,a="ArrowRight"===t.event.raw.code;n?(gr(e.element,".tox-tree--directory").each((t=>{e.getSystem().getByDom(t).each((e=>{vr(t,".tox-tree--directory__label").each((t=>{e.getSystem().getByDom(t).each(rf.focus)}))}))})),t.stop()):a&&t.stop()}))])])})},fS=di("directory-label-event-id"),gS=({directory:e,visible:t,noChildren:n,backstage:a})=>{const o=e.menu.map((e=>cS(e,"tox-mbtn",a,T.none()))),s=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(i="chevron-right",r=a.shared.providers.icons,((e,t,n)=>nv(e,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},t))(i,r))]},mS(e.title)];var i,r;o.each((e=>{s.push(e)}));const l=t=>{gr(t.element,".tox-tree--directory").each((n=>{t.getSystem().getByDom(n).each((n=>{const a=!ff.isOn(n);ff.toggle(n),Is(t,"expand-tree-node",{expanded:a,node:e.id})}))}))};return Kf.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(t?["tox-tree--directory__label--visible"]:[])},components:s,action:l,eventOrder:{[Xo()]:[fS,"keying"]},buttonBehaviours:Sl([...t?[hD.config({})]:[],tf(fS,[js(Xo(),((e,t)=>{const a="ArrowRight"===t.event.raw.code,o="ArrowLeft"===t.event.raw.code;a&&n&&t.stop(),(a||o)&&gr(e.element,".tox-tree--directory").each((n=>{e.getSystem().getByDom(n).each((n=>{!ff.isOn(n)&&a||ff.isOn(n)&&o?(l(e),t.stop()):o&&!ff.isOn(n)&&(gr(n.element,".tox-tree--directory").each((e=>{vr(e,".tox-tree--directory__label").each((e=>{n.getSystem().getByDom(e).each(rf.focus)}))})),t.stop())}))}))}))])])})},vS=({children:e,onLeafAction:t,visible:n,treeId:a,expandedIds:o,selectedId:s,backstage:i})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:e.map((e=>"leaf"===e.type?hS({leaf:e,selectedId:s,onLeafAction:t,visible:n,treeId:a,backstage:i}):wS({directory:e,expandedIds:o,selectedId:s,onLeafAction:t,labelTabstopping:n,treeId:a,backstage:i}))),behaviours:Sl([lS.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:n}),ef.config({})])}),bS=di("directory-event-id"),wS=({directory:e,onLeafAction:t,labelTabstopping:n,treeId:a,backstage:o,expandedIds:s,selectedId:i})=>{const{children:r}=e,l=To(s),d=s.includes(e.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[gS({directory:e,visible:n,noChildren:0===e.children.length,backstage:o}),vS({children:r,expandedIds:s,selectedId:i,onLeafAction:t,visible:d,treeId:a,backstage:o})],behaviours:Sl([tf(bS,[Xs(((e,t)=>{ff.set(e,d)})),js("expand-tree-node",((e,t)=>{const{expanded:n,node:a}=t.event;l.set(n?[...l.get(),a]:l.get().filter((e=>e!==a)))}))]),ff.config({...e.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(e,n)=>{const s=e.components()[1],d=(c=n,r.map((e=>"leaf"===e.type?hS({leaf:e,selectedId:i,onLeafAction:t,visible:c,treeId:a,backstage:o}):wS({directory:e,expandedIds:l.get(),selectedId:i,onLeafAction:t,labelTabstopping:c,treeId:a,backstage:o}))));var c;n?lS.grow(s):lS.shrink(s),ef.set(s,d)}})])}},yS=di("tree-event-id");var _S=Object.freeze({__proto__:null,events:(e,t)=>{const n=e.stream.streams.setup(e,t);return Us([js(e.event,n),Qs((()=>t.cancel()))].concat(e.cancelEvent.map((e=>[js(e,(()=>t.cancel()))])).getOr([])))}});const CS=e=>{const t=To(null);return Si({readState:()=>({timer:null!==t.get()?"set":"unset"}),setTimer:e=>{t.set(e)},cancel:()=>{const e=t.get();null!==e&&e.cancel()}})};var DS=Object.freeze({__proto__:null,throttle:CS,init:e=>e.stream.streams.state(e)}),xS=[ao("stream",Xa("mode",{throttle:[no("delay"),yo("stopEvent",!0),Vr("streams",{setup:(e,t)=>{const n=e.stream,a=Yk(e.onStream,n.delay);return t.setTimer(a),(e,t)=>{a.throttle(e,t),n.stopEvent&&t.stop()}},state:CS})]})),yo("event","input"),mo("cancelEvent"),Fr("onStream")];const kS=Tl({fields:xS,name:"streaming",active:_S,state:DS}),ES=(e,t,n)=>{const a=bu.getValue(n);bu.setValue(t,a),AS(t)},SS=(e,t)=>{const n=e.element,a=Yi(n),o=n.dom;"number"!==Et(n,"type")&&t(o,a)},AS=e=>{SS(e,((e,t)=>e.setSelectionRange(t.length,t.length)))},TS=y("alloy.typeahead.itemexecute"),OS=y([mo("lazySink"),no("fetch"),yo("minChars",5),yo("responseTime",1e3),Ir("onOpen"),yo("getHotspot",T.some),yo("getAnchorOverrides",y({})),yo("layouts",T.none()),yo("eventOrder",{}),Ao("model",{},[yo("getDisplayText",(e=>void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value)),yo("selectsOver",!0),yo("populateFromBrowse",!0)]),Ir("onSetValue"),Rr("onExecute"),Ir("onItemExecute"),yo("inputClasses",[]),yo("inputAttributes",{}),yo("inputStyles",{}),yo("matchWidth",!0),yo("useMinWidth",!1),yo("dismissOnBlur",!0),Mr(["openClass"]),mo("initialData"),wu("typeaheadBehaviours",[rf,bu,kS,qh,ff,gC]),eo("lazyTypeaheadComp",(()=>To(T.none))),eo("previewing",(()=>To(!0)))].concat(Rb()).concat(MC())),LS=y([Wu({schema:[Pr()],name:"menu",overrides:e=>({fakeFocus:!0,onHighlightItem:(t,n,a)=>{e.previewing.get()?e.lazyTypeaheadComp.get().each((t=>{((e,t,n)=>{if(e.selectsOver){const a=bu.getValue(t),o=e.getDisplayText(a),s=bu.getValue(n);return 0===e.getDisplayText(s).indexOf(o)?T.some((()=>{ES(0,t,n),((e,t)=>{SS(e,((e,n)=>e.setSelectionRange(t,n.length)))})(t,o.length)})):T.none()}return T.none()})(e.model,t,a).fold((()=>{e.model.selectsOver?(Gm.dehighlight(n,a),e.previewing.set(!0)):e.previewing.set(!1)}),(t=>{t(),e.previewing.set(!1)}))})):e.lazyTypeaheadComp.get().each((t=>{e.model.populateFromBrowse&&ES(e.model,t,a),St(a.element,"id").each((e=>xt(t.element,"aria-activedescendant",e)))}))},onExecute:(t,n)=>e.lazyTypeaheadComp.get().map((e=>(Is(e,TS(),{item:n}),!0))),onHover:(t,n)=>{e.previewing.set(!1),e.lazyTypeaheadComp.get().each((t=>{e.model.populateFromBrowse&&ES(e.model,t,n)}))}})})]),PS=_m({name:"Typeahead",configFields:OS(),partFields:LS(),factory:(e,t,n,a)=>{const o=(t,n,o)=>{e.previewing.set(!1);const s=gC.getCoupled(t,"sandbox");if(Qc.isOpen(s))km.getCurrent(s).each((e=>{Gm.getHighlighted(e).fold((()=>{o(e)}),(()=>{Vs(s,e.element,"keydown",n)}))}));else{const n=e=>{km.getCurrent(e).each(o)};EC(e,i(t),t,s,a,n,jf.HighlightMenuAndItem).get(v)}},s=Fb(e),i=e=>t=>t.map((t=>{const n=ge(t.menus),a=K(n,(e=>z(e.items,(e=>"item"===e.type))));return bu.getState(e).update(V(a,(e=>e.data))),t})),r=e=>km.getCurrent(e),l="typeaheadevents",d=[rf.config({}),bu.config({onSetValue:e.onSetValue,store:{mode:"dataset",getDataKey:e=>Yi(e.element),getFallbackEntry:e=>({value:e,meta:{}}),setValue:(t,n)=>{Xi(t.element,e.model.getDisplayText(n))},...e.initialData.map((e=>Lo("initialValue",e))).getOr({})}}),kS.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:(t,n)=>{const o=gC.getCoupled(t,"sandbox");if(rf.isFocused(t)&&Yi(t.element).length>=e.minChars){const n=r(o).bind((e=>Gm.getHighlighted(e).map(bu.getValue)));e.previewing.set(!0);const s=t=>{r(o).each((t=>{n.fold((()=>{e.model.selectsOver&&Gm.highlightFirst(t)}),(e=>{Gm.highlightBy(t,(t=>bu.getValue(t).value===e.value)),Gm.getHighlighted(t).orThunk((()=>(Gm.highlightFirst(t),T.none())))}))}))};EC(e,i(t),t,o,a,s,jf.HighlightJustMenu).get(v)}},cancelEvent:vs()}),qh.config({mode:"special",onDown:(e,t)=>(o(e,t,Gm.highlightFirst),T.some(!0)),onEscape:e=>{const t=gC.getCoupled(e,"sandbox");return Qc.isOpen(t)?(Qc.close(t),T.some(!0)):T.none()},onUp:(e,t)=>(o(e,t,Gm.highlightLast),T.some(!0)),onEnter:t=>{const n=gC.getCoupled(t,"sandbox"),a=Qc.isOpen(n);if(a&&!e.previewing.get())return r(n).bind((e=>Gm.getHighlighted(e))).map((e=>(Is(t,TS(),{item:e}),!0)));{const o=bu.getValue(t);return Bs(t,vs()),e.onExecute(n,t,o),a&&Qc.close(n),T.some(!0)}}}),ff.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),gC.config({others:{sandbox:t=>LC(e,t,{onOpen:()=>ff.on(t),onClose:()=>{e.lazyTypeaheadComp.get().each((e=>Tt(e.element,"aria-activedescendant"))),ff.off(t)}})}}),tf(l,[Xs((t=>{e.lazyTypeaheadComp.set(T.some(t))})),Qs((t=>{e.lazyTypeaheadComp.set(T.none())})),ei((t=>{const n=v;AC(e,i(t),t,a,n,jf.HighlightMenuAndItem).get(v)})),js(TS(),((t,n)=>{const a=gC.getCoupled(t,"sandbox");ES(e.model,t,n.event.item),Bs(t,vs()),e.onItemExecute(t,a,n.event.item,bu.getValue(t)),Qc.close(a),AS(t)}))].concat(e.dismissOnBlur?[js(ds(),(e=>{const t=gC.getCoupled(e,"sandbox");Vl(t.element).isNone()&&Qc.close(t)}))]:[]))],c={[xs()]:[bu.name(),kS.name(),l],...e.eventOrder};return{uid:e.uid,dom:Vb(ga(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...s,..._u(e.typeaheadBehaviours,d)},eventOrder:c}}}),MS=e=>({...e,toCached:()=>MS(e.toCached()),bindFuture:t=>MS(e.bind((e=>e.fold((e=>CC(sa.error(e))),(e=>t(e)))))),bindResult:t=>MS(e.map((e=>e.bind(t)))),mapResult:t=>MS(e.map((e=>e.map(t)))),mapError:t=>MS(e.map((e=>e.mapError(t)))),foldResult:(t,n)=>e.map((e=>e.fold(t,n))),withTimeout:(t,n)=>MS(_C((a=>{let o=!1;const s=setTimeout((()=>{o=!0,a(sa.error(n()))}),t);e.get((e=>{o||(clearTimeout(s),a(e))}))})))}),BS=e=>MS(_C(e)),IS=(e,t,n=[],a,o,s)=>{const i=t.fold((()=>({})),(e=>({action:e}))),r={buttonBehaviours:Sl([Ey((()=>!e.enabled||s.isDisabled())),ky(),hD.config({}),tf("button press",[zs("click"),zs("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...i},l=ga(r,{dom:a});return ga(l,{components:o})},RS=(e,t,n,a=[])=>{const o={tag:"button",classes:["tox-tbtn"],attributes:e.tooltip.map((e=>({"aria-label":n.translate(e),title:n.translate(e)}))).getOr({})},s=e.icon.map((e=>xE(e,n.icons))),i=By([s]);return IS(e,t,a,o,i,n)},FS=e=>{switch(e){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},NS=(e,t,n,a=[],o=[])=>{const s=n.translate(e.text),i=e.icon.map((e=>xE(e,n.icons))),r=[i.getOrThunk((()=>sr(s)))],l=e.buttonType.getOr(e.primary||e.borderless?"primary":"secondary"),d=[...FS(l),...i.isSome()?["tox-button--icon"]:[],...e.borderless?["tox-button--naked"]:[],...o];return IS(e,t,a,{tag:"button",classes:d,attributes:{title:s}},r,n)},VS=(e,t,n,a=[],o=[])=>{const s=NS(e,T.some(t),n,a,o);return Kf.sketch(s)},US=(e,t)=>n=>{"custom"===t?Is(n,DD,{name:e,value:{}}):"submit"===t?Bs(n,xD):"cancel"===t?Bs(n,CD):console.error("Unknown button type: ",t)},HS=(e,t,n)=>{if(((e,t)=>"menu"===t)(0,t)){const t=()=>s,a=e,o={...e,type:"menubutton",search:T.none(),onSetup:t=>(t.setEnabled(e.enabled),v),fetch:uS(a.items,t,n)},s=Yf(cS(o,"tox-tbtn",n,T.none()));return s.asSpec()}if(((e,t)=>"custom"===t||"cancel"===t||"submit"===t)(0,t)){const a=US(e.name,t),o={...e,borderless:!1};return VS(o,a,n.shared.providers,[])}if(((e,t)=>"togglebutton"===t)(0,t))return((e,t)=>{var n,a;const o=e.icon.map((e=>kE(e,t.icons))).map(Yf),s=e.buttonType.getOr(e.primary?"primary":"secondary"),i={...e,name:null!==(n=e.name)&&void 0!==n?n:"",primary:"primary"===s,tooltip:T.from(e.tooltip),enabled:null!==(a=e.enabled)&&void 0!==a&&a,borderless:!1},r=i.tooltip.map((e=>({"aria-label":t.translate(e),title:t.translate(e)}))).getOr({}),l=FS(null!=s?s:"secondary"),d=e.icon.isSome()&&e.text.isSome(),c={tag:"button",classes:[...l.concat(e.icon.isSome()?["tox-button--icon"]:[]),...e.active?["tox-button--enabled"]:[],...d?["tox-button--icon-and-text"]:[]],attributes:r},u=t.translate(e.text.getOr("")),m=sr(u),p=[...By([o.map((e=>e.asSpec()))]),...e.text.isSome()?[m]:[]],h=IS(i,T.some((n=>{Is(n,DD,{name:e.name,value:{setIcon:e=>{o.map((a=>a.getOpt(n).each((n=>{ef.set(n,[kE(e,t.icons)])}))))}}})})),[],c,p,t);return Kf.sketch(h)})(e,n.shared.providers);throw console.error("Unknown footer button type: ",t),new Error("Unknown footer button type")},zS={type:"separator"},jS=e=>({type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:v}),ZS=(e,t)=>({type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:v}),qS=(e,t)=>(e=>V(e,jS))(((e,t)=>z(t,(t=>t.type===e)))(e,t)),$S=e=>qS("header",e.targets),WS=e=>qS("anchor",e.targets),KS=e=>T.from(e.anchorTop).map((e=>ZS("<top>",e))).toArray(),GS=e=>T.from(e.anchorBottom).map((e=>ZS("<bottom>",e))).toArray(),YS=(e,t)=>{const n=e.toLowerCase();return z(t,(e=>{var t;const a=void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.text,o=null!==(t=e.value)&&void 0!==t?t:"";return Se(a.toLowerCase(),n)||Se(o.toLowerCase(),n)}))},XS=di("aria-invalid"),QS=(e,t)=>{e.dom.checked=t},JS=e=>e.dom.checked,eA=e=>(t,n,a,o)=>ve(n,"name").fold((()=>e(n,o,T.none())),(s=>t.field(s,e(n,o,ve(a,s))))),tA={bar:eA(((e,t)=>((e,t)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:V(e.items,t.interpreter)}))(e,t.shared))),collection:eA(((e,t,n)=>TD(e,t.shared.providers,n))),alertbanner:eA(((e,t)=>((e,t)=>{const n=Jg(e.icon,t.icons);return rD.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${e.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:e.url?void 0:n},components:e.url?[Kf.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:n,attributes:{title:t.translate(e.iconTooltip)}},action:t=>Is(t,DD,{name:"alert-banner",value:e.url}),buttonBehaviours:Sl([ev()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]})})(e,t.shared.providers))),input:eA(((e,t,n)=>((e,t,n)=>$E({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:!e.enabled,classname:"tox-textfield",validation:T.none(),maximized:e.maximized,data:n},t))(e,t.shared.providers,n))),textarea:eA(((e,t,n)=>((e,t,n)=>$E({name:e.name,multiline:!0,label:e.label,inputMode:T.none(),placeholder:e.placeholder,flex:!0,disabled:!e.enabled,classname:"tox-textarea",validation:T.none(),maximized:e.maximized,data:n},t))(e,t.shared.providers,n))),label:eA(((e,t)=>((e,t)=>{const n="tox-label";return{dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"label",classes:[n,..."center"===e.align?[`${n}--center`]:[],..."end"===e.align?[`${n}--end`]:[]]},components:[sr(t.providers.translate(e.label))]},...V(e.items,t.interpreter)],behaviours:Sl([Uk(),ef.config({}),(a=T.none(),qk(a,ti,ni)),qh.config({mode:"acyclic"})])};var a})(e,t.shared))),iframe:(ST=(e,t,n)=>((e,t,n)=>{const a="tox-dialog__iframe",o=e.transparent?[]:[`${a}--opaque`],s=e.border?["tox-navobj-bordered"]:[],i={...e.label.map((e=>({title:e}))).getOr({}),...n.map((e=>({srcdoc:e}))).getOr({}),...e.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},r=((e,t)=>{const n=To(e.getOr(""));return{getValue:e=>n.get(),setValue:(e,a)=>{if(n.get()!==a){const n=e.element,o=()=>xt(n,"srcdoc",a);t?bE.fold(y(vE),(e=>e.throttle))(n,a,o):o()}n.set(a)}}})(n,e.streamContent),l=e.label.map((e=>wD(e,t))),d=uD.parts.field({factory:{sketch:e=>eE(T.from(s),{uid:e.uid,dom:{tag:"iframe",attributes:i,classes:[a,...o]},behaviours:Sl([hD.config({}),rf.config({}),Zk(n,r.getValue,r.setValue),Ml.config({channels:{[dE]:{onReceive:(e,t)=>{t.newFocus.each((t=>{it(e.element).each((n=>{(Je(e.element,t)?ji:qi)(n,"tox-navobj-bordered-focus")}))}))}}}})])})}});return gD(l,d,["tox-form__group--stretched"],[])})(e,t.shared.providers,n),(e,t,n,a)=>{const o=ga(t,{source:"dynamic"});return eA(ST)(e,o,n,a)}),button:eA(((e,t)=>((e,t)=>{const n=US(e.name,"custom");return a=T.none(),o=uD.parts.field({factory:Kf,...NS(e,T.some(n),t,[$k(""),Uk()])}),gD(a,o,[],[]);var a,o})(e,t.shared.providers))),checkbox:eA(((e,t,n)=>((e,t,n)=>{const a=e=>(e.element.dom.click(),T.some(!0)),o=uD.parts.field({factory:{sketch:_},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Sl([Uk(),Vm.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{it(e.element).each((e=>ji(e,"tox-checkbox--disabled")))},onEnabled:e=>{it(e.element).each((e=>qi(e,"tox-checkbox--disabled")))}}),hD.config({}),rf.config({}),qk(n,JS,QS),qh.config({mode:"special",onEnter:a,onSpace:a,stopSpaceKeyup:!0}),tf("checkbox-events",[js(es(),((t,n)=>{Is(t,yD,{name:e.name})}))])])}),s=uD.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[sr(t.translate(e.label))],behaviours:Sl([UD.config({})])}),i=e=>nv("checked"===e?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e]},t.icons),r=Yf({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[i("checked"),i("unchecked")]});return uD.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[o,r.asSpec(),s],fieldBehaviours:Sl([Vm.config({disabled:()=>!e.enabled||t.isDisabled()}),ky()])})})(e,t.shared.providers,n))),colorinput:eA(((e,t,n)=>((e,t,n,a)=>{const o=uD.parts.field({factory:Ub,inputClasses:["tox-textfield"],data:a,onSetValue:e=>VD.run(e).get(v),inputBehaviours:Sl([Vm.config({disabled:t.providers.isDisabled}),ky(),hD.config({}),VD.config({invalidClass:"tox-textbox-field-invalid",getRoot:e=>it(e.element),notify:{onValid:e=>{const t=bu.getValue(e);Is(e,HD,{color:t})}},validator:{validateOnLoad:!1,validate:e=>{const t=bu.getValue(e);if(0===t.length)return CC(sa.value(!0));{const e=Re("span");Pt(e,"background-color",t);const n=Ft(e,"background-color").fold((()=>sa.error("blah")),(e=>sa.value(t)));return CC(n)}}}})]),selectOnFocus:!1}),s=e.label.map((e=>wD(e,t.providers))),i=(e,t)=>{Is(e,zD,{value:t})},r=Yf(((e,t)=>RC.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:Sl([Ey(t.providers.isDisabled),ky(),UD.config({}),hD.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:n=>_C((t=>e.fetch(t))).map((a=>T.from(ZC(ga(aC(di("menu-value"),a,(t=>{e.onItemAction(n,t)}),e.columns,e.presets,vb.CLOSE_ON_EXECUTE,S,t.providers),{movement:sC(e.columns,e.presets)}))))),parts:{menu:Ib(0,0,e.presets)}}))({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:()=>[dl,ll,pl],onLtr:()=>[ll,dl,pl]},components:[],fetch:G_(n.getColors(e.storageKey),e.storageKey,n.hasCustomColors()),columns:n.getColorCols(e.storageKey),presets:"color",onItemAction:(t,a)=>{r.getOpt(t).each((t=>{"custom"===a?n.colorPicker((n=>{n.fold((()=>Bs(t,jD)),(n=>{i(t,n),A_(e.storageKey,n)}))}),"#ffffff"):i(t,"remove"===a?"":a)}))}},t));return uD.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:s.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[o,r.asSpec()]}]),fieldBehaviours:Sl([tf("form-field-events",[js(HD,((t,n)=>{r.getOpt(t).each((e=>{Pt(e.element,"background-color",n.event.color)})),Is(t,yD,{name:e.name})})),js(zD,((e,t)=>{uD.getField(e).each((n=>{bu.setValue(n,t.event.value),km.getCurrent(e).each(rf.focus)}))})),js(jD,((e,t)=>{uD.getField(e).each((t=>{km.getCurrent(e).each(rf.focus)}))}))])])})})(e,t.shared,t.colorinput,n))),colorpicker:eA(((e,t,n)=>((e,t,n)=>{const a=e=>"tox-"+e,o=Vk((e=>t=>s(t)?e.translate(Wk[t]):e.translate(t))(t),a),i=Yf(o.sketch({dom:{tag:"div",classes:[a("color-picker-container")],attributes:{role:"presentation"}},onValidHex:e=>{Is(e,DD,{name:"hex-valid",value:!0})},onInvalidHex:e=>{Is(e,DD,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[i.asSpec()],behaviours:Sl([Zk(n,(e=>{const t=i.get(e);return km.getCurrent(t).bind((e=>bu.getValue(e).hex)).map((e=>"#"+Ee(e,"#"))).getOr("")}),((e,t)=>{const n=T.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(t)).bind((e=>te(e,1))),a=i.get(e);km.getCurrent(a).fold((()=>{console.log("Can not find form")}),(e=>{bu.setValue(e,{hex:n.getOr("")}),Mk.getField(e,"hex").each((e=>{Bs(e,Jo())}))}))})),Uk()])}})(0,t.shared.providers,n))),dropzone:eA(((e,t,n)=>((e,t,n)=>{const a=(e,t)=>{t.stop()},o=e=>(t,n)=>{U(e,(e=>{e(t,n)}))},s=(e,t)=>{var n;if(!Vm.isDisabled(e)){const a=t.event.raw;r(e,null===(n=a.dataTransfer)||void 0===n?void 0:n.files)}},i=(e,t)=>{const n=t.event.raw.target;r(e,n.files)},r=(n,a)=>{a&&(bu.setValue(n,((e,t)=>{const n=Gk.explode(t.getOption("images_file_types"));return z(oe(e),(e=>R(n,(t=>Te(e.name.toLowerCase(),`.${t.toLowerCase()}`)))))})(a,t)),Is(n,yD,{name:e.name}))},l=Yf({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Sl([tf("input-file-events",[Ks(ts()),Ks(hs())])])}),d=e.label.map((e=>wD(e,t))),c=uD.parts.field({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Sl([$k(n.getOr([])),Uk(),Vm.config({}),ff.config({toggleClass:"dragenter",toggleOnExecute:!1}),tf("dropzone-events",[js("dragenter",o([a,ff.toggle])),js("dragleave",o([a,ff.toggle])),js("dragover",a),js("drop",o([a,s])),js(es(),i)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[sr(t.translate("Drop an image here"))]},Kf.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[sr(t.translate("Browse for an image")),l.asSpec()],action:e=>{l.get(e).element.dom.click()},buttonBehaviours:Sl([hD.config({}),Ey(t.isDisabled),ky()])})]}]})}});return gD(d,c,["tox-form__group--stretched"],[])})(e,t.shared.providers,n))),grid:eA(((e,t)=>((e,t)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${e.columns}col`]},components:V(e.items,t.interpreter)}))(e,t.shared))),listbox:eA(((e,t,n)=>((e,t,n)=>{const a=t.shared.providers,o=n.bind((t=>FE(e.items,t))).orThunk((()=>ne(e.items).filter(BE))),s=e.label.map((e=>wD(e,a))),i=uD.parts.field({dom:{},factory:{sketch:n=>TE({uid:n.uid,text:o.map((e=>e.text)),icon:T.none(),tooltip:e.label,role:T.none(),fetch:(n,a)=>{const o=RE(n,e.name,e.items,bu.getValue(n));a(ME(o,vb.CLOSE_ON_EXECUTE,t,{isHorizontalMenu:!1,search:T.none()}))},onSetup:y(v),getApi:y({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[hD.config({}),Zk(o.map((e=>e.value)),(e=>Et(e.element,IE)),((t,n)=>{FE(e.items,n).each((e=>{xt(t.element,IE,e.value),Is(t,SE,{text:e.text})}))}))]},"tox-listbox",t.shared)}}),r={dom:{tag:"div",classes:["tox-listboxfield"]},components:[i]};return uD.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:W([s.toArray(),[r]]),fieldBehaviours:Sl([Vm.config({disabled:y(!e.enabled),onDisabled:e=>{uD.getField(e).each(Vm.disable)},onEnabled:e=>{uD.getField(e).each(Vm.enable)}})])})})(e,t,n))),selectbox:eA(((e,t,n)=>((e,t,n)=>{const a=V(e.items,(e=>({text:t.translate(e.text),value:e.value}))),o=e.label.map((e=>wD(e,t))),s=uD.parts.field({dom:{},...n.map((e=>({data:e}))).getOr({}),selectAttributes:{size:e.size},options:a,factory:NE,selectBehaviours:Sl([Vm.config({disabled:()=>!e.enabled||t.isDisabled()}),hD.config({}),tf("selectbox-change",[js(es(),((t,n)=>{Is(t,yD,{name:e.name})}))])])}),i=e.size>1?T.none():T.some(nv("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},t.icons)),r={dom:{tag:"div",classes:["tox-selectfield"]},components:W([[s],i.toArray()])};return uD.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:W([o.toArray(),[r]]),fieldBehaviours:Sl([Vm.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{uD.getField(e).each(Vm.disable)},onEnabled:e=>{uD.getField(e).each(Vm.enable)}}),ky()])})})(e,t.shared.providers,n))),sizeinput:eA(((e,t)=>((e,t)=>{let n=qE;const a=di("ratio-event"),o=e=>nv(e,{tag:"span",classes:["tox-icon","tox-lock-icon__"+e]},t.icons),s=zE.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[o("lock"),o("unlock")],buttonBehaviours:Sl([Vm.config({disabled:()=>!e.enabled||t.isDisabled()}),ky(),hD.config({})])}),i=e=>({dom:{tag:"div",classes:["tox-form__group"]},components:e}),r=n=>uD.parts.field({factory:Ub,inputClasses:["tox-textfield"],inputBehaviours:Sl([Vm.config({disabled:()=>!e.enabled||t.isDisabled()}),ky(),hD.config({}),tf("size-input-events",[js(Go(),((e,t)=>{Is(e,a,{isField1:n})})),js(es(),((t,n)=>{Is(t,yD,{name:e.name})}))])]),selectOnFocus:!1}),l=e=>({dom:{tag:"label",classes:["tox-label"]},components:[sr(t.translate(e))]}),d=zE.parts.field1(i([uD.parts.label(l("Width")),r(!0)])),c=zE.parts.field2(i([uD.parts.label(l("Height")),r(!1)]));return zE.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[d,c,i([l(" "),s])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(e,t,a)=>{jE(bu.getValue(e)).each((e=>{n(e).each((e=>{bu.setValue(t,(e=>{const t={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let n=e.value.toFixed((a=e.unit)in t?t[a]:1);var a;return-1!==n.indexOf(".")&&(n=n.replace(/\.?0*$/,"")),n+e.unit})(e))}))}))},coupledFieldBehaviours:Sl([Vm.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{zE.getField1(e).bind(uD.getField).each(Vm.disable),zE.getField2(e).bind(uD.getField).each(Vm.disable),zE.getLock(e).each(Vm.disable)},onEnabled:e=>{zE.getField1(e).bind(uD.getField).each(Vm.enable),zE.getField2(e).bind(uD.getField).each(Vm.enable),zE.getLock(e).each(Vm.enable)}}),ky(),tf("size-input-events2",[js(a,((e,t)=>{const a=t.event.isField1,o=a?zE.getField1(e):zE.getField2(e),s=a?zE.getField2(e):zE.getField1(e),i=o.map(bu.getValue).getOr(""),r=s.map(bu.getValue).getOr("");n=((e,t)=>{const n=jE(e).toOptional(),a=jE(t).toOptional();return Ce(n,a,((e,t)=>ZE(e,t.unit).map((e=>t.value/e)).map((e=>{return n=e,a=t.unit,e=>ZE(e,a).map((e=>({value:e*n,unit:a})));var n,a})).getOr(qE))).getOr(qE)})(i,r)}))])])})})(e,t.shared.providers))),slider:eA(((e,t,n)=>((e,t,n)=>{const a=kk.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[sr(t.translate(e.label))]}),o=kk.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),s=kk.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return kk.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:e.min,maxX:e.max,getInitialValue:y(n.getOrThunk((()=>(Math.abs(e.max)-Math.abs(e.min))/2)))},components:[a,o,s],sliderBehaviours:Sl([Uk(),rf.config({})]),onChoose:(t,n,a)=>{Is(t,yD,{name:e.name,value:a})}})})(e,t.shared.providers,n))),urlinput:eA(((e,t,n)=>((e,t,n,a)=>{const o=t.shared.providers,s=t=>{const a=bu.getValue(t);n.addToHistory(a.value,e.filetype)},i={...a.map((e=>({initialData:e}))).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":XS,type:"url"},minChars:0,responseTime:0,fetch:a=>{const o=((e,t,n)=>{var a,o;const s=bu.getValue(t),i=null!==(o=null===(a=null==s?void 0:s.meta)||void 0===a?void 0:a.text)&&void 0!==o?o:s.value;return n.getLinkInformation().fold((()=>[]),(t=>{const a=YS(i,(e=>V(e,(e=>ZS(e,e))))(n.getHistory(e)));return"file"===e?(o=[a,YS(i,$S(t)),YS(i,W([KS(t),WS(t),GS(t)]))],Z(o,((e,t)=>0===e.length||0===t.length?e.concat(t):e.concat(zS,t)),[])):a;var o}))})(e.filetype,a,n),s=ME(o,vb.BUBBLE_TO_SANDBOX,t,{isHorizontalMenu:!1,search:T.none()});return CC(s)},getHotspot:e=>p.getOpt(e),onSetValue:(e,t)=>{e.hasConfigured(VD)&&VD.run(e).get(v)},typeaheadBehaviours:Sl([...n.getValidationHandler().map((t=>VD.config({getRoot:e=>it(e.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(e,t)=>{d.getOpt(e).each((e=>{xt(e.element,"title",o.translate(t))}))}},validator:{validate:n=>{const a=bu.getValue(n);return BS((n=>{t({type:e.filetype,url:a.value},(e=>{if("invalid"===e.status){const t=sa.error(e.message);n(t)}else{const t=sa.value(e.message);n(t)}}))}))},validateOnLoad:!1}}))).toArray(),Vm.config({disabled:()=>!e.enabled||o.isDisabled()}),hD.config({}),tf("urlinput-events",[js(Jo(),(t=>{const n=Yi(t.element),a=n.trim();a!==n&&Xi(t.element,a),"file"===e.filetype&&Is(t,yD,{name:e.name})})),js(es(),(t=>{Is(t,yD,{name:e.name}),s(t)})),js(cs(),(t=>{Is(t,yD,{name:e.name}),s(t)}))])]),eventOrder:{[Jo()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:e=>e.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:Ib(0,0,"normal")},onExecute:(e,t,n)=>{Is(t,xD,{})},onItemExecute:(t,n,a,o)=>{s(t),Is(t,yD,{name:e.name})}},r=uD.parts.field({...i,factory:PS}),l=e.label.map((e=>wD(e,o))),d=Yf(((e,t,n=e,a=e)=>nv(n,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],attributes:{title:o.translate(a),"aria-live":"polite",...t.fold((()=>({})),(e=>({id:e})))}},o.icons))("invalid",T.some(XS),"warning")),c=Yf({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[d.asSpec()]}),u=n.getUrlPicker(e.filetype),m=di("browser.url.event"),p=Yf({dom:{tag:"div",classes:["tox-control-wrap"]},components:[r,c.asSpec()],behaviours:Sl([Vm.config({disabled:()=>!e.enabled||o.isDisabled()})])}),h=Yf(VS({name:e.name,icon:T.some("browse"),text:e.picker_text.or(e.label).getOr(""),enabled:e.enabled,primary:!1,buttonType:T.none(),borderless:!0},(e=>Bs(e,m)),o,[],["tox-browse-url"]));return uD.sketch({dom:bD([]),components:l.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:W([[p.asSpec()],u.map((()=>h.asSpec())).toArray()])}]),fieldBehaviours:Sl([Vm.config({disabled:()=>!e.enabled||o.isDisabled(),onDisabled:e=>{uD.getField(e).each(Vm.disable),h.getOpt(e).each(Vm.disable)},onEnabled:e=>{uD.getField(e).each(Vm.enable),h.getOpt(e).each(Vm.enable)}}),ky(),tf("url-input-events",[js(m,(t=>{km.getCurrent(t).each((n=>{const a=bu.getValue(n),o={fieldname:e.name,...a};u.each((a=>{a(o).get((a=>{bu.setValue(n,a),Is(t,yD,{name:e.name})}))}))}))}))])])})})(e,t,t.urlinput,n))),customeditor:eA((e=>{const t=ad(),n=Yf({dom:{tag:e.tag}}),a=ad();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Sl([tf("custom-editor-events",[Xs((o=>{n.getOpt(o).each((n=>{((e=>be(e,"init"))(e)?e.init(n.element.dom):Kk.load(e.scriptId,e.scriptUrl).then((t=>t(n.element.dom,e.settings)))).then((e=>{a.on((t=>{e.setValue(t)})),a.clear(),t.set(e)}))}))}))]),Zk(T.none(),(()=>t.get().fold((()=>a.get().getOr("")),(e=>e.getValue()))),((e,n)=>{t.get().fold((()=>a.set(n)),(e=>e.setValue(n)))})),Uk()]),components:[n.asSpec()]}})),htmlpanel:eA((e=>"presentation"===e.presets?rD.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):rD.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:Sl([hD.config({}),rf.config({})])}))),imagepreview:eA(((e,t,n)=>((e,t)=>{const n=To(t.getOr({url:""})),a=Yf({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:t.map((e=>({src:e.url}))).getOr({})}}),o=Yf({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[a.asSpec()]}),s={};e.height.each((e=>s.height=e));const i=t.map((e=>({url:e.url,zoom:T.from(e.zoom),cachedWidth:T.from(e.cachedWidth),cachedHeight:T.from(e.cachedHeight)})));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:s,attributes:{role:"presentation"}},components:[o.asSpec()],behaviours:Sl([Uk(),Zk(i,(()=>n.get()),((e,t)=>{const s={url:t.url};t.zoom.each((e=>s.zoom=e)),t.cachedWidth.each((e=>s.cachedWidth=e)),t.cachedHeight.each((e=>s.cachedHeight=e)),n.set(s);const i=()=>{const{cachedWidth:t,cachedHeight:n,zoom:a}=s;if(!u(t)&&!u(n)){if(u(a)){const a=((e,t,n)=>{const a=Qt(e),o=Zt(e);return Math.min(a/t,o/n,1)})(e.element,t,n);s.zoom=a}const i=((e,t,n,a,o)=>{const s=n*o,i=a*o,r=Math.max(0,e/2-s/2),l=Math.max(0,t/2-i/2);return{left:r.toString()+"px",top:l.toString()+"px",width:s.toString()+"px",height:i.toString()+"px"}})(Qt(e.element),Zt(e.element),t,n,s.zoom);o.getOpt(e).each((e=>{Mt(e.element,i)}))}};a.getOpt(e).each((n=>{const a=n.element;var o;t.url!==Et(a,"src")&&(xt(a,"src",t.url),qi(e.element,"tox-imagepreview__loaded")),i(),(o=a,new Promise(((e,t)=>{const n=()=>{s(),e(o)},a=[sd(o,"load",n),sd(o,"error",(()=>{s(),t("Unable to load data from image: "+o.dom.src)}))],s=()=>U(a,(e=>e.unbind()));o.dom.complete&&n()}))).then((t=>{e.getSystem().isConnected()&&(ji(e.element,"tox-imagepreview__loaded"),s.cachedWidth=t.dom.naturalWidth,s.cachedHeight=t.dom.naturalHeight,i())}))}))}))])}})(e,n))),table:eA(((e,t)=>((e,t)=>{const n=e=>({dom:{tag:"td",innerHtml:t.translate(e)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(o=e.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:V(o,(e=>({dom:{tag:"th",innerHtml:t.translate(e)}})))}]}),(a=e.cells,{dom:{tag:"tbody"},components:V(a,(e=>({dom:{tag:"tr"},components:V(e,n)})))})],behaviours:Sl([hD.config({}),rf.config({})])};var a,o})(e,t.shared.providers))),tree:eA(((e,t)=>((e,t)=>{const n=e.onLeafAction.getOr(v),a=e.onToggleExpand.getOr(v),o=e.defaultExpandedIds,s=To(o),i=To(e.defaultSelectedId),r=di("tree-id"),l=(a,o)=>e.items.map((e=>"leaf"===e.type?hS({leaf:e,selectedId:a,onLeafAction:n,visible:!0,treeId:r,backstage:t}):wS({directory:e,selectedId:a,onLeafAction:n,expandedIds:o,labelTabstopping:!0,treeId:r,backstage:t})));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:l(i.get(),s.get()),behaviours:Sl([qh.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),tf(yS,[js("expand-tree-node",((e,t)=>{const{expanded:n,node:o}=t.event;s.set(n?[...s.get(),o]:s.get().filter((e=>e!==o))),a(s.get(),{expanded:n,node:o})}))]),Ml.config({channels:{[`update-active-item-${r}`]:{onReceive:(e,t)=>{i.set(T.some(t.value)),ef.set(e,l(T.some(t.value),s.get()))}}}}),ef.config({})])}})(e,t))),panel:eA(((e,t)=>((e,t)=>({dom:{tag:"div",classes:e.classes},components:V(e.items,t.shared.interpreter)}))(e,t)))},nA={field:(e,t)=>t,record:y([])},aA=(e,t,n,a)=>{const o=ga(a,{shared:{interpreter:t=>oA(e,t,n,o)}});return oA(e,t,n,o)},oA=(e,t,n,a)=>ve(tA,t.type).fold((()=>(console.error(`Unknown factory type "${t.type}", defaulting to container: `,t),t)),(o=>o(e,t,n,a))),sA=(e,t,n)=>oA(nA,e,t,n),iA="layout-inset",rA=e=>e.x,lA=(e,t)=>e.x+e.width/2-t.width/2,dA=(e,t)=>e.x+e.width-t.width,cA=e=>e.y,uA=(e,t)=>e.y+e.height-t.height,mA=(e,t)=>e.y+e.height/2-t.height/2,pA=(e,t,n)=>zr(dA(e,t),uA(e,t),n.insetSouthwest(),Wr(),"southwest",el(e,{right:0,bottom:3}),iA),hA=(e,t,n)=>zr(rA(e),uA(e,t),n.insetSoutheast(),$r(),"southeast",el(e,{left:1,bottom:3}),iA),fA=(e,t,n)=>zr(dA(e,t),cA(e),n.insetNorthwest(),qr(),"northwest",el(e,{right:0,top:2}),iA),gA=(e,t,n)=>zr(rA(e),cA(e),n.insetNortheast(),Zr(),"northeast",el(e,{left:1,top:2}),iA),vA=(e,t,n)=>zr(lA(e,t),cA(e),n.insetNorth(),Kr(),"north",el(e,{top:2}),iA),bA=(e,t,n)=>zr(lA(e,t),uA(e,t),n.insetSouth(),Gr(),"south",el(e,{bottom:3}),iA),wA=(e,t,n)=>zr(dA(e,t),mA(e,t),n.insetEast(),Xr(),"east",el(e,{right:0}),iA),yA=(e,t,n)=>zr(rA(e),mA(e,t),n.insetWest(),Yr(),"west",el(e,{left:1}),iA),_A=e=>{switch(e){case"north":return vA;case"northeast":return gA;case"northwest":return fA;case"south":return bA;case"southeast":return hA;case"southwest":return pA;case"east":return wA;case"west":return yA}},CA=(e,t,n,a,o)=>Ql(a).map(_A).getOr(vA)(e,t,n,a,o),DA=e=>{switch(e){case"north":return bA;case"northeast":return hA;case"northwest":return pA;case"south":return vA;case"southeast":return gA;case"southwest":return fA;case"east":return yA;case"west":return wA}},xA=(e,t,n,a,o)=>Ql(a).map(DA).getOr(vA)(e,t,n,a,o),kA={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},EA=(e,t,n)=>{const a={maxHeightFunction:pd()};return()=>n()?{type:"node",root:vt(gt(e())),node:T.from(e()),bubble:vd(12,12,kA),layouts:{onRtl:()=>[gA],onLtr:()=>[fA]},overrides:a}:{type:"hotspot",hotspot:t(),bubble:vd(-12,12,kA),layouts:{onRtl:()=>[ll,dl,pl],onLtr:()=>[dl,ll,pl]},overrides:a}},SA=(e,t,n,a)=>{const o={maxHeightFunction:pd()};return()=>a()?{type:"node",root:vt(gt(t())),node:T.from(t()),bubble:vd(12,12,kA),layouts:{onRtl:()=>[vA],onLtr:()=>[vA]},overrides:o}:e?{type:"node",root:vt(gt(t())),node:T.from(t()),bubble:vd(0,-qt(t()),kA),layouts:{onRtl:()=>[ml],onLtr:()=>[ml]},overrides:o}:{type:"hotspot",hotspot:n(),bubble:vd(0,0,kA),layouts:{onRtl:()=>[ml],onLtr:()=>[ml]},overrides:o}},AA=(e,t,n)=>()=>n()?{type:"node",root:vt(gt(e())),node:T.from(e()),layouts:{onRtl:()=>[vA],onLtr:()=>[vA]}}:{type:"hotspot",hotspot:t(),layouts:{onRtl:()=>[pl],onLtr:()=>[pl]}},TA=(e,t)=>()=>({type:"selection",root:t(),getSelection:()=>{const t=e.selection.getRng(),n=e.model.table.getSelectedCells();if(n.length>1){const e=n[0],t=n[n.length-1],a={firstCell:Ne(e),lastCell:Ne(t)};return T.some(a)}return T.some(Zd.range(Ne(t.startContainer),t.startOffset,Ne(t.endContainer),t.endOffset))}}),OA=e=>t=>({type:"node",root:e(),node:t}),LA=(e,t,n,a)=>{const o=rb(e),s=()=>Ne(e.getBody()),i=()=>Ne(e.getContentAreaContainer()),r=()=>o||!a();return{inlineDialog:EA(i,t,r),inlineBottomDialog:SA(e.inline,i,n,r),banner:AA(i,t,r),cursor:TA(e,s),node:OA(s)}},PA=e=>(t,n)=>{nC(e)(t,n)},MA=e=>()=>z_(e),BA=e=>t=>N_(e,t),IA=e=>t=>H_(e,t),RA=e=>()=>Hv(e),FA=e=>we(e,"items"),NA=e=>we(e,"format"),VA=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],UA=e=>Z(e,((e,t)=>{if(be(t,"items")){const n=UA(t.items);return{customFormats:e.customFormats.concat(n.customFormats),formats:e.formats.concat([{title:t.title,items:n.formats}])}}if(be(t,"inline")||(e=>be(e,"block"))(t)||(e=>be(e,"selector"))(t)){const n=`custom-${s(t.name)?t.name:t.title.toLowerCase()}`;return{customFormats:e.customFormats.concat([{name:n,format:t}]),formats:e.formats.concat([{title:t.title,format:n,icon:t.icon}])}}return{...e,formats:e.formats.concat(t)}}),{customFormats:[],formats:[]}),HA=e=>yv(e).map((t=>{const n=((e,t)=>{const n=UA(t),a=t=>{U(t,(t=>{e.formatter.has(t.name)||e.formatter.register(t.name,t.format)}))};return e.formatter?a(n.customFormats):e.on("init",(()=>{a(n.customFormats)})),n.formats})(e,t);return _v(e)?VA.concat(n):n})).getOr(VA),zA=(e,t,n)=>({...e,type:"formatter",isSelected:t(e.format),getStylePreview:n(e.format)}),jA=(e,t,n,a)=>{const o=t=>V(t,(t=>FA(t)?(e=>{const t=o(e.items);return{...e,type:"submenu",getStyleItems:y(t)}})(t):NA(t)?(e=>zA(e,n,a))(t):(e=>{const t=ie(e);return 1===t.length&&I(t,"title")})(t)?{...t,type:"separator"}:(t=>{const o=s(t.name)?t.name:di(t.title),i=`custom-${o}`,r={...t,type:"formatter",format:i,isSelected:n(i),getStylePreview:a(i)};return e.formatter.register(o,r),r})(t)));return o(t)},ZA=Gk.trim,qA=e=>t=>{if((e=>p(e)&&1===e.nodeType)(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1},$A=qA("true"),WA=qA("false"),KA=(e,t,n,a,o)=>({type:e,title:t,url:n,level:a,attach:o}),GA=e=>e.innerText||e.textContent,YA=e=>(e=>e&&"A"===e.nodeName&&void 0!==(e.id||e.name))(e)&&QA(e),XA=e=>e&&/^(H[1-6])$/.test(e.nodeName),QA=e=>(e=>{let t=e;for(;t=t.parentNode;){const e=t.contentEditable;if(e&&"inherit"!==e)return $A(t)}return!1})(e)&&!WA(e),JA=e=>XA(e)&&QA(e),eT=e=>{var t;const n=(e=>e.id?e.id:di("h"))(e);return KA("header",null!==(t=GA(e))&&void 0!==t?t:"","#"+n,(e=>XA(e)?parseInt(e.nodeName.substr(1),10):0)(e),(()=>{e.id=n}))},tT=e=>{const t=e.id||e.name,n=GA(e);return KA("anchor",n||"#"+t,"#"+t,0,v)},nT=e=>ZA(e.title).length>0,aT=e=>{const t=(e=>{const t=V(Qd(Ne(e),"h1,h2,h3,h4,h5,h6,a:not([href])"),(e=>e.dom));return t})(e);return z((e=>V(z(e,JA),eT))(t).concat((e=>V(z(e,YA),tT))(t)),nT)},oT="tinymce-url-history",sT=e=>s(e)&&/^https?/.test(e),iT=e=>i(e)&&fe(e,(e=>{return!(l(t=e)&&t.length<=5&&G(t,sT));var t})).isNone(),rT=()=>{const e=k_.getItem(oT);if(null===e)return{};let t;try{t=JSON.parse(e)}catch(e){if(e instanceof SyntaxError)return console.log("Local storage "+oT+" was not valid JSON",e),{};throw e}return iT(t)?t:(console.log("Local storage "+oT+" was not valid format",t),{})},lT=e=>{const t=rT();return ve(t,e).getOr([])},dT=(e,t)=>{if(!sT(e))return;const n=rT(),a=ve(n,t).getOr([]),o=z(a,(t=>t!==e));n[t]=[e].concat(o).slice(0,5),(e=>{if(!iT(e))throw new Error("Bad format for history:\n"+JSON.stringify(e));k_.setItem(oT,JSON.stringify(e))})(n)},cT=e=>!!e,uT=e=>de(Gk.makeMap(e,/[, ]/),cT),mT=e=>T.from(Bv(e)),pT=e=>T.from(e).filter(s).getOrUndefined(),hT=e=>({getHistory:lT,addToHistory:dT,getLinkInformation:()=>(e=>Nv(e)?T.some({targets:aT(e.getBody()),anchorTop:pT(Vv(e)),anchorBottom:pT(Uv(e))}):T.none())(e),getValidationHandler:()=>(e=>T.from(Iv(e)))(e),getUrlPicker:t=>((e,t)=>((e,t)=>{const n=(e=>{const t=T.from(Fv(e)).filter(cT).map(uT);return mT(e).fold(S,(e=>t.fold(A,(e=>ie(e).length>0&&e))))})(e);return c(n)?n?mT(e):T.none():n[t]?mT(e):T.none()})(e,t).map((n=>a=>_C((o=>{const r={filetype:t,fieldname:a.fieldname,...T.from(a.meta).getOr({})};n.call(e,((e,t)=>{if(!s(e))throw new Error("Expected value to be string");if(void 0!==t&&!i(t))throw new Error("Expected meta to be a object");o({value:e,meta:t})}),a.value,r)})))))(e,t)}),fT=hm,gT=Xu,vT=y([yo("shell",!1),no("makeItem"),yo("setupItem",v),Cu("listBehaviours",[ef])]),bT=Ku({name:"items",overrides:()=>({behaviours:Sl([ef.config({})])})}),wT=y([bT]),yT=_m({name:y("CustomList")(),configFields:vT(),partFields:wT(),factory:(e,t,n,a)=>{const o=e.shell?{behaviours:[ef.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:o.components,behaviours:_u(e.listBehaviours,o.behaviours),apis:{setItems:(t,n)=>{var a;(a=t,e.shell?T.some(a):im(a,e,"items")).fold((()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(a=>{const o=ef.contents(a),s=n.length,i=s-o.length,r=i>0?F(i,(()=>e.makeItem())):[],l=o.slice(s);U(l,(e=>ef.remove(a,e))),U(r,(e=>ef.append(a,e)));const d=ef.contents(a);U(d,((a,o)=>{e.setupItem(t,a,n[o],o)}))}))}}}},apis:{setItems:(e,t,n)=>{e.setItems(t,n)}}}),_T=y([no("dom"),yo("shell",!0),wu("toolbarBehaviours",[ef])]),CT=y([Ku({name:"groups",overrides:()=>({behaviours:Sl([ef.config({})])})})]),DT=_m({name:"Toolbar",configFields:_T(),partFields:CT(),factory:(e,t,n,a)=>{const o=e.shell?{behaviours:[ef.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:o.components,behaviours:_u(e.toolbarBehaviours,o.behaviours),apis:{setGroups:(t,n)=>{var a;(a=t,e.shell?T.some(a):im(a,e,"groups")).fold((()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(e=>{ef.set(e,n)}))},refresh:v},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)}}}),xT=v,kT=S,ET=y([]);var ST,AT=Object.freeze({__proto__:null,setup:xT,isDocked:kT,getBehaviours:ET});const TT=e=>(ye(Ft(e,"position"),"fixed")?T.none():rt(e)).orThunk((()=>{const t=Re("span");return st(e).bind((e=>{Vn(e,t);const n=rt(t);return zn(t),n}))})),OT=e=>TT(e).map(Gt).getOrThunk((()=>Wt(0,0))),LT=(e,t)=>{const n=e.element;ji(n,t.transitionClass),qi(n,t.fadeOutClass),ji(n,t.fadeInClass),t.onShow(e)},PT=(e,t)=>{const n=e.element;ji(n,t.transitionClass),qi(n,t.fadeInClass),ji(n,t.fadeOutClass),t.onHide(e)},MT=(e,t)=>e.y>=t.y,BT=(e,t)=>e.bottom<=t.bottom,IT=(e,t,n)=>({location:"top",leftX:t,topY:n.bounds.y-e.y}),RT=(e,t,n)=>({location:"bottom",leftX:t,bottomY:e.bottom-n.bounds.bottom}),FT=e=>e.box.x-e.win.x,NT=(e,t,n)=>n.getInitialPos().map((n=>{const a=((e,t)=>{const n=t.optScrollEnv.fold(y(e.bounds.y),(t=>t.scrollElmTop+(e.bounds.y-t.currentScrollTop)));return Wt(e.bounds.x,n)})(n,t);return{box:Xn(a.left,a.top,Qt(e),Zt(e)),location:n.location}})),VT=(e,t,n,a,o)=>{const s=((e,t)=>{const n=t.optScrollEnv.fold(y(e.y),(t=>e.y+t.currentScrollTop-t.scrollElmTop));return Wt(e.x,n)})(t,n),i=Xn(s.left,s.top,t.width,t.height);a.setInitialPos({style:Nt(e),position:It(e,"position")||"static",bounds:i,location:o.location})},UT=(e,t,n)=>n.getInitialPos().bind((a=>{var o;switch(n.clearInitialPos(),a.position){case"static":return T.some({morph:"static"});case"absolute":const n=TT(e).getOr(_t()),s=Qn(n),i=null!==(o=n.dom.scrollTop)&&void 0!==o?o:0;return T.some({morph:"absolute",positionCss:Hl("absolute",ve(a.style,"left").map((e=>t.x-s.x)),ve(a.style,"top").map((e=>t.y-s.y+i)),ve(a.style,"right").map((e=>s.right-t.right)),ve(a.style,"bottom").map((e=>s.bottom-t.bottom)))});default:return T.none()}})),HT=e=>{switch(e.location){case"top":return T.some({morph:"fixed",positionCss:Hl("fixed",T.some(e.leftX),T.some(e.topY),T.none(),T.none())});case"bottom":return T.some({morph:"fixed",positionCss:Hl("fixed",T.some(e.leftX),T.none(),T.none(),T.some(e.bottomY))});default:return T.none()}},zT=(e,t,n)=>{const a=e.element;return ye(Ft(a,"position"),"fixed")?((e,t,n)=>((e,t,n)=>NT(e,t,n).filter((({box:e})=>((e,t,n)=>G(e,(e=>{switch(e){case"bottom":return BT(t,n.bounds);case"top":return MT(t,n.bounds)}})))(n.getModes(),e,t))).bind((({box:t})=>UT(e,t,n))))(e,t,n).orThunk((()=>t.optScrollEnv.bind((a=>NT(e,t,n))).bind((({box:e,location:n})=>{const a=ta(),o=FT({win:a,box:e}),s="top"===n?IT(a,o,t):RT(a,o,t);return HT(s)})))))(a,t,n):((e,t,n)=>{const a=Qn(e),o=ta(),s=((e,t,n)=>{const a=t.win,o=t.box,s=FT(t);return se(e,(e=>{switch(e){case"bottom":return BT(o,n.bounds)?T.none():T.some(RT(a,s,n));case"top":return MT(o,n.bounds)?T.none():T.some(IT(a,s,n));default:return T.none()}})).getOr({location:"no-dock"})})(n.getModes(),{win:o,box:a},t);return"top"===s.location||"bottom"===s.location?(VT(e,a,t,n,s),HT(s)):T.none()})(a,t,n)},jT=(e,t,n)=>{n.setDocked(!1),U(["left","right","top","bottom","position"],(t=>Ut(e.element,t))),t.onUndocked(e)},ZT=(e,t,n,a)=>{const o="fixed"===a.position;n.setDocked(o),zl(e.element,a),(o?t.onDocked:t.onUndocked)(e)},qT=(e,t,n,a,o=!1)=>{t.contextual.each((t=>{t.lazyContext(e).each((s=>{const i=((e,t)=>e.y<t.bottom&&e.bottom>t.y)(s,a.bounds);i!==n.isVisible()&&(n.setVisible(i),o&&!i?(Wi(e.element,[t.fadeOutClass]),t.onHide(e)):(i?LT:PT)(e,t))}))}))},$T=(e,t,n,a,o)=>{qT(e,t,n,a,!0),ZT(e,t,n,o.positionCss)},WT=(e,t,n)=>{e.getSystem().isConnected()&&((e,t,n)=>{const a=t.lazyViewport(e);qT(e,t,n,a),zT(e,a,n).each((o=>{((e,t,n,a,o)=>{switch(o.morph){case"static":return jT(e,t,n);case"absolute":return ZT(e,t,n,o.positionCss);case"fixed":$T(e,t,n,a,o)}})(e,t,n,a,o)}))})(e,t,n)},KT=(e,t,n)=>{n.isDocked()&&((e,t,n)=>{const a=e.element;n.setDocked(!1);const o=t.lazyViewport(e);((e,t,n)=>{const a=e.element;return NT(a,t,n).bind((({box:e})=>UT(a,e,n)))})(e,o,n).each((a=>{switch(a.morph){case"static":jT(e,t,n);break;case"absolute":ZT(e,t,n,a.positionCss)}})),n.setVisible(!0),t.contextual.each((t=>{Ki(a,[t.fadeInClass,t.fadeOutClass,t.transitionClass]),t.onShow(e)})),WT(e,t,n)})(e,t,n)},GT=e=>(t,n,a)=>{const o=n.lazyViewport(t);((e,t,n,a)=>{const o=Qn(e),s=ta(),i=a(s,FT({win:s,box:o}),t);return"bottom"===i.location||"top"===i.location?(((e,t,n,a,o)=>{a.getInitialPos().fold((()=>VT(e,t,n,a,o)),(()=>v))})(e,o,t,n,i),HT(i)):T.none()})(t.element,o,a,e).each((e=>{$T(t,n,a,o,e)}))},YT=GT(IT),XT=GT(RT);var QT=Object.freeze({__proto__:null,refresh:WT,reset:KT,isDocked:(e,t,n)=>n.isDocked(),getModes:(e,t,n)=>n.getModes(),setModes:(e,t,n,a)=>n.setModes(a),forceDockToTop:YT,forceDockToBottom:XT}),JT=Object.freeze({__proto__:null,events:(e,t)=>Us([Ys(as(),((n,a)=>{e.contextual.each((e=>{$i(n.element,e.transitionClass)&&(Ki(n.element,[e.transitionClass,e.fadeInClass]),(t.isVisible()?e.onShown:e.onHidden)(n)),a.stop()}))})),js(_s(),((n,a)=>{WT(n,e,t)})),js(Ts(),((n,a)=>{WT(n,e,t)})),js(Cs(),((n,a)=>{KT(n,e,t)}))])}),eO=[wo("contextual",[so("fadeInClass"),so("fadeOutClass"),so("transitionClass"),ro("lazyContext"),Ir("onShow"),Ir("onShown"),Ir("onHide"),Ir("onHidden")]),Eo("lazyViewport",(()=>({bounds:ta(),optScrollEnv:T.none()}))),So("modes",["top","bottom"],Va),Ir("onDocked"),Ir("onUndocked")];const tO=Tl({fields:eO,name:"docking",active:JT,apis:QT,state:Object.freeze({__proto__:null,init:e=>{const t=To(!1),n=To(!0),a=ad(),o=To(e.modes);return Si({isDocked:t.get,setDocked:t.set,getInitialPos:a.get,setInitialPos:a.set,clearInitialPos:a.clear,isVisible:n.get,setVisible:n.set,getModes:o.get,setModes:o.set,readState:()=>`docked:  ${t.get()}, visible: ${n.get()}, modes: ${o.get().join(",")}`})}})}),nO=y(di("toolbar-height-change")),aO={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},oO="tox-tinymce--toolbar-sticky-on",sO="tox-tinymce--toolbar-sticky-off",iO=(e,t)=>I(tO.getModes(e),t),rO=e=>{const t=e.element;it(t).each((n=>{const a="padding-"+tO.getModes(e)[0];if(tO.isDocked(e)){const e=Qt(n);Pt(t,"width",e+"px"),Pt(n,a,(e=>qt(e)+(parseInt(It(e,"margin-top"),10)||0)+(parseInt(It(e,"margin-bottom"),10)||0))(t)+"px")}else Ut(t,"width"),Ut(n,a)}))},lO=(e,t)=>{t?(qi(e,aO.fadeOutClass),Wi(e,[aO.transitionClass,aO.fadeInClass])):(qi(e,aO.fadeInClass),Wi(e,[aO.fadeOutClass,aO.transitionClass]))},dO=(e,t)=>{const n=Ne(e.getContainer());t?(ji(n,oO),qi(n,sO)):(ji(n,sO),qi(n,oO))},cO=(e,t)=>{const n=ad(),a=t.getSink,o=e=>{a().each((t=>e(t.element)))},s=t=>{e.inline||rO(t),dO(e,tO.isDocked(t)),t.getSystem().broadcastOn([eu()],{}),a().each((e=>e.getSystem().broadcastOn([eu()],{})))},i=e.inline?[]:[Ml.config({channels:{[nO()]:{onReceive:rO}}})];return[rf.config({}),tO.config({contextual:{lazyContext:t=>{const n=qt(t.element),a=e.inline?e.getContentAreaContainer():e.getContainer();return T.from(a).map((a=>{const o=Qn(Ne(a));return GC(e,t.element).fold((()=>{const e=o.height-n,a=o.y+(iO(t,"top")?0:n);return Xn(o.x,a,o.width,e)}),(e=>{const a=ea(o,YC(e)),s=iO(t,"top")?a.y:a.y+n;return Xn(a.x,s,a.width,a.height-n)}))}))},onShow:()=>{o((e=>lO(e,!0)))},onShown:e=>{o((e=>Ki(e,[aO.transitionClass,aO.fadeInClass]))),n.get().each((t=>{((e,t)=>{const n=tt(t);Nl(n).filter((e=>!Je(t,e))).filter((t=>Je(t,Ne(n.dom.body))||et(e,t))).each((()=>Il(t)))})(e.element,t),n.clear()}))},onHide:e=>{((e,t)=>Vl(e).orThunk((()=>t().toOptional().bind((e=>Vl(e.element))))))(e.element,a).fold(n.clear,n.set),o((e=>lO(e,!1)))},onHidden:()=>{o((e=>Ki(e,[aO.transitionClass])))},...aO},lazyViewport:t=>GC(e,t.element).fold((()=>{const n=ta(),a=Lv(e),o=n.y+(iO(t,"top")?a:0),s=n.height-(iO(t,"bottom")?a:0);return{bounds:Xn(n.x,o,n.width,s),optScrollEnv:T.none()}}),(e=>({bounds:YC(e),optScrollEnv:T.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:Gt(e.element).top})}))),modes:[t.header.getDockingMode()],onDocked:s,onUndocked:s}),...i]};var uO=Object.freeze({__proto__:null,setup:(e,t,n)=>{e.inline||(t.header.isPositionedAtTop()||e.on("ResizeEditor",(()=>{n().each(tO.reset)})),e.on("ResizeWindow ResizeEditor",(()=>{n().each(rO)})),e.on("SkinLoaded",(()=>{n().each((e=>{tO.isDocked(e)?tO.reset(e):tO.refresh(e)}))})),e.on("FullscreenStateChanged",(()=>{n().each(tO.reset)}))),e.on("AfterScrollIntoView",(e=>{n().each((t=>{tO.refresh(t);const n=t.element;Np(n)&&((e,t)=>{const n=tt(t),a=ot(t).dom.innerHeight,o=jn(n),s=Ne(e.elm),i=Jn(s),r=Zt(s),l=i.y,d=l+r,c=Gt(t),u=Zt(t),m=c.top,p=m+u,h=Math.abs(m-o.top)<2,f=Math.abs(p-(o.top+a))<2;if(h&&l<p)Zn(o.left,l-u,n);else if(f&&d>m){const e=l-a+r+u;Zn(o.left,e,n)}})(e,n)}))})),e.on("PostRender",(()=>{dO(e,!1)}))},isDocked:e=>e().map(tO.isDocked).getOr(!1),getBehaviours:cO});const mO=La([ow,ao("items",Ma([Ia([sw,uo("items",Va)]),Va]))].concat(Bw)),pO=[fo("text"),fo("tooltip"),fo("icon"),_o("search",!1,Ma([Ua,La([fo("placeholder")])],(e=>c(e)?e?T.some({placeholder:T.none()}):T.none():T.some(e)))),ro("fetch"),Eo("onSetup",(()=>v))],hO=La([ow,...pO]),fO=e=>Wa("menubutton",hO,e),gO=La([ow,ww,bw,vw,Cw,uw,fw,xo("presets","normal",["normal","color","listpreview"]),Sw(1),pw,hw]);var vO=ym({factory:(e,t)=>{const n={focus:qh.focusIn,setMenus:(e,n)=>{const a=V(n,(e=>{const n={type:"menubutton",text:e.text,fetch:t=>{t(e.getItems())}},a=fO(n).mapError((e=>Ya(e))).getOrDie();return cS(a,"tox-mbtn",t.backstage,T.some("menuitem"))}));ef.set(e,a)}};return{uid:e.uid,dom:e.dom,components:[],behaviours:Sl([ef.config({}),tf("menubar-events",[Xs((t=>{e.onSetup(t)})),js(Ko(),((e,t)=>{br(e.element,".tox-mbtn--active").each((n=>{wr(t.event.target,".tox-mbtn").each((t=>{Je(n,t)||e.getSystem().getByDom(n).each((n=>{e.getSystem().getByDom(t).each((e=>{RC.expand(e),RC.close(n),rf.focus(e)}))}))}))}))})),js(Ss(),((e,t)=>{t.event.prevFocus.bind((t=>e.getSystem().getByDom(t).toOptional())).each((n=>{t.event.newFocus.bind((t=>e.getSystem().getByDom(t).toOptional())).each((e=>{RC.isOpen(n)&&(RC.expand(e),RC.close(n))}))}))}))]),qh.config({mode:"flow",selector:".tox-mbtn",onEscape:t=>(e.onEscape(t),T.some(!0))}),hD.config({})]),apis:n,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[no("dom"),no("uid"),no("onEscape"),no("backstage"),yo("onSetup",v)],apis:{focus:(e,t)=>{e.focus(t)},setMenus:(e,t,n)=>{e.setMenus(t,n)}}});const bO="container",wO=[wu("slotBehaviours",[])],yO=e=>"<alloy.field."+e+">",_O=(e,t)=>{const n=t=>cm(e),a=(t,n)=>(a,o)=>im(a,e,o).map((e=>t(e,o))).getOr(n),o=(e,t)=>"true"!==Et(e.element,"aria-hidden"),s=a(o,!1),i=a(((e,t)=>{if(o(e)){const n=e.element;Pt(n,"display","none"),xt(n,"aria-hidden","true"),Is(e,As(),{name:t,visible:!1})}})),r=(e=>(t,n)=>{U(n,(n=>e(t,n)))})(i),l=a(((e,t)=>{if(!o(e)){const n=e.element;Ut(n,"display"),Tt(n,"aria-hidden"),Is(e,As(),{name:t,visible:!0})}})),d={getSlotNames:n,getSlot:(t,n)=>im(t,e,n),isShowing:s,hideSlot:i,hideAllSlots:e=>r(e,n()),showSlot:l};return{uid:e.uid,dom:e.dom,components:t,behaviours:yu(e.slotBehaviours),apis:d}},CO=de({getSlotNames:(e,t)=>e.getSlotNames(t),getSlot:(e,t,n)=>e.getSlot(t,n),isShowing:(e,t,n)=>e.isShowing(t,n),hideSlot:(e,t,n)=>e.hideSlot(t,n),hideAllSlots:(e,t)=>e.hideAllSlots(t),showSlot:(e,t,n)=>e.showSlot(t,n)},(e=>ki(e))),DO={...CO,sketch:e=>{const t=(()=>{const e=[];return{slot:(t,n)=>(e.push(t),tm(bO,yO(t),n)),record:y(e)}})(),n=e(t),a=t.record(),o=V(a,(e=>$u({name:e,pname:yO(e)})));return gm(bO,wO,o,_O,n)}},xO=La([bw,ww,Eo("onShow",v),Eo("onHide",v),fw]),kO=e=>({element:()=>e.element.dom}),EO=(e,t)=>{const n=V(ie(t),(e=>{const n=t[e],a=Ka((e=>Wa("sidebar",xO,e))(n));return{name:e,getApi:kO,onSetup:a.onSetup,onShow:a.onShow,onHide:a.onHide}}));return V(n,(t=>{const a=To(v);return e.slot(t.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:uy([Oy(t,a),Ly(t,a),js(As(),((e,t)=>{const a=t.event,o=q(n,(e=>e.name===a.name));o.each((t=>{(a.visible?t.onShow:t.onHide)(t.getApi(e))}))}))])})}))},SO=e=>DO.sketch((t=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:EO(t,e),slotBehaviours:uy([Xs((e=>DO.hideAllSlots(e)))])}))),AO=(e,t)=>{xt(e,"role",t)},TO=e=>km.getCurrent(e).bind((e=>lS.isGrowing(e)||lS.hasGrown(e)?km.getCurrent(e).bind((e=>q(DO.getSlotNames(e),(t=>DO.isShowing(e,t))))):T.none())),OO=di("FixSizeEvent"),LO=di("AutoSizeEvent");var PO=Object.freeze({__proto__:null,block:(e,t,n,a)=>{xt(e.element,"aria-busy",!0);const o=t.getRoot(e).getOr(e),s=Sl([qh.config({mode:"special",onTab:()=>T.some(!0),onShiftTab:()=>T.some(!0)}),rf.config({})]),i=a(o,s),r=o.getSystem().build(i);ef.append(o,cr(r)),r.hasConfigured(qh)&&t.focus&&qh.focusIn(r),n.isBlocked()||t.onBlock(e),n.blockWith((()=>ef.remove(o,r)))},unblock:(e,t,n)=>{Tt(e.element,"aria-busy"),n.isBlocked()&&t.onUnblock(e),n.clear()},isBlocked:(e,t,n)=>n.isBlocked()}),MO=[Eo("getRoot",T.none),ko("focus",!0),Ir("onBlock"),Ir("onUnblock")];const BO=Tl({fields:MO,name:"blocking",apis:PO,state:Object.freeze({__proto__:null,init:()=>{const e=td((e=>e.destroy()));return Si({readState:e.isSet,blockWith:t=>{e.set({destroy:t})},clear:e.clear,isBlocked:e.isSet})}})}),IO=e=>km.getCurrent(e).each((e=>Il(e.element,!0))),RO=(e,t,n)=>{const a=To(!1),o=ad(),s=n=>{var o;a.get()&&(!(e=>"focusin"===e.type)(o=n)||!(o.composed?ne(o.composedPath()):T.from(o.target)).map(Ne).filter($e).exists((e=>$i(e,"mce-pastebin"))))&&(n.preventDefault(),IO(t()),e.editorManager.setActive(e))};e.inline||e.on("PreInit",(()=>{e.dom.bind(e.getWin(),"focusin",s),e.on("BeforeExecCommand",(e=>{"mcefocus"===e.command.toLowerCase()&&!0!==e.value&&s(e)}))}));const i=o=>{o!==a.get()&&(a.set(o),((e,t,n,a)=>{const o=t.element;if(((e,t)=>{const n="tabindex",a=`data-mce-${n}`;T.from(e.iframeElement).map(Ne).each((e=>{t?(St(e,n).each((t=>xt(e,a,t))),xt(e,n,-1)):(Tt(e,n),St(e,a).each((t=>{xt(e,n,t),Tt(e,a)})))}))})(e,n),n)BO.block(t,(e=>(t,n)=>({dom:{tag:"div",attributes:{"aria-label":e.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Gf('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(a)),Ut(o,"display"),Tt(o,"aria-hidden"),e.hasFocus()&&IO(t);else{const n=km.getCurrent(t).exists((e=>Fl(e.element)));BO.unblock(t),Pt(o,"display","none"),xt(o,"aria-hidden","true"),n&&e.focus()}})(e,t(),o,n.providers),((e,t)=>{e.dispatch("AfterProgressState",{state:t})})(e,o))};e.on("ProgressState",(t=>{if(o.on(clearTimeout),f(t.time)){const n=Wf.setEditorTimeout(e,(()=>i(t.state)),t.time);o.set(n)}else i(t.state),o.clear()}))},FO=(e,t,n)=>({within:e,extra:t,withinWidth:n}),NO=(e,t,n)=>{const a=Z(e,((e,t)=>((e,t)=>{const a=n(e);return T.some({element:e,start:t,finish:t+a,width:a})})(t,e.len).fold(y(e),(t=>({len:t.finish,list:e.list.concat([t])})))),{len:0,list:[]}).list,o=z(a,(e=>e.finish<=t)),s=j(o,((e,t)=>e+t.width),0);return{within:o,extra:a.slice(o.length),withinWidth:s}},VO=e=>V(e,(e=>e.element)),UO=(e,t)=>{const n=V(t,(e=>cr(e)));DT.setGroups(e,n)},HO=(e,t,n)=>{const a=t.builtGroups.get();if(0===a.length)return;const o=rm(e,t,"primary"),s=gC.getCoupled(e,"overflowGroup");Pt(o.element,"visibility","hidden");const i=a.concat([s]),r=se(i,(e=>Vl(e.element).bind((t=>e.getSystem().getByDom(t).toOptional()))));n([]),UO(o,i);const l=((e,t,n,a)=>{const o=((e,t,n)=>{const a=NO(t,e,n);return 0===a.extra.length?T.some(a):T.none()})(e,t,n).getOrThunk((()=>NO(t,e-n(a),n))),s=o.within,i=o.extra,r=o.withinWidth;return 1===i.length&&i[0].width<=n(a)?((e,t,n)=>{const a=VO(e.concat(t));return FO(a,[],n)})(s,i,r):i.length>=1?((e,t,n,a)=>{const o=VO(e).concat([n]);return FO(o,VO(t),a)})(s,i,a,r):((e,t,n)=>FO(VO(e),[],n))(s,0,r)})(Qt(o.element),t.builtGroups.get(),(e=>Qt(e.element)),s);0===l.extra.length?(ef.remove(o,s),n([])):(UO(o,l.within),n(l.extra)),Ut(o.element,"visibility"),Ht(o.element),r.each(rf.focus)},zO=y([wu("splitToolbarBehaviours",[gC]),eo("builtGroups",(()=>To([])))]),jO=y([Mr(["overflowToggledClass"]),vo("getOverflowBounds"),no("lazySink"),eo("overflowGroups",(()=>To([]))),Ir("onOpened"),Ir("onClosed")].concat(zO())),ZO=y([$u({factory:DT,schema:_T(),name:"primary"}),Wu({schema:_T(),name:"overflow"}),Wu({name:"overflow-button"}),Wu({name:"overflow-group"})]),qO=y(((e,t)=>{((e,t)=>{const n=Xt.max(e,t,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);Pt(e,"max-width",n+"px")})(e,Math.floor(t))})),$O=y([Mr(["toggledClass"]),no("lazySink"),ro("fetch"),vo("getBounds"),wo("fireDismissalEventInstead",[yo("event",ks())]),kd(),Ir("onToggled")]),WO=y([Wu({name:"button",overrides:e=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Sl([ff.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:e.onToggled})])})}),Wu({factory:DT,schema:_T(),name:"toolbar",overrides:e=>({toolbarBehaviours:Sl([qh.config({mode:"cyclic",onEscape:t=>(im(t,e,"button").each(rf.focus),T.none())})])})})]),KO=ad(),GO=(e,t)=>{const n=gC.getCoupled(e,"toolbarSandbox");Qc.isOpen(n)?Qc.close(n):Qc.open(n,t.toolbar())},YO=(e,t,n,a)=>{const o=n.getBounds.map((e=>e())),s=n.lazySink(e).getOrDie();Ec.positionWithinBounds(s,t,{anchor:{type:"hotspot",hotspot:e,layouts:a,overrides:{maxWidthFunction:qO()}}},o)},XO=(e,t,n,a,o)=>{DT.setGroups(t,o),YO(e,t,n,a),ff.on(e)},QO=_m({name:"FloatingToolbarButton",factory:(e,t,n,a)=>({...Kf.sketch({...a.button(),action:e=>{GO(e,a)},buttonBehaviours:Du({dump:a.button().buttonBehaviours},[gC.config({others:{toolbarSandbox:t=>((e,t,n)=>{const a=_r();return{dom:{tag:"div",attributes:{id:a.id}},behaviours:Sl([qh.config({mode:"special",onEscape:e=>(Qc.close(e),T.some(!0))}),Qc.config({onOpen:(o,s)=>{const i=KO.get().getOr(!1);n.fetch().get((o=>{XO(e,s,n,t.layouts,o),a.link(e.element),i||qh.focusIn(s)}))},onClose:()=>{ff.off(e),KO.get().getOr(!1)||rf.focus(e),a.unlink(e.element)},isPartOf:(t,n,a)=>Cr(n,a)||Cr(e,a),getAttachPoint:()=>n.lazySink(e).getOrDie()}),Ml.config({channels:{...au({isExtraPart:S,...n.fireDismissalEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({})}),...su({doReposition:()=>{Qc.getState(gC.getCoupled(e,"toolbarSandbox")).each((a=>{YO(e,a,n,t.layouts)}))}})}})])}})(t,n,e)}})])}),apis:{setGroups:(t,a)=>{Qc.getState(gC.getCoupled(t,"toolbarSandbox")).each((o=>{XO(t,o,e,n.layouts,a)}))},reposition:t=>{Qc.getState(gC.getCoupled(t,"toolbarSandbox")).each((a=>{YO(t,a,e,n.layouts)}))},toggle:e=>{GO(e,a)},toggleWithoutFocusing:e=>{((e,t)=>{KO.set(!0),GO(e,t),KO.clear()})(e,a)},getToolbar:e=>Qc.getState(gC.getCoupled(e,"toolbarSandbox")),isOpen:e=>Qc.isOpen(gC.getCoupled(e,"toolbarSandbox"))}}),configFields:$O(),partFields:WO(),apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggleWithoutFocusing(t)},getToolbar:(e,t)=>e.getToolbar(t),isOpen:(e,t)=>e.isOpen(t)}}),JO=y([no("items"),Mr(["itemSelector"]),wu("tgroupBehaviours",[qh])]),eL=y([Gu({name:"items",unit:"item"})]),tL=_m({name:"ToolbarGroup",configFields:JO(),partFields:eL(),factory:(e,t,n,a)=>({uid:e.uid,dom:e.dom,components:t,behaviours:_u(e.tgroupBehaviours,[qh.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),nL=e=>V(e,(e=>cr(e))),aL=(e,t,n)=>{HO(e,n,(a=>{n.overflowGroups.set(a),t.getOpt(e).each((e=>{QO.setGroups(e,nL(a))}))}))},oL=_m({name:"SplitFloatingToolbar",configFields:jO(),partFields:ZO(),factory:(e,t,n,a)=>{const o=Yf(QO.sketch({fetch:()=>_C((t=>{t(nL(e.overflowGroups.get()))})),layouts:{onLtr:()=>[dl,ll],onRtl:()=>[ll,dl],onBottomLtr:()=>[ul,cl],onBottomRtl:()=>[cl,ul]},getBounds:n.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:a["overflow-button"](),toolbar:a.overflow()},onToggled:(t,n)=>e[n?"onOpened":"onClosed"](t)}));return{uid:e.uid,dom:e.dom,components:t,behaviours:_u(e.splitToolbarBehaviours,[gC.config({others:{overflowGroup:()=>tL.sketch({...a["overflow-group"](),items:[o.asSpec()]})}})]),apis:{setGroups:(t,n)=>{e.builtGroups.set(V(n,t.getSystem().build)),aL(t,o,e)},refresh:t=>aL(t,o,e),toggle:e=>{o.getOpt(e).each((e=>{QO.toggle(e)}))},toggleWithoutFocusing:e=>{o.getOpt(e).each(QO.toggleWithoutFocusing)},isOpen:e=>o.getOpt(e).map(QO.isOpen).getOr(!1),reposition:e=>{o.getOpt(e).each((e=>{QO.reposition(e)}))},getOverflow:e=>o.getOpt(e).bind(QO.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},refresh:(e,t)=>{e.refresh(t)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t),getOverflow:(e,t)=>e.getOverflow(t)}}),sL=y([Mr(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Ir("onOpened"),Ir("onClosed")].concat(zO())),iL=y([$u({factory:DT,schema:_T(),name:"primary"}),$u({factory:DT,schema:_T(),name:"overflow",overrides:e=>({toolbarBehaviours:Sl([lS.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:t=>{im(t,e,"overflow-button").each((e=>{ff.off(e),rf.focus(e)})),e.onClosed(t)},onGrown:t=>{qh.focusIn(t),e.onOpened(t)},onStartGrow:t=>{im(t,e,"overflow-button").each(ff.on)}}),qh.config({mode:"acyclic",onEscape:t=>(im(t,e,"overflow-button").each(rf.focus),T.some(!0))})])})}),Wu({name:"overflow-button",overrides:e=>({buttonBehaviours:Sl([ff.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),Wu({name:"overflow-group"})]),rL=(e,t)=>{im(e,t,"overflow-button").bind((()=>im(e,t,"overflow"))).each((n=>{lL(e,t),lS.toggleGrow(n)}))},lL=(e,t)=>{im(e,t,"overflow").each((n=>{HO(e,t,(e=>{const t=V(e,(e=>cr(e)));DT.setGroups(n,t)})),im(e,t,"overflow-button").each((e=>{lS.hasGrown(n)&&ff.on(e)})),lS.refresh(n)}))},dL=_m({name:"SplitSlidingToolbar",configFields:sL(),partFields:iL(),factory:(e,t,n,a)=>{const o="alloy.toolbar.toggle";return{uid:e.uid,dom:e.dom,components:t,behaviours:_u(e.splitToolbarBehaviours,[gC.config({others:{overflowGroup:e=>tL.sketch({...a["overflow-group"](),items:[Kf.sketch({...a["overflow-button"](),action:t=>{Bs(e,o)}})]})}}),tf("toolbar-toggle-events",[js(o,(t=>{rL(t,e)}))])]),apis:{setGroups:(t,n)=>{((t,n)=>{const a=V(n,t.getSystem().build);e.builtGroups.set(a)})(t,n),lL(t,e)},refresh:t=>lL(t,e),toggle:t=>rL(t,e),isOpen:t=>((e,t)=>im(e,t,"overflow").map(lS.hasGrown).getOr(!1))(t,e)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},refresh:(e,t)=>{e.refresh(t)},toggle:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t)}}),cL=e=>{const t=e.title.fold((()=>({})),(e=>({attributes:{title:e}})));return{dom:{tag:"div",classes:["tox-toolbar__group"],...t},components:[tL.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Sl([hD.config({}),rf.config({})])}},uL=e=>tL.sketch(cL(e)),mL=(e,t)=>{const n=Xs((t=>{const n=V(e.initGroups,uL);DT.setGroups(t,n)}));return Sl([Ay(e.providers.isDisabled),ky(),qh.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),tf("toolbar-events",[n])])},pL=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":cL({title:T.none(),items:[]}),"overflow-button":RS({name:"more",icon:T.some("more-drawer"),enabled:!0,tooltip:T.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:T.none(),borderless:!1},T.none(),e.providers)},splitToolbarBehaviours:mL(e,t)}},hL=e=>{const t=pL(e),n=oL.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return oL.sketch({...t,lazySink:e.getSink,getOverflowBounds:()=>{const t=e.moreDrawerData.lazyHeader().element,n=Jn(t),a=at(t),o=Jn(a),s=Math.max(a.dom.scrollHeight,o.height);return Xn(n.x+4,o.y,n.width-8,s)},parts:{...t.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}},components:[n],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:t=>e.onToggled(t,!0),onClosed:t=>e.onToggled(t,!1)})},fL=e=>{const t=dL.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=dL.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),a=pL(e);return dL.sketch({...a,components:[t,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:t=>{t.getSystem().broadcastOn([nO()],{type:"opened"}),e.onToggled(t,!0)},onClosed:t=>{t.getSystem().broadcastOn([nO()],{type:"closed"}),e.onToggled(t,!1)}})},gL=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return DT.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===sv.scrolling?["tox-toolbar--scrolling"]:[])},components:[DT.parts.groups({})],toolbarBehaviours:mL(e,t)})},vL=[vw,bw,fo("tooltip"),xo("buttonType","secondary",["primary","secondary"]),ko("borderless",!1),ro("onAction")],bL={button:[...vL,rw,io("type",["button"])],togglebutton:[...vL,ko("active",!1),io("type",["togglebutton"])]},wL=[io("type",["group"]),So("buttons",[],Xa("type",bL))],yL=Xa("type",{...bL,group:wL}),_L=La([So("buttons",[],yL),ro("onShow"),ro("onHide")]),CL=(e,t)=>((e,t)=>{var n,a;const o="togglebutton"===e.type,s=e.icon.map((e=>kE(e,t.icons))).map(Yf),i={...e,name:o?e.text.getOr(e.icon.getOr("")):null!==(n=e.text)&&void 0!==n?n:e.icon.getOr(""),primary:"primary"===e.buttonType,buttonType:T.from(e.buttonType),tooltip:e.tooltip,icon:e.icon,enabled:!0,borderless:e.borderless},r=FS(null!==(a=e.buttonType)&&void 0!==a?a:"secondary"),l=o?e.text.map(t.translate):T.some(t.translate(e.text)),d=l.map(sr),c=i.tooltip.or(l).map((e=>({"aria-label":t.translate(e),title:t.translate(e)}))).getOr({}),u=s.map((e=>e.asSpec())),m=By([u,d]),p=e.icon.isSome()&&d.isSome(),h={tag:"button",classes:r.concat(...e.icon.isSome()&&!p?["tox-button--icon"]:[]).concat(...p?["tox-button--icon-and-text"]:[]).concat(...e.borderless?["tox-button--naked"]:[]).concat(..."togglebutton"===e.type&&e.active?["tox-button--enabled"]:[]),attributes:c},f=IS(i,T.some((n=>{const a=e=>{s.map((a=>a.getOpt(n).each((n=>{ef.set(n,[kE(e,t.icons)])}))))};return o?e.onAction({setIcon:a,setActive:e=>{const t=n.element;e?(ji(t,"tox-button--enabled"),xt(t,"aria-pressed",!0)):(qi(t,"tox-button--enabled"),Tt(t,"aria-pressed"))},isActive:()=>$i(n.element,"tox-button--enabled")}):"button"===e.type?e.onAction({setIcon:a}):void 0})),[],h,m,t);return Kf.sketch(f)})(e,t),DL=Pn().deviceType,xL=DL.isPhone(),kL=DL.isTablet();var EL=_m({name:"silver.View",configFields:[no("viewConfig")],partFields:[Ku({factory:{sketch:e=>{let t=!1;const n=V(e.buttons,(n=>"group"===n.type?(t=!0,((e,t)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:V(e.buttons,(e=>CL(e,t)))}))(n,e.providers)):CL(n,e.providers)));return{uid:e.uid,dom:{tag:"div",classes:[t?"tox-view__toolbar":"tox-view__header",...xL||kL?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Sl([rf.config({}),qh.config({mode:"flow",selector:"button, .tox-button",focusInside:bp.OnEnterOrSpaceMode})]),components:t?n:[rD.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),rD.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:n})]}}},schema:[no("buttons"),no("providers")],name:"header"}),Ku({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(e,t,n,a)=>{const o={getPane:t=>fT.getPart(t,e,"pane"),getOnShow:t=>e.viewConfig.onShow,getOnHide:t=>e.viewConfig.onHide};return{uid:e.uid,dom:e.dom,components:t,apis:o}},apis:{getPane:(e,t)=>e.getPane(t),getOnShow:(e,t)=>e.getOnShow(t),getOnHide:(e,t)=>e.getOnHide(t)}});const SL=(e,t,n)=>he(t,((t,a)=>{const o=Ka(Wa("view",_L,t));return e.slot(a,EL.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:o,components:[...o.buttons.length>0?[EL.parts.header({buttons:o.buttons,providers:n})]:[],EL.parts.pane({})]}))})),AL=(e,t)=>DO.sketch((n=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:SL(n,e,t),slotBehaviours:uy([Xs((e=>DO.hideAllSlots(e)))])}))),TL=e=>q(DO.getSlotNames(e),(t=>DO.isShowing(e,t))),OL=(e,t,n)=>{DO.getSlot(e,t).each((e=>{EL.getPane(e).each((t=>{var a;n(e)((a=t.element.dom,{getContainer:y(a)}))}))}))};var LL=ym({factory:(e,t)=>{const n={setViews:(e,n)=>{ef.set(e,[AL(n,t.backstage.shared.providers)])},whichView:e=>km.getCurrent(e).bind(TL),toggleView:(e,t,n,a)=>km.getCurrent(e).exists((o=>{const s=TL(o),i=s.exists((e=>a===e)),r=DO.getSlot(o,a).isSome();return r&&(DO.hideAllSlots(o),i?((e=>{const t=e.element;Pt(t,"display","none"),xt(t,"aria-hidden","true")})(e),t()):(n(),(e=>{const t=e.element;Ut(t,"display"),Tt(t,"aria-hidden")})(e),DO.showSlot(o,a),((e,t)=>{OL(e,t,EL.getOnShow)})(o,a)),s.each((e=>((e,t)=>OL(e,t,EL.getOnHide))(o,e)))),r}))};return{uid:e.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Sl([ef.config({}),km.config({find:e=>{const t=ef.contents(e);return ne(t)}})]),apis:n}},name:"silver.ViewWrapper",configFields:[no("backstage")],apis:{setViews:(e,t,n)=>e.setViews(t,n),toggleView:(e,t,n,a,o)=>e.toggleView(t,n,a,o),whichView:(e,t)=>e.whichView(t)}});const PL=gT.optional({factory:vO,name:"menubar",schema:[no("backstage")]}),ML=gT.optional({factory:{sketch:e=>yT.sketch({uid:e.uid,dom:e.dom,listBehaviours:Sl([qh.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>gL({type:e.type,uid:di("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:()=>(e.onEscape(),T.some(!0))}),setupItem:(e,t,n,a)=>{DT.setGroups(t,n)},shell:!0})},name:"multiple-toolbar",schema:[no("dom"),no("onEscape")]}),BL=gT.optional({factory:{sketch:e=>{const t=(e=>e.type===sv.sliding?fL:e.type===sv.floating?hL:gL)(e);return t({type:e.type,uid:e.uid,onEscape:()=>(e.onEscape(),T.some(!0)),onToggled:(t,n)=>e.onToolbarToggled(n),cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes})}},name:"toolbar",schema:[no("dom"),no("onEscape"),no("getSink")]}),IL=gT.optional({factory:{sketch:e=>{const t=e.editor,n=e.sticky?cO:ET;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:Sl(n(t,e.sharedBackstage))}}},name:"header",schema:[no("dom")]}),RL=gT.optional({factory:{sketch:e=>({uid:e.uid,dom:e.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"⚡️Upgrade"}}]})},name:"promotion",schema:[no("dom")]}),FL=gT.optional({name:"socket",schema:[no("dom")]}),NL=gT.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Sl([hD.config({}),rf.config({}),lS.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:e=>{km.getCurrent(e).each(DO.hideAllSlots),Bs(e,LO)},onGrown:e=>{Bs(e,LO)},onStartGrow:e=>{Is(e,OO,{width:Ft(e.element,"width").getOr("")})},onStartShrink:e=>{Is(e,OO,{width:Qt(e.element)+"px"})}}),ef.config({}),km.config({find:e=>{const t=ef.contents(e);return ne(t)}})])}],behaviours:Sl([Hk(0),tf("sidebar-sliding-events",[js(OO,((e,t)=>{Pt(e.element,"width",t.event.width)})),js(LO,((e,t)=>{Ut(e.element,"width")}))])])})},name:"sidebar",schema:[no("dom")]}),VL=gT.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Sl([ef.config({}),BO.config({focus:!1}),km.config({find:e=>ne(e.components())})]),components:[]})},name:"throbber",schema:[no("dom")]}),UL=gT.optional({factory:LL,name:"viewWrapper",schema:[no("backstage")]}),HL=gT.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:e.components})},name:"editorContainer",schema:[]});var zL=_m({name:"OuterContainer",factory:(e,t,n)=>{let a=!1;const o={getSocket:t=>fT.getPart(t,e,"socket"),setSidebar:(t,n,a)=>{fT.getPart(t,e,"sidebar").each((e=>((e,t,n)=>{km.getCurrent(e).each((a=>{ef.set(a,[SO(t)]);const o=null==n?void 0:n.toLowerCase();s(o)&&be(t,o)&&km.getCurrent(a).each((t=>{DO.showSlot(t,o),lS.immediateGrow(a),Ut(a.element,"width"),AO(e.element,"region")}))}))})(e,n,a)))},toggleSidebar:(t,n)=>{fT.getPart(t,e,"sidebar").each((e=>((e,t)=>{km.getCurrent(e).each((n=>{km.getCurrent(n).each((a=>{lS.hasGrown(n)?DO.isShowing(a,t)?(lS.shrink(n),AO(e.element,"presentation")):(DO.hideAllSlots(a),DO.showSlot(a,t),AO(e.element,"region")):(DO.hideAllSlots(a),DO.showSlot(a,t),lS.grow(n),AO(e.element,"region"))}))}))})(e,n)))},whichSidebar:t=>fT.getPart(t,e,"sidebar").bind(TO).getOrNull(),getHeader:t=>fT.getPart(t,e,"header"),getToolbar:t=>fT.getPart(t,e,"toolbar"),setToolbar:(t,n)=>{fT.getPart(t,e,"toolbar").each((e=>{const t=V(n,uL);e.getApis().setGroups(e,t)}))},setToolbars:(t,n)=>{fT.getPart(t,e,"multiple-toolbar").each((e=>{const t=V(n,(e=>V(e,uL)));yT.setItems(e,t)}))},refreshToolbar:t=>{fT.getPart(t,e,"toolbar").each((e=>e.getApis().refresh(e)))},toggleToolbarDrawer:t=>{fT.getPart(t,e,"toolbar").each((e=>{De(e.getApis().toggle,(t=>t(e)))}))},toggleToolbarDrawerWithoutFocusing:t=>{fT.getPart(t,e,"toolbar").each((e=>{De(e.getApis().toggleWithoutFocusing,(t=>t(e)))}))},isToolbarDrawerToggled:t=>fT.getPart(t,e,"toolbar").bind((e=>T.from(e.getApis().isOpen).map((t=>t(e))))).getOr(!1),getThrobber:t=>fT.getPart(t,e,"throbber"),focusToolbar:t=>{fT.getPart(t,e,"toolbar").orThunk((()=>fT.getPart(t,e,"multiple-toolbar"))).each((e=>{qh.focusIn(e)}))},setMenubar:(t,n)=>{fT.getPart(t,e,"menubar").each((e=>{vO.setMenus(e,n)}))},focusMenubar:t=>{fT.getPart(t,e,"menubar").each((e=>{vO.focus(e)}))},setViews:(t,n)=>{fT.getPart(t,e,"viewWrapper").each((e=>{LL.setViews(e,n)}))},toggleView:(t,n)=>fT.getPart(t,e,"viewWrapper").exists((e=>LL.toggleView(e,(()=>o.showMainView(t)),(()=>o.hideMainView(t)),n))),whichView:t=>fT.getPart(t,e,"viewWrapper").bind(LL.whichView).getOrNull(),hideMainView:t=>{a=o.isToolbarDrawerToggled(t),a&&o.toggleToolbarDrawer(t),fT.getPart(t,e,"editorContainer").each((e=>{const t=e.element;Pt(t,"display","none"),xt(t,"aria-hidden","true")}))},showMainView:t=>{a&&o.toggleToolbarDrawer(t),fT.getPart(t,e,"editorContainer").each((e=>{const t=e.element;Ut(t,"display"),Tt(t,"aria-hidden")}))}};return{uid:e.uid,dom:e.dom,components:t,apis:o,behaviours:e.behaviours}},configFields:[no("dom"),no("behaviours")],partFields:[IL,PL,BL,ML,FL,NL,RL,VL,UL,HL],apis:{getSocket:(e,t)=>e.getSocket(t),setSidebar:(e,t,n,a)=>{e.setSidebar(t,n,a)},toggleSidebar:(e,t,n)=>{e.toggleSidebar(t,n)},whichSidebar:(e,t)=>e.whichSidebar(t),getHeader:(e,t)=>e.getHeader(t),getToolbar:(e,t)=>e.getToolbar(t),setToolbar:(e,t,n)=>{e.setToolbar(t,n)},setToolbars:(e,t,n)=>{e.setToolbars(t,n)},refreshToolbar:(e,t)=>e.refreshToolbar(t),toggleToolbarDrawer:(e,t)=>{e.toggleToolbarDrawer(t)},toggleToolbarDrawerWithoutFocusing:(e,t)=>{e.toggleToolbarDrawerWithoutFocusing(t)},isToolbarDrawerToggled:(e,t)=>e.isToolbarDrawerToggled(t),getThrobber:(e,t)=>e.getThrobber(t),setMenubar:(e,t,n)=>{e.setMenubar(t,n)},focusMenubar:(e,t)=>{e.focusMenubar(t)},focusToolbar:(e,t)=>{e.focusToolbar(t)},setViews:(e,t,n)=>{e.setViews(t,n)},toggleView:(e,t,n)=>e.toggleView(t,n),whichView:(e,t)=>e.whichView(t)}});const jL={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},ZL=e=>e.split(" "),qL=(e,t)=>{const n={...jL,...t.menus},a=ie(t.menus).length>0,o=void 0===t.menubar||!0===t.menubar?ZL("file edit view insert format tools table help"):ZL(!1===t.menubar?"":t.menubar),i=z(o,(e=>{const n=be(jL,e);return a?n||ve(t.menus,e).exists((e=>be(e,"items"))):n})),r=V(i,(a=>{const o=n[a];return((e,t,n)=>{const a=xv(n).split(/[ ,]/);return{text:e.title,getItems:()=>K(e.items,(e=>{const n=e.toLowerCase();return 0===n.trim().length||R(a,(e=>e===n))?[]:"separator"===n||"|"===n?[{type:"separator"}]:t.menuItems[n]?[t.menuItems[n]]:[]}))}})({title:o.title,items:ZL(o.items)},t,e)}));return z(r,(e=>e.getItems().length>0&&R(e.getItems(),(e=>s(e)||"separator"!==e.type))))},$L=(e,t,n)=>(e.on("remove",(()=>n.unload(t))),n.load(t)),WL=(e,t,n,a)=>(e.on("remove",(()=>a.unloadRawCss(t))),a.loadRawCss(t,n)),KL=async(e,t)=>{const n="ui/"+eb(e).getOr("default")+"/skin.css",a=tinymce.Resource.get(n);return s(a)?Promise.resolve(WL(e,n,a,e.ui.styleSheetLoader)):$L(e,t+"/skin.min.css",e.ui.styleSheetLoader)},GL=async(e,t)=>{var n;if(n=Ne(e.getElement()),bt(n).isSome()){const n="ui/"+eb(e).getOr("default")+"/skin.shadowdom.css",a=tinymce.Resource.get(n);return s(a)?(WL(e,n,a,rv.DOM.styleSheetLoader),Promise.resolve()):$L(e,t+"/skin.shadowdom.min.css",rv.DOM.styleSheetLoader)}},YL=(e,t)=>(async(e,t)=>{eb(t).fold((()=>{const n=Jv(t);n&&t.contentCSS.push(n+(e?"/content.inline":"/content")+".min.css")}),(n=>{const a="ui/"+n+(e?"/content.inline":"/content")+".css",o=tinymce.Resource.get(a);if(s(o))WL(t,a,o,t.ui.styleSheetLoader);else{const n=Jv(t);n&&t.contentCSS.push(n+(e?"/content.inline":"/content")+".min.css")}}));const n=Jv(t);if(!Xv(t)&&s(n))return Promise.all([KL(t,n),GL(t,n)]).then()})(e,t).then((e=>{const t=()=>{e._skinLoaded=!0,(e=>{e.dispatch("SkinLoaded")})(e)};return()=>{e.initialized?t():e.on("init",t)}})(t),((e,t)=>()=>((e,t)=>{e.dispatch("SkinLoadError",t)})(e,{message:"Skin could not be loaded"}))(t)),XL=D(YL,!1),QL=D(YL,!0),JL=(e,t,n)=>e.translate([t,e.translate(n)]),eP=(e,t)=>{const n=(n,o,s,i)=>{const r=e.shared.providers.translate(n.title);if("separator"===n.type)return T.some({type:"separator",text:r});if("submenu"===n.type){const e=K(n.getStyleItems(),(e=>a(e,o,i)));return 0===o&&e.length<=0?T.none():T.some({type:"nestedmenuitem",text:r,enabled:e.length>0,getSubmenuItems:()=>K(n.getStyleItems(),(e=>a(e,o,i)))})}return T.some({type:"togglemenuitem",text:r,icon:n.icon,active:n.isSelected(i),enabled:!s,onAction:t.onAction(n),...n.getStylePreview().fold((()=>({})),(e=>({meta:{style:e}})))})},a=(e,a,o)=>{const s="formatter"===e.type&&t.isInvalid(e);return 0===a?s?[]:n(e,a,!1,o).toArray():n(e,a,s,o).toArray()},o=e=>{const n=t.getCurrentValue(),o=t.shouldHide?0:1;return K(e,(e=>a(e,o,n)))};return{validateItems:o,getFetch:(e,t)=>(n,a)=>{const s=t(),i=o(s);a(ME(i,vb.CLOSE_ON_EXECUTE,e,{isHorizontalMenu:!1,search:T.none()}))}}},tP=(e,t,n)=>{const a=n.dataset,o="basic"===a.type?()=>V(a.data,(e=>zA(e,n.isSelectedFor,n.getPreviewFor))):a.getData;return{items:eP(t,n),getStyleItems:o}},nP=(e,t,n,a,o)=>{const{items:s,getStyleItems:i}=tP(0,t,n);return TE({text:n.icon.isSome()?T.none():n.text,icon:n.icon,tooltip:T.from(n.tooltip),role:T.none(),fetch:s.getFetch(t,i),onSetup:t=>{const s=n=>t.setTooltip(JL(e,a,n.value));return e.on(o,s),w_(C_(e,"NodeChange",(t=>{const a=t.getComponent();n.updateText(a),Vm.set(t.getComponent(),!e.selection.isEditable())}))(t),(()=>e.off(o,s)))},getApi:e=>({getComponent:y(e),setTooltip:n=>{const a=t.shared.providers.translate(n);kt(e.element,{"aria-label":a,title:a})}}),columns:1,presets:"normal",classes:n.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",t.shared)};var aP;!function(e){e[e.SemiColon=0]="SemiColon",e[e.Space=1]="Space"}(aP||(aP={}));const oP=(e,t,n)=>{const a=(o=((e,t)=>t===aP.SemiColon?e.replace(/;$/,"").split(";"):e.split(" "))(e.options.get(t),n),V(o,(e=>{let t=e,n=e;const a=e.split("=");return a.length>1&&(t=a[0],n=a[1]),{title:t,format:n}})));var o;return{type:"basic",data:a}},sP="Alignment {0}",iP="left",rP=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],lP=e=>{const t={type:"basic",data:rP};return{tooltip:JL(e,sP,iP),text:T.none(),icon:T.some("align-left"),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:T.none,getPreviewFor:e=>T.none,onAction:t=>()=>q(rP,(e=>e.format===t.format)).each((t=>e.execCommand(t.command))),updateText:t=>{const n=q(rP,(t=>e.formatter.match(t.format))).fold(y(iP),(e=>e.title.toLowerCase()));Is(t,AE,{icon:`align-${n}`}),((e,t)=>{e.dispatch("AlignTextUpdate",t)})(e,{value:n})},dataset:t,shouldHide:!1,isInvalid:t=>!e.formatter.canApply(t.format)}},dP=(e,t)=>{const n=t(),a=V(n,(e=>e.format));return T.from(e.formatter.closest(a)).bind((e=>q(n,(t=>t.format===e)))).orThunk((()=>xe(e.formatter.match("p"),{title:"Paragraph",format:"p"})))},cP="Block {0}",uP="Paragraph",mP=e=>{const t=oP(e,"block_formats",aP.SemiColon);return{tooltip:JL(e,cP,uP),text:T.some(uP),icon:T.none(),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:T.none,getPreviewFor:t=>()=>{const n=e.formatter.get(t);return n?T.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):T.none()},onAction:D_(e),updateText:n=>{const a=dP(e,(()=>t.data)).fold(y(uP),(e=>e.title));Is(n,SE,{text:a}),((e,t)=>{e.dispatch("BlocksTextUpdate",t)})(e,{value:a})},dataset:t,shouldHide:!1,isInvalid:t=>!e.formatter.canApply(t.format)}},pP="Font {0}",hP="System Font",fP=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],gP=e=>{const t=e.split(/\s*,\s*/);return V(t,(e=>e.replace(/^['"]+|['"]+$/g,"")))},vP=(e,t)=>t.length>0&&G(t,(t=>e.indexOf(t.toLowerCase())>-1)),bP=e=>{const t=()=>{const t=e=>e?gP(e)[0]:"",a=e.queryCommandValue("FontName"),o=n.data,s=a?a.toLowerCase():"",i=Yv(e),r=q(o,(e=>{const n=e.format;return n.toLowerCase()===s||t(n).toLowerCase()===t(s).toLowerCase()})).orThunk((()=>xe(((e,t)=>{if(0===e.indexOf("-apple-system")||t.length>0){const n=gP(e.toLowerCase());return vP(n,fP)||vP(n,t)}return!1})(s,i),{title:hP,format:s})));return{matchOpt:r,font:a}},n=oP(e,"font_family_formats",aP.SemiColon);return{tooltip:JL(e,pP,hP),text:T.some(hP),icon:T.none(),isSelectedFor:e=>t=>t.exists((t=>t.format===e)),getCurrentValue:()=>{const{matchOpt:e}=t();return e},getPreviewFor:e=>()=>T.some({tag:"div",styles:-1===e.indexOf("dings")?{"font-family":e}:{}}),onAction:t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("FontName",!1,t.format)}))},updateText:n=>{const{matchOpt:a,font:o}=t(),s=a.fold(y(o),(e=>e.title));Is(n,SE,{text:s}),((e,t)=>{e.dispatch("FontFamilyTextUpdate",t)})(e,{value:s})},dataset:n,shouldHide:!1,isInvalid:S}},wP={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},yP=(()=>{const e="[0-9]+",t="[eE][+-]?"+e,n=e=>`(?:${e})?`,a=["Infinity",e+"\\."+n(e)+n(t),"\\."+e+n(t),e+n(t)].join("|");return new RegExp(`^([+-]?(?:${a}))(.*)$`)})(),_P=(e,t)=>T.from(yP.exec(e)).bind((e=>{const n=Number(e[1]),a=e[2];return((e,t)=>R(t,(t=>R(wP[t],(t=>e===t)))))(a,t)?T.some({value:n,unit:a}):T.none()})),CP={tab:y(9),escape:y(27),enter:y(13),backspace:y(8),delete:y(46),left:y(37),up:y(38),right:y(39),down:y(40),space:y(32),home:y(36),end:y(35),pageUp:y(33),pageDown:y(34)},DP="Font size {0}",xP="12pt",kP={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},EP={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},SP=(e,t)=>/[0-9.]+px$/.test(e)?((e,t)=>{const n=Math.pow(10,t);return Math.round(e*n)/n})(72*parseInt(e,10)/96,t||0)+"pt":ve(EP,e).getOr(e),AP=e=>ve(kP,e).getOr(""),TP=e=>{const t=()=>{let t=T.none();const n=a.data,o=e.queryCommandValue("FontSize");if(o)for(let e=3;t.isNone()&&e>=0;e--){const a=SP(o,e),s=AP(a);t=q(n,(e=>e.format===o||e.format===a||e.format===s))}return{matchOpt:t,size:o}},n=y(T.none),a=oP(e,"font_size_formats",aP.Space);return{tooltip:JL(e,DP,xP),text:T.some(xP),icon:T.none(),isSelectedFor:e=>t=>t.exists((t=>t.format===e)),getPreviewFor:n,getCurrentValue:()=>{const{matchOpt:e}=t();return e},onAction:t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("FontSize",!1,t.format)}))},updateText:n=>{const{matchOpt:a,size:o}=t(),s=a.fold(y(o),(e=>e.title));Is(n,SE,{text:s}),((e,t)=>{e.dispatch("FontSizeTextUpdate",t)})(e,{value:s})},dataset:a,shouldHide:!1,isInvalid:S}},OP="Format {0}",LP=(e,t)=>{const n="Paragraph";return{tooltip:JL(e,OP,n),text:T.some(n),icon:T.none(),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:T.none,getPreviewFor:t=>()=>{const n=e.formatter.get(t);return void 0!==n?T.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):T.none()},onAction:D_(e),updateText:t=>{const a=e=>FA(e)?K(e.items,a):NA(e)?[{title:e.title,format:e.format}]:[],o=K(HA(e),a),s=dP(e,y(o)).fold(y(n),(e=>e.title));Is(t,SE,{text:s}),((e,t)=>{e.dispatch("StylesTextUpdate",t)})(e,{value:s})},shouldHide:Cv(e),isInvalid:t=>!e.formatter.canApply(t.format),dataset:t}},PP=y([no("toggleClass"),no("fetch"),Fr("onExecute"),yo("getHotspot",T.some),yo("getAnchorOverrides",y({})),kd(),Fr("onItemExecute"),mo("lazySink"),no("dom"),Ir("onOpen"),wu("splitDropdownBehaviours",[gC,qh,rf]),yo("matchWidth",!1),yo("useMinWidth",!1),yo("eventOrder",{}),mo("role")].concat(MC())),MP=$u({factory:Kf,schema:[no("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Sl([rf.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each(Rs)},buttonBehaviours:Sl([ff.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])})}),BP=$u({factory:Kf,schema:[no("dom")],name:"button",defaults:()=>({buttonBehaviours:Sl([rf.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each((n=>{e.onExecute(n,t)}))}})}),IP=y([MP,BP,Ku({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[no("text")],name:"aria-descriptor"}),Wu({schema:[Pr()],name:"menu",defaults:e=>({onExecute:(t,n)=>{t.getSystem().getByUid(e.uid).each((a=>{e.onItemExecute(a,t,n)}))}})}),xC()]),RP=_m({name:"SplitDropdown",configFields:PP(),partFields:IP(),factory:(e,t,n,a)=>{const o=e=>{km.getCurrent(e).each((e=>{Gm.highlightFirst(e),qh.focusIn(e)}))},s=t=>{AC(e,_,t,a,o,jf.HighlightMenuAndItem).get(v)},i=t=>{const n=rm(t,e,"button");return Rs(n),T.some(!0)},r={...Us([Xs(((t,n)=>{im(t,e,"aria-descriptor").each((e=>{const n=di("aria");xt(e.element,"id",n),xt(t.element,"aria-describedby",n)}))}))]),...vf(T.some(s))},l={repositionMenus:e=>{ff.isOn(e)&&PC(e)}};return{uid:e.uid,dom:e.dom,components:t,apis:l,eventOrder:{...e.eventOrder,[ms()]:["disabling","toggling","alloy.base.behaviour"]},events:r,behaviours:_u(e.splitDropdownBehaviours,[gC.config({others:{sandbox:t=>{const n=rm(t,e,"arrow");return LC(e,t,{onOpen:()=>{ff.on(n),ff.on(t)},onClose:()=>{ff.off(n),ff.off(t)}})}}}),qh.config({mode:"special",onSpace:i,onEnter:i,onDown:e=>(s(e),T.some(!0))}),rf.config({}),ff.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(e,t)=>e.repositionMenus(t)}}),FP=e=>({isEnabled:()=>!Vm.isDisabled(e),setEnabled:t=>Vm.set(e,!t),setText:t=>Is(e,SE,{text:t}),setIcon:t=>Is(e,AE,{icon:t})}),NP=e=>({setActive:t=>{ff.set(e,t)},isActive:()=>ff.isOn(e),isEnabled:()=>!Vm.isDisabled(e),setEnabled:t=>Vm.set(e,!t),setText:t=>Is(e,SE,{text:t}),setIcon:t=>Is(e,AE,{icon:t})}),VP=(e,t)=>e.map((e=>({"aria-label":t.translate(e),title:t.translate(e)}))).getOr({}),UP=di("focus-button"),HP=(e,t,n,a,o)=>{const s=t.map((e=>Yf(EE(e,"tox-tbtn",o)))),i=e.map((e=>Yf(kE(e,o.icons))));return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]),attributes:VP(n,o)},components:By([i.map((e=>e.asSpec())),s.map((e=>e.asSpec()))]),eventOrder:{[Zo()]:["focusing","alloy.base.behaviour",yE],[Ds()]:[yE,"toolbar-group-button-events"]},buttonBehaviours:Sl([Ay(o.isDisabled),ky(),tf(yE,[Xs(((e,t)=>CE(e))),js(SE,((e,t)=>{s.bind((t=>t.getOpt(e))).each((e=>{ef.set(e,[sr(o.translate(t.event.text))])}))})),js(AE,((e,t)=>{i.bind((t=>t.getOpt(e))).each((e=>{ef.set(e,[kE(t.event.icon,o.icons)])}))})),js(Zo(),((e,t)=>{t.event.prevent(),Bs(e,UP)}))])].concat(a.getOr([])))}},zP=(e,t,n)=>{var a;const o=To(v),s=HP(e.icon,e.text,e.tooltip,T.none(),n);return Kf.sketch({dom:s.dom,components:s.components,eventOrder:_E,buttonBehaviours:{...Sl([tf("toolbar-button-events",[(i={onAction:e.onAction,getApi:t.getApi},ei(((e,t)=>{Ty(i,e)((t=>{Is(e,wE,{buttonApi:t}),i.onAction(t)}))}))),Oy(t,o),Ly(t,o)]),Ay((()=>!e.enabled||n.isDisabled())),ky()].concat(t.toolbarButtonBehaviours)),[yE]:null===(a=s.buttonBehaviours)||void 0===a?void 0:a[yE]}});var i},jP=(e,t,n)=>zP(e,{toolbarButtonBehaviours:n.length>0?[tf("toolbarButtonWith",n)]:[],getApi:FP,onSetup:e.onSetup},t),ZP=(e,t,n)=>zP(e,{toolbarButtonBehaviours:[ef.config({}),ff.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[tf("toolbarToggleButtonWith",n)]:[]),getApi:NP,onSetup:e.onSetup},t),qP=(e,t,n)=>a=>_C((e=>t.fetch(e))).map((o=>T.from(ZC(ga(aC(di("menu-value"),o,(n=>{t.onItemAction(e(a),n)}),t.columns,t.presets,vb.CLOSE_ON_EXECUTE,t.select.getOr(S),n),{movement:sC(t.columns,t.presets),menuBehaviours:uy("auto"!==t.columns?[]:[Xs(((e,n)=>{cy(e,4,Tb(t.presets)).each((({numRows:t,numColumns:n})=>{qh.setGridSize(e,t,n)}))}))])}))))),$P=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],WP=(e,t)=>(n,a,o)=>{const s=e(n).mapError((e=>Ya(e))).getOrDie();return t(s,a,o)},KP={button:WP(Rw,((e,t)=>{return n=e,a=t.shared.providers,jP(n,a,[]);var n,a})),togglebutton:WP(Vw,((e,t)=>{return n=e,a=t.shared.providers,ZP(n,a,[]);var n,a})),menubutton:WP(fO,((e,t)=>cS(e,"tox-tbtn",t,T.none(),!1))),splitbutton:WP((e=>Wa("SplitButton",gO,e)),((e,t)=>((e,t)=>{const n=e=>({isEnabled:()=>!Vm.isDisabled(e),setEnabled:t=>Vm.set(e,!t),setIconFill:(t,n)=>{br(e.element,`svg path[class="${t}"], rect[class="${t}"]`).each((e=>{xt(e,"fill",n)}))},setActive:t=>{xt(e.element,"aria-pressed",t),br(e.element,"span").each((n=>{e.getSystem().getByDom(n).each((e=>ff.set(e,t)))}))},isActive:()=>br(e.element,"span").exists((t=>e.getSystem().getByDom(t).exists(ff.isOn))),setText:t=>br(e.element,"span").each((n=>e.getSystem().getByDom(n).each((e=>Is(e,SE,{text:t}))))),setIcon:t=>br(e.element,"span").each((n=>e.getSystem().getByDom(n).each((e=>Is(e,AE,{icon:t}))))),setTooltip:n=>{const a=t.providers.translate(n);kt(e.element,{"aria-label":a,title:a})}}),a=To(v),o={getApi:n,onSetup:e.onSetup};return RP.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...VP(e.tooltip,t.providers)}},onExecute:t=>{const a=n(t);a.isEnabled()&&e.onAction(a)},onItemExecute:(e,t,n)=>{},splitDropdownBehaviours:Sl([Sy(t.providers.isDisabled),ky(),tf("split-dropdown-events",[Xs(((e,t)=>CE(e))),js(UP,rf.focus),Oy(o,a),Ly(o,a)]),UD.config({})]),eventOrder:{[Ds()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:qP(n,e,t.providers),parts:{menu:Ib(0,e.columns,e.presets)},components:[RP.parts.button(HP(e.icon,e.text,T.none(),T.some([ff.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),t.providers)),RP.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:Jg("chevron-down",t.providers.icons)},buttonBehaviours:Sl([Sy(t.providers.isDisabled),ky(),ev()])}),RP.parts["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})})(e,t.shared))),grouptoolbarbutton:WP((e=>Wa("GroupToolbarButton",mO,e)),((e,t,n)=>{const a=n.ui.registry.getAll().buttons,o={[Dd]:t.shared.header.isPositionedAtTop()?Cd.TopToBottom:Cd.BottomToTop};if(kv(n)===sv.floating)return((e,t,n,a)=>{const o=t.shared,s=To(v),i={toolbarButtonBehaviours:[],getApi:FP,onSetup:e.onSetup},r=[tf("toolbar-group-button-events",[Oy(i,s),Ly(i,s)])];return QO.sketch({lazySink:o.getSink,fetch:()=>_C((t=>{t(V(n(e.items),uL))})),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:HP(e.icon,e.text,e.tooltip,T.some(r),o.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:a}}}})})(e,t,(e=>YP(n,{buttons:a,toolbar:e,allowToolbarGroups:!1},t,T.none())),o);throw new Error("Toolbar groups are only supported when using floating toolbar mode")}))},GP={styles:(e,t)=>{const n={type:"advanced",...t.styles};return nP(e,t,LP(e,n),OP,"StylesTextUpdate")},fontsize:(e,t)=>nP(e,t,TP(e),DP,"FontSizeTextUpdate"),fontsizeinput:(e,t)=>((e,t,n)=>{let a=T.none();const o=C_(e,"NodeChange SwitchMode",(t=>{const o=t.getComponent();a=T.some(o),n.updateInputValue(o),Vm.set(o,!e.selection.isEditable())})),s=e=>({getComponent:y(e)}),i=To(v),r=di("custom-number-input-events"),l=(e,t,o)=>{const s=a.map((e=>bu.getValue(e))).getOr(""),i=n.getNewValue(s,e),r=s.length-`${i}`.length,l=a.map((e=>e.element.dom.selectionStart-r)),d=a.map((e=>e.element.dom.selectionEnd-r));n.onAction(i,o),a.each((e=>{bu.setValue(e,i),t&&(l.each((t=>e.element.dom.selectionStart=t)),d.each((t=>e.element.dom.selectionEnd=t)))}))},d=(e,t)=>l(((e,t)=>e-t),e,t),c=(e,t)=>l(((e,t)=>e+t),e,t),u=e=>it(e.element).fold(T.none,(e=>(Il(e),T.some(!0)))),m=e=>Fl(e.element)?(ct(e.element).each((e=>Il(e))),T.some(!0)):T.none(),p=(n,a,o,i)=>{const r=To(v),l=t.shared.providers.translate(o),d=di("altExecuting"),c=C_(e,"NodeChange SwitchMode",(t=>{Vm.set(t.getComponent(),!e.selection.isEditable())})),u=e=>{Vm.isDisabled(e)||n(!0)};return Kf.sketch({dom:{tag:"button",attributes:{title:l,"aria-label":l},classes:i.concat(a)},components:[xE(a,t.shared.providers.icons)],buttonBehaviours:Sl([Vm.config({}),tf(d,[Oy({onSetup:c,getApi:s},r),Ly({getApi:s},r),js(Xo(),((e,t)=>{t.event.raw.keyCode!==CP.space()&&t.event.raw.keyCode!==CP.enter()||Vm.isDisabled(e)||n(!1)})),js(ts(),u),js(zo(),u)])]),eventOrder:{[Xo()]:[d,"keying"],[ts()]:[d,"alloy.base.behaviour"],[zo()]:[d,"alloy.base.behaviour"]}})},h=Yf(p((e=>d(!1,e)),"minus","Decrease font size",[])),f=Yf(p((e=>c(!1,e)),"plus","Increase font size",[])),g=Yf({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[Ub.sketch({inputBehaviours:Sl([Vm.config({}),tf(r,[Oy({onSetup:o,getApi:s},i),Ly({getApi:s},i)]),tf("input-update-display-text",[js(SE,((e,t)=>{bu.setValue(e,t.event.text)})),js(Yo(),(e=>{n.onAction(bu.getValue(e))})),js(es(),(e=>{n.onAction(bu.getValue(e))}))]),qh.config({mode:"special",onEnter:e=>(l(_,!0,!0),T.some(!0)),onEscape:u,onUp:e=>(c(!0,!1),T.some(!0)),onDown:e=>(d(!0,!1),T.some(!0)),onLeft:(e,t)=>(t.cut(),T.none()),onRight:(e,t)=>(t.cut(),T.none())})])})],behaviours:Sl([rf.config({}),qh.config({mode:"special",onEnter:m,onSpace:m,onEscape:u}),tf("input-wrapper-events",[js(Ko(),(e=>{U([h,f],(t=>{const n=Ne(t.get(e).element.dom);Fl(n)&&Rl(n)}))}))])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[h.asSpec(),g.asSpec(),f.asSpec()],behaviours:Sl([rf.config({}),qh.config({mode:"flow",focusInside:bp.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:e=>Fl(e.element)?T.none():(Il(e.element),T.some(!0))})])}})(e,t,(e=>{const t=()=>e.queryCommandValue("FontSize");return{updateInputValue:e=>Is(e,SE,{text:t()}),onAction:(t,n)=>e.execCommand("FontSize",!1,t,{skip_focus:!n}),getNewValue:(n,a)=>{_P(n,["unsupportedLength","empty"]);const o=t(),s=_P(n,["unsupportedLength","empty"]).or(_P(o,["unsupportedLength","empty"])),i=s.map((e=>e.value)).getOr(16),r=Rv(e),l=s.map((e=>e.unit)).filter((e=>""!==e)).getOr(r),d=a(i,(e=>{var t;return null!==(t={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[e])&&void 0!==t?t:{step:1}})(l).step),c=`${(e=>e>=0)(d)?d:i}${l}`;return c!==o&&((e,t)=>{e.dispatch("FontSizeInputTextUpdate",t)})(e,{value:c}),c}}})(e)),fontfamily:(e,t)=>nP(e,t,bP(e),pP,"FontFamilyTextUpdate"),blocks:(e,t)=>nP(e,t,mP(e),cP,"BlocksTextUpdate"),align:(e,t)=>nP(e,t,lP(e),sP,"AlignTextUpdate")},YP=(e,t,n,a)=>{const o=(e=>{const t=e.toolbar,n=e.buttons;return!1===t?[]:void 0===t||!0===t?(e=>{const t=V($P,(t=>{const n=z(t.items,(t=>be(e,t)||be(GP,t)));return{name:t.name,items:n}}));return z(t,(e=>e.items.length>0))})(n):s(t)?(e=>{const t=e.split("|");return V(t,(e=>({items:e.trim().split(" ")})))})(t):(e=>g(e,(e=>be(e,"name")&&be(e,"items"))))(t)?t:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(t),i=V(o,(o=>{const s=K(o.items,(o=>0===o.trim().length?[]:((e,t,n,a,o,s)=>ve(t,n.toLowerCase()).orThunk((()=>s.bind((e=>se(e,(e=>ve(t,e+n.toLowerCase()))))))).fold((()=>ve(GP,n.toLowerCase()).map((t=>t(e,o)))),(t=>"grouptoolbarbutton"!==t.type||a?((e,t,n)=>ve(KP,e.type).fold((()=>(console.error("skipping button defined by",e),T.none())),(a=>T.some(a(e,t,n)))))(t,o,e):(console.warn(`Ignoring the '${n}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),T.none()))))(e,t.buttons,o,t.allowToolbarGroups,n,a).toArray()));return{title:T.from(e.translate(o.name)),items:s}}));return z(i,(e=>e.items.length>0))},XP=(e,t,n,a)=>{const o=t.mainUi.outerContainer,i=n.toolbar,r=n.buttons;if(g(i,s)){const t=i.map((t=>{const o={toolbar:t,buttons:r,allowToolbarGroups:n.allowToolbarGroups};return YP(e,o,a,T.none())}));zL.setToolbars(o,t)}else zL.setToolbar(o,YP(e,n,a,T.none()))},QP=Pn(),JP=QP.os.isiOS()&&QP.os.version.major<=12;var eM=Object.freeze({__proto__:null,render:(e,t,n,a,o)=>{const{mainUi:s,uiMotherships:i}=t,r=To(0),l=s.outerContainer;XL(e);const c=Ne(o.targetNode),u=vt(gt(c));Vc(c,s.mothership),((e,t,n)=>{ub(e)&&Vc(n.mainUi.mothership.element,n.popupUi.mothership),Nc(t,n.dialogUi.mothership)})(e,u,t),e.on("SkinLoaded",(()=>{zL.setSidebar(l,n.sidebar,Wv(e)),XP(e,t,n,a),r.set(e.getWin().innerWidth),zL.setMenubar(l,qL(e,n)),zL.setViews(l,n.views),((e,t)=>{const{uiMotherships:n}=t,a=e.dom;let o=e.getWin();const s=e.getDoc().documentElement,i=To(Wt(o.innerWidth,o.innerHeight)),r=To(Wt(s.offsetWidth,s.offsetHeight)),l=()=>{const t=i.get();t.left===o.innerWidth&&t.top===o.innerHeight||(i.set(Wt(o.innerWidth,o.innerHeight)),g_(e))},d=()=>{const t=e.getDoc().documentElement,n=r.get();n.left===t.offsetWidth&&n.top===t.offsetHeight||(r.set(Wt(t.offsetWidth,t.offsetHeight)),g_(e))},c=t=>{((e,t)=>{e.dispatch("ScrollContent",t)})(e,t)};a.bind(o,"resize",l),a.bind(o,"scroll",c);const u=id(Ne(e.getBody()),"load",d);e.on("hide",(()=>{U(n,(e=>{Pt(e.element,"display","none")}))})),e.on("show",(()=>{U(n,(e=>{Ut(e.element,"display")}))})),e.on("NodeChange",d),e.on("remove",(()=>{u.unbind(),a.unbind(o,"resize",l),a.unbind(o,"scroll",c),o=null}))})(e,t)}));const m=zL.getSocket(l).getOrDie("Could not find expected socket element");if(JP){Mt(m.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const t=((e,t)=>{let n=null;return{cancel:()=>{d(n)||(clearTimeout(n),n=null)},throttle:(...t)=>{d(n)&&(n=setTimeout((()=>{n=null,e.apply(null,t)}),20))}}})((()=>{e.dispatch("ScrollContent")})),n=sd(m.element,"scroll",t.throttle);e.on("remove",n.unbind)}xy(e,t),e.addCommand("ToggleSidebar",((t,n)=>{zL.toggleSidebar(l,n),e.dispatch("ToggleSidebar")})),e.addQueryValueHandler("ToggleSidebar",(()=>{var e;return null!==(e=zL.whichSidebar(l))&&void 0!==e?e:""})),e.addCommand("ToggleView",((t,n)=>{if(zL.toggleView(l,n)){const t=l.element;s.mothership.broadcastOn([Jc()],{target:t}),U(i,(e=>{e.broadcastOn([Jc()],{target:t})})),d(zL.whichView(l))&&(e.focus(),e.nodeChanged(),zL.refreshToolbar(l))}})),e.addQueryValueHandler("ToggleView",(()=>{var e;return null!==(e=zL.whichView(l))&&void 0!==e?e:""}));const p=kv(e);p!==sv.sliding&&p!==sv.floating||e.on("ResizeWindow ResizeEditor ResizeContent",(()=>{const n=e.getWin().innerWidth;n!==r.get()&&(zL.refreshToolbar(t.mainUi.outerContainer),r.set(n))}));const h={setEnabled:e=>{Dy(t,!e)},isEnabled:()=>!Vm.isDisabled(l)};return{iframeContainer:m.element.dom,editorContainer:l.element.dom,api:h}}});const tM=e=>/^[0-9\.]+(|px)$/i.test(""+e)?T.some(parseInt(""+e,10)):T.none(),nM=e=>f(e)?e+"px":e,aM=(e,t,n)=>{const a=t.filter((t=>e<t)),o=n.filter((t=>e>t));return a.or(o).getOr(e)},oM=e=>{const t=fv(e),n=gv(e),a=bv(e);return tM(t).map((e=>aM(e,n,a)))},{ToolbarLocation:sM,ToolbarMode:iM}=pb,rM=(e,t,n,a,o)=>{const{mainUi:s,uiMotherships:i}=n,r=rv.DOM,l=rb(e),d=cb(e),c=bv(e).or(oM(e)),u=a.shared.header,m=u.isPositionedAtTop,p=kv(e),h=p===iM.sliding||p===iM.floating,f=To(!1),g=()=>f.get()&&!e.removed,v=e=>h?e.fold(y(0),(e=>e.components().length>1?Zt(e.components()[1].element):0)):0,b=()=>{U(i,(e=>{e.broadcastOn([eu()],{})}))},w=n=>{if(!g())return;l||o.on((e=>{const n=c.getOrThunk((()=>{const e=tM(It(_t(),"margin-left")).getOr(0);return Qt(_t())-Gt(t).left+e}));Pt(e.element,"max-width",n+"px")}));const a=l?T.none():(()=>{if(l)return T.none();if(Gt(s.outerContainer.element).left+Jt(s.outerContainer.element)>=window.innerWidth-40||Ft(s.outerContainer.element,"width").isSome()){Pt(s.outerContainer.element,"position","absolute"),Pt(s.outerContainer.element,"left","0px"),Ut(s.outerContainer.element,"width");const e=Jt(s.outerContainer.element);return T.some(e)}return T.none()})();h&&zL.refreshToolbar(s.outerContainer),l||(n=>{o.on((a=>{const o=zL.getToolbar(s.outerContainer),i=v(o),r=Qn(t),{top:l,left:d}=((e,t)=>ub(e)?TT(t):T.none())(e,s.outerContainer.element).fold((()=>({top:m()?Math.max(r.y-Zt(a.element)+i,0):r.bottom,left:r.x})),(e=>{var t;const n=Qn(e),o=null!==(t=e.dom.scrollTop)&&void 0!==t?t:0,s=Je(e,_t()),l=s?Math.max(r.y-Zt(a.element)+i,0):r.y-n.y+o-Zt(a.element)+i;return{top:m()?l:r.bottom,left:s?r.x:r.x-n.x}})),c={position:"absolute",left:Math.round(d)+"px",top:Math.round(l)+"px"},u=n.map((e=>{const t=jn(),n=window.innerWidth-(d-t.left);return{width:Math.max(Math.min(e,n),150)+"px"}})).getOr({});Mt(s.outerContainer.element,{...c,...u})}))})(a),d&&o.on(n),b()},_=()=>!(l||!d||!g())&&o.get().exists((n=>{const a=u.getDockingMode(),i=(n=>{switch(Sv(e)){case sM.auto:const e=zL.getToolbar(s.outerContainer),a=v(e),o=Zt(n.element)-a,i=Qn(t);if(i.y>o)return"top";{const e=at(t),n=Math.max(e.dom.scrollHeight,Zt(e));return i.bottom<n-o||ta().bottom<i.bottom-o?"bottom":"top"}case sM.bottom:return"bottom";case sM.top:default:return"top"}})(n);return i!==a&&(r=i,o.on((e=>{tO.setModes(e,[r]),u.setDockingMode(r);const t=m()?Cd.TopToBottom:Cd.BottomToTop;xt(e.element,Dd,t)})),!0);var r}));return{isVisible:g,isPositionedAtTop:m,show:()=>{f.set(!0),Pt(s.outerContainer.element,"display","flex"),r.addClass(e.getBody(),"mce-edit-focus"),U(i,(e=>{Ut(e.element,"display")})),_(),ub(e)?w((e=>tO.isDocked(e)?tO.reset(e):tO.refresh(e))):w(tO.refresh)},hide:()=>{f.set(!1),Pt(s.outerContainer.element,"display","none"),r.removeClass(e.getBody(),"mce-edit-focus"),U(i,(e=>{Pt(e.element,"display","none")}))},update:w,updateMode:()=>{_()&&w(tO.reset)},repositionPopups:b}},lM=(e,t)=>{const n=Qn(e);return{pos:t?n.y:n.bottom,bounds:n}};var dM=Object.freeze({__proto__:null,render:(e,t,n,a,o)=>{const{mainUi:s}=t,i=ad(),r=Ne(o.targetNode),l=rM(e,r,t,a,i),d=Ov(e);QL(e);const c=()=>{if(i.isSet())return void l.show();i.set(zL.getHeader(s.outerContainer).getOrDie());const o=lb(e);ub(e)?(Vc(r,s.mothership),Vc(r,t.popupUi.mothership)):Nc(o,s.mothership),Nc(o,t.dialogUi.mothership),XP(e,t,n,a),zL.setMenubar(s.outerContainer,qL(e,n)),l.show(),((e,t,n,a)=>{const o=To(lM(t,n.isPositionedAtTop())),s=a=>{const{pos:s,bounds:i}=lM(t,n.isPositionedAtTop()),{pos:r,bounds:l}=o.get(),d=i.height!==l.height||i.width!==l.width;o.set({pos:s,bounds:i}),d&&g_(e,a),n.isVisible()&&(r!==s?n.update(tO.reset):d&&(n.updateMode(),n.repositionPopups()))};a||(e.on("activate",n.show),e.on("deactivate",n.hide)),e.on("SkinLoaded ResizeWindow",(()=>n.update(tO.reset))),e.on("NodeChange keydown",(e=>{requestAnimationFrame((()=>s(e)))}));let i=0;const r=Yk((()=>n.update(tO.refresh)),33);e.on("ScrollWindow",(()=>{const e=jn().left;e!==i&&(i=e,r.throttle()),n.updateMode()})),ub(e)&&e.on("ElementScroll",(e=>{n.update(tO.refresh)}));const l=nd();l.set(id(Ne(e.getBody()),"load",(e=>s(e.raw)))),e.on("remove",(()=>{l.clear()}))})(e,r,l,d),e.nodeChanged()};e.on("show",c),e.on("hide",l.hide),d||(e.on("focus",c),e.on("blur",l.hide)),e.on("init",(()=>{(e.hasFocus()||d)&&c()})),xy(e,t);const u={show:c,hide:l.hide,setEnabled:e=>{Dy(t,!e)},isEnabled:()=>!Vm.isDisabled(s.outerContainer)};return{editorContainer:s.outerContainer.element.dom,api:u}}});const cM="contexttoolbar-hide",uM=(e,t)=>js(wE,((n,a)=>{const o=(e=>({hide:()=>Bs(e,gs()),getValue:()=>bu.getValue(e)}))(e.get(n));t.onAction(o,a.event.buttonApi)})),mM=(e,t)=>{const n=e.label.fold((()=>({})),(e=>({"aria-label":e}))),a=Yf(Ub.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:n,selectOnFocus:!0,inputBehaviours:Sl([qh.config({mode:"special",onEnter:e=>o.findPrimary(e).map((e=>(Rs(e),!0))),onLeft:(e,t)=>(t.cut(),T.none()),onRight:(e,t)=>(t.cut(),T.none())})])})),o=((e,t,n)=>{const a=V(t,(t=>Yf(((e,t,n)=>(e=>"contextformtogglebutton"===e.type)(t)?((e,t,n)=>{const{primary:a,...o}=t.original,s=Ka(Vw({...o,type:"togglebutton",onAction:v}));return ZP(s,n,[uM(e,t)])})(e,t,n):((e,t,n)=>{const{primary:a,...o}=t.original,s=Ka(Rw({...o,type:"button",onAction:v}));return jP(s,n,[uM(e,t)])})(e,t,n))(e,t,n))));return{asSpecs:()=>V(a,(e=>e.asSpec())),findPrimary:e=>se(t,((t,n)=>t.primary?T.from(a[n]).bind((t=>t.getOpt(e))).filter(x(Vm.isDisabled)):T.none()))}})(a,e.commands,t);return[{title:T.none(),items:[a.asSpec()]},{title:T.none(),items:o.asSpecs()}]},pM=(e,t,n)=>t.bottom-e.y>=n&&e.bottom-t.y>=n,hM=e=>{const t=(e=>{const t=e.getBoundingClientRect();if(t.height<=0&&t.width<=0){const n=mt(Ne(e.startContainer),e.startOffset).element;return(We(n)?st(n):T.some(n)).filter($e).map((e=>e.dom.getBoundingClientRect())).getOr(t)}return t})(e.selection.getRng());if(e.inline){const e=jn();return Xn(e.left+t.left,e.top+t.top,t.width,t.height)}{const n=Jn(Ne(e.getBody()));return Xn(n.x+t.left,n.y+t.top,t.width,t.height)}},fM=(e,t,n,a=0)=>{const o=$n(window),s=Qn(Ne(e.getContentAreaContainer())),i=Qv(e)||nb(e)||ob(e),{x:r,width:l}=((e,t,n)=>{const a=Math.max(e.x+n,t.x);return{x:a,width:Math.min(e.right-n,t.right)-a}})(s,o,a);if(e.inline&&!i)return Xn(r,o.y,l,o.height);{const i=t.header.isPositionedAtTop(),{y:d,bottom:c}=((e,t,n,a,o,s)=>{const i=Ne(e.getContainer()),r=br(i,".tox-editor-header").getOr(i),l=Qn(r),d=l.y>=t.bottom,c=a&&!d;if(e.inline&&c)return{y:Math.max(l.bottom+s,n.y),bottom:n.bottom};if(e.inline&&!c)return{y:n.y,bottom:Math.min(l.y-s,n.bottom)};const u="line"===o?Qn(i):t;return c?{y:Math.max(l.bottom+s,n.y),bottom:Math.min(u.bottom-s,n.bottom)}:{y:Math.max(u.y+s,n.y),bottom:Math.min(l.y-s,n.bottom)}})(e,s,o,i,n,a);return Xn(r,d,l,c-d)}},gM={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},vM={maxHeightFunction:pd(),maxWidthFunction:qO()},bM=e=>"node"===e,wM=(e,t,n,a,o)=>{const s=hM(e),i=a.lastElement().exists((e=>Je(n,e)));return((e,t)=>{const n=e.selection.getRng(),a=mt(Ne(n.startContainer),n.startOffset);return n.startContainer===n.endContainer&&n.startOffset===n.endOffset-1&&Je(a.element,t)})(e,n)?i?CA:vA:i?((e,n,o)=>{const i=Ft(e,"position");Pt(e,"position",n);const r=pM(s,Qn(t),-20)&&!a.isReposition()?xA:CA;return i.each((t=>Pt(e,"position",t))),r})(t,a.getMode()):("fixed"===a.getMode()?o.y+jn().top:o.y)+(Zt(t)+12)<=s.y?vA:bA},yM=(e,t,n,a)=>{const o=t=>(a,o,s,i,r)=>({...wM(e,i,t,n,r)({...a,y:r.y,height:r.height},o,s,i,r),alwaysFit:!0}),s=e=>bM(a)?[o(e)]:[];return t?{onLtr:e=>[pl,ll,dl,cl,ul,ml].concat(s(e)),onRtl:e=>[pl,dl,ll,ul,cl,ml].concat(s(e))}:{onLtr:e=>[ml,pl,cl,ll,ul,dl].concat(s(e)),onRtl:e=>[ml,pl,ul,dl,cl,ll].concat(s(e))}},_M=(e,t)=>{const n=z(t,(t=>t.predicate(e.dom))),{pass:a,fail:o}=H(n,(e=>"contexttoolbar"===e.type));return{contextToolbars:a,contextForms:o}},CM=(e,t)=>{const n={},a=[],o=[],s={},i={},r=ie(e);return U(r,(r=>{const l=e[r];"contextform"===l.type?((e,r)=>{const l=Ka(Wa("ContextForm",$w,r));n[e]=l,l.launch.map((n=>{s["form:"+e]={...r.launch,type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:()=>{t(l)}}})),"editor"===l.scope?o.push(l):a.push(l),i[e]=l})(r,l):"contexttoolbar"===l.type&&((e,t)=>{var n;(n=t,Wa("ContextToolbar",Ww,n)).each((n=>{"editor"===t.scope?o.push(n):a.push(n),i[e]=n}))})(r,l)})),{forms:n,inNodeScope:a,inEditorScope:o,lookupTable:i,formNavigators:s}},DM=di("forward-slide"),xM=di("backward-slide"),kM=di("change-slide-event"),EM="tox-pop--resizing",SM="tox-pop--transition",AM=(e,t,n,a)=>{const o=a.backstage,s=o.shared,i=Pn().deviceType.isTouch,r=ad(),l=ad(),d=ad(),c=dr((e=>{const t=To([]);return $f.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:e=>{t.set([]),$f.getContent(e).each((e=>{Ut(e.element,"visibility")})),qi(e.element,EM),Ut(e.element,"width")},inlineBehaviours:Sl([tf("context-toolbar-events",[Ys(as(),((e,t)=>{"width"===t.event.raw.propertyName&&(qi(e.element,EM),Ut(e.element,"width"))})),js(kM,((e,t)=>{const n=e.element;Ut(n,"width");const a=Qt(n);$f.setContent(e,t.event.contents),ji(n,EM);const o=Qt(n);Pt(n,"width",a+"px"),$f.getContent(e).each((e=>{t.event.focus.bind((e=>(Il(e),Vl(n)))).orThunk((()=>(qh.focusIn(e),Nl(gt(n)))))})),setTimeout((()=>{Pt(e.element,"width",o+"px")}),0)})),js(DM,((e,n)=>{$f.getContent(e).each((n=>{t.set(t.get().concat([{bar:n,focus:Nl(gt(e.element))}]))})),Is(e,kM,{contents:n.event.forwardContents,focus:T.none()})})),js(xM,((e,n)=>{ae(t.get()).each((n=>{t.set(t.get().slice(0,t.get().length-1)),Is(e,kM,{contents:cr(n.bar),focus:n.focus})}))}))]),qh.config({mode:"special",onEscape:n=>ae(t.get()).fold((()=>e.onEscape()),(e=>(Bs(n,xM),T.some(!0))))})]),lazySink:()=>sa.value(e.sink)})})({sink:n,onEscape:()=>(e.focus(),T.some(!0))})),u=()=>{const t=d.get().getOr("node"),n=bM(t)?1:0;return fM(e,s,t,n)},m=()=>!(e.removed||i()&&o.isContextMenuOpen()),p=()=>{if(m()){const t=u(),n=ye(d.get(),"node")?((e,t)=>t.filter((e=>yt(e)&&qe(e))).map(Jn).getOrThunk((()=>hM(e))))(e,r.get()):hM(e);return t.height<=0||!pM(n,t,.01)}return!0},h=()=>{r.clear(),l.clear(),d.clear(),$f.hide(c)},f=()=>{if($f.isOpen(c)){const e=c.element;Ut(e,"display"),p()?Pt(e,"display","none"):(l.set(0),$f.reposition(c))}},g=t=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:Sl([qh.config({mode:"acyclic"}),tf("pop-dialog-wrap-events",[Xs((t=>{e.shortcuts.add("ctrl+F9","focus statusbar",(()=>qh.focusIn(t)))})),Qs((t=>{e.shortcuts.remove("ctrl+F9")}))])])}),b=en((()=>CM(t,(e=>{const t=w([e]);Is(c,DM,{forwardContents:g(t)})})))),w=t=>{const{buttons:n}=e.ui.registry.getAll(),o={...n,...b().formNavigators},i=kv(e)===sv.scrolling?sv.scrolling:sv.default,r=W(V(t,(t=>"contexttoolbar"===t.type?((t,n)=>YP(e,{buttons:t,toolbar:n.items,allowToolbarGroups:!1},a.backstage,T.some(["form:"])))(o,t):((e,t)=>mM(e,t))(t,s.providers))));return gL({type:i,uid:di("context-toolbar"),initGroups:r,onEscape:T.none,cyclicKeying:!0,providers:s.providers})},y=(t,a)=>{if(C.cancel(),!m())return;const o=w(t),h=t[0].position,f=((t,a)=>{const o="node"===t?s.anchors.node(a):s.anchors.cursor(),d=((e,t,n,a)=>"line"===t?{bubble:vd(12,0,gM),layouts:{onLtr:()=>[hl],onRtl:()=>[fl]},overrides:vM}:{bubble:vd(0,12,gM,1/12),layouts:yM(e,n,a,t),overrides:vM})(e,t,i(),{lastElement:r.get,isReposition:()=>ye(l.get(),0),getMode:()=>Ec.getMode(n)});return ga(o,d)})(h,a);d.set(h),l.set(1);const v=c.element;Ut(v,"display"),(e=>ye(Ce(e,r.get(),Je),!0))(a)||(qi(v,SM),Ec.reset(n,c)),$f.showWithinBounds(c,g(o),{anchor:f,transition:{classes:[SM],mode:"placement"}},(()=>T.some(u()))),a.fold(r.clear,r.set),p()&&Pt(v,"display","none")};let _=!1;const C=Yk((()=>{!e.hasFocus()||e.removed||_||($i(c.element,SM)?C.throttle():((e,t)=>{const n=Ne(t.getBody()),a=e=>Je(e,n),o=Ne(t.selection.getNode());return(e=>!a(e)&&!et(n,e))(o)?T.none():((e,t,n)=>{const a=_M(e,t);if(a.contextForms.length>0)return T.some({elem:e,toolbars:[a.contextForms[0]]});{const t=_M(e,n);if(t.contextForms.length>0)return T.some({elem:e,toolbars:[t.contextForms[0]]});if(a.contextToolbars.length>0||t.contextToolbars.length>0){const n=(e=>{if(e.length<=1)return e;{const t=t=>R(e,(e=>e.position===t)),n=t=>z(e,(e=>e.position===t)),a=t("selection"),o=t("node");if(a||o){if(o&&a){const e=n("node"),t=V(n("selection"),(e=>({...e,position:"node"})));return e.concat(t)}return n(a?"selection":"node")}return n("line")}})(a.contextToolbars.concat(t.contextToolbars));return T.some({elem:e,toolbars:n})}return T.none()}})(o,e.inNodeScope,e.inEditorScope).orThunk((()=>((e,t,n)=>e(t)?T.none():Bo(t,(e=>{if($e(e)){const{contextToolbars:t,contextForms:a}=_M(e,n.inNodeScope),o=a.length>0?a:(e=>{if(e.length<=1)return e;{const t=t=>q(e,(e=>e.position===t));return t("selection").orThunk((()=>t("node"))).orThunk((()=>t("line"))).map((e=>e.position)).fold((()=>[]),(t=>z(e,(e=>e.position===t))))}})(t);return o.length>0?T.some({elem:e,toolbars:o}):T.none()}return T.none()}),e))(a,o,e)))})(b(),e).fold(h,(e=>{y(e.toolbars,T.some(e.elem))})))}),17);e.on("init",(()=>{e.on("remove",h),e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",f),e.on("click keyup focus SetContent",C.throttle),e.on(cM,h),e.on("contexttoolbar-show",(t=>{const n=b();ve(n.lookupTable,t.toolbarKey).each((n=>{y([n],xe(t.target!==e,t.target)),$f.getContent(c).each(qh.focusIn)}))})),e.on("focusout",(t=>{Wf.setEditorTimeout(e,(()=>{Vl(n.element).isNone()&&Vl(c.element).isNone()&&h()}),0)})),e.on("SwitchMode",(()=>{e.mode.isReadOnly()&&h()})),e.on("AfterProgressState",(t=>{t.state?h():e.hasFocus()&&C.throttle()})),e.on("dragstart",(()=>{_=!0})),e.on("dragend drop",(()=>{_=!1})),e.on("NodeChange",(e=>{Vl(c.element).fold(C.throttle,v)}))}))},TM=(e,t)=>{const n=()=>{const n=t.getOptions(e),a=t.getCurrent(e).map(t.hash),o=ad();return V(n,(n=>({type:"togglemenuitem",text:t.display(n),onSetup:s=>{const i=e=>{e&&(o.on((e=>e.setActive(!1))),o.set(s)),s.setActive(e)};i(ye(a,t.hash(n)));const r=t.watcher(e,n,i);return()=>{o.clear(),r()}},onAction:()=>t.setCurrent(e,n)})))};e.ui.registry.addMenuButton(t.name,{tooltip:t.text,icon:t.icon,fetch:e=>e(n()),onSetup:t.onToolbarSetup}),e.ui.registry.addNestedMenuItem(t.name,{type:"nestedmenuitem",text:t.text,getSubmenuItems:n,onSetup:t.onMenuSetup})},OM=e=>{TM(e,(e=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:tb,hash:e=>((e,t)=>_P(e,["fixed","relative","empty"]).map((({value:e,unit:t})=>e+t)))(e).getOr(e),display:_,watcher:(e,t,n)=>e.formatter.formatChanged("lineheight",n,!1,{value:t}).unbind,getCurrent:e=>T.from(e.queryCommandValue("LineHeight")),setCurrent:(e,t)=>e.execCommand("LineHeight",!1,t),onToolbarSetup:y_(e),onMenuSetup:y_(e)}))(e)),(e=>T.from(Dv(e)).map((t=>({name:"language",text:"Language",icon:"language",getOptions:y(t),hash:e=>u(e.customCode)?e.code:`${e.code}/${e.customCode}`,display:e=>e.title,watcher:(e,t,n)=>{var a;return e.formatter.formatChanged("lang",n,!1,{value:t.code,customValue:null!==(a=t.customCode)&&void 0!==a?a:null}).unbind},getCurrent:e=>{const t=Ne(e.selection.getNode());return Io(t,(e=>T.some(e).filter($e).bind((e=>St(e,"lang").map((t=>({code:t,customCode:St(e,"data-mce-lang").getOrUndefined(),title:""})))))))},setCurrent:(e,t)=>e.execCommand("Lang",!1,t),onToolbarSetup:t=>{const n=nd();return t.setActive(e.formatter.match("lang",{},void 0,!0)),n.set(e.formatter.formatChanged("lang",t.setActive,!0)),w_(n.clear,y_(e)(t))},onMenuSetup:y_(e)}))))(e).each((t=>TM(e,t)))},LM=e=>C_(e,"NodeChange",(t=>{t.setEnabled(e.queryCommandState("outdent")&&e.selection.isEditable())})),PM=(e,t)=>n=>{n.setActive(t.get());const a=e=>{t.set(e.state),n.setActive(e.state)};return e.on("PastePlainTextToggle",a),w_((()=>e.off("PastePlainTextToggle",a)),y_(e)(n))},MM=(e,t)=>()=>{e.execCommand("mceToggleFormat",!1,t)},BM=e=>{(e=>{(e=>{Gk.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],((t,n)=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:__(e,t.name),onAction:MM(e,t.name)})}));for(let t=1;t<=6;t++){const n="h"+t;e.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+t,onSetup:__(e,n),onAction:MM(e,n)})}})(e),(e=>{Gk.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print"}],(t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:x_(e,t.action)})})),Gk.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:y_(e),onAction:x_(e,t.action)})}))})(e),(e=>{Gk.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:x_(e,t.action),onSetup:__(e,t.name)})}))})(e)})(e),(e=>{Gk.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],(t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:x_(e,t.action)})})),Gk.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onSetup:y_(e),onAction:x_(e,t.action)})})),e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:y_(e),onAction:MM(e,"code")})})(e)},IM=(e,t)=>C_(e,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",(n=>{n.setEnabled(!e.mode.isReadOnly()&&e.undoManager[t]())})),RM=e=>C_(e,"VisualAid",(t=>{t.setActive(e.hasVisual)})),FM=(e,t)=>{(e=>{U([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],(t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:x_(e,t.cmd),onSetup:__(e,t.name)})})),e.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:y_(e),onAction:x_(e,"JustifyNone")})})(e),BM(e),((e,t)=>{((e,t)=>{const n=tP(0,t,lP(e));e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate("Align"),onSetup:y_(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t),((e,t)=>{const n=tP(0,t,bP(e));e.ui.registry.addNestedMenuItem("fontfamily",{text:t.shared.providers.translate("Fonts"),onSetup:y_(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t),((e,t)=>{const n={type:"advanced",...t.styles},a=tP(0,t,LP(e,n));e.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:y_(e),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})})(e,t),((e,t)=>{const n=tP(0,t,mP(e));e.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:y_(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t),((e,t)=>{const n=tP(0,t,TP(e));e.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:y_(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t)})(e,t),(e=>{(e=>{e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:IM(e,"hasUndo"),onAction:x_(e,"undo")}),e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:IM(e,"hasRedo"),onAction:x_(e,"redo")})})(e),(e=>{e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:IM(e,"hasUndo"),onAction:x_(e,"undo")}),e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:IM(e,"hasRedo"),onAction:x_(e,"redo")})})(e)})(e),(e=>{(e=>{e.addCommand("mceApplyTextcolor",((t,n)=>{((e,t,n)=>{e.undoManager.transact((()=>{e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()}))})(e,t,n)})),e.addCommand("mceRemoveTextcolor",(t=>{((e,t)=>{e.undoManager.transact((()=>{e.focus(),e.formatter.remove(t,{value:null},void 0,!0),e.nodeChanged()}))})(e,t)}))})(e);const t=j_(e),n=Z_(e),a=To(t),o=To(n);eC(e,"forecolor","forecolor",a),eC(e,"backcolor","hilitecolor",o),tC(e,"forecolor","forecolor","Text color",a),tC(e,"backcolor","hilitecolor","Background color",o)})(e),(e=>{(e=>{e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:x_(e,"mceToggleVisualAid")})})(e),(e=>{e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:RM(e),onAction:x_(e,"mceToggleVisualAid")})})(e)})(e),(e=>{(e=>{e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:LM(e),onAction:x_(e,"outdent")}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:y_(e),onAction:x_(e,"indent")})})(e)})(e),OM(e),(e=>{const t=To($v(e)),n=()=>e.execCommand("mceTogglePlainTextPaste");e.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:n,onSetup:PM(e,t)}),e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:n,onSetup:PM(e,t)})})(e)},NM=e=>s(e)?e.split(/[ ,]/):e,VM=e=>t=>t.options.get(e),UM=VM("contextmenu_never_use_native"),HM=VM("contextmenu_avoid_overlap"),zM=e=>{const t=e.ui.registry.getAll().contextMenus,n=e.options.get("contextmenu");return e.options.isSet("contextmenu")?n:z(n,(e=>be(t,e)))},jM=(e,t)=>({type:"makeshift",x:e,y:t}),ZM=e=>"longpress"===e.type||0===e.type.indexOf("touch"),qM=(e,t)=>"contextmenu"===t.type||"longpress"===t.type?e.inline?(e=>{if(ZM(e)){const t=e.touches[0];return jM(t.pageX,t.pageY)}return jM(e.pageX,e.pageY)})(t):((e,t)=>{const n=rv.DOM.getPos(e);return((e,t,n)=>jM(e.x+t,e.y+n))(t,n.x,n.y)})(e.getContentAreaContainer(),(e=>{if(ZM(e)){const t=e.touches[0];return jM(t.clientX,t.clientY)}return jM(e.clientX,e.clientY)})(t)):$M(e),$M=e=>({type:"selection",root:Ne(e.selection.getNode())}),WM=(e,t,n)=>{switch(n){case"node":return(e=>({type:"node",node:T.some(Ne(e.selection.getNode())),root:Ne(e.getBody())}))(e);case"point":return qM(e,t);case"selection":return $M(e)}},KM=(e,t,n,a,o,s)=>{const i=n(),r=WM(e,t,s);ME(i,vb.CLOSE_ON_EXECUTE,a,{isHorizontalMenu:!1,search:T.none()}).map((e=>{t.preventDefault(),$f.showMenuAt(o,{anchor:r},{menu:{markers:Pb("normal")},data:e})}))},GM={onLtr:()=>[pl,ll,dl,cl,ul,ml,vA,bA,gA,hA,fA,pA],onRtl:()=>[pl,dl,ll,ul,cl,ml,vA,bA,fA,pA,gA,hA]},YM={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},XM=(e,t,n,a,o,s)=>{const i=Pn(),r=i.os.isiOS(),l=i.os.isMacOS(),d=i.os.isAndroid(),c=i.deviceType.isTouch(),u=()=>{const i=n();((e,t,n,a,o,s,i)=>{const r=((e,t,n)=>{const a=WM(e,t,n);return{bubble:vd(0,"point"===n?12:0,YM),layouts:GM,overrides:{maxWidthFunction:qO(),maxHeightFunction:pd()},...a}})(e,t,s);ME(n,vb.CLOSE_ON_EXECUTE,a,{isHorizontalMenu:!0,search:T.none()}).map((n=>{t.preventDefault();const l=i?jf.HighlightMenuAndItem:jf.HighlightNone;$f.showMenuWithinBounds(o,{anchor:r},{menu:{markers:Pb("normal"),highlightOnOpen:l},data:n,type:"horizontal"},(()=>T.some(fM(e,a.shared,"node"===s?"node":"selection")))),e.dispatch(cM)}))})(e,t,i,a,o,s,!(d||r||l&&c))};if((l||r)&&"node"!==s){const n=()=>{(e=>{const t=e.selection.getRng(),n=()=>{Wf.setEditorTimeout(e,(()=>{e.selection.setRng(t)}),10),s()};e.once("touchend",n);const a=e=>{e.preventDefault(),e.stopImmediatePropagation()};e.on("mousedown",a,!0);const o=()=>s();e.once("longpresscancel",o);const s=()=>{e.off("touchend",n),e.off("longpresscancel",o),e.off("mousedown",a)}})(e),u()};((e,t)=>{const n=e.selection;if(n.isCollapsed()||t.touches.length<1)return!1;{const a=t.touches[0],o=n.getRng();return tc(e.getWin(),Zd.domRange(o)).exists((e=>e.left<=a.clientX&&e.right>=a.clientX&&e.top<=a.clientY&&e.bottom>=a.clientY))}})(e,t)?n():(e.once("selectionchange",n),e.once("touchend",(()=>e.off("selectionchange",n))))}else u()},QM=e=>s(e)?"|"===e:"separator"===e.type,JM={type:"separator"},eB=e=>{const t=e=>({text:e.text,icon:e.icon,enabled:e.enabled,shortcut:e.shortcut});if(s(e))return e;switch(e.type){case"separator":return JM;case"submenu":return{type:"nestedmenuitem",...t(e),getSubmenuItems:()=>{const t=e.getSubmenuItems();return s(t)?t:V(t,eB)}};default:const n=e;return{type:"menuitem",...t(n),onAction:b(n.onAction)}}},tB=(e,t)=>{if(0===t.length)return e;const n=ae(e).filter((e=>!QM(e))).fold((()=>[]),(e=>[JM]));return e.concat(n).concat(t).concat([JM])},nB=(e,t)=>!(e=>"longpress"===e.type||be(e,"touches"))(t)&&(2!==t.button||t.target===e.getBody()&&""===t.pointerType),aB=(e,t)=>nB(e,t)?e.selection.getStart(!0):t.target,oB=(e,t,n)=>{const a=Pn().deviceType.isTouch,o=dr($f.sketch({dom:{tag:"div"},lazySink:t,onEscape:()=>e.focus(),onShow:()=>n.setContextMenuState(!0),onHide:()=>n.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Sl([tf("dismissContextMenu",[js(ks(),((t,n)=>{Qc.close(t),e.focus()}))])])})),i=()=>$f.hide(o),r=t=>{if(UM(e)&&t.preventDefault(),((e,t)=>t.ctrlKey&&!UM(e))(e,t)||(e=>0===zM(e).length)(e))return;const i=((e,t)=>{const n=HM(e),a=nB(e,t)?"selection":"point";if(Le(n)){const o=aB(e,t);return XC(Ne(o),n)?"node":a}return a})(e,t);(a()?XM:KM)(e,t,(()=>{const n=aB(e,t),a=e.ui.registry.getAll(),o=zM(e);return((e,t,n)=>{const a=Z(t,((t,a)=>ve(e,a.toLowerCase()).map((e=>{const a=e.update(n);if(s(a)&&Le(Oe(a)))return tB(t,a.split(" "));if(l(a)&&a.length>0){const e=V(a,eB);return tB(t,e)}return t})).getOrThunk((()=>t.concat([a])))),[]);return a.length>0&&QM(a[a.length-1])&&a.pop(),a})(a.contextMenus,o,n)}),n,o,i)};e.on("init",(()=>{const t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(a()?"":" ResizeWindow");e.on(t,i),e.on("longpress contextmenu",r)}))},sB=Oo([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),iB=e=>t=>t.translate(-e.left,-e.top),rB=e=>t=>t.translate(e.left,e.top),lB=e=>(t,n)=>Z(e,((e,t)=>t(e)),Wt(t,n)),dB=(e,t,n)=>e.fold(lB([rB(n),iB(t)]),lB([iB(t)]),lB([])),cB=(e,t,n)=>e.fold(lB([rB(n)]),lB([]),lB([rB(t)])),uB=(e,t,n)=>e.fold(lB([]),lB([iB(n)]),lB([rB(t),iB(n)])),mB=(e,t,n)=>{const a=e.fold(((e,t)=>({position:T.some("absolute"),left:T.some(e+"px"),top:T.some(t+"px")})),((e,t)=>({position:T.some("absolute"),left:T.some(e-n.left+"px"),top:T.some(t-n.top+"px")})),((e,t)=>({position:T.some("fixed"),left:T.some(e+"px"),top:T.some(t+"px")})));return{right:T.none(),bottom:T.none(),...a}},pB=(e,t,n,a)=>{const o=(e,o)=>(s,i)=>{const r=e(t,n,a);return o(s.getOr(r.left),i.getOr(r.top))};return e.fold(o(uB,hB),o(cB,fB),o(dB,gB))},hB=sB.offset,fB=sB.absolute,gB=sB.fixed,vB=(e,t)=>{const n=Et(e,t);return u(n)?NaN:parseInt(n,10)},bB=(e,t,n,a,o,s)=>{const i=((e,t,n,a)=>((e,t)=>{const n=e.element,a=vB(n,t.leftAttr),o=vB(n,t.topAttr);return isNaN(a)||isNaN(o)?T.none():T.some(Wt(a,o))})(e,t).fold((()=>n),(e=>gB(e.left+a.left,e.top+a.top))))(e,t,n,a),r=t.mustSnap?yB(e,t,i,o,s):_B(e,t,i,o,s),l=dB(i,o,s);return((e,t,n)=>{const a=e.element;xt(a,t.leftAttr,n.left+"px"),xt(a,t.topAttr,n.top+"px")})(e,t,l),r.fold((()=>({coord:gB(l.left,l.top),extra:T.none()})),(e=>({coord:e.output,extra:e.extra})))},wB=(e,t,n,a)=>se(e,(e=>{const o=e.sensor,s=((e,t,n,a,o,s)=>{const i=cB(e,o,s),r=cB(t,o,s);return Math.abs(i.left-r.left)<=n&&Math.abs(i.top-r.top)<=a})(t,o,e.range.left,e.range.top,n,a);return s?T.some({output:pB(e.output,t,n,a),extra:e.extra}):T.none()})),yB=(e,t,n,a,o)=>{const s=t.getSnapPoints(e);return wB(s,n,a,o).orThunk((()=>{const e=Z(s,((e,t)=>{const s=t.sensor,i=((e,t,n,a,o,s)=>{const i=cB(e,o,s),r=cB(t,o,s),l=Math.abs(i.left-r.left),d=Math.abs(i.top-r.top);return Wt(l,d)})(n,s,t.range.left,t.range.top,a,o);return e.deltas.fold((()=>({deltas:T.some(i),snap:T.some(t)})),(n=>(i.left+i.top)/2<=(n.left+n.top)/2?{deltas:T.some(i),snap:T.some(t)}:e))}),{deltas:T.none(),snap:T.none()});return e.snap.map((e=>({output:pB(e.output,n,a,o),extra:e.extra})))}))},_B=(e,t,n,a,o)=>{const s=t.getSnapPoints(e);return wB(s,n,a,o)};var CB=Object.freeze({__proto__:null,snapTo:(e,t,n,a)=>{const o=t.getTarget(e.element);if(t.repositionTarget){const t=tt(e.element),n=jn(t),s=OT(o),i=((e,t,n)=>({coord:pB(e.output,e.output,t,n),extra:e.extra}))(a,n,s),r=mB(i.coord,0,s);Bt(o,r)}}});const DB="data-initial-z-index",xB=(e,t)=>{e.getSystem().addToGui(t),(e=>{st(e.element).filter($e).each((t=>{Ft(t,"z-index").each((e=>{xt(t,DB,e)})),Pt(t,"z-index",It(e.element,"z-index"))}))})(t)},kB=e=>{(e=>{st(e.element).filter($e).each((e=>{St(e,DB).fold((()=>Ut(e,"z-index")),(t=>Pt(e,"z-index",t))),Tt(e,DB)}))})(e),e.getSystem().removeFromGui(e)},EB=(e,t,n)=>e.getSystem().build(rD.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:n}));var SB=wo("snaps",[no("getSnapPoints"),Ir("onSensor"),no("leftAttr"),no("topAttr"),yo("lazyViewport",ta),yo("mustSnap",!1)]);const AB=[yo("useFixed",S),no("blockerClass"),yo("getTarget",_),yo("onDrag",v),yo("repositionTarget",!0),yo("onDrop",v),Eo("getBounds",ta),SB],TB=e=>{return(t=Ft(e,"left"),n=Ft(e,"top"),a=Ft(e,"position"),t.isSome()&&n.isSome()&&a.isSome()?T.some(((e,t,n)=>("fixed"===n?gB:hB)(parseInt(e,10),parseInt(t,10)))(t.getOrDie(),n.getOrDie(),a.getOrDie())):T.none()).getOrThunk((()=>{const t=Gt(e);return fB(t.left,t.top)}));var t,n,a},OB=(e,t)=>({bounds:e.getBounds(),height:qt(t.element),width:Jt(t.element)}),LB=(e,t,n,a,o)=>{const s=n.update(a,o),i=n.getStartData().getOrThunk((()=>OB(t,e)));s.each((n=>{((e,t,n,a)=>{const o=t.getTarget(e.element);if(t.repositionTarget){const s=tt(e.element),i=jn(s),r=OT(o),l=TB(o),d=((e,t,n,a,o,s,i)=>((e,t,n,a,o)=>{const s=o.bounds,i=cB(t,n,a),r=Jr(i.left,s.x,s.x+s.width-o.width),l=Jr(i.top,s.y,s.y+s.height-o.height),d=fB(r,l);return t.fold((()=>{const e=uB(d,n,a);return hB(e.left,e.top)}),y(d),(()=>{const e=dB(d,n,a);return gB(e.left,e.top)}))})(0,t.fold((()=>{const e=(t=n,i=s.left,r=s.top,t.fold(((e,t)=>hB(e+i,t+r)),((e,t)=>fB(e+i,t+r)),((e,t)=>gB(e+i,t+r))));var t,i,r;const l=dB(e,a,o);return gB(l.left,l.top)}),(t=>{const i=bB(e,t,n,s,a,o);return i.extra.each((n=>{t.onSensor(e,n)})),i.coord})),a,o,i))(e,t.snaps,l,i,r,a,n),c=mB(d,0,r);Bt(o,c)}t.onDrag(e,o,a)})(e,t,i,n)}))},PB=(e,t,n,a)=>{t.each(kB),n.snaps.each((t=>{((e,t)=>{((e,t)=>{const n=e.element;Tt(n,t.leftAttr),Tt(n,t.topAttr)})(e,t)})(e,t)}));const o=n.getTarget(e.element);a.reset(),n.onDrop(e,o)},MB=e=>(t,n)=>{const a=e=>{n.setStartData(OB(t,e))};return Us([js(_s(),(e=>{n.getStartData().each((()=>a(e)))})),...e(t,n,a)])};var BB=Object.freeze({__proto__:null,getData:e=>T.from(Wt(e.x,e.y)),getDelta:(e,t)=>Wt(t.left-e.left,t.top-e.top)});const IB=(e,t,n)=>[js(Zo(),((a,o)=>{if(0!==o.event.raw.button)return;o.stop();const s=()=>PB(a,T.some(l),e,t),i=QC(s,200),r={drop:s,delayDrop:i.schedule,forceDrop:s,move:n=>{i.cancel(),LB(a,e,t,BB,n)}},l=EB(a,e.blockerClass,(e=>Us([js(Zo(),e.forceDrop),js(Wo(),e.drop),js(qo(),((t,n)=>{e.move(n.event)})),js($o(),e.delayDrop)]))(r));n(a),xB(a,l)}))],RB=[...AB,Vr("dragger",{handlers:MB(IB)})];var FB=Object.freeze({__proto__:null,getData:e=>{const t=e.raw.touches;return 1===t.length?(e=>{const t=e[0];return T.some(Wt(t.clientX,t.clientY))})(t):T.none()},getDelta:(e,t)=>Wt(t.left-e.left,t.top-e.top)});const NB=(e,t,n)=>{const a=ad(),o=n=>{PB(n,a.get(),e,t),a.clear()};return[js(Uo(),((s,i)=>{i.stop();const r=()=>o(s),l={drop:r,delayDrop:v,forceDrop:r,move:n=>{LB(s,e,t,FB,n)}},d=EB(s,e.blockerClass,(e=>Us([js(Uo(),e.forceDrop),js(zo(),e.drop),js(jo(),e.drop),js(Ho(),((t,n)=>{e.move(n.event)}))]))(l));a.set(d),n(s),xB(s,d)})),js(Ho(),((n,a)=>{a.stop(),LB(n,e,t,FB,a.event)})),js(zo(),((e,t)=>{t.stop(),o(e)})),js(jo(),o)]},VB=RB,UB=[...AB,Vr("dragger",{handlers:MB(NB)})],HB=[...AB,Vr("dragger",{handlers:MB(((e,t,n)=>[...IB(e,t,n),...NB(e,t,n)]))})];var zB=Object.freeze({__proto__:null,mouse:VB,touch:UB,mouseOrTouch:HB}),jB=Object.freeze({__proto__:null,init:()=>{let e=T.none(),t=T.none();const n=y({});return Si({readState:n,reset:()=>{e=T.none(),t=T.none()},update:(t,n)=>t.getData(n).bind((n=>((t,n)=>{const a=e.map((e=>t.getDelta(e,n)));return e=T.some(n),a})(t,n))),getStartData:()=>t,setStartData:e=>{t=T.some(e)}})}});const ZB=Ll({branchKey:"mode",branches:zB,name:"dragging",active:{events:(e,t)=>e.dragger.handlers(e,t)},extra:{snap:e=>({sensor:e.sensor,range:e.range,output:e.output,extra:T.from(e.extra)})},state:jB,apis:CB}),qB=(e,t,n,a,o,s)=>e.fold((()=>ZB.snap({sensor:fB(n-20,a-20),range:Wt(o,s),output:fB(T.some(n),T.some(a)),extra:{td:t}})),(e=>{const o=n-20,s=a-20,i=e.element.dom.getBoundingClientRect();return ZB.snap({sensor:fB(o,s),range:Wt(40,40),output:fB(T.some(n-i.width/2),T.some(a-i.height/2)),extra:{td:t}})})),$B=(e,t,n)=>({getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(e,a)=>{const o=a.td;((e,t)=>e.exists((e=>Je(e,t))))(t.get(),o)||(t.set(o),n(o))},mustSnap:!0}),WB=e=>Yf(Kf.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Sl([ZB.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),UD.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),KB=(e,t)=>{const n=To([]),a=To([]),o=To(!1),s=ad(),i=ad(),r=e=>{const n=Jn(e);return qB(u.getOpt(t),e,n.x,n.y,n.width,n.height)},l=e=>{const n=Jn(e);return qB(m.getOpt(t),e,n.right,n.bottom,n.width,n.height)},d=$B((()=>V(n.get(),(e=>r(e)))),s,(t=>{i.get().each((n=>{e.dispatch("TableSelectorChange",{start:t,finish:n})}))})),c=$B((()=>V(a.get(),(e=>l(e)))),i,(t=>{s.get().each((n=>{e.dispatch("TableSelectorChange",{start:n,finish:t})}))})),u=WB(d),m=WB(c),p=dr(u.asSpec()),h=dr(m.asSpec()),f=(t,n,a,o)=>{const s=a(n);ZB.snapTo(t,s),((t,n,a,s)=>{const i=n.dom.getBoundingClientRect();Ut(t.element,"display");const r=ot(Ne(e.getBody())).dom.innerHeight,l=i[o]<0,d=((e,t)=>e[o]>t)(i,r);(l||d)&&Pt(t.element,"display","none")})(t,n)},g=e=>f(p,e,r,"top"),v=e=>f(h,e,l,"bottom");Pn().deviceType.isTouch()&&(e.on("TableSelectionChange",(e=>{o.get()||(Mc(t,p),Mc(t,h),o.set(!0)),s.set(e.start),i.set(e.finish),e.otherCells.each((t=>{n.set(t.upOrLeftCells),a.set(t.downOrRightCells),g(e.start),v(e.finish)}))})),e.on("ResizeEditor ResizeWindow ScrollContent",(()=>{s.get().each(g),i.get().each(v)})),e.on("TableSelectionClear",(()=>{o.get()&&(Rc(p),Rc(h),o.set(!1)),s.clear(),i.clear()})))},GB=(e,t,n)=>{var a;const o=null!==(a=t.delimiter)&&void 0!==a?a:"›";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Sl([qh.config({mode:"flow",selector:"div[role=button]"}),Vm.config({disabled:n.isDisabled}),ky(),hD.config({}),ef.config({}),tf("elementPathEvents",[Xs(((t,a)=>{e.shortcuts.add("alt+F11","focus statusbar elementpath",(()=>qh.focusIn(t))),e.on("NodeChange",(a=>{const s=(t=>{const n=[];let a=t.length;for(;a-- >0;){const s=t[a];if(1===s.nodeType&&"BR"!==(o=s).nodeName&&!o.getAttribute("data-mce-bogus")&&"bookmark"!==o.getAttribute("data-mce-type")){const t=b_(e,s);if(t.isDefaultPrevented()||n.push({name:t.name,element:s}),t.isPropagationStopped())break}}var o;return n})(a.parents),i=s.length>0?Z(s,((t,a,s)=>{const i=((t,a,o)=>Kf.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":o,"aria-level":o+1}},components:[sr(t)],action:t=>{e.focus(),e.selection.select(a),e.nodeChanged()},buttonBehaviours:Sl([Ey(n.isDisabled),ky()])}))(a.name,a.element,s);return 0===s?t.concat([i]):t.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[sr(` ${o} `)]},i])}),[]):[];ef.set(t,i)}))}))])]),components:[]}};var YB;!function(e){e[e.None=0]="None",e[e.Both=1]="Both",e[e.Vertical=2]="Vertical"}(YB||(YB={}));const XB=(e,t,n)=>{const a=Ne(e.getContainer()),o=((e,t,n,a,o)=>{const s={height:aM(a+t.top,vv(e),wv(e))};return n===YB.Both&&(s.width=aM(o+t.left,gv(e),bv(e))),s})(e,t,n,Zt(a),Qt(a));le(o,((e,t)=>{f(e)&&Pt(a,t,nM(e))})),(e=>{e.dispatch("ResizeEditor")})(e)},QB=(e,t,n,a)=>{const o=Wt(20*n,20*a);return XB(e,o,t),T.some(!0)},JB=(e,t)=>{const n=()=>{const n=[],a=Gv(e),o=jv(e),s=Zv(e)||e.hasPlugin("wordcount");return o&&n.push(GB(e,{},t)),a&&n.push((()=>{const e=Fy("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[sr(Wg.translate(["Press {0} for help",e]))]}})()),s&&n.push((()=>{const n=[];return e.hasPlugin("wordcount")&&n.push(((e,t)=>{const n=(e,n,a)=>ef.set(e,[sr(t.translate(["{0} "+a,n[a]]))]);return Kf.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Sl([Ey(t.isDisabled),ky(),hD.config({}),ef.config({}),bu.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),tf("wordcount-events",[ei((e=>{const t=bu.getValue(e),a="words"===t.mode?"characters":"words";bu.setValue(e,{mode:a,count:t.count}),n(e,t.count,a)})),Xs((t=>{e.on("wordCountUpdate",(e=>{const{mode:a}=bu.getValue(t);bu.setValue(t,{mode:a,count:e.wordCount}),n(t,e.wordCount,a)}))}))])]),eventOrder:{[ms()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(e,t)),Zv(e)&&n.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v6",rel:"noopener",target:"_blank","aria-label":Wg.translate(["Powered by {0}","Tiny"])},innerHtml:'<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>\n</svg>\n'.trim()},behaviours:Sl([rf.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:n}})()),n.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const e="tox-statusbar__text-container--flex-start",t="tox-statusbar__text-container--flex-end";if(a){const n="tox-statusbar__text-container-3-cols";return s||o?s&&!o?[n,t]:[n,e]:[n,"tox-statusbar__text-container--space-around"]}return[s&&!o?t:e]})()]},components:n}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const a=n(),o=((e,t)=>{const n=(e=>{const t=qv(e);return!1===t?YB.None:"both"===t?YB.Both:YB.Vertical})(e);if(n===YB.None)return T.none();const a=n===YB.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return T.some(nv("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize"),"aria-label":t.translate(a)},behaviours:[ZB.config({mode:"mouse",repositionTarget:!1,onDrag:(t,a,o)=>XB(e,o,n),blockerClass:"tox-blocker"}),qh.config({mode:"special",onLeft:()=>QB(e,n,-1,0),onRight:()=>QB(e,n,1,0),onUp:()=>QB(e,n,0,-1),onDown:()=>QB(e,n,0,1)}),hD.config({}),rf.config({})]},t.icons))})(e,t);return a.concat(o.toArray())})()}},eI=(e,t)=>t.get().getOrDie(`UI for ${e} has not been rendered`),tI=(e,t)=>{const n=e.inline,a=n?dM:eM,o=cb(e)?uO:AT,s=(()=>{const e=ad(),t=ad(),n=ad();return{dialogUi:e,popupUi:t,mainUi:n,getUiMotherships:()=>{const n=e.get().map((e=>e.mothership)),a=t.get().map((e=>e.mothership));return n.fold((()=>a.toArray()),(e=>a.fold((()=>[e]),(t=>Je(e.element,t.element)?[e]:[e,t]))))},lazyGetInOuterOrDie:(e,t)=>()=>n.get().bind((e=>t(e.outerContainer))).getOrDie(`Could not find ${e} element in OuterContainer`)}})(),i=ad(),r=ad(),l=ad(),d=Pn().deviceType.isTouch()?["tox-platform-touch"]:[],c=sb(e),u=kv(e),m=Yf({dom:{tag:"div",classes:["tox-anchorbar"]}}),p=Yf({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),h=()=>s.mainUi.get().map((e=>e.outerContainer)).bind(zL.getHeader),f=s.lazyGetInOuterOrDie("anchor bar",m.getOpt),g=s.lazyGetInOuterOrDie("bottom anchor bar",p.getOpt),v=s.lazyGetInOuterOrDie("toolbar",zL.getToolbar),b=s.lazyGetInOuterOrDie("throbber",zL.getThrobber),w=((e,t,n,a)=>{const o=To(!1),s=(e=>{const t=To(sb(e)?"bottom":"top");return{isPositionedAtTop:()=>"top"===t.get(),getDockingMode:t.get,setDockingMode:t.set}})(t),i={icons:()=>t.ui.registry.getAll().icons,menuItems:()=>t.ui.registry.getAll().menuItems,translate:Wg.translate,isDisabled:()=>t.mode.isReadOnly()||!t.ui.isEnabled(),getOption:t.options.get},r=hT(t),l=(e=>{const t=t=>()=>e.formatter.match(t),n=t=>()=>{const n=e.formatter.get(t);return void 0!==n?T.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):T.none()},a=To([]),o=To([]),s=To(!1);return e.on("PreInit",(o=>{const s=HA(e),i=jA(e,s,t,n);a.set(i)})),e.on("addStyleModifications",(a=>{const i=jA(e,a.items,t,n);o.set(i),s.set(a.replace)})),{getData:()=>{const e=s.get()?[]:a.get(),t=o.get();return e.concat(t)}}})(t),d=(e=>({colorPicker:PA(e),hasCustomColors:MA(e),getColors:BA(e),getColorCols:IA(e)}))(t),c=(e=>({isDraggableModal:RA(e)}))(t),u={shared:{providers:i,anchors:LA(t,n,a,s.isPositionedAtTop),header:s},urlinput:r,styles:l,colorinput:d,dialog:c,isContextMenuOpen:()=>o.get(),setContextMenuState:e=>o.set(e)},m={...u,shared:{...u.shared,interpreter:e=>sA(e,{},m),getSink:e.popup}},p={...u,shared:{...u.shared,interpreter:e=>sA(e,{},p),getSink:e.dialog}};return{popup:m,dialog:p}})({popup:()=>sa.fromOption(s.popupUi.get().map((e=>e.sink)),"(popup) UI has not been rendered"),dialog:()=>sa.fromOption(s.dialogUi.get().map((e=>e.sink)),"UI has not been rendered")},e,f,g),y=()=>{const t=(()=>{const t={attributes:{[Dd]:c?Cd.BottomToTop:Cd.TopToBottom}},n=zL.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:w.popup,onEscape:()=>{e.focus()}}),a=zL.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:w.popup.shared.getSink,providers:w.popup.shared.providers,onEscape:()=>{e.focus()},onToolbarToggled:t=>{((e,t)=>{e.dispatch("ToggleToolbarDrawer",{state:t})})(e,t)},type:u,lazyToolbar:v,lazyHeader:()=>h().getOrDie("Could not find header element"),...t}),o=zL.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:w.popup.shared.providers,onEscape:()=>{e.focus()},type:u}),s=ob(e),i=nb(e),r=Qv(e),l=Kv(e),d=zL.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),p=s||i||r,f=l?[d,n]:[n];return zL.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(p?[]:["tox-editor-header--empty"]),...t},components:W([r?f:[],s?[o]:i?[a]:[],rb(e)?[]:[m.asSpec()]]),sticky:cb(e),editor:e,sharedBackstage:w.popup.shared})})(),a={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[zL.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),zL.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},o=zL.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:w.popup}),s=zL.parts.viewWrapper({backstage:w.popup}),r=zv(e)&&!n?T.some(JB(e,w.popup.shared.providers)):T.none(),l=W([c?[]:[t],n?[]:[a],c?[t]:[]]),f=zL.parts.editorContainer({components:W([l,n?[]:[p.asSpec(),...r.toArray()]])}),g=db(e),b={role:"application",...Wg.isRtl()?{dir:"rtl"}:{},...g?{"aria-hidden":"true"}:{}},y=dr(zL.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(n?["tox-tinymce-inline"]:[]).concat(c?["tox-tinymce--toolbar-bottom"]:[]).concat(d),styles:{visibility:"hidden",...g?{opacity:"0",border:"0"}:{}},attributes:b},components:[f,...n?[]:[s],o],behaviours:Sl([ky(),Vm.config({disableClass:"tox-tinymce--disabled"}),qh.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),_=lD(y);return i.set(_),{mothership:_,outerContainer:y}},_=t=>{const n=nM((e=>{const t=(e=>{const t=hv(e),n=vv(e),a=wv(e);return tM(t).map((e=>aM(e,n,a)))})(e);return t.getOr(hv(e))})(e)),a=nM((e=>oM(e).getOr(fv(e)))(e));return e.inline||(Vt("div","width",a)&&Pt(t.element,"width",a),Vt("div","height",n)?Pt(t.element,"height",n):Pt(t.element,"height","400px")),n};return{popups:{backstage:w.popup,getMothership:()=>eI("popups",l)},dialogs:{backstage:w.dialog,getMothership:()=>eI("dialogs",r)},renderUI:()=>{const n=y(),i=(()=>{const t=lb(e),n=Je(_t(),t)&&"grid"===It(t,"display"),a={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(d),attributes:{...Wg.isRtl()?{dir:"rtl"}:{}}},behaviours:Sl([Ec.config({useFixed:()=>o.isDocked(h)})])},s={dom:{styles:{width:document.body.clientWidth+"px"}},events:Us([js(Cs(),(e=>{Pt(e.element,"width",document.body.clientWidth+"px")}))])},i=dr(ga(a,n?s:{})),l=lD(i);return r.set(l),{sink:i,mothership:l}})(),c=ub(e)?(()=>{const e={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(d),attributes:{...Wg.isRtl()?{dir:"rtl"}:{}}},behaviours:Sl([Ec.config({useFixed:()=>o.isDocked(h),getBounds:()=>t.getPopupSinkBounds()})])},n=dr(e),a=lD(n);return l.set(a),{sink:n,mothership:a}})():(e=>(l.set(e.mothership),e))(i);return s.dialogUi.set(i),s.popupUi.set(c),s.mainUi.set(n),(t=>{const{mainUi:n,popupUi:s,uiMotherships:i}=t;de(Ev(e),((t,n)=>{e.ui.registry.addGroupToolbarButton(n,t)}));const{buttons:r,menuItems:l,contextToolbars:d,sidebars:c,views:m}=e.ui.registry.getAll(),p=ab(e),f={menuItems:l,menus:mb(e),menubar:Pv(e),toolbar:p.getOrThunk((()=>Mv(e))),allowToolbarGroups:u===sv.floating,buttons:r,sidebar:c,views:m};var g;g=n.outerContainer,e.addShortcut("alt+F9","focus menubar",(()=>{zL.focusMenubar(g)})),e.addShortcut("alt+F10","focus toolbar",(()=>{zL.focusToolbar(g)})),e.addCommand("ToggleToolbarDrawer",((e,t)=>{(null==t?void 0:t.skipFocus)?zL.toggleToolbarDrawerWithoutFocusing(g):zL.toggleToolbarDrawer(g)})),e.addQueryStateHandler("ToggleToolbarDrawer",(()=>zL.isToolbarDrawerToggled(g))),((e,t,n)=>{const a=(e,a)=>{U([t,...n],(t=>{t.broadcastEvent(e,a)}))},o=(e,a)=>{U([t,...n],(t=>{t.broadcastOn([e],a)}))},s=e=>o(Jc(),{target:e.target}),i=Wn(),r=sd(i,"touchstart",s),l=sd(i,"touchmove",(e=>a(ws(),e))),d=sd(i,"touchend",(e=>a(ys(),e))),c=sd(i,"mousedown",s),u=sd(i,"mouseup",(e=>{0===e.raw.button&&o(tu(),{target:e.target})})),m=e=>o(Jc(),{target:Ne(e.target)}),p=e=>{0===e.button&&o(tu(),{target:Ne(e.target)})},h=()=>{U(e.editorManager.get(),(t=>{e!==t&&t.dispatch("DismissPopups",{relatedTarget:e})}))},f=e=>a(_s(),rd(e)),g=e=>{o(eu(),{}),a(Cs(),rd(e))},v=gt(Ne(e.getElement())),b=id(v,"scroll",(n=>{requestAnimationFrame((()=>{if(null!=e.getContainer()){const o=GC(e,t.element).map((e=>[e.element,...e.others])).getOr([]);R(o,(e=>Je(e,n.target)))&&(e.dispatch("ElementScroll",{target:n.target.dom}),a(Ts(),n))}}))})),w=()=>o(eu(),{}),y=t=>{t.state&&o(Jc(),{target:Ne(e.getContainer())})},_=e=>{o(Jc(),{target:Ne(e.relatedTarget.getContainer())})};e.on("PostRender",(()=>{e.on("click",m),e.on("tap",m),e.on("mouseup",p),e.on("mousedown",h),e.on("ScrollWindow",f),e.on("ResizeWindow",g),e.on("ResizeEditor",w),e.on("AfterProgressState",y),e.on("DismissPopups",_)})),e.on("remove",(()=>{e.off("click",m),e.off("tap",m),e.off("mouseup",p),e.off("mousedown",h),e.off("ScrollWindow",f),e.off("ResizeWindow",g),e.off("ResizeEditor",w),e.off("AfterProgressState",y),e.off("DismissPopups",_),c.unbind(),r.unbind(),l.unbind(),d.unbind(),u.unbind(),b.unbind()})),e.on("detach",(()=>{U([t,...n],Hc),U([t,...n],(e=>e.destroy()))}))})(e,n.mothership,i),o.setup(e,w.popup.shared,h),FM(e,w.popup),oB(e,w.popup.shared.getSink,w.popup),(e=>{const{sidebars:t}=e.ui.registry.getAll();U(ie(t),(n=>{const a=t[n],o=()=>ye(T.from(e.queryCommandValue("ToggleSidebar")),n);e.ui.registry.addToggleButton(n,{icon:a.icon,tooltip:a.tooltip,onAction:t=>{e.execCommand("ToggleSidebar",!1,n),t.setActive(o())},onSetup:t=>{t.setActive(o());const n=()=>t.setActive(o());return e.on("ToggleSidebar",n),()=>{e.off("ToggleSidebar",n)}}})}))})(e),RO(e,b,w.popup.shared),AM(e,d,s.sink,{backstage:w.popup}),KB(e,s.sink);const v={targetNode:e.getElement(),height:_(n.outerContainer)};return a.render(e,t,f,w.popup,v)})({popupUi:c,dialogUi:i,mainUi:n,uiMotherships:s.getUiMotherships()})}}},nI=y([no("lazySink"),mo("dragBlockClass"),Eo("getBounds",ta),yo("useTabstopAt",A),yo("firstTabstop",0),yo("eventOrder",{}),wu("modalBehaviours",[qh]),Rr("onExecute"),Nr("onEscape")]),aI={sketch:_},oI=y([Ku({name:"draghandle",overrides:(e,t)=>({behaviours:Sl([ZB.config({mode:"mouse",getTarget:e=>gr(e,'[role="dialog"]').getOr(e),blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])})}),$u({schema:[no("dom")],name:"title"}),$u({factory:aI,schema:[no("dom")],name:"close"}),$u({factory:aI,schema:[no("dom")],name:"body"}),Ku({factory:aI,schema:[no("dom")],name:"footer"}),Wu({factory:{sketch:(e,t)=>({...e,dom:t.dom,components:t.components})},schema:[yo("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),yo("components",[])],name:"blocker"})]),sI=_m({name:"ModalDialog",configFields:nI(),partFields:oI(),factory:(e,t,n,a)=>{const o=ad(),s=di("modal-events"),i={...e.eventOrder,[Ds()]:[s].concat(e.eventOrder["alloy.system.attached"]||[])};return{uid:e.uid,dom:e.dom,components:t,apis:{show:t=>{o.set(t);const n=e.lazySink(t).getOrDie(),s=a.blocker(),i=n.getSystem().build({...s,components:s.components.concat([cr(t)]),behaviours:Sl([rf.config({}),tf("dialog-blocker-events",[Ys(Go(),(()=>{BO.isBlocked(t)||qh.focusIn(t)}))])])});Mc(n,i),qh.focusIn(t)},hide:e=>{o.clear(),st(e.element).each((t=>{e.getSystem().getByDom(t).each((e=>{Rc(e)}))}))},getBody:t=>rm(t,e,"body"),getFooter:t=>im(t,e,"footer"),setIdle:e=>{BO.unblock(e)},setBusy:(e,t)=>{BO.block(e,t)}},eventOrder:i,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:_u(e.modalBehaviours,[ef.config({}),qh.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt,firstTabstop:e.firstTabstop}),BO.config({getRoot:o.get}),tf(s,[Xs((t=>{((e,t)=>{const n=St(e,"id").fold((()=>{const e=di("dialog-label");return xt(t,"id",e),e}),_);xt(e,"aria-labelledby",n)})(t.element,rm(t,e,"title").element)}))])])}},apis:{show:(e,t)=>{e.show(t)},hide:(e,t)=>{e.hide(t)},getBody:(e,t)=>e.getBody(t),getFooter:(e,t)=>e.getFooter(t),setBusy:(e,t,n)=>{e.setBusy(t,n)},setIdle:(e,t)=>{e.setIdle(t)}}}),iI=La([ow,sw].concat(ey)),rI=Ua,lI=[Lw("button"),bw,xo("align","end",["start","end"]),Ew,kw,go("buttonType",["primary","secondary"])],dI=[...lI,rw],cI=[io("type",["submit","cancel","custom"]),...dI],uI=[io("type",["menu"]),vw,ww,bw,uo("items",iI),...lI],mI=[...lI,io("type",["togglebutton"]),so("tooltip"),bw,vw,ko("active",!1)],pI=Xa("type",{submit:cI,cancel:cI,custom:cI,menu:uI,togglebutton:mI}),hI=[ow,rw,io("level",["info","warn","error","success"]),dw,yo("url","")],fI=La(hI),gI=[ow,rw,kw,Lw("button"),bw,xw,go("buttonType",["primary","secondary","toolbar"]),Ew],vI=La(gI),bI=[ow,sw],wI=bI.concat([yw]),yI=bI.concat([iw,kw]),_I=La(yI),CI=Ua,DI=wI.concat([Sw("auto")]),xI=La(DI),kI=Ia([cw,rw,dw]),EI=wI.concat([Do("storageKey","default")]),SI=La(EI),AI=Va,TI=La(wI),OI=Va,LI=bI.concat([Do("tag","textarea"),so("scriptId"),so("scriptUrl"),_o("settings",void 0,ja)]),PI=bI.concat([Do("tag","textarea"),ro("init")]),MI=qa((e=>Wa("customeditor.old",Oa(PI),e).orThunk((()=>Wa("customeditor.new",Oa(LI),e))))),BI=Va,II=La(wI),RI=Pa(ka),FI=e=>[ow,oo("columns"),e],NI=[ow,so("html"),xo("presets","presentation",["presentation","document"])],VI=La(NI),UI=wI.concat([ko("border",!1),ko("sandboxed",!0),ko("streamContent",!1),ko("transparent",!0)]),HI=La(UI),zI=Va,jI=La(bI.concat([fo("height")])),ZI=La([so("url"),ho("zoom"),ho("cachedWidth"),ho("cachedHeight")]),qI=wI.concat([fo("inputMode"),fo("placeholder"),ko("maximized",!1),kw]),$I=La(qI),WI=Va,KI=e=>[ow,iw,e,xo("align","start",["start","center","end"])],GI=[rw,cw],YI=[rw,uo("items",Qa(0,(()=>XI)))],XI=Ma([La(GI),La(YI)]),QI=wI.concat([uo("items",XI),kw]),JI=La(QI),eR=Va,tR=wI.concat([co("items",[rw,cw]),Co("size",1),kw]),nR=La(tR),aR=Va,oR=wI.concat([ko("constrain",!0),kw]),sR=La(oR),iR=La([so("width"),so("height")]),rR=bI.concat([iw,Co("min",0),Co("max",0)]),lR=La(rR),dR=Na,cR=[ow,uo("header",Va),uo("cells",Pa(Va))],uR=La(cR),mR=wI.concat([fo("placeholder"),ko("maximized",!1),kw]),pR=La(mR),hR=Va,fR=[io("type",["directory","leaf"]),lw,so("id"),po("menu",hO)],gR=La(fR),vR=fR.concat([uo("children",Qa(0,(()=>Za("type",{directory:bR,leaf:gR}))))]),bR=La(vR),wR=Za("type",{directory:bR,leaf:gR}),yR=[ow,uo("items",wR),vo("onLeafAction"),vo("onToggleExpand"),So("defaultExpandedIds",[],Va),fo("defaultSelectedId")],_R=La(yR),CR=wI.concat([xo("filetype","file",["image","media","file"]),kw,fo("picker_text")]),DR=La(CR),xR=La([cw,Aw]),kR=e=>Ja("items","items",{tag:"required",process:{}},Pa(qa((t=>Wa(`Checking item of ${e}`,ER,t).fold((e=>sa.error(Ya(e))),(e=>sa.value(e))))))),ER=Aa((()=>{return Za("type",{alertbanner:fI,bar:La((e=kR("bar"),[ow,e])),button:vI,checkbox:_I,colorinput:SI,colorpicker:TI,dropzone:II,grid:La(FI(kR("grid"))),iframe:HI,input:$I,listbox:JI,selectbox:nR,sizeinput:sR,slider:lR,textarea:pR,urlinput:DR,customeditor:MI,htmlpanel:VI,imagepreview:jI,collection:xI,label:La(KI(kR("label"))),table:uR,tree:_R,panel:AR});var e})),SR=[ow,yo("classes",[]),uo("items",ER)],AR=La(SR),TR=[Lw("tab"),lw,uo("items",ER)],OR=[ow,co("tabs",TR)],LR=La(OR),PR=dI,MR=pI,BR=La([so("title"),ao("body",Za("type",{panel:AR,tabpanel:LR})),Do("size","normal"),So("buttons",[],MR),yo("initialData",{}),Eo("onAction",v),Eo("onChange",v),Eo("onSubmit",v),Eo("onClose",v),Eo("onCancel",v),Eo("onTabChange",v)]),IR=La([io("type",["cancel","custom"]),...PR]),RR=La([so("title"),so("url"),ho("height"),ho("width"),bo("buttons",IR),Eo("onAction",v),Eo("onCancel",v),Eo("onClose",v),Eo("onMessage",v)]),FR=e=>i(e)?[e].concat(K(ge(e),FR)):l(e)?K(e,FR):[],NR=e=>s(e.type)&&s(e.name),VR={checkbox:CI,colorinput:AI,colorpicker:OI,dropzone:RI,input:WI,iframe:zI,imagepreview:ZI,selectbox:aR,sizeinput:iR,slider:dR,listbox:eR,size:iR,textarea:hR,urlinput:xR,customeditor:BI,collection:kI,togglemenuitem:rI},UR=e=>{const t=(e=>z(FR(e),NR))(e),n=K(t,(e=>(e=>T.from(VR[e.type]))(e).fold((()=>[]),(t=>[ao(e.name,t)]))));return La(n)},HR=e=>{var t;return{internalDialog:Ka(Wa("dialog",BR,e)),dataValidator:UR(e),initialData:null!==(t=e.initialData)&&void 0!==t?t:{}}},zR={open:(e,t)=>{const n=HR(t);return e(n.internalDialog,n.initialData,n.dataValidator)},openUrl:(e,t)=>e(Ka(Wa("dialog",RR,t))),redial:e=>HR(e)};var jR=Object.freeze({__proto__:null,events:(e,t)=>{const n=(n,a)=>{e.updateState.each((e=>{const o=e(n,a);t.set(o)})),e.renderComponents.each((o=>{const s=o(a,t.get());(e.reuseDom?Wh:$h)(n,s)}))};return Us([js(us(),((t,a)=>{const o=a;if(!o.universal){const a=e.channel;I(o.channels,a)&&n(t,o.data)}})),Xs(((t,a)=>{e.initialData.each((e=>{n(t,e)}))}))])}}),ZR=Object.freeze({__proto__:null,getState:(e,t,n)=>n}),qR=[no("channel"),mo("renderComponents"),mo("updateState"),mo("initialData"),ko("reuseDom",!0)];const $R=Tl({fields:qR,name:"reflecting",active:jR,apis:ZR,state:Object.freeze({__proto__:null,init:()=>{const e=To(T.none());return{readState:()=>e.get().getOr("none"),get:e.get,set:e.set,clear:()=>e.set(T.none())}}})}),WR=e=>{const t=[],n={};return le(e,((e,a)=>{e.fold((()=>{t.push(a)}),(e=>{n[a]=e}))})),t.length>0?sa.error(t):sa.value(n)},KR=(e,t,n)=>{const a=Yf(Mk.sketch((a=>({dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:V(e.items,(e=>aA(a,e,t,n)))}))));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[a.asSpec()]}],behaviours:Sl([qh.config({mode:"acyclic",useTabstopAt:x(aE)}),(o=a,km.config({find:o.getOpt})),jk(a,{postprocess:e=>WR(e).fold((e=>(console.error(e),{})),_)}),tf("dialog-body-panel",[js(Go(),((e,t)=>{e.getSystem().broadcastOn([dE],{newFocus:T.some(t.event.target)})}))])])};var o},GR=ym({name:"TabButton",configFields:[yo("uid",void 0),no("value"),Ja("dom","dom",ya((()=>({attributes:{role:"tab",id:di("aria"),"aria-selected":"false"}}))),Ra()),mo("action"),yo("domModification",{}),wu("tabButtonBehaviours",[rf,qh,bu]),no("view")],factory:(e,t)=>({uid:e.uid,dom:e.dom,components:e.components,events:vf(e.action),behaviours:_u(e.tabButtonBehaviours,[rf.config({}),qh.config({mode:"execution",useSpace:!0,useEnter:!0}),bu.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification})}),YR=y([no("tabs"),no("dom"),yo("clickToDismiss",!1),wu("tabbarBehaviours",[Gm,qh]),Mr(["tabClass","selectedClass"])]),XR=Gu({factory:GR,name:"tabs",unit:"tab",overrides:e=>{const t=(e,t)=>{Gm.dehighlight(e,t),Is(e,Ls(),{tabbar:e,button:t})},n=(e,t)=>{Gm.highlight(e,t),Is(e,Os(),{tabbar:e,button:t})};return{action:a=>{const o=a.getSystem().getByUid(e.uid).getOrDie(),s=Gm.isHighlighted(o,a);(s&&e.clickToDismiss?t:s?v:n)(o,a)},domModification:{classes:[e.markers.tabClass]}}}}),QR=y([XR]),JR=_m({name:"Tabbar",configFields:YR(),partFields:QR(),factory:(e,t,n,a)=>({uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:_u(e.tabbarBehaviours,[Gm.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:(e,t)=>{xt(t.element,"aria-selected","true")},onDehighlight:(e,t)=>{xt(t.element,"aria-selected","false")}}),qh.config({mode:"flow",getInitial:e=>Gm.getHighlighted(e).map((e=>e.element)),selector:"."+e.markers.tabClass,executeOnMove:!0})])})}),eF=ym({name:"Tabview",configFields:[wu("tabviewBehaviours",[ef])],factory:(e,t)=>({uid:e.uid,dom:e.dom,behaviours:_u(e.tabviewBehaviours,[ef.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),tF=y([yo("selectFirst",!0),Ir("onChangeTab"),Ir("onDismissTab"),yo("tabs",[]),wu("tabSectionBehaviours",[])]),nF=$u({factory:JR,schema:[no("dom"),lo("markers",[no("tabClass"),no("selectedClass")])],name:"tabbar",defaults:e=>({tabs:e.tabs})}),aF=$u({factory:eF,name:"tabview"}),oF=y([nF,aF]),sF=_m({name:"TabSection",configFields:tF(),partFields:oF(),factory:(e,t,n,a)=>{const o=(t,n)=>{im(t,e,"tabbar").each((e=>{n(e).each(Rs)}))};return{uid:e.uid,dom:e.dom,components:t,behaviours:yu(e.tabSectionBehaviours),events:Us(W([e.selectFirst?[Xs(((e,t)=>{o(e,Gm.getFirst)}))]:[],[js(Os(),((t,n)=>{(t=>{const n=bu.getValue(t);im(t,e,"tabview").each((a=>{q(e.tabs,(e=>e.value===n)).each((n=>{const o=n.view();St(t.element,"id").each((e=>{xt(a.element,"aria-labelledby",e)})),ef.set(a,o),e.onChangeTab(a,t,o)}))}))})(n.event.button)})),js(Ls(),((t,n)=>{const a=n.event.button;e.onDismissTab(t,a)}))]])),apis:{getViewItems:t=>im(t,e,"tabview").map((e=>ef.contents(e))).getOr([]),showTab:(e,t)=>{o(e,(e=>{const n=Gm.getCandidates(e);return q(n,(e=>bu.getValue(e)===t)).filter((t=>!Gm.isHighlighted(e,t)))}))}}}},apis:{getViewItems:(e,t)=>e.getViewItems(t),showTab:(e,t,n)=>{e.showTab(t,n)}}}),iF=(e,t)=>{Pt(e,"height",t+"px"),Pt(e,"flex-basis",t+"px")},rF=(e,t,n)=>{gr(e,'[role="dialog"]').each((e=>{br(e,'[role="tablist"]').each((a=>{n.get().map((n=>(Pt(t,"height","0"),Pt(t,"flex-basis","0"),Math.min(n,((e,t,n)=>{const a=at(e).dom,o=gr(e,".tox-dialog-wrap").getOr(e);let s;s="fixed"===It(o,"position")?Math.max(a.clientHeight,window.innerHeight):Math.max(a.offsetHeight,a.scrollHeight);const i=Zt(t),r=t.dom.offsetLeft>=n.dom.offsetLeft+Qt(n)?Math.max(Zt(n),i):i,l=parseInt(It(e,"margin-top"),10)||0,d=parseInt(It(e,"margin-bottom"),10)||0;return s-(Zt(e)+l+d-r)})(e,t,a))))).each((e=>{iF(t,e)}))}))}))},lF=e=>br(e,'[role="tabpanel"]'),dF="send-data-to-section",cF="send-data-to-view",uF=(e,t,n)=>{const a=To({}),o=e=>{const t=bu.getValue(e),n=WR(t).getOr({}),o=a.get(),s=ga(o,n);a.set(s)},s=e=>{const t=a.get();bu.setValue(e,t)},i=To(null),r=V(e.tabs,(e=>({value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[sr(n.shared.providers.translate(e.title))],view:()=>[Mk.sketch((a=>({dom:{tag:"div",classes:["tox-form"]},components:V(e.items,(e=>aA(a,e,t,n))),formBehaviours:Sl([qh.config({mode:"acyclic",useTabstopAt:x(aE)}),tf("TabView.form.events",[Xs(s),Qs(o)]),Ml.config({channels:Po([{key:dF,value:{onReceive:o}},{key:cF,value:{onReceive:s}}])})])})))]}))),l=(e=>{const t=ad(),n=[Xs((n=>{const a=n.element;lF(a).each((o=>{Pt(o,"visibility","hidden"),n.getSystem().getByDom(o).toOptional().each((n=>{const a=((e,t,n)=>V(e,((a,o)=>{ef.set(n,e[o].view());const s=t.dom.getBoundingClientRect();return ef.set(n,[]),s.height})))(e,o,n),s=(e=>ne(ee(e,((e,t)=>e>t?-1:e<t?1:0))))(a);s.fold(t.clear,t.set)})),rF(a,o,t),Ut(o,"visibility"),((e,t)=>{ne(e).each((e=>sF.showTab(t,e.value)))})(e,n),requestAnimationFrame((()=>{rF(a,o,t)}))}))})),js(Cs(),(e=>{const n=e.element;lF(n).each((e=>{rF(n,e,t)}))})),js(AD,((e,n)=>{const a=e.element;lF(a).each((e=>{const n=Nl(gt(e));Pt(e,"visibility","hidden");const o=Ft(e,"height").map((e=>parseInt(e,10)));Ut(e,"height"),Ut(e,"flex-basis");const s=e.dom.getBoundingClientRect().height;o.forall((e=>s>e))?(t.set(s),rF(a,e,t)):o.each((t=>{iF(e,t)})),Ut(e,"visibility"),n.each(Il)}))}))];return{extraEvents:n,selectFirst:!1}})(r);return sF.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(e,t,n)=>{const a=bu.getValue(t);Is(e,SD,{name:a,oldName:i.get()}),i.set(a)},tabs:r,components:[sF.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[JR.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Sl([hD.config({})])}),sF.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:l.selectFirst,tabSectionBehaviours:Sl([tf("tabpanel",l.extraEvents),qh.config({mode:"acyclic"}),km.config({find:e=>ne(sF.getViewItems(e))}),Zk(T.none(),(e=>(e.getSystem().broadcastOn([dF],{}),a.get())),((e,t)=>{a.set(t),e.getSystem().broadcastOn([cF],{})}))])})},mF=(e,t,n,a,o)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...n.map((e=>({id:e}))).getOr({}),...o?{"aria-live":"polite"}:{}}},components:[],behaviours:Sl([Hk(0),$R.config({channel:`${iE}-${t}`,updateState:(e,t)=>T.some({isTabPanel:()=>"tabpanel"===t.body.type}),renderComponents:e=>{const t=e.body;return"tabpanel"===t.type?[uF(t,e.initialData,a)]:[KR(t,e.initialData,a)]},initialData:e})])}),pF=dv.deviceType.isTouch(),hF=(e,t)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}),fF=(e,t)=>sI.parts.close(Kf.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:Sl([hD.config({})])})),gF=()=>sI.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),vF=(e,t)=>sI.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Gf(`<p>${$g(t.translate(e))}</p>`)}]}]}),bF=e=>sI.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e}),wF=(e,t)=>[rD.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),rD.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})],yF=e=>{const t="tox-dialog",n=t+"-wrap",a=n+"__backdrop",o=t+"__disable-scroll";return sI.sketch({lazySink:e.lazySink,onEscape:t=>(e.onEscape(t),T.some(!0)),useTabstopAt:e=>!aE(e),firstTabstop:e.firstTabstop,dom:{tag:"div",classes:[t].concat(e.extraClasses),styles:{position:"relative",...e.extraStyles}},components:[e.header,e.body,...e.footer.toArray()],parts:{blocker:{dom:Gf(`<div class="${n}"></div>`),components:[{dom:{tag:"div",classes:pF?[a,a+"--opaque"]:[a]}}]}},dragBlockClass:n,modalBehaviours:Sl([rf.config({}),tf("dialog-events",e.dialogEvents.concat([Ys(Go(),((e,t)=>{BO.isBlocked(e)||qh.focusIn(e)})),js(Ss(),((e,t)=>{e.getSystem().broadcastOn([dE],{newFocus:t.event.newFocus})}))])),tf("scroll-lock",[Xs((()=>{ji(_t(),o)})),Qs((()=>{qi(_t(),o)}))]),...e.extraBehaviours]),eventOrder:{[ms()]:["dialog-events"],[Ds()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[xs()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...e.eventOrder}})},_F=e=>Kf.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},buttonBehaviours:Sl([hD.config({})]),components:[nv("close",{tag:"span",classes:["tox-icon"]},e.icons)],action:e=>{Bs(e,CD)}}),CF=(e,t,n,a)=>({dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...n.map((e=>({id:e}))).getOr({})}},components:[],behaviours:Sl([$R.config({channel:`${sE}-${t}`,initialData:e,renderComponents:e=>[sr(a.translate(e.title))]})])}),DF=()=>({dom:Gf('<div class="tox-dialog__draghandle"></div>')}),xF=(e,t,n)=>((e,t,n)=>{const a=sI.parts.title(CF(e,t,T.none(),n)),o=sI.parts.draghandle(DF()),s=sI.parts.close(_F(n)),i=[a].concat(e.draggable?[o]:[]).concat([s]);return rD.sketch({dom:Gf('<div class="tox-dialog__header"></div>'),components:i})})({title:n.shared.providers.translate(e),draggable:n.dialog.isDraggableModal()},t,n.shared.providers),kF=(e,t,n,a)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":n.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${a.getOr(0)}px`,position:"absolute"}},behaviours:t,components:[{dom:Gf('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),EF=(e,t,n)=>({onClose:()=>n.closeWindow(),onBlock:n=>{const a=br(e().element,".tox-dialog__header").map((e=>Zt(e)));sI.setBusy(e(),((e,o)=>kF(n.message,o,t,a)))},onUnblock:()=>{sI.setIdle(e())}}),SF="tox-dialog--fullscreen",AF="tox-dialog--width-lg",TF="tox-dialog--width-md",OF=e=>{switch(e){case"large":return T.some(AF);case"medium":return T.some(TF);default:return T.none()}},LF=(e,t)=>{const n=Ne(t.element.dom);$i(n,SF)||(Ki(n,[AF,TF]),OF(e).each((e=>ji(n,e))))},PF=(e,t)=>{const n=Ne(e.element.dom),a=Gi(n),o=q(a,(e=>e===AF||e===TF)).or(OF(t));((e,t)=>{U(t,(t=>{((e,t)=>{Vi(e)?e.dom.classList.toggle(t):((e,t)=>{I(Ui(e),t)?zi(e,t):Hi(e,t)})(e,t);Zi(e)})(e,t)}))})(n,[SF,...o.toArray()])},MF=(e,t,n)=>dr(yF({...e,firstTabstop:1,lazySink:n.shared.getSink,extraBehaviours:[$k({}),...e.extraBehaviours],onEscape:e=>{Bs(e,CD)},dialogEvents:t,eventOrder:{[us()]:[$R.name(),Ml.name()],[Ds()]:["scroll-lock",$R.name(),"messages","dialog-events","alloy.base.behaviour"],[xs()]:["alloy.base.behaviour","dialog-events","messages",$R.name(),"scroll-lock"]}})),BF=(e,t={})=>V(e,(e=>"menu"===e.type?(e=>{const n=V(e.items,(e=>{const n=ve(t,e.name).getOr(To(!1));return{...e,storage:n}}));return{...e,items:n}})(e):e)),IF=e=>Z(e,((e,t)=>"menu"===t.type?Z(t.items,((e,t)=>(e[t.name]=t.storage,e)),e):e),{}),RF=(e,t)=>[Ws(Go(),nE),e(_D,((e,n,a,o)=>{Nl(gt(o.element)).fold(v,Rl),t.onClose(),n.onClose()})),e(CD,((e,t,n,a)=>{t.onCancel(e),Bs(a,_D)})),js(ED,((e,n)=>t.onUnblock())),js(kD,((e,n)=>t.onBlock(n.event)))],FF=(e,t,n)=>{const a=(t,n)=>js(t,((t,a)=>{o(t,((o,s)=>{n(e(),o,a.event,t)}))})),o=(e,t)=>{$R.getState(e).get().each((n=>{t(n.internalDialog,e)}))};return[...RF(a,t),a(xD,((e,t)=>t.onSubmit(e))),a(yD,((e,t,n)=>{t.onChange(e,{name:n.name})})),a(DD,((e,t,a,o)=>{const s=()=>o.getSystem().isConnected()?qh.focusIn(o):void 0,i=e=>At(e,"disabled")||St(e,"aria-disabled").exists((e=>"true"===e)),r=gt(o.element),l=Nl(r);t.onAction(e,{name:a.name,value:a.value}),Nl(r).fold(s,(e=>{i(e)||l.exists((t=>et(e,t)&&i(t)))?s():n().toOptional().filter((t=>!et(t.element,e))).each(s)}))})),a(SD,((e,t,n)=>{t.onTabChange(e,{newTabName:n.name,oldTabName:n.oldName})})),Qs((t=>{const n=e();bu.setValue(t,n.getData())}))]},NF=(e,t)=>{const n=t.map((e=>e.footerButtons)).getOr([]),a=H(n,(e=>"start"===e.align)),o=(e,t)=>rD.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${e}`]},components:V(t,(e=>e.memento.asSpec()))});return[o("start",a.pass),o("end",a.fail)]},VF=(e,t,n)=>({dom:Gf('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Sl([$R.config({channel:`${rE}-${t}`,initialData:e,updateState:(e,t)=>{const a=V(t.buttons,(e=>{const t=Yf(((e,t)=>HS(e,e.type,t))(e,n));return{name:e.name,align:e.align,memento:t}}));return T.some({lookupByName:t=>((e,t,n)=>q(t,(e=>e.name===n)).bind((t=>t.memento.getOpt(e))))(e,a,t),footerButtons:a})},renderComponents:NF})])}),UF=(e,t,n)=>sI.parts.footer(VF(e,t,n)),HF=(e,t)=>{if(e.getRoot().getSystem().isConnected()){const n=km.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return Mk.getField(n,t).orThunk((()=>{const n=e.getFooter().bind((e=>$R.getState(e).get()));return n.bind((e=>e.lookupByName(t)))}))}return T.none()},zF=(e,t,n)=>{const a=t=>{const n=e.getRoot();n.getSystem().isConnected()&&t(n)},o={getData:()=>{const t=e.getRoot(),a=t.getSystem().isConnected()?e.getFormWrapper():t;return{...bu.getValue(a),...de(n,(e=>e.get()))}},setData:t=>{a((a=>{const s=o.getData(),i=ga(s,t),r=((e,t)=>{const n=e.getRoot();return $R.getState(n).get().map((e=>Ka(Wa("data",e.dataValidator,t)))).getOr(t)})(e,i),l=e.getFormWrapper();bu.setValue(l,r),le(n,((e,t)=>{be(i,t)&&e.set(i[t])}))}))},setEnabled:(t,n)=>{HF(e,t).each(n?Vm.enable:Vm.disable)},focus:t=>{HF(e,t).each(rf.focus)},block:e=>{if(!s(e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");a((t=>{Is(t,kD,{message:e})}))},unblock:()=>{a((e=>{Bs(e,ED)}))},showTab:t=>{a((n=>{const a=e.getBody();$R.getState(a).get().exists((e=>e.isTabPanel()))&&km.getCurrent(a).each((e=>{sF.showTab(e,t)}))}))},redial:s=>{a((a=>{const i=e.getId(),r=t(s),l=BF(r.internalDialog.buttons,n);a.getSystem().broadcastOn([`${oE}-${i}`],r),a.getSystem().broadcastOn([`${sE}-${i}`],r.internalDialog),a.getSystem().broadcastOn([`${iE}-${i}`],r.internalDialog),a.getSystem().broadcastOn([`${rE}-${i}`],{...r.internalDialog,buttons:l}),o.setData(r.initialData)}))},close:()=>{a((e=>{Bs(e,_D)}))},toggleFullscreen:e.toggleFullscreen};return o},jF=(e,t,n,a=!1,o)=>{const s=di("dialog"),i=di("dialog-label"),r=di("dialog-content"),l=e.internalDialog,d=To(l.size),c=OF(d.get()).toArray(),u=Yf(((e,t,n,a)=>rD.sketch({dom:Gf('<div class="tox-dialog__header"></div>'),components:[CF(e,t,T.some(n),a),DF(),_F(a)],containerBehaviours:Sl([ZB.config({mode:"mouse",blockerClass:"blocker",getTarget:e=>wr(e,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:l.title,draggable:!0},s,i,n.shared.providers)),m=Yf(((e,t,n,a,o)=>mF(e,t,T.some(n),a,o))({body:l.body,initialData:l.initialData},s,r,n,a)),p=BF(l.buttons),h=IF(p),f=xe(0!==p.length,Yf(((e,t,n)=>VF(e,t,n))({buttons:p},s,n))),g=FF((()=>b),{onBlock:e=>{BO.block(v,((t,a)=>{const o=u.getOpt(v).map((e=>Zt(e.element)));return kF(e.message,a,n.shared.providers,o)}))},onUnblock:()=>{BO.unblock(v)},onClose:()=>t.closeWindow()},n.shared.getSink),v=dr({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...c],attributes:{role:"dialog","aria-labelledby":i}},eventOrder:{[us()]:[$R.name(),Ml.name()],[ms()]:["execute-on-form"],[Ds()]:["reflecting","execute-on-form"]},behaviours:Sl([qh.config({mode:"cyclic",onEscape:e=>(Bs(e,_D),T.some(!0)),useTabstopAt:e=>!aE(e)&&("button"!==je(e)||"disabled"!==Et(e,"disabled")),firstTabstop:1}),$R.config({channel:`${oE}-${s}`,updateState:(e,t)=>(d.set(t.internalDialog.size),LF(t.internalDialog.size,e),o(),T.some(t)),initialData:e}),rf.config({}),tf("execute-on-form",g.concat([Ys(Go(),((e,t)=>{qh.focusIn(e)})),js(Ss(),((e,t)=>{e.getSystem().broadcastOn([dE],{newFocus:t.event.newFocus})}))])),BO.config({getRoot:()=>T.some(v)}),ef.config({}),$k({})]),components:[u.asSpec(),m.asSpec(),...f.map((e=>e.asSpec())).toArray()]}),b=zF({getId:y(s),getRoot:y(v),getFooter:()=>f.map((e=>e.get(v))),getBody:()=>m.get(v),getFormWrapper:()=>{const e=m.get(v);return km.getCurrent(e).getOr(e)},toggleFullscreen:()=>{PF(v,d.get())}},t.redial,h);return{dialog:v,instanceApi:b}};var ZF=tinymce.util.Tools.resolve("tinymce.util.URI");const qF=["insertContent","setContent","execCommand","close","block","unblock"],$F=e=>i(e)&&-1!==qF.indexOf(e.mceAction),WF=(e,t,n,a)=>{const o=di("dialog"),r=xF(e.title,o,a),l=(e=>{const t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[eE(T.none(),{dom:{tag:"iframe",attributes:{src:e.url}},behaviours:Sl([hD.config({}),rf.config({})])})]}],behaviours:Sl([qh.config({mode:"acyclic",useTabstopAt:x(aE)})])};return sI.parts.body(t)})(e),d=e.buttons.bind((e=>0===e.length?T.none():T.some(UF({buttons:e},o,a)))),u=((e,t)=>{const n=(e,t)=>js(e,((e,n)=>{a(e,((a,o)=>{t(y,a,n.event,e)}))})),a=(e,t)=>{$R.getState(e).get().each((n=>{t(n,e)}))};return[...RF(n,t),n(DD,((e,t,n)=>{t.onAction(e,{name:n.name})}))]})(0,EF((()=>w),a.shared.providers,t)),m={...e.height.fold((()=>({})),(e=>({height:e+"px","max-height":e+"px"}))),...e.width.fold((()=>({})),(e=>({width:e+"px","max-width":e+"px"})))},h=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],f=new ZF(e.url,{base_uri:new ZF(window.location.href)}),g=`${f.protocol}://${f.host}${f.port?":"+f.port:""}`,v=nd(),b=[$R.config({channel:`${oE}-${o}`,updateState:(e,t)=>T.some(t),initialData:e}),tf("messages",[Xs((()=>{const t=sd(Ne(window),"message",(t=>{if(f.isSameOrigin(new ZF(t.raw.origin))){const a=t.raw.data;$F(a)?((e,t,n)=>{switch(n.mceAction){case"insertContent":e.insertContent(n.content);break;case"setContent":e.setContent(n.content);break;case"execCommand":const a=!!c(n.ui)&&n.ui;e.execCommand(n.cmd,a,n.value);break;case"close":t.close();break;case"block":t.block(n.message);break;case"unblock":t.unblock()}})(n,y,a):(e=>!$F(e)&&i(e)&&be(e,"mceAction"))(a)&&e.onMessage(y,a)}}));v.set(t)})),Qs(v.clear)]),Ml.config({channels:{[lE]:{onReceive:(e,t)=>{br(e.element,"iframe").each((e=>{const n=e.dom.contentWindow;p(n)&&n.postMessage(t,g)}))}}}})],w=MF({id:o,header:r,body:l,footer:d,extraClasses:h,extraBehaviours:b,extraStyles:m},u,a),y=(e=>{const t=t=>{e.getSystem().isConnected()&&t(e)};return{block:e=>{if(!s(e))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");t((t=>{Is(t,kD,{message:e})}))},unblock:()=>{t((e=>{Bs(e,ED)}))},close:()=>{t((e=>{Bs(e,_D)}))},sendMessage:e=>{t((t=>{t.getSystem().broadcastOn([lE],e)}))}}})(w);return{dialog:w,instanceApi:y}},KF=(e,t)=>Ka(Wa("data",t,e)),GF=e=>XC(e,".tox-alert-dialog")||XC(e,".tox-confirm-dialog"),YF=(e,t,n)=>t&&n?[]:[tO.config({contextual:{lazyContext:()=>T.some(Qn(Ne(e.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:t=>GC(e,t.element).map((e=>({bounds:YC(e),optScrollEnv:T.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:Gt(e.element).top})}))).getOrThunk((()=>({bounds:ta(),optScrollEnv:T.none()})))})],XF=e=>{const t=e.editor,n=cb(t),a=(e=>{const t=e.shared;return{open:(n,a)=>{const o=()=>{sI.hide(l),a()},s=Yf(HS({name:"close-alert",text:"OK",primary:!0,buttonType:T.some("primary"),align:"end",enabled:!0,icon:T.none()},"cancel",e)),i=gF(),r=fF(o,t.providers),l=dr(yF({lazySink:()=>t.getSink(),header:hF(i,r),body:vF(n,t.providers),footer:T.some(bF(wF([],[s.asSpec()]))),onEscape:o,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[js(CD,o)],eventOrder:{}}));sI.show(l);const d=s.get(l);rf.focus(d)}}})(e.backstages.dialog),o=(e=>{const t=e.shared;return{open:(n,a)=>{const o=e=>{sI.hide(d),a(e)},s=Yf(HS({name:"yes",text:"Yes",primary:!0,buttonType:T.some("primary"),align:"end",enabled:!0,icon:T.none()},"submit",e)),i=HS({name:"no",text:"No",primary:!1,buttonType:T.some("secondary"),align:"end",enabled:!0,icon:T.none()},"cancel",e),r=gF(),l=fF((()=>o(!1)),t.providers),d=dr(yF({lazySink:()=>t.getSink(),header:hF(r,l),body:vF(n,t.providers),footer:T.some(bF(wF([],[i,s.asSpec()]))),onEscape:()=>o(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[js(CD,(()=>o(!1))),js(xD,(()=>o(!0)))],eventOrder:{}}));sI.show(d);const c=s.get(d);rf.focus(c)}}})(e.backstages.dialog),s=(t,n)=>zR.open(((t,a,o)=>{const s=a,i=((e,t,n)=>{const a=di("dialog"),o=e.internalDialog,s=xF(o.title,a,n),i=To(o.size),r=OF(i.get()).toArray(),l=((e,t,n)=>{const a=mF(e,t,T.none(),n,!1);return sI.parts.body(a)})({body:o.body,initialData:o.initialData},a,n),d=BF(o.buttons),c=IF(d),u=xe(0!==d.length,UF({buttons:d},a,n)),m=FF((()=>g),EF((()=>h),n.shared.providers,t),n.shared.getSink),p={id:a,header:s,body:l,footer:u,extraClasses:r,extraBehaviours:[$R.config({channel:`${oE}-${a}`,updateState:(e,t)=>(i.set(t.internalDialog.size),LF(t.internalDialog.size,e),T.some(t)),initialData:e})],extraStyles:{}},h=MF(p,m,n),f={getId:y(a),getRoot:y(h),getBody:()=>sI.getBody(h),getFooter:()=>sI.getFooter(h),getFormWrapper:()=>{const e=sI.getBody(h);return km.getCurrent(e).getOr(e)},toggleFullscreen:()=>{PF(h,i.get())}},g=zF(f,t.redial,c);return{dialog:h,instanceApi:g}})({dataValidator:o,initialData:s,internalDialog:t},{redial:zR.redial,closeWindow:()=>{sI.hide(i.dialog),n(i.instanceApi)}},e.backstages.dialog);return sI.show(i.dialog),i.instanceApi.setData(s),i.instanceApi}),t),i=(a,o,s,i)=>zR.open(((a,r,l)=>{const d=KF(r,l),c=ad(),u=e.backstages.popup.shared.header.isPositionedAtTop(),m=()=>c.on((e=>{$f.reposition(e),n&&u||tO.refresh(e)})),p=jF({dataValidator:l,initialData:d,internalDialog:a},{redial:zR.redial,closeWindow:()=>{c.on($f.hide),t.off("ResizeEditor",m),c.clear(),s(p.instanceApi)}},e.backstages.popup,i.ariaAttrs,m),h=dr($f.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:i.persistent?{event:"doNotDismissYet"}:{},...u?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Sl([tf("window-manager-inline-events",[js(ks(),((e,t)=>{Bs(p.dialog,CD)}))]),...YF(t,n,u)]),isExtraPart:(e,t)=>GF(t)}));return c.set(h),$f.showWithinBounds(h,cr(p.dialog),{anchor:o},(()=>{const e=t.inline?_t():Ne(t.getContainer()),n=Qn(e);return T.some(n)})),n&&u||(tO.refresh(h),t.on("ResizeEditor",m)),p.instanceApi.setData(d),qh.focusIn(p.dialog),p.instanceApi}),a),r=(n,a,o,s)=>zR.open(((n,i,r)=>{const l=KF(i,r),d=ad(),c=e.backstages.popup.shared.header.isPositionedAtTop(),u=()=>d.on((e=>{$f.reposition(e),tO.refresh(e)})),m=jF({dataValidator:r,initialData:l,internalDialog:n},{redial:zR.redial,closeWindow:()=>{d.on($f.hide),t.off("ResizeEditor ScrollWindow ElementScroll",u),d.clear(),o(m.instanceApi)}},e.backstages.popup,s.ariaAttrs,u),p=dr($f.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:s.persistent?{event:"doNotDismissYet"}:{},...c?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Sl([tf("window-manager-inline-events",[js(ks(),((e,t)=>{Bs(m.dialog,CD)}))]),tO.config({contextual:{lazyContext:()=>T.some(Qn(Ne(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:e=>GC(t,e.element).map((e=>({bounds:YC(e),optScrollEnv:T.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:Gt(e.element).top})}))).getOrThunk((()=>({bounds:ta(),optScrollEnv:T.none()})))})]),isExtraPart:(e,t)=>GF(t)}));return d.set(p),$f.showWithinBounds(p,cr(m.dialog),{anchor:a},(()=>e.backstages.popup.shared.getSink().toOptional().bind((e=>{const n=GC(t,e.element).map((e=>YC(e))).getOr(ta()),a=Qn(Ne(t.getContentAreaContainer())),o=ea(a,n);return T.some(Xn(o.x,o.y,o.width,o.height-15))})))),tO.refresh(p),t.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",u),m.instanceApi.setData(l),qh.focusIn(m.dialog),m.instanceApi}),n);return{open:(t,n,a)=>{if(!u(n)){if("toolbar"===n.inline)return i(t,e.backstages.popup.shared.anchors.inlineDialog(),a,n);if("bottom"===n.inline)return r(t,e.backstages.popup.shared.anchors.inlineBottomDialog(),a,n);if("cursor"===n.inline)return i(t,e.backstages.popup.shared.anchors.cursor(),a,n)}return s(t,a)},openUrl:(n,a)=>((n,a)=>zR.openUrl((n=>{const o=WF(n,{closeWindow:()=>{sI.hide(o.dialog),a(o.instanceApi)}},t,e.backstages.dialog);return sI.show(o.dialog),o.instanceApi}),n))(n,a),alert:(e,t)=>{a.open(e,t)},close:e=>{e.close()},confirm:(e,t)=>{o.open(e,t)}}};na.add("silver",(e=>{(e=>{mv(e),(e=>{const t=e.options.register,n=e=>g(e,s)?{value:I_(e),valid:!0}:{valid:!1,message:"Must be an array of strings."},a=e=>f(e)&&e>0?{value:e,valid:!0}:{valid:!1,message:"Must be a positive number."};t("color_map",{processor:n,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),t("color_map_background",{processor:n}),t("color_map_foreground",{processor:n}),t("color_cols",{processor:a,default:V_(e)}),t("color_cols_foreground",{processor:a,default:U_(e,M_)}),t("color_cols_background",{processor:a,default:U_(e,B_)}),t("custom_colors",{processor:"boolean",default:!0}),t("color_default_foreground",{processor:"string",default:F_}),t("color_default_background",{processor:"string",default:F_})})(e),(e=>{const t=e.options.register;t("contextmenu_avoid_overlap",{processor:"string",default:""}),t("contextmenu_never_use_native",{processor:"boolean",default:!1}),t("contextmenu",{processor:e=>!1===e?{value:[],valid:!0}:s(e)||g(e,s)?{value:NM(e),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(e)})(e);let t=()=>ta();const{dialogs:n,popups:a,renderUI:o}=tI(e,{getPopupSinkBounds:()=>t()});qC(e,a.backstage.shared);const i=XF({editor:e,backstages:{popup:a.backstage,dialog:n.backstage}});return{renderUI:()=>{const n=o();return GC(e,a.getMothership().element).each((e=>{t=()=>YC(e)})),n},getWindowManagerImpl:y(i),getNotificationManagerImpl:()=>((e,t,n)=>{const a=t.backstage.shared,o=()=>{const t=Qn(Ne(e.getContentAreaContainer())),n=ta(),a=Jr(n.x,t.x,t.right),o=Jr(n.y,t.y,t.bottom),s=Math.max(t.right,n.right),i=Math.max(t.bottom,n.bottom);return T.some(Xn(a,o,s-a,i-o))};return{open:(t,s)=>{const i=()=>{s(),$f.hide(l)},r=dr(ov.sketch({text:t.text,level:I(["success","error","warning","warn","info"],t.type)?t.type:void 0,progress:!0===t.progressBar,icon:t.icon,closeButton:t.closeButton,onAction:i,iconProvider:a.providers.icons,translationProvider:a.providers.translate})),l=dr($f.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:a.getSink,fireDismissalEventInstead:{},...a.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));n.add(l),f(t.timeout)&&t.timeout>0&&Wf.setEditorTimeout(e,(()=>{i()}),t.timeout);const d={close:i,reposition:()=>{const t=cr(r),n={maxHeightFunction:pd()},s=e.notificationManager.getNotifications();if(s[0]===d){const e={...a.anchors.banner(),overrides:n};$f.showWithinBounds(l,t,{anchor:e},o)}else B(s,d).each((e=>{const a=s[e-1].getEl(),i={type:"node",root:_t(),node:T.some(Ne(a)),overrides:n,layouts:{onRtl:()=>[pl],onLtr:()=>[pl]}};$f.showWithinBounds(l,t,{anchor:i},o)}))},text:e=>{ov.updateText(r,e)},settings:t,getEl:()=>r.element.dom,progressBar:{value:e=>{ov.updateProgress(r,e)}}};return d},close:e=>{e.close()},getArgs:e=>e.settings}})(e,{backstage:a.backstage},a.getMothership())}}))}()},87584:function(e,t,n){n(57658),n(82801),function(){"use strict";var t=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},n=function(e){return{eq:e}},a=n((function(e,t){return e===t})),o=function(e){return n((function(t,n){if(t.length!==n.length)return!1;for(var a=t.length,o=0;o<a;o++)if(!e.eq(t[o],n[o]))return!1;return!0}))},s=function(e){return n((function(t,s){var i=Object.keys(t),r=Object.keys(s);if(!function(e,t){return function(e,t){return n((function(n,a){return e.eq(t(n),t(a))}))}(o(e),(function(e){return function(e,t){return Array.prototype.slice.call(e).sort(t)}(e,t)}))}(a).eq(i,r))return!1;for(var l=i.length,d=0;d<l;d++){var c=i[d];if(!e.eq(t[c],s[c]))return!1}return!0}))},i=n((function(e,n){if(e===n)return!0;var a=t(e);return a===t(n)&&(function(e){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(e)}(a)?e===n:"array"===a?o(i).eq(e,n):"object"===a&&s(i).eq(e,n))}));const r=Object.getPrototypeOf,l=(e,t,n)=>{var a;return!!n(e,t.prototype)||(null===(a=e.constructor)||void 0===a?void 0:a.name)===t.name},d=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&l(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":t})(t)===e,c=e=>t=>typeof t===e,u=e=>t=>e===t,m=(e,t)=>h(e)&&l(e,t,((e,t)=>r(e)===t)),p=d("string"),h=d("object"),f=e=>m(e,Object),g=d("array"),v=u(null),b=c("boolean"),w=u(void 0),y=e=>null==e,_=e=>!y(e),C=c("function"),D=c("number"),x=(e,t)=>{if(g(e)){for(let n=0,a=e.length;n<a;++n)if(!t(e[n]))return!1;return!0}return!1},k=()=>{},E=(e,t)=>(...n)=>e(t.apply(null,n)),S=(e,t)=>n=>e(t(n)),A=e=>()=>e,T=e=>e,O=(e,t)=>e===t;function L(e,...t){return(...n)=>{const a=t.concat(n);return e.apply(null,a)}}const P=e=>t=>!e(t),M=e=>()=>{throw new Error(e)},B=e=>e(),I=e=>{e()},R=A(!1),F=A(!0);class N{constructor(e,t){this.tag=e,this.value=t}static some(e){return new N(!0,e)}static none(){return N.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?N.some(e(this.value)):N.none()}bind(e){return this.tag?e(this.value):N.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:N.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return _(e)?N.some(e):N.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}N.singletonNone=new N(!1);const V=Array.prototype.slice,U=Array.prototype.indexOf,H=Array.prototype.push,z=(e,t)=>U.call(e,t),j=(e,t)=>z(e,t)>-1,Z=(e,t)=>{for(let n=0,a=e.length;n<a;n++)if(t(e[n],n))return!0;return!1},q=(e,t)=>{const n=e.length,a=new Array(n);for(let o=0;o<n;o++){const n=e[o];a[o]=t(n,o)}return a},$=(e,t)=>{for(let n=0,a=e.length;n<a;n++)t(e[n],n)},W=(e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)},K=(e,t)=>{const n=[],a=[];for(let o=0,s=e.length;o<s;o++){const s=e[o];(t(s,o)?n:a).push(s)}return{pass:n,fail:a}},G=(e,t)=>{const n=[];for(let a=0,o=e.length;a<o;a++){const o=e[a];t(o,a)&&n.push(o)}return n},Y=(e,t,n)=>(W(e,((e,a)=>{n=t(n,e,a)})),n),X=(e,t,n)=>($(e,((e,a)=>{n=t(n,e,a)})),n),Q=(e,t,n)=>{for(let a=0,o=e.length;a<o;a++){const o=e[a];if(t(o,a))return N.some(o);if(n(o,a))break}return N.none()},J=(e,t)=>Q(e,t,R),ee=(e,t)=>{for(let n=0,a=e.length;n<a;n++)if(t(e[n],n))return N.some(n);return N.none()},te=e=>{const t=[];for(let n=0,a=e.length;n<a;++n){if(!g(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);H.apply(t,e[n])}return t},ne=(e,t)=>te(q(e,t)),ae=(e,t)=>{for(let n=0,a=e.length;n<a;++n)if(!0!==t(e[n],n))return!1;return!0},oe=e=>{const t=V.call(e,0);return t.reverse(),t},se=(e,t)=>G(e,(e=>!j(t,e))),ie=(e,t)=>{const n={};for(let a=0,o=e.length;a<o;a++){const o=e[a];n[String(o)]=t(o,a)}return n},re=(e,t)=>{const n=V.call(e,0);return n.sort(t),n},le=(e,t)=>t>=0&&t<e.length?N.some(e[t]):N.none(),de=e=>le(e,0),ce=e=>le(e,e.length-1),ue=C(Array.from)?Array.from:e=>V.call(e),me=(e,t)=>{for(let n=0;n<e.length;n++){const a=t(e[n],n);if(a.isSome())return a}return N.none()},pe=Object.keys,he=Object.hasOwnProperty,fe=(e,t)=>{const n=pe(e);for(let a=0,o=n.length;a<o;a++){const o=n[a];t(e[o],o)}},ge=(e,t)=>ve(e,((e,n)=>({k:n,v:t(e,n)}))),ve=(e,t)=>{const n={};return fe(e,((e,a)=>{const o=t(e,a);n[o.k]=o.v})),n},be=e=>(t,n)=>{e[n]=t},we=(e,t,n,a)=>{fe(e,((e,o)=>{(t(e,o)?n:a)(e,o)}))},ye=(e,t)=>{const n={};return we(e,t,be(n),k),n},_e=(e,t)=>{const n=[];return fe(e,((e,a)=>{n.push(t(e,a))})),n},Ce=e=>_e(e,T),De=(e,t)=>xe(e,t)?N.from(e[t]):N.none(),xe=(e,t)=>he.call(e,t),ke=(e,t)=>xe(e,t)&&void 0!==e[t]&&null!==e[t],Ee=e=>{const t={};return $(e,(e=>{t[e]={}})),pe(t)},Se=e=>void 0!==e.length,Ae=Array.isArray,Te=(e,t,n)=>{if(!e)return!1;if(n=n||e,Se(e)){for(let a=0,o=e.length;a<o;a++)if(!1===t.call(n,e[a],a,e))return!1}else for(const a in e)if(xe(e,a)&&!1===t.call(n,e[a],a,e))return!1;return!0},Oe=(e,t)=>{const n=[];return Te(e,((a,o)=>{n.push(t(a,o,e))})),n},Le=(e,t)=>{const n=[];return Te(e,((a,o)=>{t&&!t(a,o,e)||n.push(a)})),n},Pe=(e,t,n,a)=>{let o=w(n)?e[0]:n;for(let s=0;s<e.length;s++)o=t.call(a,o,e[s],s);return o},Me=(e,t,n)=>{for(let a=0,o=e.length;a<o;a++)if(t.call(n,e[a],a,e))return a;return-1},Be=e=>e[e.length-1],Ie=e=>{let t,n=!1;return(...a)=>(n||(n=!0,t=e.apply(null,a)),t)},Re=()=>Fe(0,0),Fe=(e,t)=>({major:e,minor:t}),Ne={nu:Fe,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?Re():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const a=e[n];if(a.test(t))return a}})(e,t);if(!n)return{major:0,minor:0};const a=e=>Number(t.replace(n,"$"+e));return Fe(a(1),a(2))})(e,n)},unknown:Re},Ve=(e,t)=>{const n=String(t).toLowerCase();return J(e,(e=>e.search(n)))},Ue=(e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t,He=(e,t)=>je(e,t)?((e,t)=>e.substring(t))(e,t.length):e,ze=(e,t,n=0,a)=>{const o=e.indexOf(t,n);return-1!==o&&(!!w(a)||o+t.length<=a)},je=(e,t)=>Ue(e,t,0),Ze=(e,t)=>Ue(e,t,e.length-t.length),qe=e=>t=>t.replace(e,""),$e=qe(/^\s+|\s+$/g),We=qe(/^\s+/g),Ke=qe(/\s+$/g),Ge=e=>e.length>0,Ye=e=>!Ge(e),Xe=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?N.none():N.some(n)},Qe=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Je=e=>t=>ze(t,e),et=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>ze(e,"edge/")&&ze(e,"chrome")&&ze(e,"safari")&&ze(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Qe],search:e=>ze(e,"chrome")&&!ze(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>ze(e,"msie")||ze(e,"trident")},{name:"Opera",versionRegexes:[Qe,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Je("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Je("firefox")},{name:"Safari",versionRegexes:[Qe,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(ze(e,"safari")||ze(e,"mobile/"))&&ze(e,"applewebkit")}],tt=[{name:"Windows",search:Je("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>ze(e,"iphone")||ze(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Je("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Je("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Je("linux"),versionRegexes:[]},{name:"Solaris",search:Je("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Je("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Je("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],nt={browsers:A(et),oses:A(tt)},at="Edge",ot="Chromium",st="Opera",it="Firefox",rt="Safari",lt=e=>{const t=e.current,n=e.version,a=e=>()=>t===e;return{current:t,version:n,isEdge:a(at),isChromium:a(ot),isIE:a("IE"),isOpera:a(st),isFirefox:a(it),isSafari:a(rt)}},dt=()=>lt({current:void 0,version:Ne.unknown()}),ct=lt,ut=(A(at),A(ot),A("IE"),A(st),A(it),A(rt),"Windows"),mt="Android",pt="Linux",ht="macOS",ft="Solaris",gt="FreeBSD",vt="ChromeOS",bt=e=>{const t=e.current,n=e.version,a=e=>()=>t===e;return{current:t,version:n,isWindows:a(ut),isiOS:a("iOS"),isAndroid:a(mt),isMacOS:a(ht),isLinux:a(pt),isSolaris:a(ft),isFreeBSD:a(gt),isChromeOS:a(vt)}},wt=()=>bt({current:void 0,version:Ne.unknown()}),yt=bt,_t=(A(ut),A("iOS"),A(mt),A(pt),A(ht),A(ft),A(gt),A(vt),e=>window.matchMedia(e).matches);let Ct=Ie((()=>((e,t,n)=>{const a=nt.browsers(),o=nt.oses(),s=t.bind((e=>((e,t)=>me(t.brands,(t=>{const n=t.brand.toLowerCase();return J(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:Ne.nu(parseInt(t.version,10),0)})))})))(a,e))).orThunk((()=>((e,t)=>Ve(e,t).map((e=>{const n=Ne.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(a,e))).fold(dt,ct),i=((e,t)=>Ve(e,t).map((e=>{const n=Ne.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(o,e).fold(wt,yt),r=((e,t,n,a)=>{const o=e.isiOS()&&!0===/ipad/i.test(n),s=e.isiOS()&&!o,i=e.isiOS()||e.isAndroid(),r=i||a("(pointer:coarse)"),l=o||!s&&i&&a("(min-device-width:768px)"),d=s||i&&!l,c=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),u=!d&&!l&&!c;return{isiPad:A(o),isiPhone:A(s),isTablet:A(l),isPhone:A(d),isTouch:A(r),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:A(c),isDesktop:A(u)}})(i,s,e,n);return{browser:s,os:i,deviceType:r}})(navigator.userAgent,N.from(navigator.userAgentData),_t)));const Dt=()=>Ct(),xt=navigator.userAgent,kt=Dt(),Et=kt.browser,St=kt.os,At=kt.deviceType,Tt=-1!==xt.indexOf("Windows Phone"),Ot={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Et.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Et.isIE(),windowsPhone:Tt,browser:{current:Et.current,version:Et.version,isChromium:Et.isChromium,isEdge:Et.isEdge,isFirefox:Et.isFirefox,isIE:Et.isIE,isOpera:Et.isOpera,isSafari:Et.isSafari},os:{current:St.current,version:St.version,isAndroid:St.isAndroid,isChromeOS:St.isChromeOS,isFreeBSD:St.isFreeBSD,isiOS:St.isiOS,isLinux:St.isLinux,isMacOS:St.isMacOS,isSolaris:St.isSolaris,isWindows:St.isWindows},deviceType:{isDesktop:At.isDesktop,isiPad:At.isiPad,isiPhone:At.isiPhone,isPhone:At.isPhone,isTablet:At.isTablet,isTouch:At.isTouch,isWebView:At.isWebView}},Lt=/^\s*|\s*$/g,Pt=e=>y(e)?"":(""+e).replace(Lt,""),Mt=function(e,t,n,a){a=a||this,e&&(n&&(e=e[n]),Te(e,((e,o)=>!1!==t.call(a,e,o,n)&&(Mt(e,t,n,a),!0))))},Bt={trim:Pt,isArray:Ae,is:(e,t)=>t?!("array"!==t||!Ae(e))||typeof e===t:void 0!==e,toArray:e=>{if(Ae(e))return e;{const t=[];for(let n=0,a=e.length;n<a;n++)t[n]=e[n];return t}},makeMap:(e,t,n={})=>{const a=p(e)?e.split(t||","):e||[];let o=a.length;for(;o--;)n[a[o]]={};return n},each:Te,map:Oe,grep:Le,inArray:(e,t)=>{if(e)for(let n=0,a=e.length;n<a;n++)if(e[n]===t)return n;return-1},hasOwn:xe,extend:(e,...t)=>{for(let n=0;n<t.length;n++){const a=t[n];for(const t in a)if(xe(a,t)){const n=a[t];void 0!==n&&(e[t]=n)}}return e},walk:Mt,resolve:(e,t=window)=>{const n=e.split(".");for(let a=0,o=n.length;a<o&&(t=t[n[a]]);a++);return t},explode:(e,t)=>g(e)?e:""===e?[]:Oe(e.split(t||","),Pt),_addCacheSuffix:e=>{const t=Ot.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},It=(e,t,n=O)=>e.exists((e=>n(e,t))),Rt=(e,t,n=O)=>Ft(e,t,n).getOr(e.isNone()&&t.isNone()),Ft=(e,t,n)=>e.isSome()&&t.isSome()?N.some(n(e.getOrDie(),t.getOrDie())):N.none(),Nt=(e,t)=>e?N.some(t):N.none(),Vt="undefined"!=typeof window?window:Function("return this;")(),Ut=(e,t)=>((e,t)=>{let n=null!=t?t:Vt;for(let a=0;a<e.length&&null!=n;++a)n=n[e[a]];return n})(e.split("."),t),Ht=Object.getPrototypeOf,zt=e=>{const t=Ut("ownerDocument.defaultView",e);return h(e)&&((e=>((e,t)=>{const n=((e,t)=>Ut(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n})("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Ht(e).constructor.name))},jt=e=>e.dom.nodeName.toLowerCase(),Zt=e=>e.dom.nodeType,qt=e=>t=>Zt(t)===e,$t=e=>Wt(e)&&zt(e.dom),Wt=qt(1),Kt=qt(3),Gt=qt(9),Yt=qt(11),Xt=e=>t=>Wt(t)&&jt(t)===e,Qt=(e,t,n)=>{if(!(p(n)||b(n)||D(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Jt=(e,t,n)=>{Qt(e.dom,t,n)},en=(e,t)=>{const n=e.dom;fe(t,((e,t)=>{Qt(n,t,e)}))},tn=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},nn=(e,t)=>N.from(tn(e,t)),an=(e,t)=>{const n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},on=(e,t)=>{e.dom.removeAttribute(t)},sn=e=>X(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),rn=(e,t)=>{const n=tn(e,t);return void 0===n||""===n?[]:n.split(" ")},ln=e=>void 0!==e.dom.classList,dn=e=>rn(e,"class"),cn=(e,t)=>((e,t,n)=>{const a=rn(e,t).concat([n]);return Jt(e,t,a.join(" ")),!0})(e,"class",t),un=(e,t)=>((e,t,n)=>{const a=G(rn(e,t),(e=>e!==n));return a.length>0?Jt(e,t,a.join(" ")):on(e,t),!1})(e,"class",t),mn=(e,t)=>{ln(e)?e.dom.classList.add(t):cn(e,t)},pn=e=>{0===(ln(e)?e.dom.classList:dn(e)).length&&on(e,"class")},hn=(e,t)=>{ln(e)?e.dom.classList.remove(t):un(e,t),pn(e)},fn=(e,t)=>ln(e)&&e.dom.classList.contains(t),gn=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},vn=(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return gn(n.childNodes[0])},bn=(e,t)=>{const n=(t||document).createElement(e);return gn(n)},wn=(e,t)=>{const n=(t||document).createTextNode(e);return gn(n)},yn=gn,_n=(e,t,n)=>N.from(e.dom.elementFromPoint(t,n)).map(gn),Cn=(e,t)=>{const n=[],a=e=>(n.push(e),t(e));let o=t(e);do{o=o.bind(a)}while(o.isSome());return n},Dn=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},xn=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,kn=(e,t)=>e.dom===t.dom,En=(e,t)=>{const n=e.dom,a=t.dom;return n!==a&&n.contains(a)},Sn=e=>yn(e.dom.ownerDocument),An=e=>Gt(e)?e:Sn(e),Tn=e=>yn(An(e).dom.defaultView),On=e=>N.from(e.dom.parentNode).map(yn),Ln=e=>N.from(e.dom.parentElement).map(yn),Pn=(e,t)=>{const n=C(t)?t:R;let a=e.dom;const o=[];for(;null!==a.parentNode&&void 0!==a.parentNode;){const e=a.parentNode,t=yn(e);if(o.push(t),!0===n(t))break;a=e}return o},Mn=e=>N.from(e.dom.previousSibling).map(yn),Bn=e=>N.from(e.dom.nextSibling).map(yn),In=e=>oe(Cn(e,Mn)),Rn=e=>Cn(e,Bn),Fn=e=>q(e.dom.childNodes,yn),Nn=(e,t)=>{const n=e.dom.childNodes;return N.from(n[t]).map(yn)},Vn=e=>Nn(e,0),Un=e=>Nn(e,e.dom.childNodes.length-1),Hn=e=>e.dom.childNodes.length,zn=e=>Yt(e)&&_(e.dom.host),jn=C(Element.prototype.attachShadow)&&C(Node.prototype.getRootNode),Zn=A(jn),qn=jn?e=>yn(e.dom.getRootNode()):An,$n=e=>zn(e)?e:(e=>{const t=e.dom.head;if(null==t)throw new Error("Head is not available yet");return yn(t)})(An(e)),Wn=e=>yn(e.dom.host),Kn=e=>{if(Zn()&&_(e.target)){const t=yn(e.target);if(Wt(t)&&Gn(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return de(t)}}return N.from(e.target)},Gn=e=>_(e.dom.shadowRoot),Yn=e=>{const t=Kt(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return(e=>{const t=qn(e);return zn(t)?N.some(t):N.none()})(yn(t)).fold((()=>n.body.contains(t)),S(Yn,Wn))};var Xn=(e,t,n,a,o)=>e(n,a)?N.some(n):C(o)&&o(n)?N.none():t(n,a,o);const Qn=(e,t,n)=>{let a=e.dom;const o=C(n)?n:R;for(;a.parentNode;){a=a.parentNode;const e=yn(a);if(t(e))return N.some(e);if(o(e))break}return N.none()},Jn=(e,t,n)=>Xn(((e,t)=>t(e)),Qn,e,t,n),ea=(e,t)=>{const n=e=>{for(let a=0;a<e.childNodes.length;a++){const o=yn(e.childNodes[a]);if(t(o))return N.some(o);const s=n(e.childNodes[a]);if(s.isSome())return s}return N.none()};return n(e.dom)},ta=(e,t,n)=>Qn(e,(e=>Dn(e,t)),n),na=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return xn(n)?N.none():N.from(n.querySelector(e)).map(yn)})(t,e),aa=(e,t,n)=>Xn(((e,t)=>Dn(e,t)),ta,e,t,n),oa=(e,t=!1)=>{return Yn(e)?e.dom.isContentEditable:(n=e,aa(n,"[contenteditable]")).fold(A(t),(e=>"true"===sa(e)));var n},sa=e=>e.dom.contentEditable,ia=e=>void 0!==e.style&&C(e.style.getPropertyValue),ra=(e,t,n)=>{if(!p(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);ia(e)&&e.style.setProperty(t,n)},la=(e,t,n)=>{const a=e.dom;ra(a,t,n)},da=(e,t)=>{const n=e.dom;fe(t,((e,t)=>{ra(n,t,e)}))},ca=(e,t)=>{const n=e.dom,a=window.getComputedStyle(n).getPropertyValue(t);return""!==a||Yn(e)?a:ua(n,t)},ua=(e,t)=>ia(e)?e.style.getPropertyValue(t):"",ma=(e,t)=>{const n=e.dom,a=ua(n,t);return N.from(a).filter((e=>e.length>0))},pa=e=>{const t={},n=e.dom;if(ia(n))for(let a=0;a<n.style.length;a++){const e=n.style.item(a);t[e]=n.style[e]}return t},ha=(e,t)=>{((e,t)=>{ia(e)&&e.style.removeProperty(t)})(e.dom,t),It(nn(e,"style").map($e),"")&&on(e,"style")},fa=(e,t)=>{On(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},ga=(e,t)=>{Bn(e).fold((()=>{On(e).each((e=>{ba(e,t)}))}),(e=>{fa(e,t)}))},va=(e,t)=>{Vn(e).fold((()=>{ba(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},ba=(e,t)=>{e.dom.appendChild(t.dom)},wa=(e,t)=>{fa(e,t),ba(t,e)},ya=(e,t)=>{$(t,(t=>{ba(e,t)}))},_a=e=>{e.dom.textContent="",$(Fn(e),(e=>{Ca(e)}))},Ca=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Da=e=>{const t=Fn(e);var n,a;t.length>0&&(n=e,$(a=t,((e,t)=>{const o=0===t?n:a[t-1];ga(o,e)}))),Ca(e)},xa=e=>q(e,yn),ka=e=>e.dom.innerHTML,Ea=(e,t)=>{const n=Sn(e).dom,a=yn(n.createDocumentFragment()),o=((e,t)=>{const n=(t||document).createElement("div");return n.innerHTML=e,Fn(yn(n))})(t,n);ya(a,o),_a(e),ba(e,a)},Sa=(e,t,n,a)=>((e,t,n,a,o)=>{const s=((e,t)=>n=>{e(n)&&t((e=>{const t=yn(Kn(e).getOr(e.target)),n=()=>e.stopPropagation(),a=()=>e.preventDefault(),o=E(a,n);return((e,t,n,a,o,s,i)=>({target:e,x:t,y:n,stop:a,prevent:o,kill:s,raw:i}))(t,e.clientX,e.clientY,n,a,o,e)})(n))})(n,a);return e.dom.addEventListener(t,s,!1),{unbind:L(Aa,e,t,s,!1)}})(e,t,n,a),Aa=(e,t,n,a)=>{e.dom.removeEventListener(t,n,a)},Ta=(e,t)=>({left:e,top:t,translate:(n,a)=>Ta(e+n,t+a)}),Oa=Ta,La=(e,t)=>void 0!==e?e:void 0!==t?t:0,Pa=e=>{const t=e.dom,n=t.ownerDocument.body;return n===t?Oa(n.offsetLeft,n.offsetTop):Yn(e)?(e=>{const t=e.getBoundingClientRect();return Oa(t.left,t.top)})(t):Oa(0,0)},Ma=e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,a=t.body.scrollTop||t.documentElement.scrollTop;return Oa(n,a)},Ba=(e,t,n)=>{const a=(void 0!==n?n.dom:document).defaultView;a&&a.scrollTo(e,t)},Ia=(e,t)=>{Dt().browser.isSafari()&&C(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Ra=(e,t,n,a)=>({x:e,y:t,width:n,height:a,right:e+n,bottom:t+a}),Fa=e=>{const t=void 0===e?window:e,n=t.document,a=Ma(yn(n));return(e=>{const t=void 0===e?window:e;return Dt().browser.isFirefox()?N.none():N.from(t.visualViewport)})(t).fold((()=>{const e=t.document.documentElement,n=e.clientWidth,o=e.clientHeight;return Ra(a.left,a.top,n,o)}),(e=>Ra(Math.max(e.pageLeft,a.left),Math.max(e.pageTop,a.top),e.width,e.height)))},Na=(e,t)=>{let n=[];return $(Fn(e),(e=>{t(e)&&(n=n.concat([e])),n=n.concat(Na(e,t))})),n},Va=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return xn(n)?[]:q(n.querySelectorAll(e),yn)})(t,e),Ua=(e,t,n)=>ta(e,t,n).isSome();class Ha{constructor(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node}prev(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node}prev2(e){return this.node=this.findPreviousNode(this.node,e),this.node}findSibling(e,t,n,a){if(e){if(!a&&e[t])return e[t];if(e!==this.rootNode){let t=e[n];if(t)return t;for(let a=e.parentNode;a&&a!==this.rootNode;a=a.parentNode)if(t=a[n],t)return t}}}findPreviousNode(e,t){if(e){const n=e.previousSibling;if(this.rootNode&&n===this.rootNode)return;if(n){if(!t)for(let e=n.lastChild;e;e=e.lastChild)if(!e.lastChild)return e;return n}const a=e.parentNode;if(a&&a!==this.rootNode)return a}}}const za=e=>t=>!!t&&t.nodeType===e,ja=e=>!!e&&!Object.getPrototypeOf(e),Za=za(1),qa=e=>Za(e)&&$t(yn(e)),$a=e=>{const t=e.toLowerCase();return e=>_(e)&&e.nodeName.toLowerCase()===t},Wa=e=>{const t=e.map((e=>e.toLowerCase()));return e=>{if(e&&e.nodeName){const n=e.nodeName.toLowerCase();return j(t,n)}return!1}},Ka=(e,t)=>{const n=t.toLowerCase().split(" ");return t=>{if(Za(t)){const a=t.ownerDocument.defaultView;if(a)for(let o=0;o<n.length;o++){const s=a.getComputedStyle(t,null);if((s?s.getPropertyValue(e):null)===n[o])return!0}}return!1}},Ga=e=>t=>Za(t)&&t.hasAttribute(e),Ya=e=>Za(e)&&e.hasAttribute("data-mce-bogus"),Xa=e=>Za(e)&&"TABLE"===e.tagName,Qa=e=>t=>{if(qa(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1},Ja=Wa(["textarea","input"]),eo=za(3),to=za(4),no=za(7),ao=za(8),oo=za(9),so=za(11),io=$a("br"),ro=$a("img"),lo=Qa("true"),co=Qa("false"),uo=Wa(["td","th"]),mo=Wa(["td","th","caption"]),po=Wa(["video","audio","object","embed"]),ho=$a("li"),fo=$a("details"),go=$a("summary"),vo="\ufeff",bo=" ",wo=e=>e===vo,yo=((e,t)=>{const n=t=>e(t)?N.from(t.dom.nodeValue):N.none();return{get:t=>{if(!e(t))throw new Error("Can only get text value of a text node");return n(t).getOr("")},getOption:n,set:(t,n)=>{if(!e(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=n}}})(Kt),_o=e=>yo.get(e),Co=e=>yo.getOption(e),Do=e=>{let t;return n=>(t=t||ie(e,F),xe(t,jt(n)))},xo=e=>Wt(e)&&"br"===jt(e),ko=Do(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),Eo=Do(["ul","ol","dl"]),So=Do(["li","dd","dt"]),Ao=Do(["thead","tbody","tfoot"]),To=Do(["td","th"]),Oo=Do(["pre","script","textarea","style"]),Lo=()=>{const e=bn("br");return Jt(e,"data-mce-bogus","1"),e},Po=e=>{_a(e),ba(e,Lo())},Mo=vo,Bo=wo,Io=e=>e.replace(/\uFEFF/g,""),Ro=Za,Fo=eo,No=e=>(Fo(e)&&(e=e.parentNode),Ro(e)&&e.hasAttribute("data-mce-caret")),Vo=e=>Fo(e)&&Bo(e.data),Uo=e=>No(e)||Vo(e),Ho=e=>e.firstChild!==e.lastChild||!io(e.firstChild),zo=e=>{const t=e.container();return!!eo(t)&&(t.data.charAt(e.offset())===Mo||e.isAtStart()&&Vo(t.previousSibling))},jo=e=>{const t=e.container();return!!eo(t)&&(t.data.charAt(e.offset()-1)===Mo||e.isAtEnd()&&Vo(t.nextSibling))},Zo=e=>Fo(e)&&e.data[0]===Mo,qo=e=>Fo(e)&&e.data[e.data.length-1]===Mo,$o=e=>e&&e.hasAttribute("data-mce-caret")?((e=>{var t;const n=e.getElementsByTagName("br"),a=n[n.length-1];Ya(a)&&(null===(t=a.parentNode)||void 0===t||t.removeChild(a))})(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Wo=e=>No(e.startContainer),Ko=lo,Go=co,Yo=io,Xo=eo,Qo=Wa(["script","style","textarea"]),Jo=Wa(["img","input","textarea","hr","iframe","video","audio","object","embed"]),es=Wa(["table"]),ts=Uo,ns=e=>!ts(e)&&(Xo(e)?!Qo(e.parentNode):Jo(e)||Yo(e)||es(e)||as(e)),as=e=>!(e=>Za(e)&&"true"===e.getAttribute("unselectable"))(e)&&Go(e),os=(e,t)=>ns(e)&&((e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(as(n))return!1;if(Ko(n))return!0}return!0})(e,t),ss=/^[ \t\r\n]*$/,is=e=>ss.test(e),rs=e=>{for(const t of e)if(!wo(t))return!1;return!0},ls=e=>"\n"===e||"\r"===e,ds=(e,t=4,n=!0,a=!0)=>{const o=((e,t)=>t<=0?"":new Array(t+1).join(" "))(0,t),s=e.replace(/\t/g,o),i=X(s,((e,t)=>(e=>-1!==" \f\t\v".indexOf(e))(t)||t===bo?e.pcIsSpace||""===e.str&&n||e.str.length===s.length-1&&a||((e,t)=>t<e.length&&t>=0&&ls(e[t]))(s,e.str.length+1)?{pcIsSpace:!1,str:e.str+bo}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:ls(t),str:e.str+t}),{pcIsSpace:!1,str:""});return i.str},cs=(e,t)=>ns(e)&&!((e,t)=>eo(e)&&is(e.data)&&!((e,t)=>{const n=yn(t),a=yn(e);return Ua(a,"pre,code",L(kn,n))})(e,t))(e,t)||(e=>Za(e)&&"A"===e.nodeName&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")))(e)||us(e),us=Ga("data-mce-bookmark"),ms=Ga("data-mce-bogus"),ps=e=>Za(e)&&"all"===e.getAttribute("data-mce-bogus"),hs=e=>Ln(yn(e)).exists((e=>!oa(e))),fs=(e,t=!0)=>((e,t)=>{let n=0;if(cs(e,e))return!1;{let a=e.firstChild;if(!a)return!0;const o=new Ha(a,e);do{if(t){if(ps(a)){a=o.next(!0);continue}if(ms(a)){a=o.next();continue}}if(lo(a)&&hs(a))return!1;if(io(a))n++,a=o.next();else{if(cs(a,e))return!1;a=o.next()}}while(a);return n<=1}})(e.dom,t),gs=e=>"svg"===e.toLowerCase(),vs=e=>gs(e.nodeName),bs=e=>"svg"===(null==e?void 0:e.nodeName)?"svg":"html",ws=["svg"],ys="data-mce-block",_s=e=>q((e=>G(pe(e),(e=>!/[A-Z]/.test(e))))(e),(e=>`${e}:`+q(ws,(t=>`not(${t} ${e})`)).join(":"))).join(","),Cs=(e,t)=>_(t.querySelector(e))?(t.setAttribute(ys,"true"),"inline-boundary"===t.getAttribute("data-mce-selected")&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(ys),!1),Ds=(e,t)=>{const n=_s(e.getTransparentElements()),a=_s(e.getBlockElements());return G(t.querySelectorAll(n),(e=>Cs(a,e)))},xs=(e,t)=>{var n;const a=t?"lastChild":"firstChild";for(let o=e[a];o;o=o[a])if(fs(yn(o)))return void(null===(n=o.parentNode)||void 0===n||n.removeChild(o))},ks=(e,t,n)=>{const a=e.getBlockElements(),o=yn(t),s=e=>jt(e)in a,i=e=>kn(e,o);$(xa(n),(t=>{Qn(t,s,i).each((n=>{const a=((t,a)=>G(Fn(t),(t=>s(t)&&!e.isValidChild(jt(n),jt(t)))))(t);if(a.length>0){const t=Ln(n);$(a,(e=>{Qn(e,s,i).each((t=>{((e,t)=>{const n=document.createRange(),a=e.parentNode;if(a){n.setStartBefore(e),n.setEndBefore(t);const o=n.extractContents();xs(o,!0),n.setStartAfter(t),n.setEndAfter(e);const s=n.extractContents();xs(s,!1),fs(yn(o))||a.insertBefore(o,e),fs(yn(t))||a.insertBefore(t,e),fs(yn(s))||a.insertBefore(s,e),a.removeChild(e)}})(t.dom,e.dom)}))})),t.each((t=>Ds(e,t.dom)))}}))}))},Es=(e,t)=>{const n=Ds(e,t);ks(e,t,n),((e,t,n)=>{$([...n,...Ls(e,t)?[t]:[]],(t=>$(Va(yn(t),t.nodeName.toLowerCase()),(t=>{Ps(e,t.dom)&&Da(t)}))))})(e,t,n)},Ss=(e,t)=>{if(Os(e,t)){const n=_s(e.getBlockElements());Cs(n,t)}},As=e=>e.hasAttribute(ys),Ts=(e,t)=>xe(e.getTransparentElements(),t),Os=(e,t)=>Za(t)&&Ts(e,t.nodeName),Ls=(e,t)=>Os(e,t)&&As(t),Ps=(e,t)=>Os(e,t)&&!As(t),Ms=(e,t)=>1===t.type&&Ts(e,t.name)&&p(t.attr(ys)),Bs=Dt().browser,Is=e=>J(e,Wt),Rs=(e,t)=>e.children&&j(e.children,t),Fs=(e,t={})=>{let n=0;const a={},o=yn(e),s=An(o),i=e=>{ba($n(o),e)},r=e=>{const t=$n(o);na(t,"#"+e).each(Ca)},l=e=>De(a,e).getOrThunk((()=>({id:"mce-u"+n++,passed:[],failed:[],count:0}))),d=e=>new Promise(((n,o)=>{let r;const d=Bt._addCacheSuffix(e),c=l(d);a[d]=c,c.count++;const u=(e,t)=>{$(e,I),c.status=t,c.passed=[],c.failed=[],r&&(r.onload=null,r.onerror=null,r=null)},m=()=>u(c.passed,2),p=()=>u(c.failed,3);if(n&&c.passed.push(n),o&&c.failed.push(o),1===c.status)return;if(2===c.status)return void m();if(3===c.status)return void p();c.status=1;const h=bn("link",s.dom);en(h,{rel:"stylesheet",type:"text/css",id:c.id}),t.contentCssCors&&Jt(h,"crossOrigin","anonymous"),t.referrerPolicy&&Jt(h,"referrerpolicy",t.referrerPolicy),r=h.dom,r.onload=m,r.onerror=p,i(h),Jt(h,"href",d)})),c=e=>{const t=Bt._addCacheSuffix(e);De(a,t).each((e=>{0==--e.count&&(delete a[t],r(e.id))}))};return{load:d,loadRawCss:(e,t)=>{const n=l(e);a[e]=n,n.count++;const o=bn("style",s.dom);en(o,{rel:"stylesheet",type:"text/css",id:n.id}),o.dom.innerHTML=t,i(o)},loadAll:e=>Promise.allSettled(q(e,(e=>d(e).then(A(e))))).then((e=>{const t=K(e,(e=>"fulfilled"===e.status));return t.fail.length>0?Promise.reject(q(t.fail,(e=>e.reason))):q(t.pass,(e=>e.value))})),unload:c,unloadRawCss:e=>{De(a,e).each((t=>{0==--t.count&&(delete a[e],r(t.id))}))},unloadAll:e=>{$(e,(e=>{c(e)}))},_setReferrerPolicy:e=>{t.referrerPolicy=e},_setContentCssCors:e=>{t.contentCssCors=e}}},Ns=(()=>{const e=new WeakMap;return{forElement:(t,n)=>{const a=qn(t).dom;return N.from(e.get(a)).getOrThunk((()=>{const t=Fs(a,n);return e.set(a,t),t}))}}})(),Vs=(e,t,n)=>_(e)&&(cs(e,t)||n.isInline(e.nodeName.toLowerCase())),Us=e=>(e=>"span"===e.nodeName.toLowerCase())(e)&&"bookmark"===e.getAttribute("data-mce-type"),Hs=(e,t,n,a)=>{var o;const s=a||t;if(Za(t)&&Us(t))return t;const i=t.childNodes;for(let r=i.length-1;r>=0;r--)Hs(e,i[r],n,s);if(Za(t)){const e=t.childNodes;1===e.length&&Us(e[0])&&(null===(o=t.parentNode)||void 0===o||o.insertBefore(e[0],t))}return(e=>so(e)||oo(e))(t)||cs(t,s)||(e=>!!Za(e)&&e.childNodes.length>0)(t)||((e,t,n)=>eo(e)&&e.data.length>0&&((e,t,n)=>{const a=new Ha(e,t).prev(!1),o=new Ha(e,t).next(!1),s=w(a)||Vs(a,t,n),i=w(o)||Vs(o,t,n);return s&&i})(e,t,n))(t,s,n)||e.remove(t),t},zs=Bt.makeMap,js=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zs=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qs=/[<>&\"\']/g,$s=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Ws={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},Ks={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Gs={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Ys=(e,t)=>{const n={};if(e){const a=e.split(",");t=t||10;for(let e=0;e<a.length;e+=2){const o=String.fromCharCode(parseInt(a[e],t));if(!Ks[o]){const t="&"+a[e+1]+";";n[o]=t,n[t]=o}}return n}},Xs=Ys("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Qs=(e,t)=>e.replace(t?js:Zs,(e=>Ks[e]||e)),Js=(e,t)=>e.replace(t?js:Zs,(e=>e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":Ks[e]||"&#"+e.charCodeAt(0)+";")),ei=(e,t,n)=>{const a=n||Xs;return e.replace(t?js:Zs,(e=>Ks[e]||a[e]||e))},ti={encodeRaw:Qs,encodeAllRaw:e=>(""+e).replace(qs,(e=>Ks[e]||e)),encodeNumeric:Js,encodeNamed:ei,getEncodeFunc:(e,t)=>{const n=Ys(t)||Xs,a=zs(e.replace(/\+/g,","));return a.named&&a.numeric?(e,t)=>e.replace(t?js:Zs,(e=>void 0!==Ks[e]?Ks[e]:void 0!==n[e]?n[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";")):a.named?t?(e,t)=>ei(e,t,n):ei:a.numeric?Js:Qs},decode:e=>e.replace($s,((e,t)=>t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):Ws[t]||String.fromCharCode(t):Gs[e]||Xs[e]||(e=>{const t=bn("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e})(e)))},ni=(e,t)=>(e=Bt.trim(e))?e.split(t||" "):[],ai=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),oi={},si=Bt.makeMap,ii=Bt.each,ri=Bt.extend,li=Bt.explode,di=(e,t={})=>{const n=si(e," ",si(e.toUpperCase()," "));return ri(n,t)},ci=e=>di("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),ui=(e,t)=>{if(e){const n={};return p(e)&&(e={"*":e}),ii(e,((e,a)=>{n[a]=n[a.toUpperCase()]="map"===t?si(e,/[, ]/):li(e,/[, ]/)})),n}},mi=(e={})=>{var t;const n={},a={};let o=[];const s={},i={},r=(t,n,a)=>{const o=e[t];if(o)return si(o,/[, ]/,si(o.toUpperCase(),/[, ]/));{let e=oi[t];return e||(e=di(n,a),oi[t]=e),e}},l=null!==(t=e.schema)&&void 0!==t?t:"html5",d=(e=>{const{globalAttributes:t,phrasingContent:n,flowContent:a}=(e=>{let t,n,a;t="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",a="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav a ins del canvas map",a+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),"html5-strict"!==e&&(t+=" xml:lang",a=[a,"acronym applet basefont big font strike tt"].join(" "),n=[n,"center dir isindex noframes"].join(" "));const o=[n,a].join(" ");return{globalAttributes:t,blockContent:n,phrasingContent:a,flowContent:o}})(e),o={},s=(e,t,n)=>{o[e]={attributes:ie(t,A({})),attributesOrder:t,children:ie(n,A({}))}},i=(e,n="",a="")=>{const o=ni(a),i=ni(e);let r=i.length;const l=ni([t,n].join(" "));for(;r--;)s(i[r],l.slice(),o)},r=(e,t)=>{const n=ni(e),a=ni(t);let s=n.length;for(;s--;){const e=o[n[s]];for(let t=0,n=a.length;t<n;t++)e.attributes[a[t]]={},e.attributesOrder.push(a[t])}};return"html5-strict"!==e&&($(ni("acronym applet basefont big font strike tt"),(e=>{i(e,"",n)})),$(ni("center dir isindex noframes"),(e=>{i(e,"",a)}))),i("html","manifest","head body"),i("head","","base command link meta noscript script style title"),i("title hr noscript br"),i("base","href target"),i("link","href rel media hreflang type sizes hreflang"),i("meta","name http-equiv content charset"),i("style","media type scoped"),i("script","src async defer type charset"),i("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",a),i("dd div","",a),i("address dt caption","","html4"===e?n:a),i("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",n),i("blockquote","cite",a),i("ol","reversed start type","li"),i("ul","","li"),i("li","value",a),i("dl","","dt dd"),i("a","href target rel media hreflang type","html4"===e?n:a),i("q","cite",n),i("ins del","cite datetime",a),i("img","src sizes srcset alt usemap ismap width height"),i("iframe","src name width height",a),i("embed","src type width height"),i("object","data type typemustmatch name usemap form width height",[a,"param"].join(" ")),i("param","name value"),i("map","name",[a,"area"].join(" ")),i("area","alt coords shape href target rel media hreflang type"),i("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),i("colgroup","span","col"),i("col","span"),i("tbody thead tfoot","","tr"),i("tr","","td th"),i("td","colspan rowspan headers",a),i("th","colspan rowspan headers scope abbr",a),i("form","accept-charset action autocomplete enctype method name novalidate target",a),i("fieldset","disabled form name",[a,"legend"].join(" ")),i("label","form for",n),i("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),i("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?a:n),i("select","disabled form multiple name required size","option optgroup"),i("optgroup","disabled label","option"),i("option","disabled label selected value"),i("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),i("menu","type label",[a,"li"].join(" ")),i("noscript","",a),"html4"!==e&&(i("wbr"),i("ruby","",[n,"rt rp"].join(" ")),i("figcaption","",a),i("mark rt rp bdi","",n),i("summary","",[n,"h1 h2 h3 h4 h5 h6"].join(" ")),i("canvas","width height",a),i("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[a,"track source"].join(" ")),i("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[a,"track source"].join(" ")),i("picture","","img source"),i("source","src srcset type media sizes"),i("track","kind src srclang label default"),i("datalist","",[n,"option"].join(" ")),i("article section nav aside main header footer","",a),i("hgroup","","h1 h2 h3 h4 h5 h6"),i("figure","",[a,"figcaption"].join(" ")),i("time","datetime",n),i("dialog","open",a),i("command","type label icon disabled checked radiogroup command"),i("output","for form name",n),i("progress","value max",n),i("meter","value min max low high optimum",n),i("details","open",[a,"summary"].join(" ")),i("keygen","autofocus challenge disabled form keytype name"),s("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),"html5-strict"!==e&&(r("script","language xml:space"),r("style","xml:space"),r("object","declare classid code codebase codetype archive standby align border hspace vspace"),r("embed","align name hspace vspace"),r("param","valuetype type"),r("a","charset name rev shape coords"),r("br","clear"),r("applet","codebase archive code object alt name width height align hspace vspace"),r("img","name longdesc align border hspace vspace"),r("iframe","longdesc frameborder marginwidth marginheight scrolling align"),r("font basefont","size color face"),r("input","usemap align"),r("select"),r("textarea"),r("h1 h2 h3 h4 h5 h6 div p legend caption","align"),r("ul","type compact"),r("li","type"),r("ol dl menu dir","compact"),r("pre","width xml:space"),r("hr","align noshade size width"),r("isindex","prompt"),r("table","summary width frame rules cellspacing cellpadding align bgcolor"),r("col","width align char charoff valign"),r("colgroup","width align char charoff valign"),r("thead","align char charoff valign"),r("tr","align char charoff valign bgcolor"),r("th","axis align char charoff valign nowrap bgcolor width height"),r("form","accept"),r("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),r("tfoot","align char charoff valign"),r("tbody","align char charoff valign"),r("area","nohref"),r("body","background bgcolor text link vlink alink")),"html4"!==e&&(r("input button select textarea","autofocus"),r("input textarea","placeholder"),r("a","download"),r("link script img","crossorigin"),r("img","loading"),r("iframe","sandbox seamless allow allowfullscreen loading")),"html4"!==e&&$([o.video,o.audio],(e=>{delete e.children.audio,delete e.children.video})),$(ni("a form meter progress dfn"),(e=>{o[e]&&delete o[e].children[e]})),delete o.caption.children.table,delete o.script,o})(l);!1===e.verify_html&&(e.valid_elements="*[*]");const c=ui(e.valid_styles),u=ui(e.invalid_styles,"map"),m=ui(e.valid_classes,"map"),p=r("whitespace_elements","pre script noscript style textarea video audio iframe object code"),h=r("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),f=r("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),g=r("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),v="td th iframe video audio object script code",b=r("non_empty_elements",v+" pre svg",f),w=r("move_caret_before_on_enter_elements",v+" table",f),y="h1 h2 h3 h4 h5 h6",_=r("text_block_elements",y+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),C=r("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",_),D=r("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),x=r("transparent_elements","a ins del canvas map"),k=r("wrap_block_elements","pre "+y);ii("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),(e=>{i[e]=new RegExp("</"+e+"[^>]*>","gi")}));const E=e=>{const t=N.from(n["@"]),a=/[*?+]/;$(((e,t)=>{const n=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return ne(ni(t,","),(t=>{const a=n.exec(t);if(a){const t=a[1],n=a[2],o=a[3],s=a[4],i=a[5],r={attributes:{},attributesOrder:[]};if(e.each((e=>((e,t)=>{fe(e.attributes,((e,n)=>{t.attributes[n]=e})),t.attributesOrder.push(...e.attributesOrder)})(e,r))),"#"===t?r.paddEmpty=!0:"-"===t&&(r.removeEmpty=!0),"!"===s&&(r.removeEmptyAttrs=!0),i&&((e,t)=>{const n=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,a=/[*?+]/,{attributes:o,attributesOrder:s}=t;$(ni(e,"|"),(e=>{const i=n.exec(e);if(i){const e={},n=i[1],r=i[2].replace(/[\\:]:/g,":"),l=i[3],d=i[4];if("!"===n&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(r),e.required=!0),"-"===n)return delete o[r],void s.splice(Bt.inArray(s,r),1);if(l&&("="===l?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:r,value:d}),e.defaultValue=d):"~"===l?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:r,value:d}),e.forcedValue=d):"<"===l&&(e.validValues=Bt.makeMap(d,"?"))),a.test(r)){const n=e;t.attributePatterns=t.attributePatterns||[],n.pattern=ai(r),t.attributePatterns.push(n)}else o[r]||s.push(r),o[r]=e}}))})(i,r),o&&(r.outputName=n),"@"===n){if(!e.isNone())return[];e=N.some(r)}return[o?{name:n,element:r,aliasName:o}:{name:n,element:r}]}return[]}))})(t,null!=e?e:""),(({name:e,element:t,aliasName:s})=>{if(s&&(n[s]=t),a.test(e)){const n=t;n.pattern=ai(e),o.push(n)}else n[e]=t}))},S=e=>{o=[],$(pe(n),(e=>{delete n[e]})),E(e)},T=e=>{delete oi.text_block_elements,delete oi.block_elements,$((e=>{const t=/^(~)?(.+)$/;return ne(ni(e,","),(e=>{const n=t.exec(e);if(n){const e="~"===n[1];return[{inline:e,cloneName:e?"span":"div",name:n[2]}]}return[]}))})(null!=e?e:""),(({inline:e,name:t,cloneName:o})=>{if(a[t]=a[o],s[t]=o,b[t.toUpperCase()]={},b[t]={},e||(C[t.toUpperCase()]={},C[t]={}),!n[t]){let e=n[o];e=ri({},e),delete e.removeEmptyAttrs,delete e.removeEmpty,n[t]=e}fe(a,((e,n)=>{e[o]&&(a[n]=e=ri({},a[n]),e[t]=e[o])}))}))},O=e=>{$((e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return ne(ni(e,","),(e=>{const n=t.exec(e);if(n){const e=n[1],t=e?(e=>"-"===e?"remove":"add")(e):"replace";return[{operation:t,name:n[2],validChildren:ni(n[3],"|")}]}return[]}))})(null!=e?e:""),(({operation:e,name:t,validChildren:n})=>{const o="replace"===e?{"#comment":{}}:a[t];$(n,(t=>{"remove"===e?delete o[t]:o[t]={}})),a[t]=o}))},L=e=>{const t=n[e];if(t)return t;let a=o.length;for(;a--;){const t=o[a];if(t.pattern.test(e))return t}};e.valid_elements?(S(e.valid_elements),ii(d,((e,t)=>{a[t]=e.children}))):(ii(d,((e,t)=>{n[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},a[t]=e.children})),ii(ni("strong/b em/i"),(e=>{const t=ni(e,"/");n[t[1]].outputName=t[0]})),ii(D,((t,a)=>{n[a]&&(e.padd_empty_block_inline_children&&(n[a].paddInEmptyBlock=!0),n[a].removeEmpty=!0)})),ii(ni("ol ul blockquote a table tbody"),(e=>{n[e]&&(n[e].removeEmpty=!0)})),ii(ni("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),(e=>{n[e]&&(n[e].paddEmpty=!0)})),ii(ni("span"),(e=>{n[e].removeEmptyAttrs=!0}))),delete n.svg,T(e.custom_elements),O(e.valid_children),E(e.extended_valid_elements),O("+ol[ul|ol],+ul[ul|ol]"),ii({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},((e,t)=>{n[t]&&(n[t].parentsRequired=ni(e))})),e.invalid_elements&&ii(li(e.invalid_elements),(e=>{n[e]&&delete n[e]})),L("span")||E("span[!data-mce-type|*]");const P=A(c),M=A(u),B=A(m),I=A(g),R=A(C),F=A(_),V=A(D),U=A(Object.seal(f)),H=A(h),z=A(b),j=A(w),Z=A(p),q=A(x),W=A(k),K=A(Object.seal(i)),G=(e,t)=>{const n=L(e);if(n){if(!t)return!0;{if(n.attributes[t])return!0;const e=n.attributePatterns;if(e){let n=e.length;for(;n--;)if(e[n].pattern.test(t))return!0}}}return!1},Y=e=>xe(R(),e),X=e=>!je(e,"#")&&G(e)&&!Y(e),Q=A(s);return{type:l,children:a,elements:n,getValidStyles:P,getValidClasses:B,getBlockElements:R,getInvalidStyles:M,getVoidElements:U,getTextBlockElements:F,getTextInlineElements:V,getBoolAttrs:I,getElementRule:L,getSelfClosingElements:H,getNonEmptyElements:z,getMoveCaretBeforeOnEnterElements:j,getWhitespaceElements:Z,getTransparentElements:q,getSpecialElements:K,isValidChild:(e,t)=>{const n=a[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},isValid:G,isBlock:Y,isInline:X,isWrapper:e=>xe(W(),e)||X(e),getCustomElements:Q,addValidElements:E,setValidElements:S,addCustomElements:T,addValidChildren:O}},pi=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},hi=e=>(e=>{return{value:(t=e,He(t,"#").toUpperCase())};var t})(pi(e.red)+pi(e.green)+pi(e.blue)),fi=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,gi=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,vi=(e,t,n,a)=>({red:e,green:t,blue:n,alpha:a}),bi=(e,t,n,a)=>{const o=parseInt(e,10),s=parseInt(t,10),i=parseInt(n,10),r=parseFloat(a);return vi(o,s,i,r)},wi=e=>{if("transparent"===e)return N.some(vi(0,0,0,0));const t=fi.exec(e);if(null!==t)return N.some(bi(t[1],t[2],t[3],"1"));const n=gi.exec(e);return null!==n?N.some(bi(n[1],n[2],n[3],n[4])):N.none()},yi=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,_i=e=>wi(e).map(hi).map((e=>"#"+e.value)).getOr(e),Ci=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,a=/\s*([^:]+):\s*([^;]+);?/g,o=/\s+$/,s={};let i,r;const l=vo;t&&(i=t.getValidStyles(),r=t.getInvalidStyles());const d="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(let u=0;u<d.length;u++)s[d[u]]=l+u,s[l+u]=d[u];const c={parse:t=>{const i={};let r=!1;const d=e.url_converter,u=e.url_converter_scope||c,m=(e,t,n)=>{const a=i[e+"-top"+t];if(!a)return;const o=i[e+"-right"+t];if(!o)return;const s=i[e+"-bottom"+t];if(!s)return;const r=i[e+"-left"+t];if(!r)return;const l=[a,o,s,r];let d=l.length-1;for(;d--&&l[d]===l[d+1];);d>-1&&n||(i[e+t]=-1===d?l[0]:l.join(" "),delete i[e+"-top"+t],delete i[e+"-right"+t],delete i[e+"-bottom"+t],delete i[e+"-left"+t])},h=e=>{const t=i[e];if(!t)return;const n=t.indexOf(",")>-1?[t]:t.split(" ");let a=n.length;for(;a--;)if(n[a]!==n[0])return!1;return i[e]=n[0],!0},f=e=>(r=!0,s[e]),g=(e,t)=>(r&&(e=e.replace(/\uFEFF[0-9]/g,(e=>s[e]))),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e),v=e=>String.fromCharCode(parseInt(e.slice(1),16)),b=e=>e.replace(/\\[0-9a-f]+/gi,v),w=(t,n,a,o,s,i)=>{if(s=s||i)return"'"+(s=g(s)).replace(/\'/g,"\\'")+"'";if(n=g(n||a||o||""),!e.allow_script_urls){const t=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(t))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(t))return""}return d&&(n=d.call(u,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){let s;for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,f).replace(/\"[^\"]+\"|\'[^\']+\'/g,(e=>e.replace(/[;:]/g,f)));s=a.exec(t);){a.lastIndex=s.index+s[0].length;let t=s[1].replace(o,"").toLowerCase(),d=s[2].replace(o,"");if(t&&d){if(t=b(t),d=b(d),-1!==t.indexOf(l)||-1!==t.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===t||/expression\s*\(|\/\*|\*\//.test(d)))continue;"font-weight"===t&&"700"===d?d="bold":"color"!==t&&"background-color"!==t||(d=d.toLowerCase()),p(e.force_hex_color)&&"off"!==e.force_hex_color&&wi(d).each((t=>{"always"!==e.force_hex_color&&1!==t.alpha||(d=_i(yi(t)))})),d=d.replace(n,w),i[t]=r?g(d,!0):d}}m("border","",!0),m("border","-width"),m("border","-color"),m("border","-style"),m("padding",""),m("margin",""),_="border-style",C="border-color",h(y="border-width")&&h(_)&&h(C)&&(i.border=i[y]+" "+i[_]+" "+i[C],delete i[y],delete i[_],delete i[C]),"medium none"===i.border&&delete i.border,"none"===i["border-image"]&&delete i["border-image"]}var y,_,C;return i},serialize:(e,t)=>{let n="";const a=(t,a)=>{const o=a[t];if(o)for(let s=0,i=o.length;s<i;s++){const t=o[s],a=e[t];a&&(n+=(n.length>0?" ":"")+t+": "+a+";")}};return t&&i?(a("*",i),a(t,i)):fe(e,((e,a)=>{e&&((e,t)=>{if(!r||!t)return!0;let n=r["*"];return!(n&&n[e]||(n=r[t],n&&n[e]))})(a,t)&&(n+=(n.length>0?" ":"")+a+": "+e+";")})),n}};return c},Di={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},xi=(e,t)=>{const n=null!=t?t:{};for(const a in e)xe(Di,a)||(n[a]=e[a]);return _(e.composedPath)&&(n.composedPath=()=>e.composedPath()),_(e.getModifierState)&&(n.getModifierState=t=>e.getModifierState(t)),_(e.getTargetRanges)&&(n.getTargetRanges=()=>e.getTargetRanges()),n},ki=(e,t,n,a)=>{var o;const s=xi(t,a);return s.type=e,y(s.target)&&(s.target=null!==(o=s.srcElement)&&void 0!==o?o:n),(e=>y(e.preventDefault)||(e=>e instanceof Event||C(e.initEvent))(e))(t)&&(s.preventDefault=()=>{s.defaultPrevented=!0,s.isDefaultPrevented=F,C(t.preventDefault)&&t.preventDefault()},s.stopPropagation=()=>{s.cancelBubble=!0,s.isPropagationStopped=F,C(t.stopPropagation)&&t.stopPropagation()},s.stopImmediatePropagation=()=>{s.isImmediatePropagationStopped=F,s.stopPropagation()},(e=>e.isDefaultPrevented===F||e.isDefaultPrevented===R)(s)||(s.isDefaultPrevented=!0===s.defaultPrevented?F:R,s.isPropagationStopped=!0===s.cancelBubble?F:R,s.isImmediatePropagationStopped=R)),s},Ei=/^(?:mouse|contextmenu)|click/,Si=(e,t,n,a)=>{e.addEventListener(t,n,a||!1)},Ai=(e,t,n,a)=>{e.removeEventListener(t,n,a||!1)},Ti=(e,t)=>{const n=ki(e.type,e,document,t);if((e=>_(e)&&Ei.test(e.type))(e)&&w(e.pageX)&&!w(e.clientX)){const t=n.target.ownerDocument||document,a=t.documentElement,o=t.body,s=n;s.pageX=e.clientX+(a&&a.scrollLeft||o&&o.scrollLeft||0)-(a&&a.clientLeft||o&&o.clientLeft||0),s.pageY=e.clientY+(a&&a.scrollTop||o&&o.scrollTop||0)-(a&&a.clientTop||o&&o.clientTop||0)}return n},Oi=(e,t,n)=>{const a=e.document,o={type:"ready"};if(n.domLoaded)return void t(o);const s=()=>{Ai(e,"DOMContentLoaded",s),Ai(e,"load",s),n.domLoaded||(n.domLoaded=!0,t(o)),e=null};"complete"===a.readyState||"interactive"===a.readyState&&a.body?s():Si(e,"DOMContentLoaded",s),n.domLoaded||Si(e,"load",s)};class Li{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(e,t,n,a){const o=this;let s;const i=window,r=e=>{o.executeHandlers(Ti(e||i.event),l)};if(!e||eo(e)||ao(e))return n;let l;e[o.expando]?l=e[o.expando]:(l=o.count++,e[o.expando]=l,o.events[l]={}),a=a||e;const d=t.split(" ");let c=d.length;for(;c--;){let t=d[c],u=r,m=!1,p=!1;"DOMContentLoaded"===t&&(t="ready"),o.domLoaded&&"ready"===t&&"complete"===e.readyState?n.call(a,Ti({type:t})):(o.hasFocusIn||"focusin"!==t&&"focusout"!==t||(m=!0,p="focusin"===t?"focus":"blur",u=e=>{const t=Ti(e||i.event);t.type="focus"===t.type?"focusin":"focusout",o.executeHandlers(t,l)}),s=o.events[l][t],s?"ready"===t&&o.domLoaded?n(Ti({type:t})):s.push({func:n,scope:a}):(o.events[l][t]=s=[{func:n,scope:a}],s.fakeName=p,s.capture=m,s.nativeHandler=u,"ready"===t?Oi(e,u,o):Si(e,p||t,u,m)))}return e=s=null,n}unbind(e,t,n){if(!e||eo(e)||ao(e))return this;const a=e[this.expando];if(a){let o=this.events[a];if(t){const a=t.split(" ");let s=a.length;for(;s--;){const t=a[s],i=o[t];if(i){if(n){let e=i.length;for(;e--;)if(i[e].func===n){const n=i.nativeHandler,a=i.fakeName,s=i.capture,r=i.slice(0,e).concat(i.slice(e+1));r.nativeHandler=n,r.fakeName=a,r.capture=s,o[t]=r}}n&&0!==i.length||(delete o[t],Ai(e,i.fakeName||t,i.nativeHandler,i.capture))}}}else fe(o,((t,n)=>{Ai(e,t.fakeName||n,t.nativeHandler,t.capture)})),o={};for(const e in o)if(xe(o,e))return this;delete this.events[a];try{delete e[this.expando]}catch(t){e[this.expando]=null}}return this}fire(e,t,n){return this.dispatch(e,t,n)}dispatch(e,t,n){if(!e||eo(e)||ao(e))return this;const a=Ti({type:t,target:e},n);do{const t=e[this.expando];t&&this.executeHandlers(a,t),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!a.isPropagationStopped());return this}clean(e){if(!e||eo(e)||ao(e))return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName){this.unbind(e);const t=e.getElementsByTagName("*");let n=t.length;for(;n--;)(e=t[n])[this.expando]&&this.unbind(e)}return this}destroy(){this.events={}}cancel(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}executeHandlers(e,t){const n=this.events[t],a=n&&n[e.type];if(a)for(let o=0,s=a.length;o<s;o++){const t=a[o];if(t&&!1===t.func.call(t.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}}}Li.Event=new Li;const Pi=Bt.each,Mi=Bt.grep,Bi="data-mce-style",Ii=Bt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Ri=(e,t,n)=>{y(n)||""===n?on(e,t):Jt(e,t,n)},Fi=e=>e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())),Ni=(e,t)=>{let n=0;if(e)for(let a=e.nodeType,o=e.previousSibling;o;o=o.previousSibling){const e=o.nodeType;(!t||!eo(o)||e!==a&&o.data.length)&&(n++,a=e)}return n},Vi=(e,t)=>{const n=tn(t,"style"),a=e.serialize(e.parse(n),jt(t));Ri(t,Bi,a)},Ui=(e,t,n)=>{const a=Fi(t);y(n)||""===n?ha(e,a):la(e,a,((e,t)=>D(e)?xe(Ii,t)?e+"":e+"px":e)(n,a))},Hi=(e,t={})=>{const n={},a=window,o={};let s=0;const i=Ns.forElement(yn(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),r=[],l=t.schema?t.schema:mi({}),d=Ci({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,force_hex_color:t.force_hex_color},t.schema),c=t.ownEvents?new Li:Li.Event,u=l.getBlockElements(),m=t=>t&&e&&p(t)?e.getElementById(t):t,h=e=>{const t=m(e);return _(t)?yn(t):null},f=(e,t,n="")=>{let a;const o=h(e);if(_(o)&&Wt(o)){const e=G[t];a=e&&e.get?e.get(o.dom,t):tn(o,t)}return _(a)?a:n},v=e=>{const t=m(e);return y(t)?[]:t.attributes},b=(e,n,a)=>{L(e,(e=>{if(Za(e)){const o=yn(e),s=""===a?null:a,i=tn(o,n),r=G[n];r&&r.set?r.set(o.dom,s,n):Ri(o,n,s),i!==s&&t.onSetAttrib&&t.onSetAttrib({attrElm:o.dom,attrName:n,attrValue:s})}}))},w=()=>t.root_element||e.body,D=(t,n)=>((e,t,n)=>{let a=0,o=0;const s=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===ca(yn(e),"position")){const n=t.getBoundingClientRect();return a=n.left+(s.documentElement.scrollLeft||e.scrollLeft)-s.documentElement.clientLeft,o=n.top+(s.documentElement.scrollTop||e.scrollTop)-s.documentElement.clientTop,{x:a,y:o}}let i=t;for(;i&&i!==n&&i.nodeType&&!Rs(i,n);){const e=i;a+=e.offsetLeft||0,o+=e.offsetTop||0,i=e.offsetParent}for(i=t.parentNode;i&&i!==n&&i.nodeType&&!Rs(i,n);)a-=i.scrollLeft||0,o-=i.scrollTop||0,i=i.parentNode;o+=(e=>Bs.isFirefox()&&"table"===jt(e)?Is(Fn(e)).filter((e=>"caption"===jt(e))).bind((e=>Is(Rn(e)).map((t=>{const n=t.dom.offsetTop,a=e.dom.offsetTop,o=e.dom.offsetHeight;return n<=a?-o:0})))).getOr(0):0)(yn(t))}return{x:a,y:o}})(e.body,m(t),n),x=(e,t,n)=>{const a=m(e);var o;if(!y(a)&&(qa(a)||Za(o=a)&&"http://www.w3.org/2000/svg"===o.namespaceURI))return n?ca(yn(a),Fi(t)):("float"===(t=t.replace(/-(\D)/g,((e,t)=>t.toUpperCase())))&&(t="cssFloat"),a.style?a.style[t]:void 0)},E=e=>{const t=m(e);if(!t)return{w:0,h:0};let n=x(t,"width"),a=x(t,"height");return n&&-1!==n.indexOf("px")||(n="0"),a&&-1!==a.indexOf("px")||(a="0"),{w:parseInt(n,10)||t.offsetWidth||t.clientWidth,h:parseInt(a,10)||t.offsetHeight||t.clientHeight}},S=(e,t)=>{if(!e)return!1;const n=g(e)?e:[e];return Z(n,(e=>Dn(yn(e),t)))},T=(e,t,n,a)=>{const o=[];let s=m(e);a=void 0===a;const i=n||("BODY"!==w().nodeName?w().parentNode:null);if(p(t))if("*"===t)t=Za;else{const e=t;t=t=>S(t,e)}for(;s&&!(s===i||y(s.nodeType)||oo(s)||so(s));){if(!t||t(s)){if(!a)return[s];o.push(s)}s=s.parentNode}return a?o:null},O=(e,t,n)=>{let a=t;if(e){p(t)&&(a=e=>S(e,t));for(let t=e[n];t;t=t[n])if(C(a)&&a(t))return t}return null},L=function(e,t,n){const a=null!=n?n:this;if(g(e)){const n=[];return Pi(e,((e,o)=>{const s=m(e);s&&n.push(t.call(a,s,o))})),n}{const n=m(e);return!!n&&t.call(a,n)}},P=(e,t)=>{L(e,(e=>{fe(t,((t,n)=>{b(e,n,t)}))}))},M=(e,t)=>{L(e,(e=>{const n=yn(e);Ea(n,t)}))},B=(t,n,a,o,s)=>L(t,(t=>{const i=p(n)?e.createElement(n):n;return _(a)&&P(i,a),o&&(!p(o)&&o.nodeType?i.appendChild(o):p(o)&&M(i,o)),s?i:t.appendChild(i)})),I=(t,n,a)=>B(e.createElement(t),t,n,a,!0),R=ti.encodeAllRaw,F=(e,t)=>L(e,(e=>{const n=yn(e);return t&&$(Fn(n),(e=>{Kt(e)&&0===e.dom.length?Ca(e):fa(n,e)})),Ca(n),n.dom})),N=(e,t,n)=>{L(e,(e=>{if(Za(e)){const a=yn(e),o=t.split(" ");$(o,(e=>{_(n)?(n?mn:hn)(a,e):((e,t)=>{ln(e)?e.dom.classList.toggle(t):((e,t)=>{j(dn(e),t)?un(e,t):cn(e,t)})(e,t);pn(e)})(a,e)}))}}))},V=(e,t,n)=>L(t,(a=>{var o;const s=g(t)?e.cloneNode(!0):e;return n&&Pi(Mi(a.childNodes),(e=>{s.appendChild(e)})),null===(o=a.parentNode)||void 0===o||o.replaceChild(s,a),a})),U=e=>{if(Za(e)){const t="a"===e.nodeName.toLowerCase()&&!f(e,"href")&&f(e,"id");if(f(e,"name")||f(e,"data-mce-bookmark")||t)return!0}return!1},H=()=>e.createRange(),z=(n,o,s,i)=>{if(g(n)){let e=n.length;const t=[];for(;e--;)t[e]=z(n[e],o,s,i);return t}return!t.collect||n!==e&&n!==a||r.push([n,o,s,i]),c.bind(n,o,s,i||K)},q=(t,n,o)=>{if(g(t)){let e=t.length;const a=[];for(;e--;)a[e]=q(t[e],n,o);return a}if(r.length>0&&(t===e||t===a)){let e=r.length;for(;e--;){const[a,s,i]=r[e];t!==a||n&&n!==s||o&&o!==i||c.unbind(a,s,i)}}return c.unbind(t,n,o)},W=e=>{if(e&&qa(e)){const t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},K={doc:e,settings:t,win:a,files:o,stdMode:!0,boxModel:!0,styleSheetLoader:i,boundEvents:r,styles:d,schema:l,events:c,isBlock:e=>p(e)?xe(u,e):Za(e)&&(xe(u,e.nodeName)||Ls(l,e)),root:null,clone:(e,t)=>e.cloneNode(t),getRoot:w,getViewPort:e=>{const t=Fa(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},getRect:e=>{const t=m(e),n=D(t),a=E(t);return{x:n.x,y:n.y,w:a.w,h:a.h}},getSize:E,getParent:(e,t,n)=>{const a=T(e,t,n,!1);return a&&a.length>0?a[0]:null},getParents:T,get:m,getNext:(e,t)=>O(e,t,"nextSibling"),getPrev:(e,t)=>O(e,t,"previousSibling"),select:(n,a)=>{var o,s;const i=null!==(s=null!==(o=m(a))&&void 0!==o?o:t.root_element)&&void 0!==s?s:e;return C(i.querySelectorAll)?ue(i.querySelectorAll(n)):[]},is:S,add:B,create:I,createHTML:(e,t,n="")=>{let a="<"+e;for(const o in t)ke(t,o)&&(a+=" "+o+'="'+R(t[o])+'"');return Ye(n)&&xe(l.getVoidElements(),e)?a+" />":a+">"+n+"</"+e+">"},createFragment:t=>{const n=e.createElement("div"),a=e.createDocumentFragment();let o;for(a.appendChild(n),t&&(n.innerHTML=t);o=n.firstChild;)a.appendChild(o);return a.removeChild(n),a},remove:F,setStyle:(e,n,a)=>{L(e,(e=>{const o=yn(e);Ui(o,n,a),t.update_styles&&Vi(d,o)}))},getStyle:x,setStyles:(e,n)=>{L(e,(e=>{const a=yn(e);fe(n,((e,t)=>{Ui(a,t,e)})),t.update_styles&&Vi(d,a)}))},removeAllAttribs:e=>L(e,(e=>{const t=e.attributes;for(let n=t.length-1;n>=0;n--)e.removeAttributeNode(t.item(n))})),setAttrib:b,setAttribs:P,getAttrib:f,getPos:D,parseStyle:e=>d.parse(e),serializeStyle:(e,t)=>d.serialize(e,t),addStyle:t=>{if(K!==Hi.DOM&&e===document){if(n[t])return;n[t]=!0}let a=e.getElementById("mceDefaultStyles");if(!a){a=e.createElement("style"),a.id="mceDefaultStyles",a.type="text/css";const t=e.head;t.firstChild?t.insertBefore(a,t.firstChild):t.appendChild(a)}a.styleSheet?a.styleSheet.cssText+=t:a.appendChild(e.createTextNode(t))},loadCSS:e=>{e||(e=""),$(e.split(","),(e=>{o[e]=!0,i.load(e).catch(k)}))},addClass:(e,t)=>{N(e,t,!0)},removeClass:(e,t)=>{N(e,t,!1)},hasClass:(e,t)=>{const n=h(e),a=t.split(" ");return _(n)&&ae(a,(e=>fn(n,e)))},toggleClass:N,show:e=>{L(e,(e=>ha(yn(e),"display")))},hide:e=>{L(e,(e=>la(yn(e),"display","none")))},isHidden:e=>{const t=h(e);return _(t)&&It(ma(t,"display"),"none")},uniqueId:e=>(e||"mce_")+s++,setHTML:M,getOuterHTML:e=>{const t=h(e);return _(t)?Za(t.dom)?t.dom.outerHTML:(e=>{const t=bn("div"),n=yn(e.dom.cloneNode(!0));return ba(t,n),ka(t)})(t):""},setOuterHTML:(e,t)=>{L(e,(e=>{Za(e)&&(e.outerHTML=t)}))},decode:ti.decode,encode:R,insertAfter:(e,t)=>{const n=m(t);return L(e,(e=>{const t=null==n?void 0:n.parentNode,a=null==n?void 0:n.nextSibling;return t&&(a?t.insertBefore(e,a):t.appendChild(e)),e}))},replace:V,rename:(e,t)=>{if(e.nodeName!==t.toUpperCase()){const n=I(t);return Pi(v(e),(t=>{b(n,t.nodeName,f(e,t.nodeName))})),V(n,e,!0),n}return e},findCommonAncestor:(e,t)=>{let n=e;for(;n;){let e=t;for(;e&&n!==e;)e=e.parentNode;if(n===e)break;n=n.parentNode}return!n&&e.ownerDocument?e.ownerDocument.documentElement:n},run:L,getAttribs:v,isEmpty:(e,t,n)=>{let a=0;if(U(e))return!1;const o=e.firstChild;if(o){const s=new Ha(o,e),i=l?l.getWhitespaceElements():{},r=t||(l?l.getNonEmptyElements():null);let d=o;do{if(Za(d)){const e=d.getAttribute("data-mce-bogus");if(e){d=s.next("all"===e);continue}const t=d.nodeName.toLowerCase();if(r&&r[t]){if("br"===t){a++,d=s.next();continue}return!1}if(U(d))return!1}if(ao(d))return!1;if(eo(d)&&!is(d.data)&&(!(null==n?void 0:n.includeZwsp)||!rs(d.data)))return!1;if(eo(d)&&d.parentNode&&i[d.parentNode.nodeName]&&is(d.data))return!1;d=s.next()}while(d)}return a<=1},createRng:H,nodeIndex:Ni,split:(e,t,n)=>{let a,o,s=H();if(e&&t&&e.parentNode&&t.parentNode){const i=e.parentNode;return s.setStart(i,Ni(e)),s.setEnd(t.parentNode,Ni(t)),a=s.extractContents(),s=H(),s.setStart(t.parentNode,Ni(t)+1),s.setEnd(i,Ni(e)+1),o=s.extractContents(),i.insertBefore(Hs(K,a,l),e),n?i.insertBefore(n,e):i.insertBefore(t,e),i.insertBefore(Hs(K,o,l),e),F(e),n||t}},bind:z,unbind:q,fire:(e,t,n)=>c.dispatch(e,t,n),dispatch:(e,t,n)=>c.dispatch(e,t,n),getContentEditable:W,getContentEditableParent:e=>{const t=w();let n=null;for(let a=e;a&&a!==t&&(n=W(a),null===n);a=a.parentNode);return n},isEditable:e=>{if(_(e)){const t=Za(e)?e:e.parentElement;return _(t)&&qa(t)&&oa(yn(t))}return!1},destroy:()=>{if(r.length>0){let e=r.length;for(;e--;){const[t,n,a]=r[e];c.unbind(t,n,a)}}fe(o,((e,t)=>{i.unload(t),delete o[t]}))},isChildOf:(e,t)=>e===t||t.contains(e),dumpRng:e=>"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},G=((e,t,n)=>{const a=t.keep_values,o={set:(e,a,o)=>{const s=yn(e);C(t.url_converter)&&_(a)&&(a=t.url_converter.call(t.url_converter_scope||n(),String(a),o,e)),Ri(s,"data-mce-"+o,a),Ri(s,o,a)},get:(e,t)=>{const n=yn(e);return tn(n,"data-mce-"+t)||tn(n,t)}},s={style:{set:(t,n)=>{const o=yn(t);a&&Ri(o,Bi,n),on(o,"style"),p(n)&&da(o,e.parse(n))},get:t=>{const n=yn(t),a=tn(n,Bi)||tn(n,"style");return e.serialize(e.parse(a),jt(n))}}};return a&&(s.href=s.src=o),s})(d,t,A(K));return K};Hi.DOM=Hi(document),Hi.nodeIndex=Ni;const zi=Hi.DOM;class ji{constructor(e={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=e}_setReferrerPolicy(e){this.settings.referrerPolicy=e}loadScript(e){return new Promise(((t,n)=>{const a=zi;let o;const s=()=>{a.remove(i),o&&(o.onerror=o.onload=o=null)},i=a.uniqueId();o=document.createElement("script"),o.id=i,o.type="text/javascript",o.src=Bt._addCacheSuffix(e),this.settings.referrerPolicy&&a.setAttrib(o,"referrerpolicy",this.settings.referrerPolicy),o.onload=()=>{s(),t()},o.onerror=()=>{s(),n("Failed to load script: "+e)},(document.getElementsByTagName("head")[0]||document.body).appendChild(o)}))}isDone(e){return 2===this.states[e]}markDone(e){this.states[e]=2}add(e){const t=this;return t.queue.push(e),void 0===t.states[e]&&(t.states[e]=0),new Promise(((n,a)=>{t.scriptLoadedCallbacks[e]||(t.scriptLoadedCallbacks[e]=[]),t.scriptLoadedCallbacks[e].push({resolve:n,reject:a})}))}load(e){return this.add(e)}remove(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]}loadQueue(){const e=this.queue;return this.queue=[],this.loadScripts(e)}loadScripts(e){const t=this,n=(e,n)=>{De(t.scriptLoadedCallbacks,n).each((t=>{$(t,(t=>t[e](n)))})),delete t.scriptLoadedCallbacks[n]},a=e=>{const t=G(e,(e=>"rejected"===e.status));return t.length>0?Promise.reject(ne(t,(({reason:e})=>g(e)?e:[e]))):Promise.resolve()},o=e=>Promise.allSettled(q(e,(e=>2===t.states[e]?(n("resolve",e),Promise.resolve()):3===t.states[e]?(n("reject",e),Promise.reject(e)):(t.states[e]=1,t.loadScript(e).then((()=>{t.states[e]=2,n("resolve",e);const s=t.queue;return s.length>0?(t.queue=[],o(s).then(a)):Promise.resolve()}),(()=>(t.states[e]=3,n("reject",e),Promise.reject(e)))))))),s=e=>(t.loading=!0,o(e).then((e=>{t.loading=!1;const n=t.queueLoadedCallbacks.shift();return N.from(n).each(I),a(e)}))),i=Ee(e);return t.loading?new Promise(((e,n)=>{t.queueLoadedCallbacks.push((()=>{s(i).then(e,n)}))})):s(i)}}ji.ScriptLoader=new ji;const Zi=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},qi={},$i=Zi("en"),Wi=()=>De(qi,$i.get()),Ki={getData:()=>ge(qi,(e=>({...e}))),setCode:e=>{e&&$i.set(e)},getCode:()=>$i.get(),add:(e,t)=>{let n=qi[e];n||(qi[e]=n={});const a=q(pe(t),(e=>e.toLowerCase()));fe(t,((e,o)=>{const s=o.toLowerCase();s!==o&&((e,t)=>{const n=e.indexOf(t);return-1!==n&&e.indexOf(t,n+1)>n})(a,s)?(xe(t,s)||(n[s]=e),n[o]=e):n[s]=e}))},translate:e=>{const t=Wi().getOr({}),n=e=>C(e)?Object.prototype.toString.call(e):a(e)?"":""+e,a=e=>""===e||null==e,o=e=>{const a=n(e);return xe(t,a)?n(t[a]):De(t,a.toLowerCase()).map(n).getOr(a)},s=e=>e.replace(/{context:\w+}$/,"");if(a(e))return"";if(h(i=e)&&xe(i,"raw"))return n(e.raw);var i;if((e=>g(e)&&e.length>1)(e)){const t=e.slice(1);return s(o(e[0]).replace(/\{([0-9]+)\}/g,((e,a)=>xe(t,a)?n(t[a]):e)))}return s(o(e))},isRtl:()=>Wi().bind((e=>De(e,"_dir"))).exists((e=>"rtl"===e)),hasCode:e=>xe(qi,e)},Gi=()=>{const e=[],t={},n={},a=[],o=(e,t)=>{const n=G(a,(n=>n.name===e&&n.state===t));$(n,(e=>e.resolve()))},s=e=>xe(t,e),i=(e,n)=>{const a=Ki.getCode();!a||n&&-1===(","+(n||"")+",").indexOf(","+a+",")||ji.ScriptLoader.add(t[e]+"/langs/"+a+".js")},r=(e,t="added")=>"added"===t&&(e=>xe(n,e))(e)||"loaded"===t&&s(e)?Promise.resolve():new Promise((n=>{a.push({name:e,state:t,resolve:n})}));return{items:e,urls:t,lookup:n,get:e=>{if(n[e])return n[e].instance},requireLangPack:(e,t)=>{!1!==Gi.languageLoad&&(s(e)?i(e,t):r(e,"loaded").then((()=>i(e,t))))},add:(t,a)=>(e.push(a),n[t]={instance:a},o(t,"added"),a),remove:e=>{delete t[e],delete n[e]},createUrl:(e,t)=>p(t)?p(e)?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}:t,load:(e,a)=>{if(t[e])return Promise.resolve();let s=p(a)?a:a.prefix+a.resource+a.suffix;0!==s.indexOf("/")&&-1===s.indexOf("://")&&(s=Gi.baseURL+"/"+s),t[e]=s.substring(0,s.lastIndexOf("/"));const i=()=>(o(e,"loaded"),Promise.resolve());return n[e]?i():ji.ScriptLoader.add(s).then(i)},waitFor:r}};Gi.languageLoad=!0,Gi.baseURL="",Gi.PluginManager=Gi(),Gi.ThemeManager=Gi(),Gi.ModelManager=Gi();const Yi=e=>{const t=Zi(N.none()),n=()=>t.get().each((e=>clearInterval(e)));return{clear:()=>{n(),t.set(N.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:a=>{n(),t.set(N.some(setInterval(a,e)))}}},Xi=()=>{const e=(e=>{const t=Zi(N.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(N.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(N.some(e))}}})(k);return{...e,on:t=>e.get().each(t)}},Qi=(e,t)=>{let n=null;return{cancel:()=>{v(n)||(clearTimeout(n),n=null)},throttle:(...a)=>{v(n)&&(n=setTimeout((()=>{n=null,e.apply(null,a)}),t))}}},Ji=(e,t)=>{let n=null;const a=()=>{v(n)||(clearTimeout(n),n=null)};return{cancel:a,throttle:(...o)=>{a(),n=setTimeout((()=>{n=null,e.apply(null,o)}),t)}}},er=A("mce-annotation"),tr=A("data-mce-annotation"),nr=A("data-mce-annotation-uid"),ar=A("data-mce-annotation-active"),or=A("data-mce-annotation-classes"),sr=A("data-mce-annotation-attrs"),ir=e=>t=>kn(t,e),rr=(e,t)=>{const n=e.selection.getRng(),a=yn(n.startContainer),o=yn(e.getBody()),s=t.fold((()=>"."+er()),(e=>`[${tr()}="${e}"]`)),i=Nn(a,n.startOffset).getOr(a);return aa(i,s,ir(o)).bind((t=>nn(t,`${nr()}`).bind((n=>nn(t,`${tr()}`).map((t=>{const a=dr(e,n);return{uid:n,name:t,elements:a}}))))))},lr=(e,t)=>an(e,"data-mce-bogus")||Ua(e,'[data-mce-bogus="all"]',ir(t)),dr=(e,t)=>{const n=yn(e.getBody()),a=Va(n,`[${nr()}="${t}"]`);return G(a,(e=>!lr(e,n)))},cr=(e,t)=>{const n=yn(e.getBody()),a=Va(n,`[${tr()}="${t}"]`),o={};return $(a,(e=>{if(!lr(e,n)){const t=tn(e,nr()),n=De(o,t).getOr([]);o[t]=n.concat([e])}})),o};let ur=0;const mr=e=>{const t=(new Date).getTime(),n=Math.floor(1e9*Math.random());return ur++,e+"_"+n+ur+String(t)},pr=(e,t)=>yn(e.dom.cloneNode(t)),hr=e=>pr(e,!1),fr=e=>pr(e,!0),gr=(e,t,n=R)=>{const a=new Ha(e,t),o=e=>{let t;do{t=a[e]()}while(t&&!eo(t)&&!n(t));return N.from(t).filter(eo)};return{current:()=>N.from(a.current()).filter(eo),next:()=>o("next"),prev:()=>o("prev"),prev2:()=>o("prev2")}},vr=(e,t)=>{const n=t||(t=>e.isBlock(t)||io(t)||co(t)),a=(e,t,n,o)=>{if(eo(e)){const n=o(e,t,e.data);if(-1!==n)return N.some({container:e,offset:n})}return n().bind((e=>a(e.container,e.offset,n,o)))};return{backwards:(t,o,s,i)=>{const r=gr(t,null!=i?i:e.getRoot(),n);return a(t,o,(()=>r.prev().map((e=>({container:e,offset:e.length})))),s).getOrNull()},forwards:(t,o,s,i)=>{const r=gr(t,null!=i?i:e.getRoot(),n);return a(t,o,(()=>r.next().map((e=>({container:e,offset:0})))),s).getOrNull()}}},br=Math.round,wr=e=>e?{left:br(e.left),top:br(e.top),bottom:br(e.bottom),right:br(e.right),width:br(e.width),height:br(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},yr=(e,t)=>(e=wr(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),_r=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,Cr=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&_r(t.top-e.bottom,e,t)},Dr=(e,t)=>e.top>t.bottom||!(e.bottom<t.top)&&_r(t.bottom-e.top,e,t),xr=(e,t,n)=>{const a=Math.max(Math.min(t,e.left+e.width),e.left),o=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-a)*(t-a)+(n-o)*(n-o))},kr=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},Er=(e,t)=>{if(Za(e)&&e.hasChildNodes()){const n=e.childNodes,a=((e,t,n)=>Math.min(Math.max(e,0),n))(t,0,n.length-1);return n[a]}return e},Sr=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Ar=e=>p(e)&&e.charCodeAt(0)>=768&&Sr.test(e),Tr=Za,Or=ns,Lr=Ka("display","block table"),Pr=Ka("float","left right"),Mr=((...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0})(Tr,Or,P(Pr)),Br=P(Ka("white-space","pre pre-line pre-wrap")),Ir=eo,Rr=io,Fr=Hi.nodeIndex,Nr=(e,t)=>t<0&&Za(e)&&e.hasChildNodes()?void 0:Er(e,t),Vr=e=>e?e.createRange():Hi.DOM.createRng(),Ur=e=>p(e)&&/[\r\n\t ]/.test(e),Hr=e=>!!e.setStart&&!!e.setEnd,zr=e=>{const t=e.startContainer,n=e.startOffset;if(Ur(e.toString())&&Br(t.parentNode)&&eo(t)){const e=t.data;if(Ur(e[n-1])||Ur(e[n+1]))return!0}return!1},jr=e=>0===e.left&&0===e.right&&0===e.top&&0===e.bottom,Zr=e=>{var t;let n;const a=e.getClientRects();return n=a.length>0?wr(a[0]):wr(e.getBoundingClientRect()),!Hr(e)&&Rr(e)&&jr(n)?(e=>{const t=e.ownerDocument,n=Vr(t),a=t.createTextNode(bo),o=e.parentNode;o.insertBefore(a,e),n.setStart(a,0),n.setEnd(a,1);const s=wr(n.getBoundingClientRect());return o.removeChild(a),s})(e):jr(n)&&Hr(e)&&null!==(t=(e=>{const t=e.startContainer,n=e.endContainer,a=e.startOffset,o=e.endOffset;if(t===n&&eo(n)&&0===a&&1===o){const t=e.cloneRange();return t.setEndAfter(n),Zr(t)}return null})(e))&&void 0!==t?t:n},qr=(e,t)=>{const n=yr(e,t);return n.width=1,n.right=n.left+1,n},$r=(e,t,n)=>{const a=()=>(n||(n=(e=>{const t=[],n=e=>{var n,a;0!==e.height&&(t.length>0&&(n=e,a=t[t.length-1],n.left===a.left&&n.top===a.top&&n.bottom===a.bottom&&n.right===a.right)||t.push(e))},a=(e,t)=>{const a=Vr(e.ownerDocument);if(t<e.data.length){if(Ar(e.data[t]))return;if(Ar(e.data[t-1])&&(a.setStart(e,t),a.setEnd(e,t+1),!zr(a)))return void n(qr(Zr(a),!1))}t>0&&(a.setStart(e,t-1),a.setEnd(e,t),zr(a)||n(qr(Zr(a),!1))),t<e.data.length&&(a.setStart(e,t),a.setEnd(e,t+1),zr(a)||n(qr(Zr(a),!0)))},o=e.container(),s=e.offset();if(Ir(o))return a(o,s),t;if(Tr(o))if(e.isAtEnd()){const e=Nr(o,s);Ir(e)&&a(e,e.data.length),Mr(e)&&!Rr(e)&&n(qr(Zr(e),!1))}else{const i=Nr(o,s);if(Ir(i)&&a(i,0),Mr(i)&&e.isAtEnd())return n(qr(Zr(i),!1)),t;const r=Nr(e.container(),e.offset()-1);Mr(r)&&!Rr(r)&&(Lr(r)||Lr(i)||!Mr(i))&&n(qr(Zr(r),!1)),Mr(i)&&n(qr(Zr(i),!0))}return t})($r(e,t))),n);return{container:A(e),offset:A(t),toRange:()=>{const n=Vr(e.ownerDocument);return n.setStart(e,t),n.setEnd(e,t),n},getClientRects:a,isVisible:()=>a().length>0,isAtStart:()=>(Ir(e),0===t),isAtEnd:()=>Ir(e)?t>=e.data.length:t>=e.childNodes.length,isEqual:n=>n&&e===n.container()&&t===n.offset(),getNode:n=>Nr(e,n?t-1:t)}};$r.fromRangeStart=e=>$r(e.startContainer,e.startOffset),$r.fromRangeEnd=e=>$r(e.endContainer,e.endOffset),$r.after=e=>$r(e.parentNode,Fr(e)+1),$r.before=e=>$r(e.parentNode,Fr(e)),$r.isAbove=(e,t)=>Ft(de(t.getClientRects()),ce(e.getClientRects()),Cr).getOr(!1),$r.isBelow=(e,t)=>Ft(ce(t.getClientRects()),de(e.getClientRects()),Dr).getOr(!1),$r.isAtStart=e=>!!e&&e.isAtStart(),$r.isAtEnd=e=>!!e&&e.isAtEnd(),$r.isTextPosition=e=>!!e&&eo(e.container()),$r.isElementPosition=e=>!$r.isTextPosition(e);const Wr=(e,t)=>{eo(t)&&0===t.data.length&&e.remove(t)},Kr=(e,t,n)=>{so(n)?((e,t,n)=>{const a=N.from(n.firstChild),o=N.from(n.lastChild);t.insertNode(n),a.each((t=>Wr(e,t.previousSibling))),o.each((t=>Wr(e,t.nextSibling)))})(e,t,n):((e,t,n)=>{t.insertNode(n),Wr(e,n.previousSibling),Wr(e,n.nextSibling)})(e,t,n)},Gr=eo,Yr=Ya,Xr=Hi.nodeIndex,Qr=e=>{const t=e.parentNode;return Yr(t)?Qr(t):t},Jr=e=>e?Pe(e.childNodes,((e,t)=>(Yr(t)&&"BR"!==t.nodeName?e=e.concat(Jr(t)):e.push(t),e)),[]):[],el=e=>t=>e===t,tl=e=>(Gr(e)?"text()":e.nodeName.toLowerCase())+"["+(e=>{let t,n;t=Jr(Qr(e)),n=Me(t,el(e),e),t=t.slice(0,n+1);const a=Pe(t,((e,n,a)=>(Gr(n)&&Gr(t[a-1])&&e++,e)),0);return t=Le(t,Wa([e.nodeName])),n=Me(t,el(e),e),n-a})(e)+"]",nl=(e,t)=>{let n,a=[],o=t.container(),s=t.offset();if(Gr(o))n=((e,t)=>{let n=e;for(;(n=n.previousSibling)&&Gr(n);)t+=n.data.length;return t})(o,s);else{const e=o.childNodes;s>=e.length?(n="after",s=e.length-1):n="before",o=e[s]}a.push(tl(o));let i=((e,t,n)=>{const a=[];for(let o=t.parentNode;o&&o!==e;o=o.parentNode)a.push(o);return a})(e,o);return i=Le(i,P(Ya)),a=a.concat(Oe(i,(e=>tl(e)))),a.reverse().join("/")+","+n},al=(e,t)=>{if(!t)return null;const n=t.split(","),a=n[0].split("/"),o=n.length>1?n[1]:"before",s=Pe(a,((e,t)=>{const n=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);return n?("text()"===n[1]&&(n[1]="#text"),((e,t,n)=>{let a=Jr(e);return a=Le(a,((e,t)=>!Gr(e)||!Gr(a[t-1]))),a=Le(a,Wa([t])),a[n]})(e,n[1],parseInt(n[2],10))):null}),e);if(!s)return null;if(!Gr(s)&&s.parentNode){let e;return e="after"===o?Xr(s)+1:Xr(s),$r(s.parentNode,e)}return((e,t)=>{let n=e,a=0;for(;Gr(n);){const o=n.data.length;if(t>=a&&t<=a+o){e=n,t-=a;break}if(!Gr(n.nextSibling)){e=n,t=o;break}a+=o,n=n.nextSibling}return Gr(e)&&t>e.data.length&&(t=e.data.length),$r(e,t)})(s,parseInt(o,10))},ol=co,sl=(e,t,n,a,o)=>{const s=o?a.startContainer:a.endContainer;let i=o?a.startOffset:a.endOffset;const r=[],l=e.getRoot();if(eo(s))r.push(n?((e,t,n)=>{let a=e(t.data.slice(0,n)).length;for(let o=t.previousSibling;o&&eo(o);o=o.previousSibling)a+=e(o.data).length;return a})(t,s,i):i);else{let t=0;const a=s.childNodes;i>=a.length&&a.length&&(t=1,i=Math.max(0,a.length-1)),r.push(e.nodeIndex(a[i],n)+t)}for(let d=s;d&&d!==l;d=d.parentNode)r.push(e.nodeIndex(d,n));return r},il=(e,t,n)=>{let a=0;return Bt.each(e.select(t),(e=>"all"===e.getAttribute("data-mce-bogus")?void 0:e!==n&&void a++)),a},rl=(e,t)=>{let n=t?e.startContainer:e.endContainer,a=t?e.startOffset:e.endOffset;if(Za(n)&&"TR"===n.nodeName){const o=n.childNodes;n=o[Math.min(t?a:a-1,o.length-1)],n&&(a=t?0:n.childNodes.length,t?e.setStart(n,a):e.setEnd(n,a))}},ll=e=>(rl(e,!0),rl(e,!1),e),dl=(e,t)=>{if(Za(e)&&(e=Er(e,t),ol(e)))return e;if(Uo(e)){eo(e)&&No(e)&&(e=e.parentNode);let t=e.previousSibling;if(ol(t))return t;if(t=e.nextSibling,ol(t))return t}},cl=(e,t,n)=>{const a=n.getNode(),o=n.getRng();if("IMG"===a.nodeName||ol(a)){const e=a.nodeName;return{name:e,index:il(n.dom,e,a)}}const s=(e=>dl(e.startContainer,e.startOffset)||dl(e.endContainer,e.endOffset))(o);if(s){const e=s.tagName;return{name:e,index:il(n.dom,e,s)}}return((e,t,n,a)=>{const o=t.dom,s=sl(o,e,n,a,!0),i=t.isForward(),r=Wo(a)?{isFakeCaret:!0}:{};return t.isCollapsed()?{start:s,forward:i,...r}:{start:s,end:sl(o,e,n,a,!1),forward:i,...r}})(e,n,t,o)},ul=(e,t,n)=>{const a={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",a,"&#xFEFF;"):e.create("span",a)},ml=(e,t)=>{const n=e.dom;let a=e.getRng();const o=n.uniqueId(),s=e.isCollapsed(),i=e.getNode(),r=i.nodeName,l=e.isForward();if("IMG"===r)return{name:r,index:il(n,r,i)};const d=ll(a.cloneRange());if(!s){d.collapse(!1);const e=ul(n,o+"_end",t);Kr(n,d,e)}a=ll(a),a.collapse(!0);const c=ul(n,o+"_start",t);return Kr(n,a,c),e.moveToBookmark({id:o,keep:!0,forward:l}),{id:o,forward:l}},pl=L(cl,T,!0),hl=e=>{const t=t=>t(e),n=A(e),a=()=>o,o={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:F,isError:R,map:t=>gl.value(t(e)),mapError:a,bind:t,exists:t,forall:t,getOr:n,or:a,getOrThunk:n,orThunk:a,getOrDie:n,each:t=>{t(e)},toOptional:()=>N.some(e)};return o},fl=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:R,isError:F,map:t,mapError:t=>gl.error(t(e)),bind:t,exists:R,forall:F,getOr:T,or:T,getOrThunk:B,orThunk:B,getOrDie:M(String(e)),each:k,toOptional:N.none};return n},gl={value:hl,error:fl,fromOption:(e,t)=>e.fold((()=>fl(t)),hl)},vl=e=>{if(!g(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return $(e,((a,o)=>{const s=pe(a);if(1!==s.length)throw new Error("one and only one name per case");const i=s[0],r=a[i];if(void 0!==n[i])throw new Error("duplicate key detected:"+i);if("cata"===i)throw new Error("cannot have a case named cata (sorry)");if(!g(r))throw new Error("case arguments must be an array");t.push(i),n[i]=(...n)=>{const a=n.length;if(a!==r.length)throw new Error("Wrong number of arguments to case "+i+". Expected "+r.length+" ("+r+"), got "+a);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[o].apply(null,n)},match:e=>{const a=pe(e);if(t.length!==a.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+a.join(","));if(!ae(t,(e=>j(a,e))))throw new Error("Not all branches were specified when using match. Specified: "+a.join(", ")+"\nRequired: "+t.join(", "));return e[i].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:i,params:n})}}}})),n};vl([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const bl=e=>"inline-command"===e.type||"inline-format"===e.type,wl=e=>"block-command"===e.type||"block-format"===e.type,yl=e=>{const t=t=>gl.error({message:t,pattern:e}),n=(n,a,o)=>{if(void 0!==e.format){let o;if(g(e.format)){if(!ae(e.format,p))return t(n+" pattern has non-string items in the `format` array");o=e.format}else{if(!p(e.format))return t(n+" pattern has non-string `format` parameter");o=[e.format]}return gl.value(a(o))}return void 0!==e.cmd?p(e.cmd)?gl.value(o(e.cmd,e.value)):t(n+" pattern has non-string `cmd` parameter"):t(n+" pattern is missing both `format` and `cmd` parameters")};if(!h(e))return t("Raw pattern is not an object");if(!p(e.start))return t("Raw pattern is missing `start` parameter");if(void 0!==e.end){if(!p(e.end))return t("Inline pattern has non-string `end` parameter");if(0===e.start.length&&0===e.end.length)return t("Inline pattern has empty `start` and `end` parameters");let a=e.start,o=e.end;return 0===o.length&&(o=a,a=""),n("Inline",(e=>({type:"inline-format",start:a,end:o,format:e})),((e,t)=>({type:"inline-command",start:a,end:o,cmd:e,value:t})))}return void 0!==e.replacement?p(e.replacement)?0===e.start.length?t("Replacement pattern has empty `start` parameter"):gl.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter"):0===e.start.length?t("Block pattern has empty `start` parameter"):n("Block",(t=>({type:"block-format",start:e.start,format:t[0]})),((t,n)=>({type:"block-command",start:e.start,cmd:t,value:n})))},_l=e=>G(e,wl),Cl=e=>G(e,bl),Dl=e=>{const t=(e=>{const t=[],n=[];return $(e,(e=>{e.fold((e=>{t.push(e)}),(e=>{n.push(e)}))})),{errors:t,values:n}})(q(e,yl));return $(t.errors,(e=>console.error(e.message,e.pattern))),t.values},xl=Dt().deviceType,kl=xl.isTouch(),El=Hi.DOM,Sl=e=>m(e,RegExp),Al=e=>t=>t.options.get(e),Tl=e=>p(e)||h(e),Ol=(e,t="")=>n=>{const a=p(n);if(a){if(-1!==n.indexOf("=")){const o=(e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return X(t,((e,t)=>{const n=t.split("="),a=n[0],o=n.length>1?n[1]:a;return e[$e(a)]=$e(o),e}),{})})(n);return{value:De(o,e.id).getOr(t),valid:a}}return{value:n,valid:a}}return{valid:!1,message:"Must be a string."}},Ll=Al("iframe_attrs"),Pl=Al("doctype"),Ml=Al("document_base_url"),Bl=Al("body_id"),Il=Al("body_class"),Rl=Al("content_security_policy"),Fl=Al("br_in_pre"),Nl=Al("forced_root_block"),Vl=Al("forced_root_block_attrs"),Ul=Al("newline_behavior"),Hl=Al("br_newline_selector"),zl=Al("no_newline_selector"),jl=Al("keep_styles"),Zl=Al("end_container_on_empty_block"),ql=Al("automatic_uploads"),$l=Al("images_reuse_filename"),Wl=Al("images_replace_blob_uris"),Kl=Al("icons"),Gl=Al("icons_url"),Yl=Al("images_upload_url"),Xl=Al("images_upload_base_path"),Ql=Al("images_upload_credentials"),Jl=Al("images_upload_handler"),ed=Al("content_css_cors"),td=Al("referrer_policy"),nd=Al("language"),ad=Al("language_url"),od=Al("indent_use_margin"),sd=Al("indentation"),id=Al("content_css"),rd=Al("content_style"),ld=Al("font_css"),dd=Al("directionality"),cd=Al("inline_boundaries_selector"),ud=Al("object_resizing"),md=Al("resize_img_proportional"),pd=Al("placeholder"),hd=Al("event_root"),fd=Al("service_message"),gd=Al("theme"),vd=Al("theme_url"),bd=Al("model"),wd=Al("model_url"),yd=Al("inline_boundaries"),_d=Al("formats"),Cd=Al("preview_styles"),Dd=Al("format_empty_lines"),xd=Al("format_noneditable_selector"),kd=Al("custom_ui_selector"),Ed=Al("inline"),Sd=Al("hidden_input"),Ad=Al("submit_patch"),Td=Al("add_form_submit_trigger"),Od=Al("add_unload_trigger"),Ld=Al("custom_undo_redo_levels"),Pd=Al("disable_nodechange"),Md=Al("readonly"),Bd=Al("editable_root"),Id=Al("content_css_cors"),Rd=Al("plugins"),Fd=Al("external_plugins"),Nd=Al("block_unsupported_drop"),Vd=Al("visual"),Ud=Al("visual_table_class"),Hd=Al("visual_anchor_class"),zd=Al("iframe_aria_text"),jd=Al("setup"),Zd=Al("init_instance_callback"),qd=Al("urlconverter_callback"),$d=Al("auto_focus"),Wd=Al("browser_spellcheck"),Kd=Al("protect"),Gd=Al("paste_block_drop"),Yd=Al("paste_data_images"),Xd=Al("paste_preprocess"),Qd=Al("paste_postprocess"),Jd=Al("newdocument_content"),ec=Al("paste_webkit_styles"),tc=Al("paste_remove_styles_if_webkit"),nc=Al("paste_merge_formats"),ac=Al("smart_paste"),oc=Al("paste_as_text"),sc=Al("paste_tab_spaces"),ic=Al("allow_html_data_urls"),rc=Al("text_patterns"),lc=Al("text_patterns_lookup"),dc=Al("noneditable_class"),cc=Al("editable_class"),uc=Al("noneditable_regexp"),mc=Al("preserve_cdata"),pc=Al("highlight_on_focus"),hc=Al("xss_sanitization"),fc=Al("init_content_sync"),gc=e=>Bt.explode(e.options.get("images_file_types")),vc=Al("table_tab_navigation"),bc=Al("details_initial_state"),wc=Al("details_serialized_state"),yc=Al("force_hex_color"),_c=Al("sandbox_iframes"),Cc=Za,Dc=eo,xc=e=>{const t=e.parentNode;t&&t.removeChild(e)},kc=e=>{const t=Io(e);return{count:e.length-t.length,text:t}},Ec=e=>{let t;for(;-1!==(t=e.data.lastIndexOf(Mo));)e.deleteData(t,1)},Sc=(e,t)=>(Tc(e),t),Ac=(e,t)=>$r.isTextPosition(t)?((e,t)=>Dc(e)&&t.container()===e?((e,t)=>{const n=kc(e.data.substr(0,t.offset())),a=kc(e.data.substr(t.offset()));return(n.text+a.text).length>0?(Ec(e),$r(e,t.offset()-n.count)):t})(e,t):Sc(e,t))(e,t):((e,t)=>t.container()===e.parentNode?((e,t)=>{const n=t.container(),a=((e,t)=>{const n=z(e,t);return-1===n?N.none():N.some(n)})(ue(n.childNodes),e).map((e=>e<t.offset()?$r(n,t.offset()-1):t)).getOr(t);return Tc(e),a})(e,t):Sc(e,t))(e,t),Tc=e=>{Cc(e)&&Uo(e)&&(Ho(e)?e.removeAttribute("data-mce-caret"):xc(e)),Dc(e)&&(Ec(e),0===e.data.length&&xc(e))},Oc=co,Lc=po,Pc=uo,Mc=(e,t,n)=>{const a=yr(t.getBoundingClientRect(),n);let o,s;if("BODY"===e.tagName){const t=e.ownerDocument.documentElement;o=e.scrollLeft||t.scrollLeft,s=e.scrollTop||t.scrollTop}else{const t=e.getBoundingClientRect();o=e.scrollLeft-t.left,s=e.scrollTop-t.top}a.left+=o,a.right+=o,a.top+=s,a.bottom+=s,a.width=1;let i=t.offsetWidth-t.clientWidth;return i>0&&(n&&(i*=-1),a.left+=i,a.right+=i),a},Bc=(e,t,n,a)=>{const o=Xi();let s,i;const r=Nl(e),l=e.dom,d=()=>{(e=>{var t,n;const a=Va(yn(e),"*[contentEditable=false],video,audio,embed,object");for(let o=0;o<a.length;o++){const e=a[o].dom;let s=e.previousSibling;if(qo(s)){const e=s.data;1===e.length?null===(t=s.parentNode)||void 0===t||t.removeChild(s):s.deleteData(e.length-1,1)}s=e.nextSibling,Zo(s)&&(1===s.data.length?null===(n=s.parentNode)||void 0===n||n.removeChild(s):s.deleteData(0,1))}})(t),i&&(Tc(i),i=null),o.on((e=>{l.remove(e.caret),o.clear()})),s&&(clearInterval(s),s=void 0)};return{show:(e,c)=>{let u;if(d(),Pc(c))return null;if(!n(c))return i=((e,t)=>{var n;const a=(null!==(n=e.ownerDocument)&&void 0!==n?n:document).createTextNode(Mo),o=e.parentNode;if(t){const t=e.previousSibling;if(Fo(t)){if(Uo(t))return t;if(qo(t))return t.splitText(t.data.length-1)}null==o||o.insertBefore(a,e)}else{const t=e.nextSibling;if(Fo(t)){if(Uo(t))return t;if(Zo(t))return t.splitText(1),t}e.nextSibling?null==o||o.insertBefore(a,e.nextSibling):null==o||o.appendChild(a)}return a})(c,e),u=c.ownerDocument.createRange(),Rc(i.nextSibling)?(u.setStart(i,0),u.setEnd(i,0)):(u.setStart(i,1),u.setEnd(i,1)),u;{const n=((e,t,n)=>{var a;const o=(null!==(a=t.ownerDocument)&&void 0!==a?a:document).createElement(e);o.setAttribute("data-mce-caret",n?"before":"after"),o.setAttribute("data-mce-bogus","all"),o.appendChild(Lo().dom);const s=t.parentNode;return n?null==s||s.insertBefore(o,t):t.nextSibling?null==s||s.insertBefore(o,t.nextSibling):null==s||s.appendChild(o),o})(r,c,e),d=Mc(t,c,e);l.setStyle(n,"top",d.top),i=n;const m=l.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});l.setStyles(m,{...d}),l.add(t,m),o.set({caret:m,element:c,before:e}),e&&l.addClass(m,"mce-visual-caret-before"),s=setInterval((()=>{o.on((e=>{a()?l.toggleClass(e.caret,"mce-visual-caret-hidden"):l.addClass(e.caret,"mce-visual-caret-hidden")}))}),500),u=c.ownerDocument.createRange(),u.setStart(n,0),u.setEnd(n,0)}return u},hide:d,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{o.on((e=>{const n=Mc(t,e.element,e.before);l.setStyles(e.caret,{...n})}))},destroy:()=>clearInterval(s)}},Ic=()=>Ot.browser.isFirefox(),Rc=e=>Oc(e)||Lc(e),Fc=e=>(Rc(e)||Xa(e)&&Ic())&&Ln(yn(e)).exists(oa),Nc=lo,Vc=co,Uc=po,Hc=Ka("display","block table table-cell table-caption list-item"),zc=Uo,jc=No,Zc=Za,qc=eo,$c=ns,Wc=e=>e>0,Kc=e=>e<0,Gc=(e,t)=>{let n;for(;n=e(t);)if(!jc(n))return n;return null},Yc=(e,t,n,a,o)=>{const s=new Ha(e,a),i=Vc(e)||jc(e);let r;if(Kc(t)){if(i&&(r=Gc(s.prev.bind(s),!0),n(r)))return r;for(;r=Gc(s.prev.bind(s),o);)if(n(r))return r}if(Wc(t)){if(i&&(r=Gc(s.next.bind(s),!0),n(r)))return r;for(;r=Gc(s.next.bind(s),o);)if(n(r))return r}return null},Xc=(e,t)=>{for(;e&&e!==t;){if(Hc(e))return e;e=e.parentNode}return null},Qc=(e,t,n)=>Xc(e.container(),n)===Xc(t.container(),n),Jc=(e,t)=>{if(!t)return N.none();const n=t.container(),a=t.offset();return Zc(n)?N.from(n.childNodes[a+e]):N.none()},eu=(e,t)=>{var n;const a=(null!==(n=t.ownerDocument)&&void 0!==n?n:document).createRange();return e?(a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)),a},tu=(e,t,n)=>Xc(t,e)===Xc(n,e),nu=(e,t,n)=>{const a=e?"previousSibling":"nextSibling";let o=n;for(;o&&o!==t;){let e=o[a];if(e&&zc(e)&&(e=e[a]),Vc(e)||Uc(e)){if(tu(t,e,o))return e;break}if($c(e))break;o=o.parentNode}return null},au=L(eu,!0),ou=L(eu,!1),su=(e,t,n)=>{let a;const o=L(nu,!0,t),s=L(nu,!1,t),i=n.startContainer,r=n.startOffset;if(No(i)){const e=qc(i)?i.parentNode:i,t=e.getAttribute("data-mce-caret");if("before"===t&&(a=e.nextSibling,Fc(a)))return au(a);if("after"===t&&(a=e.previousSibling,Fc(a)))return ou(a)}if(!n.collapsed)return n;if(eo(i)){if(zc(i)){if(1===e){if(a=s(i),a)return au(a);if(a=o(i),a)return ou(a)}if(-1===e){if(a=o(i),a)return ou(a);if(a=s(i),a)return au(a)}return n}if(qo(i)&&r>=i.data.length-1)return 1===e&&(a=s(i),a)?au(a):n;if(Zo(i)&&r<=1)return-1===e&&(a=o(i),a)?ou(a):n;if(r===i.data.length)return a=s(i),a?au(a):n;if(0===r)return a=o(i),a?ou(a):n}return n},iu=(e,t)=>Jc(e?0:-1,t).filter(Vc),ru=(e,t,n)=>{const a=su(e,t,n);return-1===e?$r.fromRangeStart(a):$r.fromRangeEnd(a)},lu=e=>N.from(e.getNode()).map(yn),du=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},cu=(e,t)=>{const n=Qc(e,t);return!(n||!io(e.getNode()))||n};var uu;!function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"}(uu||(uu={}));const mu=co,pu=eo,hu=Za,fu=io,gu=ns,vu=e=>Jo(e)||(e=>!!as(e)&&!X(ue(e.getElementsByTagName("*")),((e,t)=>e||Ko(t)),!1))(e),bu=os,wu=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,yu=(e,t)=>{if(Wc(e)){if(gu(t.previousSibling)&&!pu(t.previousSibling))return $r.before(t);if(pu(t))return $r(t,0)}if(Kc(e)){if(gu(t.nextSibling)&&!pu(t.nextSibling))return $r.after(t);if(pu(t))return $r(t,t.data.length)}return Kc(e)?fu(t)?$r.before(t):$r.after(t):$r.before(t)},_u=(e,t,n)=>{let a,o,s,i;if(!hu(n)||!t)return null;if(t.isEqual($r.after(n))&&n.lastChild){if(i=$r.after(n.lastChild),Kc(e)&&gu(n.lastChild)&&hu(n.lastChild))return fu(n.lastChild)?$r.before(n.lastChild):i}else i=t;const r=i.container();let l=i.offset();if(pu(r)){if(Kc(e)&&l>0)return $r(r,--l);if(Wc(e)&&l<r.length)return $r(r,++l);a=r}else{if(Kc(e)&&l>0&&(o=wu(r,l-1),gu(o)))return!vu(o)&&(s=Yc(o,e,bu,o),s)?pu(s)?$r(s,s.data.length):$r.after(s):pu(o)?$r(o,o.data.length):$r.before(o);if(Wc(e)&&l<r.childNodes.length&&(o=wu(r,l),gu(o)))return fu(o)?((e,t)=>{const n=t.nextSibling;return n&&gu(n)?pu(n)?$r(n,0):$r.before(n):_u(uu.Forwards,$r.after(t),e)})(n,o):!vu(o)&&(s=Yc(o,e,bu,o),s)?pu(s)?$r(s,0):$r.before(s):pu(o)?$r(o,0):$r.after(o);a=o||i.getNode()}if(a&&(Wc(e)&&i.isAtEnd()||Kc(e)&&i.isAtStart())&&(a=Yc(a,e,F,n,!0),bu(a,n)))return yu(e,a);o=a?Yc(a,e,bu,n):a;const d=Be(G(((e,t)=>{const n=[];let a=e;for(;a&&a!==t;)n.push(a),a=a.parentNode;return n})(r,n),mu));return!d||o&&d.contains(o)?o?yu(e,o):null:(i=Wc(e)?$r.after(d):$r.before(d),i)},Cu=e=>({next:t=>_u(uu.Forwards,t,e),prev:t=>_u(uu.Backwards,t,e)}),Du=e=>$r.isTextPosition(e)?0===e.offset():ns(e.getNode()),xu=e=>{if($r.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}return ns(e.getNode(!0))},ku=(e,t)=>!$r.isTextPosition(e)&&!$r.isTextPosition(t)&&e.getNode()===t.getNode(!0),Eu=(e,t,n)=>{const a=Cu(t);return N.from(e?a.next(n):a.prev(n))},Su=(e,t,n)=>Eu(e,t,n).bind((a=>Qc(n,a,t)&&((e,t,n)=>{return e?!ku(t,n)&&(a=t,!(!$r.isTextPosition(a)&&io(a.getNode())))&&xu(t)&&Du(n):!ku(n,t)&&Du(t)&&xu(n);var a})(e,n,a)?Eu(e,t,a):N.some(a))),Au=(e,t,n,a)=>Su(e,t,n).bind((n=>a(n)?Au(e,t,n,a):N.some(n))),Tu=(e,t)=>{const n=e?t.firstChild:t.lastChild;return eo(n)?N.some($r(n,e?0:n.data.length)):n?ns(n)?N.some(e?$r.before(n):io(a=n)?$r.before(a):$r.after(a)):((e,t,n)=>{const a=e?$r.before(n):$r.after(n);return Eu(e,t,a)})(e,t,n):N.none();var a},Ou=L(Eu,!0),Lu=L(Eu,!1),Pu=L(Tu,!0),Mu=L(Tu,!1),Bu="_mce_caret",Iu=e=>Za(e)&&e.id===Bu,Ru=(e,t)=>{let n=t;for(;n&&n!==e;){if(Iu(n))return n;n=n.parentNode}return null},Fu=e=>xe(e,"name"),Nu=e=>Bt.isArray(e.start),Vu=e=>!(!Fu(e)&&b(e.forward))||e.forward,Uu=(e,t)=>(Za(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),Hu=(e,t)=>Mu(e).fold(R,(e=>(t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0))),zu=(e,t,n)=>!(!(e=>!e.hasChildNodes())(t)||!Ru(e,t)||(((e,t)=>{var n;const a=(null!==(n=e.ownerDocument)&&void 0!==n?n:document).createTextNode(Mo);e.appendChild(a),t.setStart(a,0),t.setEnd(a,0)})(t,n),0)),ju=(e,t,n,a)=>{const o=n[t?"start":"end"],s=e.getRoot();if(o){let e=s,n=o[0];for(let t=o.length-1;e&&t>=1;t--){const n=e.childNodes;if(zu(s,e,a))return!0;if(o[t]>n.length-1)return!!zu(s,e,a)||Hu(e,a);e=n[o[t]]}eo(e)&&(n=Math.min(o[0],e.data.length)),Za(e)&&(n=Math.min(o[0],e.childNodes.length)),t?a.setStart(e,n):a.setEnd(e,n)}return!0},Zu=e=>eo(e)&&e.data.length>0,qu=(e,t,n)=>{const a=e.get(n.id+"_"+t),o=null==a?void 0:a.parentNode,s=n.keep;if(a&&o){let i,r;if("start"===t?s?a.hasChildNodes()?(i=a.firstChild,r=1):Zu(a.nextSibling)?(i=a.nextSibling,r=0):Zu(a.previousSibling)?(i=a.previousSibling,r=a.previousSibling.data.length):(i=o,r=e.nodeIndex(a)+1):(i=o,r=e.nodeIndex(a)):s?a.hasChildNodes()?(i=a.firstChild,r=1):Zu(a.previousSibling)?(i=a.previousSibling,r=a.previousSibling.data.length):(i=o,r=e.nodeIndex(a)):(i=o,r=e.nodeIndex(a)),!s){const o=a.previousSibling,s=a.nextSibling;let l;for(Bt.each(Bt.grep(a.childNodes),(e=>{eo(e)&&(e.data=e.data.replace(/\uFEFF/g,""))}));l=e.get(n.id+"_"+t);)e.remove(l,!0);if(eo(s)&&eo(o)&&!Ot.browser.isOpera()){const t=o.data.length;o.appendData(s.data),e.remove(s),i=o,r=t}}return N.some($r(i,r))}return N.none()},$u=(e,t,n)=>((e,t,n=!1)=>2===t?cl(Io,n,e):3===t?(e=>{const t=e.getRng();return{start:nl(e.dom.getRoot(),$r.fromRangeStart(t)),end:nl(e.dom.getRoot(),$r.fromRangeEnd(t)),forward:e.isForward()}})(e):t?(e=>({rng:e.getRng(),forward:e.isForward()}))(e):ml(e,!1))(e,t,n),Wu=(e,t)=>{((e,t)=>{const n=e.dom;if(t){if(Nu(t))return((e,t)=>{const n=e.createRng();return ju(e,!0,t,n)&&ju(e,!1,t,n)?N.some({range:n,forward:Vu(t)}):N.none()})(n,t);if((e=>p(e.start))(t))return((e,t)=>{const n=N.from(al(e.getRoot(),t.start)),a=N.from(al(e.getRoot(),t.end));return Ft(n,a,((n,a)=>{const o=e.createRng();return o.setStart(n.container(),n.offset()),o.setEnd(a.container(),a.offset()),{range:o,forward:Vu(t)}}))})(n,t);if((e=>xe(e,"id"))(t))return((e,t)=>{const n=qu(e,"start",t),a=qu(e,"end",t);return Ft(n,a.or(n),((n,a)=>{const o=e.createRng();return o.setStart(Uu(e,n.container()),n.offset()),o.setEnd(Uu(e,a.container()),a.offset()),{range:o,forward:Vu(t)}}))})(n,t);if(Fu(t))return((e,t)=>N.from(e.select(t.name)[t.index]).map((t=>{const n=e.createRng();return n.selectNode(t),{range:n,forward:!0}})))(n,t);if((e=>xe(e,"rng"))(t))return N.some({range:t.rng,forward:Vu(t)})}return N.none()})(e,t).each((({range:t,forward:n})=>{e.setRng(t,n)}))},Ku=e=>Za(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type"),Gu=(Yu=bo,e=>Yu===e);var Yu;const Xu=e=>""!==e&&-1!==" \f\n\r\t\v".indexOf(e),Qu=e=>!Xu(e)&&!Gu(e)&&!wo(e),Ju=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},em=(e,t)=>{const n=Va(t,"td[data-mce-selected],th[data-mce-selected]");return n.length>0?n:(e=>G((e=>ne(e,(e=>{const t=kr(e);return t?[yn(t)]:[]})))(e),To))(e)},tm=e=>em(Ju(e.selection.getSel()),yn(e.getBody())),nm=(e,t)=>ta(e,"table",t),am=e=>Vn(e).fold(A([e]),(t=>[e].concat(am(t)))),om=e=>Un(e).fold(A([e]),(t=>"br"===jt(t)?Mn(t).map((t=>[e].concat(om(t)))).getOr([]):[e].concat(om(t)))),sm=(e,t)=>Ft((e=>{const t=e.startContainer,n=e.startOffset;return eo(t)?0===n?N.some(yn(t)):N.none():N.from(t.childNodes[n]).map(yn)})(t),(e=>{const t=e.endContainer,n=e.endOffset;return eo(t)?n===t.data.length?N.some(yn(t)):N.none():N.from(t.childNodes[n-1]).map(yn)})(t),((t,n)=>{const a=J(am(e),L(kn,t)),o=J(om(e),L(kn,n));return a.isSome()&&o.isSome()})).getOr(!1),im=(e,t,n,a)=>{const o=n,s=new Ha(n,o),i=ye(e.schema.getMoveCaretBeforeOnEnterElements(),((e,t)=>!j(["td","th","table"],t.toLowerCase())));let r=n;do{if(eo(r)&&0!==Bt.trim(r.data).length)return void(a?t.setStart(r,0):t.setEnd(r,r.data.length));if(i[r.nodeName])return void(a?t.setStartBefore(r):"BR"===r.nodeName?t.setEndBefore(r):t.setEndAfter(r))}while(r=a?s.next():s.prev());"BODY"===o.nodeName&&(a?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},rm=e=>{const t=e.selection.getSel();return _(t)&&t.rangeCount>0},lm=(e,t)=>{const n=tm(e);n.length>0?$(n,(n=>{const a=n.dom,o=e.dom.createRng();o.setStartBefore(a),o.setEndAfter(a),t(o,!0)})):t(e.selection.getRng(),!1)},dm=(e,t,n)=>{const a=ml(e,t);n(a),e.moveToBookmark(a)},cm=e=>D(null==e?void 0:e.nodeType),um=e=>Za(e)&&!Ku(e)&&!Iu(e)&&!Ya(e),mm=(e,t,n)=>{const{selection:a,dom:o}=e,s=a.getNode(),i=co(s);dm(a,!0,(()=>{t()})),i&&co(s)&&o.isChildOf(s,e.getBody())?e.selection.select(s):n(a.getStart())&&pm(o,a)},pm=(e,t)=>{var n,a;const o=t.getRng(),{startContainer:s,startOffset:i}=o;if(!((e,t)=>{if(um(t)&&!/^(TD|TH)$/.test(t.nodeName)){const n=e.getAttrib(t,"data-mce-selected"),a=parseInt(n,10);return!isNaN(a)&&a>0}return!1})(e,t.getNode())&&Za(s)){const r=s.childNodes,l=e.getRoot();let d;if(i<r.length){const t=r[i];d=new Ha(t,null!==(n=e.getParent(t,e.isBlock))&&void 0!==n?n:l)}else{const t=r[r.length-1];d=new Ha(t,null!==(a=e.getParent(t,e.isBlock))&&void 0!==a?a:l),d.next(!0)}for(let n=d.current();n;n=d.next()){if("false"===e.getContentEditable(n))return;if(eo(n)&&!vm(n))return o.setStart(n,0),void t.setRng(o)}}},hm=(e,t,n)=>{if(e){const a=t?"nextSibling":"previousSibling";for(e=n?e:e[a];e;e=e[a])if(Za(e)||!vm(e))return e}},fm=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Ls(e,t),gm=(e,t,n)=>e.schema.isValidChild(t,n),vm=(e,t=!1)=>{if(_(e)&&eo(e)){const n=t?e.data.replace(/ /g," "):e.data;return is(n)}return!1},bm=(e,t)=>{const n=e.dom;return um(t)&&"false"===n.getContentEditable(t)&&((e,t)=>{const n="[data-mce-cef-wrappable]",a=xd(e),o=Ye(a)?n:`${n},${a}`;return Dn(yn(t),o)})(e,t)&&0===n.select('[contenteditable="true"]',t).length},wm=(e,t)=>C(e)?e(t):(_(t)&&(e=e.replace(/%(\w+)/g,((e,n)=>t[n]||e))),e),ym=(e,t)=>(t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),_m=(e,t)=>{if(y(e))return null;{let n=String(e);return"color"!==t&&"backgroundColor"!==t||(n=_i(n)),"fontWeight"===t&&700===e&&(n="bold"),"fontFamily"===t&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},Cm=(e,t,n)=>{const a=e.getStyle(t,n);return _m(a,n)},Dm=(e,t)=>{let n;return e.getParent(t,(t=>!!Za(t)&&(n=e.getStyle(t,"text-decoration"),!!n&&"none"!==n))),n},xm=(e,t,n)=>e.getParents(t,n,e.getRoot()),km=(e,t,n)=>{const a=e.formatter.get(t);return _(a)&&Z(a,n)},Em=e=>ke(e,"block"),Sm=e=>ke(e,"selector"),Am=e=>ke(e,"inline"),Tm=e=>Sm(e)&&!1!==e.expand&&!Am(e),Om=e=>(e=>{const t=[];let n=e;for(;n;){if(eo(n)&&n.data!==Mo||n.childNodes.length>1)return[];Za(n)&&t.push(n),n=n.firstChild}return t})(e).length>0,Lm=e=>Iu(e.dom)&&Om(e.dom),Pm=Ku,Mm=xm,Bm=vm,Im=fm,Rm=(e,t)=>{let n=t;for(;n;){if(Za(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},Fm=(e,t,n,a)=>{const o=t.data;if(e){for(let s=n;s>0;s--)if(a(o.charAt(s-1)))return s}else for(let s=n;s<o.length;s++)if(a(o.charAt(s)))return s;return-1},Nm=(e,t,n)=>Fm(e,t,n,(e=>Gu(e)||Xu(e))),Vm=(e,t,n)=>Fm(e,t,n,Qu),Um=(e,t,n,a,o,s)=>{let i;const r=e.getParent(n,e.isBlock)||t,l=(t,n,a)=>{const s=vr(e),l=o?s.backwards:s.forwards;return N.from(l(t,n,((e,t)=>Pm(e.parentNode)?-1:(i=e,a(o,e,t))),r))};return l(n,a,Nm).bind((e=>s?l(e.container,e.offset+(o?-1:0),Vm):N.some(e))).orThunk((()=>i?N.some({container:i,offset:o?0:i.length}):N.none()))},Hm=(e,t,n,a,o)=>{const s=a[o];eo(a)&&Ye(a.data)&&s&&(a=s);const i=Mm(e,a);for(let r=0;r<i.length;r++)for(let a=0;a<t.length;a++){const o=t[a];if((!_(o.collapsed)||o.collapsed===n.collapsed)&&Sm(o)&&e.is(i[r],o.selector))return i[r]}return a},zm=(e,t,n,a)=>{var o;let s=n;const i=e.getRoot(),r=t[0];if(Em(r)&&(s=r.wrapper?null:e.getParent(n,r.block,i)),!s){const t=null!==(o=e.getParent(n,"LI,TD,TH,SUMMARY"))&&void 0!==o?o:i;s=e.getParent(eo(n)?n.parentNode:n,(t=>t!==i&&Im(e.schema,t)),t)}if(s&&Em(r)&&r.wrapper&&(s=Mm(e,s,"ul,ol").reverse()[0]||s),!s)for(s=n;s&&s[a]&&!e.isBlock(s[a])&&(s=s[a],!ym(s,"br")););return s||n},jm=(e,t,n,a)=>{const o=n.parentNode;return!_(n[a])&&(!(o!==t&&!y(o)&&!e.isBlock(o))||jm(e,t,o,a))},Zm=(e,t,n,a,o)=>{let s=n;const i=o?"previousSibling":"nextSibling",r=e.getRoot();if(eo(n)&&!Bm(n)&&(o?a>0:a<n.data.length))return n;for(;s;){if(!t[0].block_expand&&e.isBlock(s))return s;for(let t=s[i];t;t=t[i]){const n=eo(t)&&!jm(e,r,t,i);if(!Pm(t)&&(!io(l=t)||!l.getAttribute("data-mce-bogus")||l.nextSibling)&&!Bm(t,n))return s}if(s===r||s.parentNode===r){n=s;break}s=s.parentNode}var l;return n},qm=e=>Pm(e.parentNode)||Pm(e),$m=(e,t,n,a=!1)=>{let{startContainer:o,startOffset:s,endContainer:i,endOffset:r}=t;const l=n[0];return Za(o)&&o.hasChildNodes()&&(o=Er(o,s),eo(o)&&(s=0)),Za(i)&&i.hasChildNodes()&&(i=Er(i,t.collapsed?r:r-1),eo(i)&&(r=i.data.length)),o=Rm(e,o),i=Rm(e,i),qm(o)&&(o=Pm(o)?o:o.parentNode,o=t.collapsed?o.previousSibling||o:o.nextSibling||o,eo(o)&&(s=t.collapsed?o.length:0)),qm(i)&&(i=Pm(i)?i:i.parentNode,i=t.collapsed?i.nextSibling||i:i.previousSibling||i,eo(i)&&(r=t.collapsed?0:i.length)),t.collapsed&&(Um(e,e.getRoot(),o,s,!0,a).each((({container:e,offset:t})=>{o=e,s=t})),Um(e,e.getRoot(),i,r,!1,a).each((({container:e,offset:t})=>{i=e,r=t}))),(Am(l)||l.block_expand)&&(Am(l)&&eo(o)&&0!==s||(o=Zm(e,n,o,s,!0)),Am(l)&&eo(i)&&r!==i.data.length||(i=Zm(e,n,i,r,!1))),Tm(l)&&(o=Hm(e,n,t,o,"previousSibling"),i=Hm(e,n,t,i,"nextSibling")),(Em(l)||Sm(l))&&(o=zm(e,n,o,"previousSibling"),i=zm(e,n,i,"nextSibling"),Em(l)&&(e.isBlock(o)||(o=Zm(e,n,o,s,!0)),e.isBlock(i)||(i=Zm(e,n,i,r,!1)))),Za(o)&&o.parentNode&&(s=e.nodeIndex(o),o=o.parentNode),Za(i)&&i.parentNode&&(r=e.nodeIndex(i)+1,i=i.parentNode),{startContainer:o,startOffset:s,endContainer:i,endOffset:r}},Wm=(e,t,n)=>{var a;const o=t.startOffset,s=Er(t.startContainer,o),i=t.endOffset,r=Er(t.endContainer,i-1),l=e=>{const t=e[0];eo(t)&&t===s&&o>=t.data.length&&e.splice(0,1);const n=e[e.length-1];return 0===i&&e.length>0&&n===r&&eo(n)&&e.splice(e.length-1,1),e},d=(e,t,n)=>{const a=[];for(;e&&e!==n;e=e[t])a.push(e);return a},c=(t,n)=>e.getParent(t,(e=>e.parentNode===n),n),u=(e,t,a)=>{const o=a?"nextSibling":"previousSibling";for(let s=e,i=s.parentNode;s&&s!==t;s=i){i=s.parentNode;const t=d(s===e?s:s[o],o);t.length&&(a||t.reverse(),n(l(t)))}};if(s===r)return n(l([s]));const m=null!==(a=e.findCommonAncestor(s,r))&&void 0!==a?a:e.getRoot();if(e.isChildOf(s,r))return u(s,m,!0);if(e.isChildOf(r,s))return u(r,m);const p=c(s,m)||s,h=c(r,m)||r;u(s,p,!0);const f=d(p===s?p:p.nextSibling,"nextSibling",h===r?h.nextSibling:h);f.length&&n(l(f)),u(r,h)},Km=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],Gm=(e,t,n,a,o,s)=>{const{uid:i=t,...r}=n;mn(e,er()),Jt(e,`${nr()}`,i),Jt(e,`${tr()}`,a);const{attributes:l={},classes:d=[]}=o(i,r);if(en(e,l),((e,t)=>{$(t,(t=>{mn(e,t)}))})(e,d),s){d.length>0&&Jt(e,`${or()}`,d.join(","));const t=pe(l);t.length>0&&Jt(e,`${sr()}`,t.join(","))}},Ym=(e,t,n,a,o)=>{const s=bn("span",e);return Gm(s,t,n,a,o,!1),s},Xm=(e,t,n,a,o,s)=>{const i=[],r=Ym(e.getDoc(),n,s,a,o),l=Xi(),d=()=>{l.clear()},c=e=>{$(e,u)},u=t=>{switch(((e,t,n,a)=>On(t).fold((()=>"skipping"),(o=>"br"===a||(e=>Kt(e)&&_o(e)===Mo)(t)?"valid":(e=>Wt(e)&&fn(e,er()))(t)?"existing":Iu(t.dom)?"caret":Z(Km,(e=>Dn(t,e)))?"valid-block":gm(e,n,a)&&gm(e,jt(o),n)?"valid":"invalid-child")))(e,t,"span",jt(t))){case"invalid-child":{d();const e=Fn(t);c(e),d();break}case"valid-block":d(),Gm(t,n,s,a,o,!0);break;case"valid":{const e=l.get().getOrThunk((()=>{const e=hr(r);return i.push(e),l.set(e),e}));wa(t,e);break}}};return Wm(e.dom,t,(e=>{d(),(e=>{const t=q(e,yn);c(t)})(e)})),i},Qm=e=>{const t=(()=>{const e={};return{register:(t,n)=>{e[t]={name:t,settings:n}},lookup:t=>De(e,t).map((e=>e.settings)),getNames:()=>pe(e)}})();((e,t)=>{const n=tr(),a=e=>N.from(e.attr(n)).bind(t.lookup),o=e=>{var t,n;e.attr(nr(),null),e.attr(tr(),null),e.attr(ar(),null);const a=N.from(e.attr(sr())).map((e=>e.split(","))).getOr([]),o=N.from(e.attr(or())).map((e=>e.split(","))).getOr([]);$(a,(t=>e.attr(t,null)));const s=null!==(n=null===(t=e.attr("class"))||void 0===t?void 0:t.split(" "))&&void 0!==n?n:[],i=se(s,[er()].concat(o));e.attr("class",i.length>0?i.join(" "):null),e.attr(or(),null),e.attr(sr(),null)};e.serializer.addTempAttr(ar()),e.serializer.addAttributeFilter(n,(e=>{for(const t of e)a(t).each((e=>{!1===e.persistent&&("span"===t.name?t.unwrap():o(t))}))}))})(e,t);const n=((e,t)=>{const n=Zi({}),a=()=>({listeners:[],previous:Xi()}),o=(e,t)=>{s(e,(e=>(t(e),e)))},s=(e,t)=>{const o=n.get(),s=t(De(o,e).getOrThunk(a));o[e]=s,n.set(o)},i=(t,n)=>{$(dr(e,t),(e=>{n?Jt(e,ar(),"true"):on(e,ar())}))},r=Ji((()=>{const n=re(t.getNames());$(n,(t=>{s(t,(n=>{const a=n.previous.get();return rr(e,N.some(t)).fold((()=>{a.each((e=>{(e=>{o(e,(t=>{$(t.listeners,(t=>t(!1,e)))}))})(t),n.previous.clear(),i(e,!1)}))}),(({uid:e,name:t,elements:s})=>{It(a,e)||(a.each((e=>i(e,!1))),((e,t,n)=>{o(e,(a=>{$(a.listeners,(a=>a(!0,e,{uid:t,nodes:q(n,(e=>e.dom))})))}))})(t,e,s),n.previous.set(e),i(e,!0))})),{previous:n.previous,listeners:n.listeners}}))}))}),30);return e.on("remove",(()=>{r.cancel()})),e.on("NodeChange",(()=>{r.throttle()})),{addListener:(e,t)=>{s(e,(e=>({previous:e.previous,listeners:e.listeners.concat([t])})))}}})(e,t),a=Xt("span"),o=e=>{$(e,(e=>{a(e)?Da(e):(e=>{hn(e,er()),on(e,`${nr()}`),on(e,`${tr()}`),on(e,`${ar()}`);const t=nn(e,`${sr()}`).map((e=>e.split(","))).getOr([]),n=nn(e,`${or()}`).map((e=>e.split(","))).getOr([]);var a;$(t,(t=>on(e,t))),a=e,$(n,(e=>{hn(a,e)})),on(e,`${or()}`),on(e,`${sr()}`)})(e)}))};return{register:(e,n)=>{t.register(e,n)},annotate:(n,a)=>{t.lookup(n).each((t=>{((e,t,n,a)=>{e.undoManager.transact((()=>{const o=e.selection,s=o.getRng(),i=tm(e).length>0,r=mr("mce-annotation");if(s.collapsed&&!i&&((e,t)=>{const n=$m(e.dom,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)})(e,s),o.getRng().collapsed&&!i){const s=Ym(e.getDoc(),r,a,t,n.decorate);Ea(s,bo),o.getRng().insertNode(s.dom),o.select(s.dom)}else dm(o,!1,(()=>{lm(e,(o=>{Xm(e,o,r,t,n.decorate,a)}))}))}))})(e,n,t,a)}))},annotationChanged:(e,t)=>{n.addListener(e,t)},remove:t=>{rr(e,N.some(t)).each((({elements:t})=>{const n=e.selection.getBookmark();o(t),e.selection.moveToBookmark(n)}))},removeAll:t=>{const n=e.selection.getBookmark();fe(cr(e,t),((e,t)=>{o(e)})),e.selection.moveToBookmark(n)},getAll:t=>{const n=cr(e,t);return ge(n,(e=>q(e,(e=>e.dom))))}}},Jm=e=>({getBookmark:L($u,e),moveToBookmark:L(Wu,e)});Jm.isBookmarkNode=Ku;const ep=(e,t,n)=>!n.collapsed&&Z(n.getClientRects(),(n=>((e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom)(n,e,t))),tp=(e,t,n)=>{e.dispatch(t,n)},np=(e,t,n,a)=>{e.dispatch("FormatApply",{format:t,node:n,vars:a})},ap=(e,t,n,a)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:a})},op=(e,t)=>e.dispatch("SetContent",t),sp=(e,t)=>e.dispatch("GetContent",t),ip=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),rp={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||rp.metaKeyPressed(e),metaKeyPressed:e=>Ot.os.isMacOS()||Ot.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},lp="data-mce-selected",dp=Math.abs,cp=Math.round,up={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},mp=(e,t)=>{const n=t.dom,a=t.getDoc(),o=document,s=t.getBody();let i,r,l,d,c,u,m,p,h,f,g,v,b,w,y;const C=e=>_(e)&&(ro(e)||n.is(e,"figure.image")),D=e=>po(e)||n.hasClass(e,"mce-preview-object"),x=e=>{const n=e.target;((e,t)=>{if((e=>"longpress"===e.type||0===e.type.indexOf("touch"))(e)){const n=e.touches[0];return C(e.target)&&!ep(n.clientX,n.clientY,t)}return C(e.target)&&!ep(e.clientX,e.clientY,t)})(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(n)},k=e=>n.hasClass(e,"mce-preview-object")&&_(e.firstElementChild)?[e,e.firstElementChild]:n.is(e,"figure.image")?[e.querySelector("img")]:[e],E=e=>{const a=ud(t);return!!a&&"false"!==e.getAttribute("data-mce-resize")&&e!==t.getBody()&&(n.hasClass(e,"mce-preview-object")&&_(e.firstElementChild)?Dn(yn(e.firstElementChild),a):Dn(yn(e),a))},S=(e,a,o)=>{if(_(o)){const s=k(e);$(s,(e=>{e.style[a]||!t.schema.isValid(e.nodeName.toLowerCase(),a)?n.setStyle(e,a,o):n.setAttrib(e,a,""+o)}))}},A=(e,t,n)=>{S(e,"width",t),S(e,"height",n)},T=e=>{let a,o,c,_,x;a=e.screenX-u,o=e.screenY-m,v=a*d[2]+p,b=o*d[3]+h,v=v<5?5:v,b=b<5?5:b,c=(C(i)||D(i))&&!1!==md(t)?!rp.modifierPressed(e):rp.modifierPressed(e),c&&(dp(a)>dp(o)?(b=cp(v*f),v=cp(b/f)):(v=cp(b/f),b=cp(v*f))),A(r,v,b),_=d.startPos.x+a,x=d.startPos.y+o,_=_>0?_:0,x=x>0?x:0,n.setStyles(l,{left:_,top:x,display:"block"}),l.innerHTML=v+" &times; "+b,d[2]<0&&r.clientWidth<=v&&n.setStyle(r,"left",void 0+(p-v)),d[3]<0&&r.clientHeight<=b&&n.setStyle(r,"top",void 0+(h-b)),a=s.scrollWidth-w,o=s.scrollHeight-y,a+o!==0&&n.setStyles(l,{left:_-a,top:x-o}),g||(((e,t,n,a,o)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:a,origin:o})})(t,i,p,h,"corner-"+d.name),g=!0)},O=()=>{const e=g;g=!1,e&&(S(i,"width",v),S(i,"height",b)),n.unbind(a,"mousemove",T),n.unbind(a,"mouseup",O),o!==a&&(n.unbind(o,"mousemove",T),n.unbind(o,"mouseup",O)),n.remove(r),n.remove(l),n.remove(c),L(i),e&&(((e,t,n,a,o)=>{e.dispatch("ObjectResized",{target:t,width:n,height:a,origin:o})})(t,i,v,b,"corner-"+d.name),n.setAttrib(i,"style",n.getAttrib(i,"style"))),t.nodeChanged()},L=e=>{R();const g=n.getPos(e,s),_=g.x,C=g.y,x=e.getBoundingClientRect(),S=x.width||x.right-x.left,L=x.height||x.bottom-x.top;i!==e&&(M(),i=e,v=b=0);const P=t.dispatch("ObjectSelected",{target:e});E(e)&&!P.isDefaultPrevented()?fe(up,((e,t)=>{let g=n.get("mceResizeHandle"+t);g&&n.remove(g),g=n.add(s,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),n.bind(g,"mousedown",(g=>{g.stopImmediatePropagation(),g.preventDefault(),(g=>{const v=k(i)[0];var b;u=g.screenX,m=g.screenY,p=v.clientWidth,h=v.clientHeight,f=h/p,d=e,d.name=t,d.startPos={x:S*e[0]+_,y:L*e[1]+C},w=s.scrollWidth,y=s.scrollHeight,c=n.add(s,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(c,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),r=D(b=i)?n.create("img",{src:Ot.transparentSrc}):b.cloneNode(!0),n.addClass(r,"mce-clonedresizable"),n.setAttrib(r,"data-mce-bogus","all"),r.contentEditable="false",n.setStyles(r,{left:_,top:C,margin:0}),A(r,S,L),r.removeAttribute(lp),s.appendChild(r),n.bind(a,"mousemove",T),n.bind(a,"mouseup",O),o!==a&&(n.bind(o,"mousemove",T),n.bind(o,"mouseup",O)),l=n.add(s,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},p+" &times; "+h)})(g)})),e.elm=g,n.setStyles(g,{left:S*e[0]+_-g.offsetWidth/2,top:L*e[1]+C-g.offsetHeight/2})})):M(!1)},P=Qi(L,0),M=(e=!0)=>{P.cancel(),R(),i&&e&&i.removeAttribute(lp),fe(up,((e,t)=>{const a=n.get("mceResizeHandle"+t);a&&(n.unbind(a),n.remove(a))}))},B=(e,t)=>n.isChildOf(e,t),I=a=>{if(g||t.removed||t.composing)return;const o="mousedown"===a.type?a.target:e.getNode(),i=aa(yn(o),"table,img,figure.image,hr,video,span.mce-preview-object,details").map((e=>e.dom)).filter((e=>n.isEditable(e.parentElement)||"IMG"===e.nodeName&&n.isEditable(e))).getOrUndefined(),r=_(i)?n.getAttrib(i,lp,"1"):"1";if($(n.select(`img[${lp}],hr[${lp}]`),(e=>{e.removeAttribute(lp)})),_(i)&&B(i,s)&&t.hasFocus()){F();const t=e.getStart(!0);if(B(t,i)&&B(e.getEnd(!0),i))return n.setAttrib(i,lp,r),void P.throttle(i)}M()},R=()=>{fe(up,(e=>{e.elm&&(n.unbind(e.elm),delete e.elm)}))},F=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(e){}};return t.on("init",(()=>{F(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",I),t.on("keyup compositionend",(e=>{i&&"TABLE"===i.nodeName&&I(e)})),t.on("hide blur",M),t.on("contextmenu longpress",x,!0)})),t.on("remove",R),{isResizable:E,showResizeRect:L,hideResizeRect:M,updateResizeRect:I,destroy:()=>{P.cancel(),i=r=c=null}}},pp=(e,t,n)=>{const a=e.document.createRange();var o;return o=a,t.fold((e=>{o.setStartBefore(e.dom)}),((e,t)=>{o.setStart(e.dom,t)}),(e=>{o.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,n)=>{e.setEnd(t.dom,n)}),(t=>{e.setEndAfter(t.dom)}))})(a,n),a},hp=(e,t,n,a,o)=>{const s=e.document.createRange();return s.setStart(t.dom,n),s.setEnd(a.dom,o),s},fp=vl([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),gp=(e,t,n)=>t(yn(n.startContainer),n.startOffset,yn(n.endContainer),n.endOffset);fp.ltr,fp.rtl;const vp=(e,t,n,a)=>({start:e,soffset:t,finish:n,foffset:a}),bp=document.caretPositionFromPoint?(e,t,n)=>{var a,o;return N.from(null===(o=(a=e.dom).caretPositionFromPoint)||void 0===o?void 0:o.call(a,t,n)).bind((t=>{if(null===t.offsetNode)return N.none();const n=e.dom.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),N.some(n)}))}:document.caretRangeFromPoint?(e,t,n)=>{var a,o;return N.from(null===(o=(a=e.dom).caretRangeFromPoint)||void 0===o?void 0:o.call(a,t,n))}:N.none,wp=vl([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),yp={before:wp.before,on:wp.on,after:wp.after,cata:(e,t,n,a)=>e.fold(t,n,a),getStart:e=>e.fold(T,T,T)},_p=vl([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Cp={domRange:_p.domRange,relative:_p.relative,exact:_p.exact,exactFromRange:e=>_p.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>yn(e.startContainer),relative:(e,t)=>yp.getStart(e),exact:(e,t,n,a)=>e}))(e);return Tn(t)},range:vp},Dp=(e,t)=>{const n=jt(e);return"input"===n?yp.after(e):j(["br","img"],n)?0===t?yp.before(e):yp.after(e):yp.on(e,t)},xp=(e,t)=>{const n=e.fold(yp.before,Dp,yp.after),a=t.fold(yp.before,Dp,yp.after);return Cp.relative(n,a)},kp=(e,t,n,a)=>{const o=Dp(e,t),s=Dp(n,a);return Cp.relative(o,s)},Ep=(e,t)=>{const n=(t||document).createDocumentFragment();return $(e,(e=>{n.appendChild(e.dom)})),yn(n)},Sp=e=>{const t=Cp.getWin(e).dom,n=(e,n,a,o)=>hp(t,e,n,a,o),a=(e=>e.match({domRange:e=>{const t=yn(e.startContainer),n=yn(e.endContainer);return kp(t,e.startOffset,n,e.endOffset)},relative:xp,exact:kp}))(e);return((e,t)=>{const n=((e,t)=>t.match({domRange:e=>({ltr:A(e),rtl:N.none}),relative:(t,n)=>({ltr:Ie((()=>pp(e,t,n))),rtl:Ie((()=>N.some(pp(e,n,t))))}),exact:(t,n,a,o)=>({ltr:Ie((()=>hp(e,t,n,a,o))),rtl:Ie((()=>N.some(hp(e,a,o,t,n))))})}))(e,t);return((e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter((e=>!1===e.collapsed)).map((e=>fp.rtl(yn(e.endContainer),e.endOffset,yn(e.startContainer),e.startOffset))).getOrThunk((()=>gp(0,fp.ltr,n))):gp(0,fp.ltr,n)})(0,n)})(t,a).match({ltr:n,rtl:n})},Ap=(e,t,n)=>((e,t,n)=>((e,t,n)=>{const a=yn(e.document);return bp(a,t,n).map((e=>vp(yn(e.startContainer),e.startOffset,yn(e.endContainer),e.endOffset)))})(e,t,n))(Tn(yn(n)).dom,e,t).map((e=>{const t=n.createRange();return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),t})).getOrUndefined(),Tp=(e,t)=>_(e)&&_(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,Op=(e,t,n)=>null!==((e,t,n)=>{let a=e;for(;a&&a!==t;){if(n(a))return a;a=a.parentNode}return null})(e,t,n),Lp=(e,t,n)=>Op(e,t,(e=>e.nodeName===n)),Pp=(e,t)=>Uo(e)&&!Op(e,t,Iu),Mp=(e,t,n)=>{const a=t.parentNode;if(a){const o=new Ha(t,e.getParent(a,e.isBlock)||e.getRoot());let s;for(;s=o[n?"prev":"next"]();)if(io(s))return!0}return!1},Bp=(e,t,n,a,o)=>{const s=e.getRoot(),i=e.schema.getNonEmptyElements(),r=o.parentNode;let l,d;if(!r)return N.none();const c=e.getParent(r,e.isBlock)||s;if(a&&io(o)&&t&&e.isEmpty(c))return N.some($r(r,e.nodeIndex(o)));const u=new Ha(o,c);for(;d=u[a?"prev":"next"]();){if("false"===e.getContentEditableParent(d)||Pp(d,s))return N.none();if(eo(d)&&d.data.length>0)return Lp(d,s,"A")?N.none():N.some($r(d,a?d.data.length:0));if(e.isBlock(d)||i[d.nodeName.toLowerCase()])return N.none();l=d}return ao(l)?N.none():n&&l?N.some($r(l,0)):N.none()},Ip=(e,t,n,a)=>{const o=e.getRoot();let s,i=!1,r=n?a.startContainer:a.endContainer,l=n?a.startOffset:a.endOffset;const d=Za(r)&&l===r.childNodes.length,c=e.schema.getNonEmptyElements();let u=n;if(Uo(r))return N.none();if(Za(r)&&l>r.childNodes.length-1&&(u=!1),oo(r)&&(r=o,l=0),r===o){if(u&&(s=r.childNodes[l>0?l-1:0],s)){if(Uo(s))return N.none();if(c[s.nodeName]||Xa(s))return N.none()}if(r.hasChildNodes()){if(l=Math.min(!u&&l>0?l-1:l,r.childNodes.length-1),r=r.childNodes[l],l=eo(r)&&d?r.data.length:0,!t&&r===o.lastChild&&Xa(r))return N.none();if(((e,t)=>{let n=t;for(;n&&n!==e;){if(co(n))return!0;n=n.parentNode}return!1})(o,r)||Uo(r))return N.none();if(fo(r))return N.none();if(r.hasChildNodes()&&!Xa(r)){s=r;const t=new Ha(r,o);do{if(co(s)||Uo(s)){i=!1;break}if(eo(s)&&s.data.length>0){l=u?0:s.data.length,r=s,i=!0;break}if(c[s.nodeName.toLowerCase()]&&!mo(s)){l=e.nodeIndex(s),r=s.parentNode,u||l++,i=!0;break}}while(s=u?t.next():t.prev())}}}return t&&(eo(r)&&0===l&&Bp(e,d,t,!0,r).each((e=>{r=e.container(),l=e.offset(),i=!0})),Za(r)&&(s=r.childNodes[l],s||(s=r.childNodes[l-1]),!s||!io(s)||((e,t)=>{var n;return"A"===(null===(n=e.previousSibling)||void 0===n?void 0:n.nodeName)})(s)||Mp(e,s,!1)||Mp(e,s,!0)||Bp(e,d,t,!0,s).each((e=>{r=e.container(),l=e.offset(),i=!0})))),u&&!t&&eo(r)&&l===r.data.length&&Bp(e,d,t,!1,r).each((e=>{r=e.container(),l=e.offset(),i=!0})),i&&r?N.some($r(r,l)):N.none()},Rp=(e,t)=>{const n=t.collapsed,a=t.cloneRange(),o=$r.fromRangeStart(t);return Ip(e,n,!0,a).each((e=>{n&&$r.isAbove(o,e)||a.setStart(e.container(),e.offset())})),n||Ip(e,n,!1,a).each((e=>{a.setEnd(e.container(),e.offset())})),n&&a.collapse(!0),Tp(t,a)?N.none():N.some(a)},Fp=(e,t)=>e.splitText(t),Np=e=>{let t=e.startContainer,n=e.startOffset,a=e.endContainer,o=e.endOffset;if(t===a&&eo(t)){if(n>0&&n<t.data.length)if(a=Fp(t,n),t=a.previousSibling,o>n){o-=n;const e=Fp(a,o).previousSibling;t=a=e,o=e.data.length,n=0}else o=0}else if(eo(t)&&n>0&&n<t.data.length&&(t=Fp(t,n),n=0),eo(a)&&o>0&&o<a.data.length){const e=Fp(a,o).previousSibling;a=e,o=e.data.length}return{startContainer:t,startOffset:n,endContainer:a,endOffset:o}},Vp=e=>({walk:(t,n)=>Wm(e,t,n),split:Np,expand:(t,n={type:"word"})=>{if("word"===n.type){const n=$m(e,t,[{inline:"span"}]),a=e.createRng();return a.setStart(n.startContainer,n.startOffset),a.setEnd(n.endContainer,n.endOffset),a}return t},normalize:t=>Rp(e,t).fold(R,(e=>(t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0)))});Vp.compareRanges=Tp,Vp.getCaretRangeFromPoint=Ap,Vp.getSelectedNode=kr,Vp.getNode=Er;const Up=((e,t)=>{const n=t=>{const n=(e=>{const t=e.dom;return Yn(e)?t.getBoundingClientRect().height:t.offsetHeight})(t);if(n<=0||null===n){const n=ca(t,e);return parseFloat(n)||0}return n},a=(e,t)=>X(t,((t,n)=>{const a=ca(e,n),o=void 0===a?0:parseInt(a,10);return isNaN(o)?t:t+o}),0);return{set:(t,n)=>{if(!D(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);const a=t.dom;ia(a)&&(a.style[e]=n+"px")},get:n,getOuter:n,aggregate:a,max:(e,t,n)=>{const o=a(e,n);return t>o?t-o:0}}})("height"),Hp=()=>yn(document),zp=(e,t)=>e.view(t).fold(A([]),(t=>{const n=e.owner(t),a=zp(e,n);return[t].concat(a)}));var jp=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?N.none():N.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(yn)},owner:e=>An(e)});const Zp=e=>"textarea"===jt(e),qp=(e,t)=>{const n=(e=>{const t=e.dom.ownerDocument,n=t.body,a=t.defaultView,o=t.documentElement;if(n===e.dom)return Oa(n.offsetLeft,n.offsetTop);const s=La(null==a?void 0:a.pageYOffset,o.scrollTop),i=La(null==a?void 0:a.pageXOffset,o.scrollLeft),r=La(o.clientTop,n.clientTop),l=La(o.clientLeft,n.clientLeft);return Pa(e).translate(i-l,s-r)})(e),a=(e=>Up.get(e))(e);return{element:e,bottom:n.top+a,height:a,pos:n,cleanup:t}},$p=(e,t,n,a)=>{Yp(e,((o,s)=>Kp(e,t,n,a)),n)},Wp=(e,t,n,a,o)=>{const s={elm:a.element.dom,alignToTop:o};((e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented())(e,s)||(n(e,t,Ma(t).top,a,o),((e,t)=>{e.dispatch("AfterScrollIntoView",t)})(e,s))},Kp=(e,t,n,a)=>{const o=yn(e.getBody()),s=yn(e.getDoc());o.dom.offsetWidth;const i=((e,t)=>{const n=((e,t)=>{const n=Fn(e);if(0===n.length||Zp(e))return{element:e,offset:t};if(t<n.length&&!Zp(n[t]))return{element:n[t],offset:0};{const a=n[n.length-1];return Zp(a)?{element:e,offset:t}:"img"===jt(a)?{element:a,offset:1}:Kt(a)?{element:a,offset:_o(a).length}:{element:a,offset:Fn(a).length}}})(e,t),a=vn('<span data-mce-bogus="all" style="display: inline-block;">\ufeff</span>');return fa(n.element,a),qp(a,(()=>Ca(a)))})(yn(n.startContainer),n.startOffset);Wp(e,s,t,i,a),i.cleanup()},Gp=(e,t,n,a)=>{const o=yn(e.getDoc());Wp(e,o,n,(e=>qp(yn(e),k))(t),a)},Yp=(e,t,n)=>{const a=n.startContainer,o=n.startOffset,s=n.endContainer,i=n.endOffset;t(yn(a),yn(s));const r=e.dom.createRng();r.setStart(a,o),r.setEnd(s,i),e.selection.setRng(n)},Xp=(e,t,n,a,o)=>{const s=t.pos;if(a)Ba(s.left,s.top,o);else{const a=s.top-n+t.height;Ba(-e.getBody().getBoundingClientRect().left,a,o)}},Qp=(e,t,n,a,o,s)=>{const i=a+n,r=o.pos.top,l=o.bottom,d=l-r>=a;r<n?Xp(e,o,a,!1!==s,t):r>i?Xp(e,o,a,d?!1!==s:!0===s,t):l>i&&!d&&Xp(e,o,a,!0===s,t)},Jp=(e,t,n,a,o)=>{const s=Tn(t).dom.innerHeight;Qp(e,t,n,s,a,o)},eh=(e,t,n,a,o)=>{const s=Tn(t).dom.innerHeight;Qp(e,t,n,s,a,o);const i=(e=>{const t=Hp(),n=Ma(t),a=((e,t)=>{const n=t.owner(e);return zp(t,n)})(e,jp),o=Pa(e),s=Y(a,((e,t)=>{const n=Pa(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return Oa(s.left+o.left+n.left,s.top+o.top+n.top)})(a.element),r=Fa(window);i.top<r.y?Ia(a.element,!1!==o):i.top>r.bottom&&Ia(a.element,!0===o)},th=(e,t,n)=>$p(e,Jp,t,n),nh=(e,t,n)=>Gp(e,t,Jp,n),ah=(e,t,n)=>$p(e,eh,t,n),oh=(e,t,n)=>Gp(e,t,eh,n),sh=(e,t,n)=>{(e.inline?th:ah)(e,t,n)},ih=(e,t=!1)=>e.dom.focus({preventScroll:t}),rh=e=>{const t=qn(e).dom;return e.dom===t.activeElement},lh=(e=Hp())=>N.from(e.dom.activeElement).map(yn),dh=(e,t)=>{const n=Kt(t)?_o(t).length:Fn(t).length+1;return e>n?n:e<0?0:e},ch=e=>Cp.range(e.start,dh(e.soffset,e.start),e.finish,dh(e.foffset,e.finish)),uh=(e,t)=>!ja(t.dom)&&(En(e,t)||kn(e,t)),mh=e=>t=>uh(e,t.start)&&uh(e,t.finish),ph=e=>Cp.range(yn(e.startContainer),e.startOffset,yn(e.endContainer),e.endOffset),hh=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),N.some(t)}catch(e){return N.none()}},fh=e=>{const t=(e=>e.inline||Ot.browser.isFirefox())(e)?(n=yn(e.getBody()),(e=>{const t=e.getSelection();return(t&&0!==t.rangeCount?N.from(t.getRangeAt(0)):N.none()).map(ph)})(Tn(n).dom).filter(mh(n))):N.none();var n;e.bookmark=t.isSome()?t:e.bookmark},gh=e=>(e.bookmark?e.bookmark:N.none()).bind((t=>{return n=yn(e.getBody()),a=t,N.from(a).filter(mh(n)).map(ch);var n,a})).bind(hh),vh={isEditorUIElement:e=>{const t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")}},bh={setEditorTimeout:(e,t,n)=>((e,t)=>(D(t)||(t=0),setTimeout(e,t)))((()=>{e.removed||t()}),n),setEditorInterval:(e,t,n)=>{const a=((e,t)=>(D(t)||(t=0),setInterval(e,t)))((()=>{e.removed?clearInterval(a):t()}),n);return a}};let wh;const yh=Hi.DOM,_h=e=>{const t=e.classList;return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))},Ch=(e,t)=>{const n=kd(e),a=yh.getParent(t,(t=>(e=>Za(e)&&vh.isEditorUIElement(e))(t)||!!n&&e.dom.is(t,n)));return null!==a},Dh=e=>{try{const t=qn(yn(e.getElement()));return lh(t).fold((()=>document.body),(e=>e.dom))}catch(e){return document.body}},xh=(e,t)=>{const n=t.editor;(e=>{const t=Qi((()=>{fh(e)}),0);e.on("init",(()=>{e.inline&&((e,t)=>{const n=()=>{t.throttle()};Hi.DOM.bind(document,"mouseup",n),e.on("remove",(()=>{Hi.DOM.unbind(document,"mouseup",n)}))})(e,t),((e,t)=>{((e,t)=>{e.on("mouseup touchend",(e=>{t.throttle()}))})(e,t),e.on("keyup NodeChange AfterSetSelectionRange",(t=>{(e=>"nodechange"===e.type&&e.selectionChange)(t)||fh(e)}))})(e,t)})),e.on("remove",(()=>{t.cancel()}))})(n);const a=(e,t)=>{pc(e)&&!0!==e.inline&&t(yn(e.getContainer()),"tox-edit-focus")};n.on("focusin",(()=>{const t=e.focusedEditor;_h(Dh(n))&&a(n,mn),t!==n&&(t&&t.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:t}),n.focus(!0))})),n.on("focusout",(()=>{bh.setEditorTimeout(n,(()=>{const t=e.focusedEditor;_h(Dh(n))&&t===n||a(n,hn),Ch(n,Dh(n))||t!==n||(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)}))})),wh||(wh=t=>{const n=e.activeEditor;n&&Kn(t).each((t=>{const a=t;a.ownerDocument===document&&(a===document.body||Ch(n,a)||e.focusedEditor!==n||(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null))}))},yh.bind(document,"focusin",wh))},kh=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&wh&&(yh.unbind(document,"focusin",wh),wh=null)},Eh=(e,t)=>{((e,t)=>(e=>e.collapsed?N.from(Er(e.startContainer,e.startOffset)).map(yn):N.none())(t).bind((t=>Ao(t)?N.some(t):En(e,t)?N.none():N.some(e))))(yn(e.getBody()),t).bind((e=>Pu(e.dom))).fold((()=>{e.selection.normalize()}),(t=>e.selection.setRng(t.toRange())))},Sh=e=>{if(e.setActive)try{e.setActive()}catch(n){e.focus()}else e.focus()},Ah=e=>e.inline?(e=>{const t=e.getBody();return t&&(n=yn(t),rh(n)||(a=n,lh(qn(a)).filter((e=>a.dom.contains(e.dom)))).isSome());var n,a})(e):(e=>_(e.iframeElement)&&rh(yn(e.iframeElement)))(e),Th=e=>Ah(e)||(e=>{const t=qn(yn(e.getElement()));return lh(t).filter((t=>!_h(t.dom)&&Ch(e,t.dom))).isSome()})(e),Oh=e=>e.editorManager.setActive(e),Lh=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),Ph=(e,t,n,a,o)=>{const s=n?t.startContainer:t.endContainer,i=n?t.startOffset:t.endOffset;return N.from(s).map(yn).map((e=>a&&t.collapsed?e:Nn(e,o(e,i)).getOr(e))).bind((e=>Wt(e)?N.some(e):On(e).filter(Wt))).map((e=>e.dom)).getOr(e)},Mh=(e,t,n=!1)=>Ph(e,t,!0,n,((e,t)=>Math.min(Hn(e),t))),Bh=(e,t,n=!1)=>Ph(e,t,!1,n,((e,t)=>t>0?t-1:t)),Ih=(e,t)=>{const n=e;for(;e&&eo(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},Rh=(e,t)=>q(t,(t=>{const n=e.dispatch("GetSelectionRange",{range:t});return n.range!==t?n.range:t})),Fh=["img","br"],Nh=e=>{const t=Co(e).filter((e=>0!==e.trim().length||e.indexOf(bo)>-1)).isSome();return t||j(Fh,jt(e))||(e=>$t(e)&&"false"===tn(e,"contenteditable"))(e)},Vh="[data-mce-autocompleter]",Uh=(e,t)=>{if(Hh(yn(e.getBody())).isNone()){const a=vn('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());ba(a,yn(t.extractContents())),t.insertNode(a.dom),On(a).each((e=>e.dom.normalize())),(n=a,((e,t)=>{const n=e=>{const a=Fn(e);for(let o=a.length-1;o>=0;o--){const e=a[o];if(t(e))return N.some(e);const s=n(e);if(s.isSome())return s}return N.none()};return n(e)})(n,Nh)).map((t=>{e.selection.setCursorLocation(t.dom,(e=>"img"===jt(e)?1:Co(e).fold((()=>Fn(e).length),(e=>e.length)))(t))}))}var n},Hh=e=>na(e,Vh),zh={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},jh=(e,t,n)=>{const a=n?"lastChild":"firstChild",o=n?"prev":"next";if(e[a])return e[a];if(e!==t){let n=e[o];if(n)return n;for(let a=e.parent;a&&a!==t;a=a.parent)if(n=a[o],n)return n}},Zh=e=>{var t;const n=null!==(t=e.value)&&void 0!==t?t:"";if(!is(n))return!1;const a=e.parent;return!a||"span"===a.name&&!a.attr("style")||!/^[ ]+$/.test(n)},qh=e=>{const t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class $h{static create(e,t){const n=new $h(e,zh[e]||1);return t&&fe(t,((e,t)=>{n.attr(t,e)})),n}constructor(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}replace(e){const t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t}attr(e,t){const n=this;if(!p(e))return _(e)&&fe(e,((e,t)=>{n.attr(t,e)})),n;const a=n.attributes;if(a){if(void 0!==t){if(null===t){if(e in a.map){delete a.map[e];let t=a.length;for(;t--;)if(a[t].name===e)return a.splice(t,1),n}return n}if(e in a.map){let n=a.length;for(;n--;)if(a[n].name===e){a[n].value=t;break}}else a.push({name:e,value:t});return a.map[e]=t,n}return a.map[e]}}clone(){const e=this,t=new $h(e.name,e.type),n=e.attributes;if(n){const e=[];e.map={};for(let t=0,a=n.length;t<a;t++){const a=n[t];"id"!==a.name&&(e[e.length]={name:a.name,value:a.value},e.map[a.name]=a.value)}t.attributes=e}return t.value=e.value,t}wrap(e){const t=this;return t.parent&&(t.parent.insert(e,t),e.append(t)),t}unwrap(){const e=this;for(let t=e.firstChild;t;){const n=t.next;e.insert(t,e,!0),t=n}e.remove()}remove(){const e=this,t=e.parent,n=e.next,a=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):a&&(a.next=n),t.lastChild===e?(t.lastChild=a,a&&(a.next=null)):n&&(n.prev=a),e.parent=e.next=e.prev=null),e}append(e){const t=this;e.parent&&e.remove();const n=t.lastChild;return n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e}insert(e,t,n){e.parent&&e.remove();const a=t.parent||this;return n?(t===a.firstChild?a.firstChild=e:t.prev&&(t.prev.next=e),e.prev=t.prev,e.next=t,t.prev=e):(t===a.lastChild?a.lastChild=e:t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e),e.parent=a,e}getAll(e){const t=this,n=[];for(let a=t.firstChild;a;a=jh(a,t))a.name===e&&n.push(a);return n}children(){const e=[];for(let t=this.firstChild;t;t=t.next)e.push(t);return e}empty(){const e=this;if(e.firstChild){const t=[];for(let a=e.firstChild;a;a=jh(a,e))t.push(a);let n=t.length;for(;n--;){const e=t[n];e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}}return e.firstChild=e.lastChild=null,e}isEmpty(e,t={},n){var a;const o=this;let s=o.firstChild;if(qh(o))return!1;if(s)do{if(1===s.type){if(s.attr("data-mce-bogus"))continue;if(e[s.name])return!1;if(qh(s))return!1}if(8===s.type)return!1;if(3===s.type&&!Zh(s))return!1;if(3===s.type&&s.parent&&t[s.parent.name]&&is(null!==(a=s.value)&&void 0!==a?a:""))return!1;if(n&&n(s))return!1}while(s=jh(s,o));return!0}walk(e){return jh(this,null,e)}}const Wh=Bt.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),Kh=e=>p(e.nodeValue)&&e.nodeValue.includes(Mo),Gh=e=>(0===e.length?"":`${q(e,(e=>`[${e}]`)).join(",")},`)+'[data-mce-bogus="all"]',Yh=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,(e=>Kh(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP)),Xh=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,(e=>{if(Kh(e)){const t=e.parentNode;return t&&xe(Wh,t.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_SKIP})),Qh=e=>null!==Yh(e).nextNode(),Jh=e=>null!==Xh(e).nextNode(),ef=(e,t)=>null!==t.querySelector(Gh(e)),tf=(e,t)=>{$(((e,t)=>t.querySelectorAll(Gh(e)))(e,t),(t=>{const n=yn(t);"all"===tn(n,"data-mce-bogus")?Ca(n):$(e,(e=>{an(n,e)&&on(n,e)}))}))},nf=e=>{let t=e.nextNode();for(;null!==t;)t.nodeValue=null,t=e.nextNode()},af=E(nf,Yh),of=E(nf,Xh),sf=(e,t)=>{const n=[{condition:L(ef,t),action:L(tf,t)},{condition:Qh,action:af},{condition:Jh,action:of}];let a=e,o=!1;return $(n,(({condition:t,action:n})=>{t(a)&&(o||(a=e.cloneNode(!0),o=!0),n(a))})),a},rf=e=>{const t=Va(e,"[data-mce-bogus]");$(t,(e=>{"all"===tn(e,"data-mce-bogus")?Ca(e):xo(e)?(fa(e,wn(vo)),Ca(e)):Da(e)}))},lf=e=>{const t=Va(e,"input");$(t,(e=>{on(e,"name")}))},df=(e,t,n)=>{let a;return a="raw"===t.format?Bt.trim(Io(sf(n,e.serializer.getTempAttrs()).innerHTML)):"text"===t.format?((e,t)=>{const n=e.getDoc(),a=qn(yn(e.getBody())),o=bn("div",n);Jt(o,"data-mce-bogus","all"),da(o,{position:"fixed",left:"-9999999px",top:"0"}),Ea(o,t.innerHTML),rf(o),lf(o);const s=(e=>zn(e)?e:yn(An(e).dom.body))(a);ba(s,o);const i=Io(o.dom.innerText);return Ca(o),i})(e,n):"tree"===t.format?e.serializer.serialize(n,t):((e,t)=>{const n=Nl(e),a=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${n}>[\r\n]*|<br \\/>[\r\n]*)$`);return t.replace(a,"")})(e,e.serializer.serialize(n,t)),"text"!==t.format&&!Oo(yn(n))&&p(a)?Bt.trim(a):a},cf=Bt.makeMap,uf=e=>{const t=[],n=(e=e||{}).indent,a=cf(e.indent_before||""),o=cf(e.indent_after||""),s=ti.getEncodeFunc(e.entity_encoding||"raw",e.entities),i="xhtml"!==e.element_format;return{start:(e,r,l)=>{if(n&&a[e]&&t.length>0){const e=t[t.length-1];e.length>0&&"\n"!==e&&t.push("\n")}if(t.push("<",e),r)for(let n=0,a=r.length;n<a;n++){const e=r[n];t.push(" ",e.name,'="',s(e.value,!0),'"')}if(t[t.length]=!l||i?">":" />",l&&n&&o[e]&&t.length>0){const e=t[t.length-1];e.length>0&&"\n"!==e&&t.push("\n")}},end:e=>{let a;t.push("</",e,">"),n&&o[e]&&t.length>0&&(a=t[t.length-1],a.length>0&&"\n"!==a&&t.push("\n"))},text:(e,n)=>{e.length>0&&(t[t.length]=n?e:s(e))},cdata:e=>{t.push("<![CDATA[",e,"]]>")},comment:e=>{t.push("\x3c!--",e,"--\x3e")},pi:(e,a)=>{a?t.push("<?",e," ",s(a),"?>"):t.push("<?",e,"?>"),n&&t.push("\n")},doctype:e=>{t.push("<!DOCTYPE",e,">",n?"\n":"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},mf=(e={},t=mi())=>{const n=uf(e);return e.validate=!("validate"in e)||e.validate,{serialize:a=>{const o=e.validate,s={3:e=>{var t;n.text(null!==(t=e.value)&&void 0!==t?t:"",e.raw)},8:e=>{var t;n.comment(null!==(t=e.value)&&void 0!==t?t:"")},7:e=>{n.pi(e.name,e.value)},10:e=>{var t;n.doctype(null!==(t=e.value)&&void 0!==t?t:"")},4:e=>{var t;n.cdata(null!==(t=e.value)&&void 0!==t?t:"")},11:e=>{let t=e;if(t=t.firstChild)do{i(t)}while(t=t.next)}};n.reset();const i=e=>{var a;const r=s[e.type];if(r)r(e);else{const s=e.name,r=s in t.getVoidElements();let l=e.attributes;if(o&&l&&l.length>1){const n=[];n.map={};const a=t.getElementRule(e.name);if(a){for(let e=0,t=a.attributesOrder.length;e<t;e++){const t=a.attributesOrder[e];if(t in l.map){const e=l.map[t];n.map[t]=e,n.push({name:t,value:e})}}for(let e=0,t=l.length;e<t;e++){const t=l[e].name;if(!(t in n.map)){const e=l.map[t];n.map[t]=e,n.push({name:t,value:e})}}l=n}}if(n.start(s,l,r),gs(s))p(e.value)&&n.text(e.value,!0),n.end(s);else if(!r){let t=e.firstChild;if(t){"pre"!==s&&"textarea"!==s||3!==t.type||"\n"!==(null===(a=t.value)||void 0===a?void 0:a[0])||n.text("\n",!0);do{i(t)}while(t=t.next)}n.end(s)}}};return 1!==a.type||e.inner?3===a.type?s[3](a):s[11](a):i(a),n.getContent()}}},pf=new Set;$(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],(e=>{pf.add(e)}));const hf=["font","text-decoration","text-emphasis"],ff=(e,t)=>pe(e.parseStyle(e.getAttrib(t,"style"))),gf=(e,t,n)=>{const a=ff(e,t),o=ff(e,n),s=a=>{var o,s;const i=null!==(o=e.getStyle(t,a))&&void 0!==o?o:"",r=null!==(s=e.getStyle(n,a))&&void 0!==s?s:"";return Ge(i)&&Ge(r)&&i!==r};return Z(a,(e=>{const t=t=>Z(t,(t=>t===e));if(!t(o)&&t(hf)){const e=G(o,(e=>Z(hf,(t=>je(e,t)))));return Z(e,s)}return s(e)}))},vf=(e,t,n)=>N.from(n.container()).filter(eo).exists((a=>{const o=e?0:-1;return t(a.data.charAt(n.offset()+o))})),bf=L(vf,!0,Xu),wf=L(vf,!1,Xu),yf=e=>{const t=e.container();return eo(t)&&(0===t.data.length||Bo(t.data)&&Jm.isBookmarkNode(t.parentNode))},_f=(e,t)=>n=>Jc(e?0:-1,n).filter(t).isSome(),Cf=e=>ro(e)&&"block"===ca(yn(e),"display"),Df=e=>co(e)&&!(e=>Za(e)&&"all"===e.getAttribute("data-mce-bogus"))(e),xf=_f(!0,Cf),kf=_f(!1,Cf),Ef=_f(!0,po),Sf=_f(!1,po),Af=_f(!0,Xa),Tf=_f(!1,Xa),Of=_f(!0,Df),Lf=_f(!1,Df),Pf=(e,t)=>((e,t,n)=>En(t,e)?Pn(e,(e=>n(e)||kn(e,t))).slice(0,-1):[])(e,t,R),Mf=(e,t)=>[e].concat(Pf(e,t)),Bf=(e,t,n)=>Au(e,t,n,yf),If=(e,t,n)=>J(Mf(yn(t.container()),e),(e=>t=>e.isBlock(jt(t)))(n)),Rf=(e,t,n,a)=>Bf(e,t.dom,n).forall((e=>If(t,n,a).fold((()=>!Qc(e,n,t.dom)),(a=>!Qc(e,n,t.dom)&&En(a,yn(e.container())))))),Ff=(e,t,n,a)=>If(t,n,a).fold((()=>Bf(e,t.dom,n).forall((e=>!Qc(e,n,t.dom)))),(t=>Bf(e,t.dom,n).isNone())),Nf=L(Ff,!1),Vf=L(Ff,!0),Uf=L(Rf,!1),Hf=L(Rf,!0),zf=e=>lu(e).exists(xo),jf=(e,t,n,a)=>{const o=G(Mf(yn(n.container()),t),(e=>a.isBlock(jt(e)))),s=de(o).getOr(t);return Eu(e,s.dom,n).filter(zf)},Zf=(e,t,n)=>lu(t).exists(xo)||jf(!0,e,t,n).isSome(),qf=(e,t,n)=>(e=>N.from(e.getNode(!0)).map(yn))(t).exists(xo)||jf(!1,e,t,n).isSome(),$f=L(jf,!1),Wf=L(jf,!0),Kf=e=>$r.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),Gf=(e,t,n)=>{const a=G(Mf(yn(t.container()),e),(e=>n.isBlock(jt(e))));return de(a).getOr(e)},Yf=(e,t,n)=>Kf(t)?wf(t):wf(t)||Lu(Gf(e,t,n).dom,t).exists(wf),Xf=(e,t,n)=>Kf(t)?bf(t):bf(t)||Ou(Gf(e,t,n).dom,t).exists(bf),Qf=e=>lu(e).bind((e=>Jn(e,Wt))).exists((e=>(e=>j(["pre","pre-wrap"],e))(ca(e,"white-space")))),Jf=(e,t)=>n=>{return a=new Ha(n,e)[t](),_(a)&&co(a)&&Hc(a);var a},eg=(e,t,n)=>!Qf(t)&&(((e,t,n)=>((e,t)=>Lu(e.dom,t).isNone())(e,t)||((e,t)=>Ou(e.dom,t).isNone())(e,t)||Nf(e,t,n)||Vf(e,t,n)||qf(e,t,n)||Zf(e,t,n))(e,t,n)||Yf(e,t,n)||Xf(e,t,n)),tg=(e,t,n)=>!Qf(t)&&(Nf(e,t,n)||Uf(e,t,n)||qf(e,t,n)||Yf(e,t,n)||((e,t)=>{const n=Lu(e.dom,t).getOr(t),a=Jf(e.dom,"prev");return t.isAtStart()&&(a(t.container())||a(n.container()))})(e,t)),ng=(e,t,n)=>!Qf(t)&&(Vf(e,t,n)||Hf(e,t,n)||Zf(e,t,n)||Xf(e,t,n)||((e,t)=>{const n=Ou(e.dom,t).getOr(t),a=Jf(e.dom,"next");return t.isAtEnd()&&(a(t.container())||a(n.container()))})(e,t)),ag=(e,t,n)=>tg(e,t,n)||ng(e,(e=>{const t=e.container(),n=e.offset();return eo(t)&&n<t.data.length?$r(t,n+1):e})(t),n),og=(e,t)=>Gu(e.charAt(t)),sg=(e,t)=>Xu(e.charAt(t)),ig=(e,t,n,a)=>{const o=t.data,s=$r(t,0);return n||!og(o,0)||ag(e,s,a)?!!(n&&sg(o,0)&&tg(e,s,a))&&(t.data=bo+o.slice(1),!0):(t.data=" "+o.slice(1),!0)},rg=(e,t,n,a)=>{const o=t.data,s=$r(t,o.length-1);return n||!og(o,o.length-1)||ag(e,s,a)?!!(n&&sg(o,o.length-1)&&ng(e,s,a))&&(t.data=o.slice(0,-1)+bo,!0):(t.data=o.slice(0,-1)+" ",!0)},lg=(e,t,n)=>{const a=t.container();if(!eo(a))return N.none();if((e=>{const t=e.container();return eo(t)&&ze(t.data,bo)})(t)){const o=ig(e,a,!1,n)||(e=>{const t=e.data,n=(e=>{const t=e.split("");return q(t,((e,n)=>Gu(e)&&n>0&&n<t.length-1&&Qu(t[n-1])&&Qu(t[n+1])?" ":e)).join("")})(t);return n!==t&&(e.data=n,!0)})(a)||rg(e,a,!1,n);return Nt(o,t)}if(ag(e,t,n)){const o=ig(e,a,!0,n)||rg(e,a,!0,n);return Nt(o,t)}return N.none()},dg=(e,t,n,a)=>{if(0===n)return;const o=yn(e),s=Qn(o,(e=>a.isBlock(jt(e)))).getOr(o),i=e.data.slice(t,t+n),r=t+n>=e.data.length&&ng(s,$r(e,e.data.length),a),l=0===t&&tg(s,$r(e,0),a);e.replaceData(t,n,ds(i,4,l,r))},cg=(e,t,n)=>{const a=e.data.slice(t),o=a.length-We(a).length;dg(e,t,o,n)},ug=(e,t,n)=>{const a=e.data.slice(0,t),o=a.length-Ke(a).length;dg(e,t-o,o,n)},mg=(e,t,n,a,o=!0)=>{const s=Ke(e.data).length,i=o?e:t,r=o?t:e;return o?i.appendData(r.data):i.insertData(0,r.data),Ca(yn(r)),a&&cg(i,s,n),i},pg=(e,t)=>((e,t)=>{const n=e.container(),a=e.offset();return!$r.isTextPosition(e)&&n===t.parentNode&&a>$r.before(t).offset()})(t,e)?$r(t.container(),t.offset()-1):t,hg=e=>{return ns(e.previousSibling)?N.some((t=e.previousSibling,eo(t)?$r(t,t.data.length):$r.after(t))):e.previousSibling?Mu(e.previousSibling):N.none();var t},fg=e=>{return ns(e.nextSibling)?N.some((t=e.nextSibling,eo(t)?$r(t,0):$r.before(t))):e.nextSibling?Pu(e.nextSibling):N.none();var t},gg=(e,t,n)=>((e,t,n)=>e?((e,t)=>fg(t).orThunk((()=>hg(t))).orThunk((()=>((e,t)=>Ou(e,$r.after(t)).orThunk((()=>Lu(e,$r.before(t)))))(e,t))))(t,n):((e,t)=>hg(t).orThunk((()=>fg(t))).orThunk((()=>((e,t)=>N.from(t.previousSibling?t.previousSibling:t.parentNode).bind((t=>Lu(e,$r.before(t)))).orThunk((()=>Ou(e,$r.after(t)))))(e,t))))(t,n))(e,t,n).map(L(pg,n)),vg=(e,t,n)=>{n.fold((()=>{e.focus()}),(n=>{e.selection.setRng(n.toRange(),t)}))},bg=(e,t)=>t&&xe(e.schema.getBlockElements(),jt(t)),wg=(e,t,n,a=!0,o=!1)=>{const s=gg(t,e.getBody(),n.dom),i=Qn(n,L(bg,e),(r=e.getBody(),e=>e.dom===r));var r;const l=((e,t,n,a)=>{const o=Mn(e).filter(Kt),s=Bn(e).filter(Kt);return Ca(e),(i=o,r=s,l=t,d=(e,t,o)=>{const s=e.dom,i=t.dom,r=s.data.length;return mg(s,i,n,a),o.container()===i?$r(s,r):o},i.isSome()&&r.isSome()&&l.isSome()?N.some(d(i.getOrDie(),r.getOrDie(),l.getOrDie())):N.none()).orThunk((()=>(a&&(o.each((e=>ug(e.dom,e.dom.length,n))),s.each((e=>cg(e.dom,0,n)))),t)));var i,r,l,d})(n,s,e.schema,((e,t)=>xe(e.schema.getTextInlineElements(),jt(t)))(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):i.bind((e=>((e,t)=>{if(fs(e)){const n=vn('<br data-mce-bogus="1">');return t?$(Fn(e),(e=>{Lm(e)||Ca(e)})):_a(e),ba(e,n),N.some($r.before(n.dom))}return N.none()})(e,o))).fold((()=>{a&&vg(e,t,l)}),(n=>{a&&vg(e,t,N.some(n))}))},yg=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,_g=(e,t)=>Dn(yn(t),cd(e))&&!Ls(e.schema,t)&&e.dom.isEditable(t),Cg=e=>{var t;return"rtl"===Hi.DOM.getStyle(e,"direction",!0)||(e=>yg.test(e))(null!==(t=e.textContent)&&void 0!==t?t:"")},Dg=(e,t,n)=>{const a=((e,t,n)=>G(Hi.DOM.getParents(n.container(),"*",t),e))(e,t,n);return N.from(a[a.length-1])},xg=(e,t)=>{const n=t.container(),a=t.offset();return e?Vo(n)?eo(n.nextSibling)?$r(n.nextSibling,0):$r.after(n):zo(t)?$r(n,a+1):t:Vo(n)?eo(n.previousSibling)?$r(n.previousSibling,n.previousSibling.data.length):$r.before(n):jo(t)?$r(n,a-1):t},kg=L(xg,!0),Eg=L(xg,!1),Sg=(e,t)=>{const n=e=>e.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},Ag=e=>Sg(e,"Delete"),Tg=e=>ko(e)||So(e),Og=(e,t)=>En(e,t)?Jn(t,Tg,(e=>t=>It(On(t),e,kn))(e)):N.none(),Lg=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},Pg=(e,t,n)=>Ft(Pu(n),Mu(n),((a,o)=>{const s=xg(!0,a),i=xg(!1,o),r=xg(!1,t);return e?Ou(n,r).exists((e=>e.isEqual(i)&&t.isEqual(s))):Lu(n,r).exists((e=>e.isEqual(s)&&t.isEqual(i)))})).getOr(!0),Mg=e=>{var t;return(8===Zt(t=e)||"#comment"===jt(t)?Mn(e):Un(e)).bind(Mg).orThunk((()=>N.some(e)))},Bg=(e,t,n,a=!0)=>{var o;t.deleteContents();const s=Mg(n).getOr(n),i=yn(null!==(o=e.dom.getParent(s.dom,e.dom.isBlock))&&void 0!==o?o:n.dom);if(i.dom===e.getBody()?Lg(e,a):fs(i)&&(Po(i),a&&e.selection.setCursorLocation(i.dom,0)),!kn(n,i)){const e=It(On(i),n)?[]:On(r=i).map(Fn).map((e=>G(e,(e=>!kn(r,e))))).getOr([]);$(e.concat(Fn(n)),(e=>{kn(e,i)||En(e,i)||!fs(e)||Ca(e)}))}var r},Ig=(e,t)=>((e,t)=>{const n=e.dom;return n.parentNode?((e,t)=>J(e.dom.childNodes,(e=>t(yn(e)))).map(yn))(yn(n.parentNode),(n=>!kn(e,n)&&t(n))):N.none()})(e,t).isSome(),Rg=(e,t)=>ea(e,t).isSome(),Fg=e=>Va(e,"td,th"),Ng=(e,t)=>nm(yn(e),t),Vg=(e,t)=>({start:e,end:t}),Ug=vl([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Hg=(e,t)=>aa(yn(e),"td,th",t),zg=e=>!kn(e.start,e.end),jg=(e,t)=>nm(e.start,t).bind((n=>nm(e.end,t).bind((e=>Nt(kn(n,e),n))))),Zg=e=>t=>jg(t,e).map((e=>((e,t,n)=>({rng:e,table:t,cells:n}))(t,e,Fg(e)))),qg=(e,t,n,a)=>{if(n.collapsed||!e.forall(zg))return N.none();if(t.isSameTable){const t=e.bind(Zg(a));return N.some({start:t,end:t})}{const e=Hg(n.startContainer,a),t=Hg(n.endContainer,a),o=e.bind((e=>t=>nm(t,e).bind((e=>ce(Fg(e)).map((e=>Vg(t,e))))))(a)).bind(Zg(a)),s=t.bind((e=>t=>nm(t,e).bind((e=>de(Fg(e)).map((e=>Vg(e,t))))))(a)).bind(Zg(a));return N.some({start:o,end:s})}},$g=(e,t)=>ee(e,(e=>kn(e,t))),Wg=e=>Ft($g(e.cells,e.rng.start),$g(e.cells,e.rng.end),((t,n)=>e.cells.slice(t,n+1))),Kg=(e,t)=>{const{startTable:n,endTable:a}=t,o=e.cloneRange();return n.each((e=>o.setStartAfter(e.dom))),a.each((e=>o.setEndBefore(e.dom))),o},Gg=(e,t)=>{const n=(e=>t=>kn(e,t))(e),a=((e,t)=>{const n=Hg(e.startContainer,t),a=Hg(e.endContainer,t);return Ft(n,a,Vg)})(t,n),o=((e,t)=>{const n=Ng(e.startContainer,t),a=Ng(e.endContainer,t),o=n.isSome(),s=a.isSome(),i=Ft(n,a,kn).getOr(!1);return(e=>Ft(e.startTable,e.endTable,((t,n)=>{const a=Rg(t,(e=>kn(e,n))),o=Rg(n,(e=>kn(e,t)));return a||o?{...e,startTable:a?N.none():e.startTable,endTable:o?N.none():e.endTable,isSameTable:!1,isMultiTable:!1}:e})).getOr(e))({startTable:n,endTable:a,isStartInTable:o,isEndInTable:s,isSameTable:i,isMultiTable:!i&&o&&s})})(t,n);return((e,t,n)=>e.exists((e=>((e,t)=>!zg(e)&&jg(e,t).exists((e=>{const t=e.dom.rows;return 1===t.length&&1===t[0].cells.length})))(e,n)&&sm(e.start,t))))(a,t,n)?a.map((e=>Ug.singleCellTable(t,e.start))):o.isMultiTable?((e,t,n,a)=>qg(e,t,n,a).bind((({start:e,end:a})=>{const o=e.bind(Wg).getOr([]),s=a.bind(Wg).getOr([]);if(o.length>0&&s.length>0){const e=Kg(n,t);return N.some(Ug.multiTable(o,s,e))}return N.none()})))(a,o,t,n):((e,t,n,a)=>qg(e,t,n,a).bind((({start:e,end:t})=>e.or(t))).bind((e=>{const{isSameTable:a}=t,o=Wg(e).getOr([]);if(a&&e.cells.length===o.length)return N.some(Ug.fullTable(e.table));if(o.length>0){if(a)return N.some(Ug.partialTable(o,N.none()));{const e=Kg(n,t);return N.some(Ug.partialTable(o,N.some({...t,rng:e})))}}return N.none()})))(a,o,t,n)},Yg=e=>$(e,(e=>{on(e,"contenteditable"),Po(e)})),Xg=(e,t,n,a)=>{const o=n.cloneRange();a?(o.setStart(n.startContainer,n.startOffset),o.setEndAfter(t.dom.lastChild)):(o.setStartBefore(t.dom.firstChild),o.setEnd(n.endContainer,n.endOffset)),tv(e,o,t,!1).each((e=>e()))},Qg=e=>{const t=tm(e),n=yn(e.selection.getNode());uo(n.dom)&&fs(n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&Z(t,(e=>kn(e,n)))&&Jt(n,"data-mce-selected","1")},Jg=(e,t,n)=>N.some((()=>{const a=e.selection.getRng(),o=n.bind((({rng:n,isStartInTable:o})=>{const s=((e,t)=>N.from(e.dom.getParent(t,e.dom.isBlock)).map(yn))(e,o?n.endContainer:n.startContainer);n.deleteContents(),((e,t,n)=>{n.each((n=>{t?Ca(n):(Po(n),e.selection.setCursorLocation(n.dom,0))}))})(e,o,s.filter(fs));const i=o?t[0]:t[t.length-1];return Xg(e,i,a,o),fs(i)?N.none():N.some(o?t.slice(1):t.slice(0,-1))})).getOr(t);Yg(o),Qg(e)})),ev=(e,t,n,a)=>N.some((()=>{const o=e.selection.getRng(),s=t[0],i=n[n.length-1];Xg(e,s,o,!0),Xg(e,i,o,!1);const r=fs(s)?t:t.slice(1),l=fs(i)?n:n.slice(0,-1);Yg(r.concat(l)),a.deleteContents(),Qg(e)})),tv=(e,t,n,a=!0)=>N.some((()=>{Bg(e,t,n,a)})),nv=(e,t)=>N.some((()=>wg(e,!1,t))),av=(e,t)=>J(Mf(t,e),To),ov=(e,t)=>J(Mf(t,e),Xt("caption")),sv=(e,t)=>N.some((()=>{Po(t),e.selection.setCursorLocation(t.dom,0)})),iv=(e,t)=>e?Af(t):Tf(t),rv=(e,t,n)=>{const a=yn(e.getBody());return ov(a,n).fold((()=>((e,t,n,a)=>{const o=$r.fromRangeStart(e.selection.getRng());return av(n,a).bind((a=>fs(a)?sv(e,a):((e,t,n,a,o)=>Su(n,e.getBody(),o).bind((e=>av(t,yn(e.getNode())).bind((e=>kn(e,a)?N.none():N.some(k))))))(e,n,t,a,o)))})(e,t,a,n).orThunk((()=>Nt(((e,t)=>{const n=$r.fromRangeStart(e.selection.getRng());return iv(t,n)||Eu(t,e.getBody(),n).exists((e=>iv(t,e)))})(e,t),k)))),(n=>((e,t,n,a)=>{const o=$r.fromRangeStart(e.selection.getRng());return fs(a)?sv(e,a):((e,t,n,a,o)=>Su(n,e.getBody(),o).fold((()=>N.some(k)),(s=>((e,t,n,a)=>Pu(e.dom).bind((o=>Mu(e.dom).map((e=>t?n.isEqual(o)&&a.isEqual(e):n.isEqual(e)&&a.isEqual(o))))).getOr(!0))(a,n,o,s)?((e,t)=>sv(e,t))(e,a):((e,t,n)=>ov(e,yn(n.getNode())).fold((()=>N.some(k)),(e=>Nt(!kn(e,t),k))))(t,a,s))))(e,n,t,a,o)})(e,t,a,n)))},lv=(e,t)=>{const n=yn(e.selection.getStart(!0)),a=tm(e);return e.selection.isCollapsed()&&0===a.length?rv(e,t,n):((e,t,n)=>{const a=yn(e.getBody()),o=e.selection.getRng();return 0!==n.length?Jg(e,n,N.none()):((e,t,n,a)=>ov(t,a).fold((()=>((e,t,n)=>Gg(t,n).bind((t=>t.fold(L(tv,e),L(nv,e),L(Jg,e),L(ev,e)))))(e,t,n)),(t=>((e,t)=>sv(e,t))(e,t))))(e,a,o,t)})(e,n,a)},dv=(e,t)=>{let n=t;for(;n&&n!==e;){if(lo(n)||co(n))return n;n=n.parentNode}return null},cv=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],uv=Bt.each,mv=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),a=e=>Z(cv,(t=>je(e,t)))||n.has(e);return{compare:(e,n)=>{if(e.nodeName!==n.nodeName||e.nodeType!==n.nodeType)return!1;const o=e=>{const n={};return uv(t.getAttribs(e),(o=>{const s=o.nodeName.toLowerCase();"style"===s||a(s)||(n[s]=t.getAttrib(e,s))})),n},s=(e,t)=>{for(const n in e)if(xe(e,n)){const a=t[n];if(w(a))return!1;if(e[n]!==a)return!1;delete t[n]}for(const n in t)if(xe(t,n))return!1;return!0};if(Za(e)&&Za(n)){if(!s(o(e),o(n)))return!1;if(!s(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(n,"style"))))return!1}return!Ku(e)&&!Ku(n)},isAttributeInternal:a}},pv=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),hv=(e,t,n,a)=>{const o=n.name;for(let s=0,i=e.length;s<i;s++){const t=e[s];if(t.name===o){const e=a.nodes[o];e?e.nodes.push(n):a.nodes[o]={filter:t,nodes:[n]}}}if(n.attributes)for(let s=0,i=t.length;s<i;s++){const e=t[s],o=e.name;if(o in n.attributes.map){const t=a.attributes[o];t?t.nodes.push(n):a.attributes[o]={filter:e,nodes:[n]}}}},fv=(e,t)=>{const n=(e,n)=>{fe(e,(e=>{const a=ue(e.nodes);$(e.filter.callbacks,(o=>{for(let t=a.length-1;t>=0;t--){const o=a[t];(n?void 0!==o.attr(e.filter.name):o.name===e.filter.name)&&!y(o.parent)||a.splice(t,1)}a.length>0&&o(a,e.filter.name,t)}))}))};n(e.nodes,!1),n(e.attributes,!0)},gv=(e,t,n,a={})=>{const o=((e,t,n)=>{const a={nodes:{},attributes:{}};return n.firstChild&&((n,o)=>{let s=n;for(;s=s.walk();)hv(e,t,s,a)})(n),a})(e,t,n);fv(o,a)},vv=(e,t,n,a)=>{if((e.pad_empty_with_br||t.insert)&&n(a)){const e=new $h("br",1);t.insert&&e.attr("data-mce-bogus","1"),a.empty().append(e)}else a.empty().append(new $h("#text",3)).value=bo},bv=(e,t)=>{const n=null==e?void 0:e.firstChild;return _(n)&&n===e.lastChild&&n.name===t},wv=(e,t,n,a)=>a.isEmpty(t,n,(t=>((e,t)=>{const n=e.getElementRule(t.name);return!0===(null==n?void 0:n.paddEmpty)})(e,t))),yv=e=>{let t;for(let n=e;n;n=n.parent){const e=n.attr("contenteditable");if("false"===e)break;"true"===e&&(t=n)}return N.from(t)},_v=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const a=e.children();for(const e of a)n&&!t.isValidChild(n.name,e.name)&&_v(e,t,n);e.unwrap()}},Cv=(e,t,n,a=k)=>{const o=t.getTextBlockElements(),s=t.getNonEmptyElements(),i=t.getWhitespaceElements(),r=Bt.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),l=new Set,d=e=>e!==n&&!r[e.name];for(let c=0;c<e.length;c++){const n=e[c];let r,u,m;if(!n.parent||l.has(n))continue;if(o[n.name]&&"li"===n.parent.name){let e=n.next;for(;e&&o[e.name];)e.name="li",l.add(e),n.parent.insert(e,n.parent),e=e.next;n.unwrap();continue}const p=[n];for(r=n.parent;r&&!t.isValidChild(r.name,n.name)&&d(r);r=r.parent)p.push(r);if(r&&p.length>1)if(Dv(t,n,r))_v(n,t);else{p.reverse(),u=p[0].clone(),a(u);let e=u;for(let n=0;n<p.length-1;n++){t.isValidChild(e.name,p[n].name)&&n>0?(m=p[n].clone(),a(m),e.append(m)):m=e;for(let e=p[n].firstChild;e&&e!==p[n+1];){const t=e.next;m.append(e),e=t}e=m}wv(t,s,i,u)?r.insert(n,p[0],!0):(r.insert(u,p[0],!0),r.insert(n,u)),r=p[0],(wv(t,s,i,r)||bv(r,"br"))&&r.empty().remove()}else if(n.parent){if("li"===n.name){let e=n.prev;if(e&&("ul"===e.name||"ol"===e.name)){e.append(n);continue}if(e=n.next,e&&("ul"===e.name||"ol"===e.name)&&e.firstChild){e.insert(n,e.firstChild,!0);continue}const t=new $h("ul",1);a(t),n.wrap(t);continue}if(t.isValidChild(n.parent.name,"div")&&t.isValidChild("div",n.name)){const e=new $h("div",1);a(e),n.wrap(e)}else _v(n,t)}}},Dv=(e,t,n=t.parent)=>!(!n||(!e.children[t.name]||e.isValidChild(n.name,t.name))&&("a"!==t.name||!((e,t)=>{let n=e;for(;n;){if("a"===n.name)return!0;n=n.parent}return!1})(n))&&(!(e=>"summary"===e.name)(n)||!pv(t)||(null==n?void 0:n.firstChild)===t&&(null==n?void 0:n.lastChild)===t)),xv=e=>e.collapsed?e:(e=>{const t=$r.fromRangeStart(e),n=$r.fromRangeEnd(e),a=e.commonAncestorContainer;return Eu(!1,a,n).map((o=>!Qc(t,n,a)&&Qc(t,o,a)?((e,t,n,a)=>{const o=document.createRange();return o.setStart(e,t),o.setEnd(n,a),o})(t.container(),t.offset(),o.container(),o.offset()):e)).getOr(e)})(e),kv=(e,t)=>{let n=t.firstChild,a=t.lastChild;return n&&"meta"===n.name&&(n=n.next),a&&"mce_marker"===a.attr("id")&&(a=a.prev),((e,t)=>{const n=e.getNonEmptyElements();return _(t)&&(t.isEmpty(n)||((e,t)=>e.getBlockElements()[t.name]&&(e=>_(e.firstChild)&&e.firstChild===e.lastChild)(t)&&(e=>"br"===e.name||e.value===bo)(t.firstChild))(e,t))})(e,a)&&(a=null==a?void 0:a.prev),!(!n||n!==a||"ul"!==n.name&&"ol"!==n.name)},Ev=e=>{return e.length>0&&(!(n=e[e.length-1]).firstChild||_(null==(t=n)?void 0:t.firstChild)&&t.firstChild===t.lastChild&&(e=>e.data===bo||io(e))(t.firstChild))?e.slice(0,-1):e;var t,n},Sv=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},Av=(e,t)=>{const n=$r.after(e),a=Cu(t).prev(n);return a?a.toRange():null},Tv=(e,t,n,a)=>{const o=((e,t,n)=>{const a=t.serialize(n);return(e=>{var t,n;const a=e.firstChild,o=e.lastChild;return a&&"META"===a.nodeName&&(null===(t=a.parentNode)||void 0===t||t.removeChild(a)),o&&"mce_marker"===o.id&&(null===(n=o.parentNode)||void 0===n||n.removeChild(o)),e})(e.createFragment(a))})(t,e,a),s=Sv(t,n.startContainer),i=Ev((r=o.firstChild,G(null!==(l=null==r?void 0:r.childNodes)&&void 0!==l?l:[],(e=>"LI"===e.nodeName))));var r,l;const d=t.getRoot(),c=e=>{const a=$r.fromRangeStart(n),o=Cu(t.getRoot()),i=1===e?o.prev(a):o.next(a),r=null==i?void 0:i.getNode();return!r||Sv(t,r)!==s};return s?c(1)?((e,t,n)=>{const a=e.parentNode;return a&&Bt.each(t,(t=>{a.insertBefore(t,e)})),((e,t)=>{const n=$r.before(e),a=Cu(t).next(n);return a?a.toRange():null})(e,n)})(s,i,d):c(2)?((e,t,n,a)=>(a.insertAfter(t.reverse(),e),Av(t[0],n)))(s,i,d,t):((e,t,n,a)=>{const o=((e,t)=>{const n=t.cloneRange(),a=t.cloneRange();return n.setStartBefore(e),a.setEndAfter(e),[n.cloneContents(),a.cloneContents()]})(e,a),s=e.parentNode;return s&&(s.insertBefore(o[0],e),Bt.each(t,(t=>{s.insertBefore(t,e)})),s.insertBefore(o[1],e),s.removeChild(e)),Av(t[t.length-1],n)})(s,i,d,n):null},Ov=["pre"],Lv=uo,Pv=(e,t,n)=>{var a,o;const s=e.selection,i=e.dom,r=e.parser,l=n.merge,d=mf({validate:!0},e.schema),c='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.preserve_zwsp||(t=Io(t)),-1===t.indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,c);let u=s.getRng();const m=u.startContainer,p=e.getBody();m===p&&s.isCollapsed()&&i.isBlock(p.firstChild)&&((e,t)=>_(t)&&!e.schema.getVoidElements()[t.nodeName])(e,p.firstChild)&&i.isEmpty(p.firstChild)&&(u=i.createRng(),u.setStart(p.firstChild,0),u.setEnd(p.firstChild,0),s.setRng(u)),s.isCollapsed()||(e=>{const t=e.dom,n=xv(e.selection.getRng());e.selection.setRng(n);const a=t.getParent(n.startContainer,Lv);((e,t,n)=>!!_(n)&&n===e.getParent(t.endContainer,Lv)&&sm(yn(n),t))(t,n,a)?tv(e,n,yn(a)):n.startContainer===n.endContainer&&n.endOffset-n.startOffset==1&&eo(n.startContainer.childNodes[n.startOffset])?n.deleteContents():e.getDoc().execCommand("Delete",!1)})(e);const h=s.getNode(),f={context:h.nodeName.toLowerCase(),data:n.data,insert:!0},g=r.parse(t,f);if(!0===n.paste&&kv(e.schema,g)&&((e,t)=>!!Sv(e,t))(i,h))return u=Tv(d,i,s.getRng(),g),u&&s.setRng(u),t;!0===n.paste&&((e,t,n,a)=>{var o;const s=t.firstChild,i=t.lastChild,r=s===("bookmark"===i.attr("data-mce-type")?i.prev:i),l=j(Ov,s.name);if(r&&l){const t="false"!==s.attr("contenteditable"),i=(null===(o=e.getParent(n,e.isBlock))||void 0===o?void 0:o.nodeName.toLowerCase())===s.name,r=N.from(dv(a,n)).forall(lo);return t&&i&&r}return!1})(i,g,h,e.getBody())&&(null===(a=g.firstChild)||void 0===a||a.unwrap()),(e=>{let t=e;for(;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")})(g);let v=g.lastChild;if(v&&"mce_marker"===v.attr("id")){const t=v;for(v=v.prev;v;v=v.walk(!0))if(3===v.type||!i.isBlock(v.name)){v.parent&&e.schema.isValidChild(v.parent.name,"span")&&v.parent.insert(t,v,"br"===v.name);break}}if(e._selectionOverrides.showBlockCaretContainer(h),f.invalid||((e,t,n)=>{var a;return Z(n.children(),pv)&&"SUMMARY"===(null===(a=e.getParent(t,e.isBlock))||void 0===a?void 0:a.nodeName)})(i,h,g)){e.selection.setContent(c);let n,a=s.getNode();const l=e.getBody();for(oo(a)?a=n=l:n=a;n&&n!==l;)a=n,n=n.parentNode;t=a===l?l.innerHTML:i.getOuterHTML(a);const u=r.parse(t),m=(e=>{for(let t=e;t;t=t.walk())if("mce_marker"===t.attr("id"))return N.some(t);return N.none()})(u),p=m.bind(yv).getOr(u);m.each((e=>e.replace(g)));const h=g.children(),f=null!==(o=g.parent)&&void 0!==o?o:u;g.unwrap();const v=G(h,(t=>Dv(e.schema,t,f)));Cv(v,e.schema,p),gv(r.getNodeFilters(),r.getAttributeFilters(),u),t=d.serialize(u),a===l?i.setHTML(l,t):i.setOuterHTML(a,t)}else t=d.serialize(g),((e,t,n)=>{var a;if("all"===n.getAttribute("data-mce-bogus"))null===(a=n.parentNode)||void 0===a||a.insertBefore(e.dom.createFragment(t),n);else{const a=n.firstChild,o=n.lastChild;!a||a===o&&"BR"===a.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})}})(e,t,h);var b;return((e,t)=>{const n=e.schema.getTextInlineElements(),a=e.dom;if(t){const t=e.getBody(),o=mv(e);Bt.each(a.select("*[data-mce-fragment]"),(e=>{if(_(n[e.nodeName.toLowerCase()])&&((e,t)=>ae(ff(e,t),(e=>!(e=>pf.has(e))(e))))(a,e))for(let n=e.parentElement;_(n)&&n!==t&&!gf(a,e,n);n=n.parentElement)if(o.compare(n,e)){a.remove(e,!0);break}}))}})(e,l),((e,t)=>{var n,a,o;let s;const i=e.dom,r=e.selection;if(!t)return;r.scrollIntoView(t);const l=dv(e.getBody(),t);if(l&&"false"===i.getContentEditable(l))return i.remove(t),void r.select(l);let d=i.createRng();const c=t.previousSibling;if(eo(c)){d.setStart(c,null!==(a=null===(n=c.nodeValue)||void 0===n?void 0:n.length)&&void 0!==a?a:0);const e=t.nextSibling;eo(e)&&(c.appendData(e.data),null===(o=e.parentNode)||void 0===o||o.removeChild(e))}else d.setStartBefore(t),d.setEndBefore(t);const u=i.getParent(t,i.isBlock);if(i.remove(t),u&&i.isEmpty(u)){const t=Lv(u);_a(yn(u)),d.setStart(u,0),d.setEnd(u,0),t||(e=>!!e.getAttribute("data-mce-fragment"))(u)||!(s=(t=>{let n=$r.fromRangeStart(t);return n=Cu(e.getBody()).next(n),null==n?void 0:n.toRange()})(d))?i.add(u,i.create("br",t?{}:{"data-mce-bogus":"1"})):(d=s,i.remove(u))}r.setRng(d)})(e,i.get("mce_marker")),b=e.getBody(),Bt.each(b.getElementsByTagName("*"),(e=>{e.removeAttribute("data-mce-fragment")})),((e,t,n)=>{N.from(e.getParent(t,"td,th")).map(yn).each((e=>((e,t)=>{Un(e).each((n=>{Mn(n).each((a=>{t.isBlock(jt(e))&&xo(n)&&t.isBlock(jt(a))&&Ca(n)}))}))})(e,n)))})(i,s.getStart(),e.schema),((e,t,n)=>{const a=Pn(yn(n),(e=>kn(e,yn(t))));le(a,a.length-2).filter(Wt).fold((()=>Es(e,t)),(t=>Es(e,t.dom)))})(e.schema,e.getBody(),s.getStart()),t},Mv=e=>e instanceof $h,Bv=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),!0!==n&&(e=>{Ah(e)&&Pu(e.getBody()).each((t=>{const n=t.getNode(),a=Xa(n)?Pu(n).getOr(t):t;e.selection.setRng(a.toRange())}))})(e)},Iv=e=>C(e)?e:R,Rv=(e,t,n)=>{const a=t(e),o=Iv(n);return a.orThunk((()=>o(e)?N.none():((e,t,n)=>{let a=e.dom;const o=Iv(n);for(;a.parentNode;){a=a.parentNode;const e=yn(a),n=t(e);if(n.isSome())return n;if(o(e))break}return N.none()})(e,t,o)))},Fv=ym,Nv=(e,t,n)=>{const a=e.formatter.get(n);if(a)for(let o=0;o<a.length;o++){const n=a[o];if(Sm(n)&&!1===n.inherit&&e.dom.is(t,n.selector))return!0}return!1},Vv=(e,t,n,a,o)=>{const s=e.dom.getRoot();if(t===s)return!1;const i=e.dom.getParent(t,(t=>!!Nv(e,t,n)||t.parentNode===s||!!zv(e,t,n,a,!0)));return!!zv(e,i,n,a,o)},Uv=(e,t,n)=>!(!Am(n)||!Fv(t,n.inline))||!(!Em(n)||!Fv(t,n.block))||!!Sm(n)&&Za(t)&&e.is(t,n.selector),Hv=(e,t,n,a,o,s)=>{const i=n[a],r="attributes"===a;if(C(n.onmatch))return n.onmatch(t,n,a);if(i)if(Se(i)){for(let l=0;l<i.length;l++)if(r?e.getAttrib(t,i[l]):Cm(e,t,i[l]))return!0}else for(const l in i)if(xe(i,l)){const a=r?e.getAttrib(t,l):Cm(e,t,l),d=wm(i[l],s),c=y(a)||Ye(a);if(c&&y(d))continue;if(o&&c&&!n.exact)return!1;if((!o||n.exact)&&!Fv(a,_m(d,l)))return!1}return!0},zv=(e,t,n,a,o)=>{const s=e.formatter.get(n),i=e.dom;if(s&&Za(t))for(let r=0;r<s.length;r++){const n=s[r];if(Uv(e.dom,t,n)&&Hv(i,t,n,"attributes",o,a)&&Hv(i,t,n,"styles",o,a)){const o=n.classes;if(o)for(let n=0;n<o.length;n++)if(!e.dom.hasClass(t,wm(o[n],a)))return;return n}}},jv=(e,t,n,a,o)=>{if(a)return Vv(e,a,t,n,o);if(a=e.selection.getNode(),Vv(e,a,t,n,o))return!0;const s=e.selection.getStart();return!(s===a||!Vv(e,s,t,n,o))},Zv=Mo,qv=e=>{if(e){const t=new Ha(e,e);for(let e=t.current();e;e=t.next())if(eo(e))return e}return null},$v=e=>{const t=bn("span");return en(t,{id:Bu,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&ba(t,wn(Zv)),t},Wv=(e,t,n)=>{const a=e.dom,o=e.selection;if(Om(t))wg(e,!1,yn(t),n,!0);else{const e=o.getRng(),n=a.getParent(t,a.isBlock),s=e.startContainer,i=e.startOffset,r=e.endContainer,l=e.endOffset,d=(e=>{const t=qv(e);return t&&t.data.charAt(0)===Zv&&t.deleteData(0,1),t})(t);a.remove(t,!0),s===d&&i>0&&e.setStart(d,i-1),r===d&&l>0&&e.setEnd(d,l-1),n&&a.isEmpty(n)&&Po(yn(n)),o.setRng(e)}},Kv=(e,t,n)=>{const a=e.dom,o=e.selection;if(t)Wv(e,t,n);else if(!(t=Ru(e.getBody(),o.getStart())))for(;t=a.get(Bu);)Wv(e,t,n)},Gv=(e,t)=>(e.appendChild(t),t),Yv=(e,t)=>{var n;const a=Y(e,((e,t)=>Gv(e,t.cloneNode(!1))),t),o=null!==(n=a.ownerDocument)&&void 0!==n?n:document;return Gv(a,o.createTextNode(Zv))},Xv=(e,t,n,a)=>{const o=e.dom,r=e.selection;let l=!1;const d=e.formatter.get(t);if(!d)return;const c=r.getRng(),u=c.startContainer,m=c.startOffset;let p=u;eo(u)&&(m!==u.data.length&&(l=!0),p=p.parentNode);const h=[];let f;for(;p;){if(zv(e,p,t,n,a)){f=p;break}p.nextSibling&&(l=!0),h.push(p),p=p.parentNode}if(f)if(l){const s=r.getBookmark();c.collapse(!0);let i=$m(o,c,d,!0);i=Np(i),e.formatter.remove(t,n,i,a),r.moveToBookmark(s)}else{const l=Ru(e.getBody(),f),d=_(l)?o.getParents(f.parentNode,F,l):[],c=$v(!1).dom;((e,t,n)=>{var a,o;const s=e.dom,i=s.getParent(n,L(fm,e.schema));i&&s.isEmpty(i)?null===(a=n.parentNode)||void 0===a||a.replaceChild(t,n):((e=>{const t=Va(e,"br"),n=G((e=>{const t=[];let n=e.dom;for(;n;)t.push(yn(n)),n=n.lastChild;return t})(e).slice(-1),xo);t.length===n.length&&$(n,Ca)})(yn(n)),s.isEmpty(n)?null===(o=n.parentNode)||void 0===o||o.replaceChild(t,n):s.insertAfter(t,n))})(e,c,null!=l?l:f);const u=((e,t,n,a,o,r)=>{const l=e.formatter,d=e.dom,c=G(pe(l.get()),(e=>e!==a&&!ze(e,"removeformat"))),u=((e,t,n)=>X(n,((n,a)=>{const o=((e,t)=>km(e,t,(e=>{const t=e=>C(e)||e.length>1&&"%"===e.charAt(0);return Z(["styles","attributes"],(n=>De(e,n).exists((e=>{const n=g(e)?e:Ce(e);return Z(n,t)}))))})))(e,a);return e.formatter.matchNode(t,a,{},o)?n.concat([a]):n}),[]))(e,n,c);if(G(u,(t=>!((e,t,n)=>{const a=["inline","block","selector","attributes","styles","classes"],o=e=>ye(e,((e,t)=>Z(a,(e=>e===t))));return km(e,t,(t=>{const a=o(t);return km(e,n,(e=>{const t=o(e);return((e,t,n=i)=>s(n).eq(e,t))(a,t)}))}))})(e,t,a))).length>0){const e=n.cloneNode(!1);return d.add(t,e),l.remove(a,o,e,r),d.remove(e),N.some(e)}return N.none()})(e,c,f,t,n,a),m=Yv([...h,...u.toArray(),...d],c);l&&Wv(e,l,_(l)),r.setCursorLocation(m,1),o.isEmpty(f)&&o.remove(f)}},Qv=e=>{const t=$v(!1),n=Yv(e,t.dom);return{caretContainer:t,caretPosition:$r(n,0)}},Jv=(e,t)=>{const{caretContainer:n,caretPosition:a}=Qv(t);return fa(yn(e),n),Ca(yn(e)),a},eb=(e,t)=>{if(Iu(t.dom))return!1;const n=e.schema.getTextInlineElements();return xe(n,jt(t))&&!Iu(t.dom)&&!Ya(t.dom)},tb={},nb=Wa(["pre"]);((e,t)=>{tb[e]||(tb[e]=[]),tb[e].push((e=>{if(!e.selection.getRng().collapsed){const t=e.selection.getSelectedBlocks(),n=G(G(t,nb),(e=>t=>{const n=t.previousSibling;return nb(n)&&j(e,n)})(t));$(n,(e=>{((e,t)=>{const n=yn(t),a=An(n).dom;Ca(n),ya(yn(e),[bn("br",a),bn("br",a),...Fn(n)])})(e.previousSibling,e)}))}}))})("pre");const ab=["fontWeight","fontStyle","color","fontSize","fontFamily"],ob=(e,t)=>{const n=e.get(t);return g(n)?J(n,(e=>Am(e)&&"span"===e.inline&&(e=>h(e.styles)&&Z(pe(e.styles),(e=>j(ab,e))))(e))):N.none()},sb=(e,t)=>Lu(t,$r.fromRangeStart(e)).isNone(),ib=(e,t)=>!1===Ou(t,$r.fromRangeEnd(e)).exists((e=>!io(e.getNode())||Ou(t,e).isSome())),rb=e=>t=>ho(t)&&e.isEditable(t),lb=e=>G(e.getSelectedBlocks(),rb(e.dom)),db=Bt.each,cb=e=>Za(e)&&!Ku(e)&&!Iu(e)&&!Ya(e),ub=(e,t)=>{for(let n=e;n;n=n[t]){if(eo(n)&&Ge(n.data))return e;if(Za(n)&&!Ku(n))return n}return e},mb=(e,t,n)=>{const a=mv(e),o=qa(t)&&e.dom.isEditable(t),s=qa(n)&&e.dom.isEditable(n);if(o&&s){const o=ub(t,"previousSibling"),s=ub(n,"nextSibling");if(a.compare(o,s)){for(let e=o.nextSibling;e&&e!==s;){const t=e;e=e.nextSibling,o.appendChild(t)}return e.dom.remove(s),Bt.each(Bt.grep(s.childNodes),(e=>{o.appendChild(e)})),o}}return n},pb=(e,t,n,a)=>{var o;if(a&&!1!==t.merge_siblings){const t=null!==(o=mb(e,hm(a),a))&&void 0!==o?o:a;mb(e,t,hm(t,!0))}},hb=(e,t,n)=>{db(e.childNodes,(e=>{cb(e)&&(t(e)&&n(e),e.hasChildNodes()&&hb(e,t,n))}))},fb=(e,t)=>n=>!(!n||!Cm(e,n,t)),gb=(e,t,n)=>a=>{e.setStyle(a,t,n),""===a.getAttribute("style")&&a.removeAttribute("style"),((e,t)=>{"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)})(e,a)},vb=vl([{keep:[]},{rename:["name"]},{removed:[]}]),bb=/^(src|href|style)$/,wb=Bt.each,yb=ym,_b=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),Cb=(e,t,n)=>{let a=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"];if(Za(a)){const e=a.childNodes.length-1;!n&&o&&o--,a=a.childNodes[o>e?e:o]}return eo(a)&&n&&o>=a.data.length&&(a=new Ha(a,e.getBody()).next()||a),eo(a)&&!n&&0===o&&(a=new Ha(a,e.getBody()).prev()||a),a},Db=(e,t)=>{const n=t?"firstChild":"lastChild",a=e[n];return(e=>/^(TR|TH|TD)$/.test(e.nodeName))(e)&&a?"TR"===e.nodeName&&a[n]||a:e},xb=(e,t,n,a)=>{var o;const s=e.create(n,a);return null===(o=t.parentNode)||void 0===o||o.insertBefore(s,t),s.appendChild(t),s},kb=(e,t,n,a,o)=>{const s=yn(t),i=yn(e.create(a,o)),r=n?Rn(s):In(s);return ya(i,r),n?(fa(s,i),va(i,s)):(ga(s,i),ba(i,s)),i.dom},Eb=(e,t,n)=>{const a=t.parentNode;let o;const s=e.dom,i=Nl(e);Em(n)&&a===s.getRoot()&&(n.list_block&&yb(t,n.list_block)||$(ue(t.childNodes),(t=>{gm(e,i,t.nodeName.toLowerCase())?o?o.appendChild(t):(o=xb(s,t,i),s.setAttribs(o,Vl(e))):o=null}))),(e=>Sm(e)&&Am(e)&&It(De(e,"mixed"),!0))(n)&&!yb(n.inline,t)||s.remove(t,!0)},Sb=(e,t,n)=>D(e)?{name:t,value:null}:{name:e,value:wm(t,n)},Ab=(e,t)=>{""===e.getAttrib(t,"style")&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},Tb=(e,t,n,a,o)=>{let s=!1;wb(n.styles,((i,r)=>{const{name:l,value:d}=Sb(r,i,a),c=_m(d,l);(n.remove_similar||v(d)||!Za(o)||yb(Cm(e,o,l),c))&&e.setStyle(t,l,""),s=!0})),s&&Ab(e,t)},Ob=(e,t,n,a,o)=>{const s=e.dom,i=mv(e),r=e.schema;if(Am(t)&&Ts(r,t.inline)&&Ls(r,a)&&a.parentElement===e.getBody())return Eb(e,a,t),vb.removed();if(!t.ceFalseOverride&&a&&"false"===s.getContentEditableParent(a))return vb.keep();if(a&&!Uv(s,a,t)&&!((e,t)=>t.links&&"A"===e.nodeName)(a,t))return vb.keep();const l=a,d=t.preserve_attributes;if(Am(t)&&"all"===t.remove&&g(d)){const e=G(s.getAttribs(l),(e=>j(d,e.name.toLowerCase())));if(s.removeAllAttribs(l),$(e,(e=>s.setAttrib(l,e.name,e.value))),e.length>0)return vb.rename("span")}if("all"!==t.remove){Tb(s,l,t,n,o),wb(t.attributes,((e,a)=>{const{name:i,value:r}=Sb(a,e,n);if(t.remove_similar||v(r)||!Za(o)||yb(s.getAttrib(o,i),r)){if("class"===i){const e=s.getAttrib(l,i);if(e){let t="";if($(e.split(/\s+/),(e=>{/mce\-\w+/.test(e)&&(t+=(t?" ":"")+e)})),t)return void s.setAttrib(l,i,t)}}if(bb.test(i)&&l.removeAttribute("data-mce-"+i),"style"===i&&Wa(["li"])(l)&&"none"===s.getStyle(l,"list-style-type"))return l.removeAttribute(i),void s.setStyle(l,"list-style-type","none");"class"===i&&l.removeAttribute("className"),l.removeAttribute(i)}})),wb(t.classes,(e=>{e=wm(e,n),Za(o)&&!s.hasClass(o,e)||s.removeClass(l,e)}));const e=s.getAttribs(l);for(let t=0;t<e.length;t++){const n=e[t].nodeName;if(!i.isAttributeInternal(n))return vb.keep()}}return"none"!==t.remove?(Eb(e,l,t),vb.removed()):vb.keep()},Lb=(e,t,n,a)=>Ob(e,t,n,a,a).fold(A(a),(t=>(e.dom.createFragment().appendChild(a),e.dom.rename(a,t))),A(null)),Pb=(e,t,n,a,o)=>{(a||e.selection.isEditable())&&((e,t,n,a,o)=>{const s=e.formatter.get(t),i=s[0],r=e.dom,l=e.selection,d=a=>{const r=((e,t,n,a,o)=>{let s;return t.parentNode&&$(xm(e.dom,t.parentNode).reverse(),(t=>{if(!s&&Za(t)&&"_start"!==t.id&&"_end"!==t.id){const i=zv(e,t,n,a,o);i&&!1!==i.split&&(s=t)}})),s})(e,a,t,n,o);return((e,t,n,a,o,s,i,r)=>{var l,d;let c,u;const m=e.dom;if(n){const s=n.parentNode;for(let n=a.parentNode;n&&n!==s;n=n.parentNode){let a=m.clone(n,!1);for(let n=0;n<t.length&&(a=Lb(e,t[n],r,a),null!==a);n++);a&&(c&&a.appendChild(c),u||(u=a),c=a)}i.mixed&&m.isBlock(n)||(a=null!==(l=m.split(n,a))&&void 0!==l?l:a),c&&u&&(null===(d=o.parentNode)||void 0===d||d.insertBefore(c,o),u.appendChild(o),Am(i)&&pb(e,i,0,c))}return a})(e,s,r,a,a,0,i,n)},c=t=>Z(s,(a=>Mb(e,a,n,t,t))),u=t=>{const n=ue(t.childNodes),a=c(t)||Z(s,(e=>Uv(r,t,e))),o=t.parentNode;if(!a&&_(o)&&Tm(i)&&c(o),i.deep&&n.length)for(let e=0;e<n.length;e++)u(n[e]);$(["underline","line-through","overline"],(n=>{Za(t)&&e.dom.getStyle(t,"text-decoration")===n&&t.parentNode&&Dm(r,t.parentNode)===n&&Mb(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:n}},void 0,t)}))},m=e=>{const t=r.get(e?"_start":"_end");if(t){let n=t[e?"firstChild":"lastChild"];return(e=>Ku(e)&&Za(e)&&("_start"===e.id||"_end"===e.id))(n)&&(n=n[e?"firstChild":"lastChild"]),eo(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),r.remove(t,!0),n}return null},p=t=>{let n,a,o=$m(r,t,s,t.collapsed);if(i.split){if(o=Np(o),n=Cb(e,o,!0),a=Cb(e,o),n!==a){if(n=Db(n,!0),a=Db(a,!1),_b(r,n,a)){const e=N.from(n.firstChild).getOr(n);return d(kb(r,e,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void m(!0)}if(_b(r,a,n)){const e=N.from(a.lastChild).getOr(a);return d(kb(r,e,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void m(!1)}n=xb(r,n,"span",{id:"_start","data-mce-type":"bookmark"}),a=xb(r,a,"span",{id:"_end","data-mce-type":"bookmark"});const e=r.createRng();e.setStartAfter(n),e.setEndBefore(a),Wm(r,e,(e=>{$(e,(e=>{Ku(e)||Ku(e.parentNode)||d(e)}))})),d(n),d(a),n=m(!0),a=m()}else n=a=d(n);o.startContainer=n.parentNode?n.parentNode:n,o.startOffset=r.nodeIndex(n),o.endContainer=a.parentNode?a.parentNode:a,o.endOffset=r.nodeIndex(a)+1}Wm(r,o,(e=>{$(e,u)}))};if(a){if(cm(a)){const e=r.createRng();e.setStartBefore(a),e.setEndAfter(a),p(e)}else p(a);ap(e,t,a,n)}else l.isCollapsed()&&Am(i)&&!tm(e).length?Xv(e,t,n,o):(mm(e,(()=>lm(e,p)),(a=>Am(i)&&jv(e,t,n,a))),e.nodeChanged()),((e,t,n)=>{"removeformat"===t?$(lb(e.selection),(t=>{$(ab,(n=>e.dom.setStyle(t,n,""))),Ab(e.dom,t)})):ob(e.formatter,t).each((t=>{$(lb(e.selection),(a=>Tb(e.dom,a,t,n,null)))}))})(e,t,n),ap(e,t,a,n)})(e,t,n,a,o)},Mb=(e,t,n,a,o)=>Ob(e,t,n,a,o).fold(R,(t=>(e.dom.rename(a,t),!0)),F),Bb=Bt.each,Ib=Bt.each,Rb=(e,t,n,a)=>{if(Ib(n.styles,((n,o)=>{e.setStyle(t,o,wm(n,a))})),n.styles){const n=e.getAttrib(t,"style");n&&e.setAttrib(t,"data-mce-style",n)}},Fb=(e,t,n,a)=>{const o=e.formatter.get(t),s=o[0],i=!a&&e.selection.isCollapsed(),r=e.dom,l=e.selection,d=(e,t=s)=>{C(t.onformat)&&t.onformat(e,t,n,a),Rb(r,e,t,n),Ib(t.attributes,((t,a)=>{r.setAttrib(e,a,wm(t,n))})),Ib(t.classes,(t=>{const a=wm(t,n);r.hasClass(e,a)||r.addClass(e,a)}))},c=(e,t)=>{let n=!1;return Ib(e,(e=>!(!Sm(e)||("false"!==r.getContentEditable(t)||e.ceFalseOverride)&&(!_(e.collapsed)||e.collapsed===i)&&r.is(t,e.selector)&&!Iu(t)&&(d(t,e),n=!0,1)))),n},u=e=>{if(p(e)){const t=r.create(e);return d(t),t}return null},m=(a,i,r)=>{const l=[];let m=!0;const p=s.inline||s.block,h=u(p);Wm(a,i,(i=>{let u;const f=i=>{let g=!1,v=m,b=!1;const w=i.parentNode,y=w.nodeName.toLowerCase(),C=a.getContentEditable(i);_(C)&&(v=m,m="true"===C,g=!0,b=bm(e,i));const D=m&&!g;if(io(i)&&!((e,t,n,a)=>{if(Dd(e)&&Am(t)&&n.parentNode){const t=ci(e.schema),o=Ig(yn(n),(e=>Iu(e.dom)));return ke(t,a)&&fs(yn(n.parentNode),!1)&&!o}return!1})(e,s,i,y))return u=null,void(Em(s)&&a.remove(i));if((a=>(e=>Em(e)&&!0===e.wrapper)(s)&&zv(e,a,t,n))(i))u=null;else{if(((t,n,a)=>{const o=(e=>Em(e)&&!0!==e.wrapper)(s)&&fm(e.schema,t)&&gm(e,n,p);return a&&o})(i,y,D)){const e=a.rename(i,p);return d(e),l.push(e),void(u=null)}if(Sm(s)){let e=c(o,i);if(!e&&_(w)&&Tm(s)&&(e=c(o,w)),!Am(s)||e)return void(u=null)}_(h)&&((t,n,o,i)=>{const l=t.nodeName.toLowerCase(),d=gm(e,p,l)&&gm(e,n,p),c=!r&&eo(t)&&Bo(t.data),u=Iu(t),m=!Am(s)||!a.isBlock(t);return(o||i)&&d&&!c&&!u&&m})(i,y,D,b)?(u||(u=a.clone(h,!1),w.insertBefore(u,i),l.push(u)),b&&g&&(m=v),u.appendChild(i)):(u=null,$(ue(i.childNodes),f),g&&(m=v),u=null)}};$(i,f)})),!0===s.links&&$(l,(e=>{const t=e=>{"A"===e.nodeName&&d(e,s),$(ue(e.childNodes),t)};t(e)})),$(l,(i=>{const r=(e=>{let t=0;return $(e.childNodes,(e=>{(e=>_(e)&&eo(e)&&0===e.length)(e)||Ku(e)||t++})),t})(i);!(l.length>1)&&a.isBlock(i)||0!==r?(Am(s)||Em(s)&&s.wrapper)&&(s.exact||1!==r||(i=(e=>{const t=J(e.childNodes,um).filter((e=>"false"!==a.getContentEditable(e)&&Uv(a,e,s)));return t.map((t=>{const n=a.clone(t,!1);return d(n),a.replace(n,e,!0),a.remove(t,!0),n})).getOr(e)})(i)),((e,t,n,a)=>{Bb(t,(t=>{Am(t)&&Bb(e.dom.select(t.inline,a),(a=>{cb(a)&&Mb(e,t,n,a,t.exact?a:null)})),((e,t,n)=>{if(t.clear_child_styles){const a=t.links?"*:not(a)":"*";db(e.select(a,n),(n=>{cb(n)&&e.isEditable(n)&&db(t.styles,((t,a)=>{e.setStyle(n,a,"")}))}))}})(e.dom,t,a)}))})(e,o,n,i),((e,t,n,a,o)=>{const s=o.parentNode;zv(e,s,n,a)&&Mb(e,t,a,o)||t.merge_with_parents&&s&&e.dom.getParent(s,(s=>!!zv(e,s,n,a)&&(Mb(e,t,a,o),!0)))})(e,s,t,n,i),((e,t,n,a)=>{if(t.styles&&t.styles.backgroundColor){const o=fb(e,"fontSize");hb(a,(t=>o(t)&&e.isEditable(t)),gb(e,"backgroundColor",wm(t.styles.backgroundColor,n)))}})(a,s,n,i),((e,t,n,a)=>{const o=t=>{if(qa(t)&&Za(t.parentNode)&&e.isEditable(t)){const n=Dm(e,t.parentNode);e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(Bt.walk(a,o,"childNodes"),o(a))})(a,s,0,i),((e,t,n,a)=>{if(Am(t)&&("sub"===t.inline||"sup"===t.inline)){const n=fb(e,"fontSize");hb(a,(t=>n(t)&&e.isEditable(t)),gb(e,"fontSize",""));const o=G(e.select("sup"===t.inline?"sub":"sup",a),e.isEditable);e.remove(o,!0)}})(a,s,0,i),pb(e,s,0,i)):a.remove(i,!0)}))},h=cm(a)?a:l.getNode();if("false"===r.getContentEditable(h)&&!bm(e,h))return c(o,a=h),void np(e,t,a,n);if(s){if(a)if(cm(a)){if(!c(o,a)){const e=r.createRng();e.setStartBefore(a),e.setEndAfter(a),m(r,$m(r,e,o),!0)}}else m(r,a,!0);else i&&Am(s)&&!tm(e).length?((e,t,n)=>{let a;const o=e.selection,s=e.formatter.get(t);if(!s)return;const i=o.getRng();let r=i.startOffset;const l=i.startContainer.nodeValue;a=Ru(e.getBody(),o.getStart());const d=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(l&&r>0&&r<l.length&&d.test(l.charAt(r))&&d.test(l.charAt(r-1))){const a=o.getBookmark();i.collapse(!0);let r=$m(e.dom,i,s);r=Np(r),e.formatter.apply(t,n,r),o.moveToBookmark(a)}else{let s=a?qv(a):null;a&&(null==s?void 0:s.data)===Zv||(c=e.getDoc(),u=$v(!0).dom,a=c.importNode(u,!0),s=a.firstChild,i.insertNode(a),r=1),e.formatter.apply(t,n,a),o.setCursorLocation(s,r)}var c,u})(e,t,n):(l.setRng(xv(l.getRng())),mm(e,(()=>{lm(e,((e,t)=>{const n=t?e:$m(r,e,o);m(r,n,!1)}))}),F),e.nodeChanged()),ob(e.formatter,t).each((t=>{$((e=>G((e=>{const t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(1===t.length)return sb(n,t[0])&&ib(n,t[0])?t:[];{const e=de(t).filter((e=>sb(n,e))).toArray(),a=ce(t).filter((e=>ib(n,e))).toArray(),o=t.slice(1,-1);return e.concat(o).concat(a)}})(e),rb(e.dom)))(e.selection),(e=>Rb(r,e,t,n)))}));((e,t)=>{xe(tb,e)&&$(tb[e],(e=>{e(t)}))})(t,e)}np(e,t,a,n)},Nb=(e,t,n,a)=>{(a||e.selection.isEditable())&&Fb(e,t,n,a)},Vb=e=>xe(e,"vars"),Ub=e=>e.selection.getStart(),Hb=(e,t,n,a,o)=>Q(t,(t=>{const s=e.formatter.matchNode(t,n,null!=o?o:{},a);return!w(s)}),(t=>!!Nv(e,t,n)||!a&&_(e.formatter.matchNode(t,n,o,!0)))),zb=(e,t)=>{const n=null!=t?t:Ub(e);return G(xm(e.dom,n),(e=>Za(e)&&!Ya(e)))},jb=(e,t,n)=>{const a=zb(e,t);fe(n,((n,o)=>{const s=n=>{const s=Hb(e,a,o,n.similar,Vb(n)?n.vars:void 0),i=s.isSome();if(n.state.get()!==i){n.state.set(i);const e=s.getOr(t);Vb(n)?n.callback(i,{node:e,format:o,parents:a}):$(n.callbacks,(t=>t(i,{node:e,format:o,parents:a})))}};$([n.withSimilar,n.withoutSimilar],s),$(n.withVars,s)}))},Zb=Bt.explode,qb=()=>{const e={};return{addFilter:(t,n)=>{$(Zb(t),(t=>{xe(e,t)||(e[t]={name:t,callbacks:[]}),e[t].callbacks.push(n)}))},getFilters:()=>Ce(e),removeFilter:(t,n)=>{$(Zb(t),(t=>{if(xe(e,t))if(_(n)){const a=e[t],o=G(a.callbacks,(e=>e!==n));o.length>0?a.callbacks=o:delete e[t]}else delete e[t]}))}}},$b=(e,t,n)=>{var a;const o=Ci();t.convert_fonts_to_spans&&((e,t,n)=>{e.addNodeFilter("font",(e=>{$(e,(e=>{const a=t.parse(e.attr("style")),o=e.attr("color"),s=e.attr("face"),i=e.attr("size");o&&(a.color=o),s&&(a["font-family"]=s),i&&Xe(i).each((e=>{a["font-size"]=n[e-1]})),e.name="span",e.attr("style",t.serialize(a)),((e,t)=>{$(["color","face","size"],(t=>{e.attr(t,null)}))})(e)}))}))})(e,o,Bt.explode(null!==(a=t.font_size_legacy_values)&&void 0!==a?a:"")),((e,t,n)=>{e.addNodeFilter("strike",(e=>{const a="html4"!==t.type;$(e,(e=>{if(a)e.name="s";else{const t=n.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",n.serialize(t))}}))}))})(e,n,o)},Wb=(e,t,n)=>{t.addNodeFilter("br",((t,a,o)=>{const s=Bt.extend({},n.getBlockElements()),i=n.getNonEmptyElements(),r=n.getWhitespaceElements();s.body=1;const l=e=>e.name in s||Ms(n,e);for(let d=0,c=t.length;d<c;d++){let a=t[d],c=a.parent;if(c&&l(c)&&a===c.lastChild){let t=a.prev;for(;t;){const e=t.name;if("span"!==e||"bookmark"!==t.attr("data-mce-type")){"br"===e&&(a=null);break}t=t.prev}if(a&&(a.remove(),wv(n,i,r,c))){const t=n.getElementRule(c.name);t&&(t.removeEmpty?c.remove():t.paddEmpty&&vv(e,o,l,c))}}else{let e=a;for(;c&&c.firstChild===e&&c.lastChild===e&&(e=c,!s[c.name]);)c=c.parent;if(e===c){const e=new $h("#text",3);e.value=bo,a.replace(e)}}}}))},Kb=e=>{const[t,...n]=e.split(","),a=n.join(","),o=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(o){const e=";base64"===o[2],t=e?(e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""})(a):decodeURIComponent(a);return N.some({type:o[1],data:t,base64Encoded:e})}return N.none()},Gb=(e,t,n=!0)=>{let a=t;if(n)try{a=atob(t)}catch(e){return N.none()}const o=new Uint8Array(a.length);for(let s=0;s<o.length;s++)o[s]=a.charCodeAt(s);return N.some(new Blob([o],{type:e}))},Yb=e=>new Promise(((t,n)=>{const a=new FileReader;a.onloadend=()=>{t(a.result)},a.onerror=()=>{var e;n(null===(e=a.error)||void 0===e?void 0:e.message)},a.readAsDataURL(e)}));let Xb=0;const Qb=(e,t,n)=>Kb(e).bind((({data:e,type:a,base64Encoded:o})=>{if(t&&!o)return N.none();{const t=o?e:btoa(e);return n(t,a)}})),Jb=(e,t,n)=>{const a=e.create("blobid"+Xb++,t,n);return e.add(a),a},ew=(e,t,n=!1)=>Qb(t,n,((t,n)=>N.from(e.getByData(t,n)).orThunk((()=>Gb(n,t).map((n=>Jb(e,n,t))))))),tw=(e,t)=>je(e,`${t}/`),nw=(e,t)=>{const n=e.schema;t.remove_trailing_brs&&Wb(t,e,n),e.addAttributeFilter("href",(e=>{let n=e.length;const a=e=>{const t=e?Bt.trim(e):"";return/\b(noopener)\b/g.test(t)?t:(e=>e.split(" ").filter((e=>e.length>0)).concat(["noopener"]).sort().join(" "))(t)};if(!t.allow_unsafe_link_target)for(;n--;){const t=e[n];"a"===t.name&&"_blank"===t.attr("target")&&t.attr("rel",a(t.attr("rel")))}})),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",(e=>{let t,n,a,o,s=e.length;for(;s--;)if(o=e[s],"a"===o.name&&o.firstChild&&!o.attr("href"))for(a=o.parent,t=o.lastChild;t&&a;)n=t.prev,a.insert(t,o),t=n})),t.fix_list_elements&&e.addNodeFilter("ul,ol",(e=>{let t,n,a=e.length;for(;a--;)if(t=e[a],n=t.parent,n&&("ul"===n.name||"ol"===n.name))if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{const e=new $h("li",1);e.attr("style","list-style-type: none"),t.wrap(e)}}));const a=n.getValidClasses();t.validate&&a&&e.addAttributeFilter("class",(e=>{var t;let n=e.length;for(;n--;){const o=e[n],s=null!==(t=o.attr("class"))&&void 0!==t?t:"",i=Bt.explode(s," ");let r="";for(let e=0;e<i.length;e++){const t=i[e];let n=!1,s=a["*"];s&&s[t]&&(n=!0),s=a[o.name],!n&&s&&s[t]&&(n=!0),n&&(r&&(r+=" "),r+=t)}r.length||(r=null),o.attr("class",r)}})),((e,t)=>{const{blob_cache:n}=t;if(n){const t=e=>{const t=e.attr("src");(e=>e.attr("src")===Ot.transparentSrc||_(e.attr("data-mce-placeholder")))(e)||(e=>_(e.attr("data-mce-bogus")))(e)||y(t)||ew(n,t,!0).each((t=>{e.attr("src",t.blobUri())}))};e.addAttributeFilter("src",(e=>$(e,t)))}})(e,t),t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",(e=>$(e,(e=>{e.replace(((e,t,n,a,o)=>{let s;s=w(e)?"iframe":tw(e,"image")?"img":tw(e,"video")?"video":tw(e,"audio")?"audio":"iframe";const i=new $h(s,1);return i.attr("audio"===s?{src:t}:{src:t,width:n,height:a}),"audio"!==s&&"video"!==s||i.attr("controls",""),"iframe"===s&&o&&i.attr("sandbox",""),i})(e.attr("type"),"object"===e.name?e.attr("data"):e.attr("src"),e.attr("width"),e.attr("height"),t.sandbox_iframes))})))),t.sandbox_iframes&&e.addNodeFilter("iframe",(e=>$(e,(e=>e.attr("sandbox","")))))},{entries:aw,setPrototypeOf:ow,isFrozen:sw,getPrototypeOf:iw,getOwnPropertyDescriptor:rw}=Object;let{freeze:lw,seal:dw,create:cw}=Object,{apply:uw,construct:mw}="undefined"!=typeof Reflect&&Reflect;uw||(uw=function(e,t,n){return e.apply(t,n)}),lw||(lw=function(e){return e}),dw||(dw=function(e){return e}),mw||(mw=function(e,t){return new e(...t)});const pw=kw(Array.prototype.forEach),hw=kw(Array.prototype.pop),fw=kw(Array.prototype.push),gw=kw(String.prototype.toLowerCase),vw=kw(String.prototype.toString),bw=kw(String.prototype.match),ww=kw(String.prototype.replace),yw=kw(String.prototype.indexOf),_w=kw(String.prototype.trim),Cw=kw(RegExp.prototype.test),Dw=(xw=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return mw(xw,t)});var xw;function kw(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return uw(e,t,a)}}function Ew(e,t,n){var a;n=null!==(a=n)&&void 0!==a?a:gw,ow&&ow(e,null);let o=t.length;for(;o--;){let a=t[o];if("string"==typeof a){const e=n(a);e!==a&&(sw(t)||(t[o]=e),a=e)}e[a]=!0}return e}function Sw(e){const t=cw(null);for(const[n,a]of aw(e))t[n]=a;return t}function Aw(e,t){for(;null!==e;){const n=rw(e,t);if(n){if(n.get)return kw(n.get);if("function"==typeof n.value)return kw(n.value)}e=iw(e)}return function(e){return console.warn("fallback value for",e),null}}const Tw=lw(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ow=lw(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Lw=lw(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Pw=lw(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Mw=lw(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Bw=lw(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Iw=lw(["#text"]),Rw=lw(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Fw=lw(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Nw=lw(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Vw=lw(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Uw=dw(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Hw=dw(/<%[\w\W]*|[\w\W]*%>/gm),zw=dw(/\${[\w\W]*}/gm),jw=dw(/^data-[\-\w.\u00B7-\uFFFF]/),Zw=dw(/^aria-[\-\w]+$/),qw=dw(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),$w=dw(/^(?:\w+script|data):/i),Ww=dw(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Kw=dw(/^html$/i);var Gw=Object.freeze({__proto__:null,MUSTACHE_EXPR:Uw,ERB_EXPR:Hw,TMPLIT_EXPR:zw,DATA_ATTR:jw,ARIA_ATTR:Zw,IS_ALLOWED_URI:qw,IS_SCRIPT_OR_DATA:$w,ATTR_WHITESPACE:Ww,DOCTYPE_NAME:Kw});const Yw=()=>"undefined"==typeof window?null:window;var Xw=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yw();const n=t=>e(t);if(n.version="3.0.5",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;const a=t.document,o=a.currentScript;let{document:s}=t;const{DocumentFragment:i,HTMLTemplateElement:r,Node:l,Element:d,NodeFilter:c,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:m,DOMParser:p,trustedTypes:h}=t,f=d.prototype,g=Aw(f,"cloneNode"),v=Aw(f,"nextSibling"),b=Aw(f,"childNodes"),w=Aw(f,"parentNode");if("function"==typeof r){const e=s.createElement("template");e.content&&e.content.ownerDocument&&(s=e.content.ownerDocument)}let y,_="";const{implementation:C,createNodeIterator:D,createDocumentFragment:x,getElementsByTagName:k}=s,{importNode:E}=a;let S={};n.isSupported="function"==typeof aw&&"function"==typeof w&&C&&void 0!==C.createHTMLDocument;const{MUSTACHE_EXPR:A,ERB_EXPR:T,TMPLIT_EXPR:O,DATA_ATTR:L,ARIA_ATTR:P,IS_SCRIPT_OR_DATA:M,ATTR_WHITESPACE:B}=Gw;let{IS_ALLOWED_URI:I}=Gw,R=null;const F=Ew({},[...Tw,...Ow,...Lw,...Mw,...Iw]);let N=null;const V=Ew({},[...Rw,...Fw,...Nw,...Vw]);let U=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),H=null,z=null,j=!0,Z=!0,q=!1,$=!0,W=!1,K=!1,G=!1,Y=!1,X=!1,Q=!1,J=!1,ee=!0,te=!1,ne=!0,ae=!1,oe={},se=null;const ie=Ew({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let re=null;const le=Ew({},["audio","video","img","source","image","track"]);let de=null;const ce=Ew({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ue="http://www.w3.org/1998/Math/MathML",me="http://www.w3.org/2000/svg",pe="http://www.w3.org/1999/xhtml";let he=pe,fe=!1,ge=null;const ve=Ew({},[ue,me,pe],vw);let be;const we=["application/xhtml+xml","text/html"];let ye,_e=null;const Ce=s.createElement("form"),De=function(e){return e instanceof RegExp||e instanceof Function},xe=function(e){if(!_e||_e!==e){if(e&&"object"==typeof e||(e={}),e=Sw(e),be=be=-1===we.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,ye="application/xhtml+xml"===be?vw:gw,R="ALLOWED_TAGS"in e?Ew({},e.ALLOWED_TAGS,ye):F,N="ALLOWED_ATTR"in e?Ew({},e.ALLOWED_ATTR,ye):V,ge="ALLOWED_NAMESPACES"in e?Ew({},e.ALLOWED_NAMESPACES,vw):ve,de="ADD_URI_SAFE_ATTR"in e?Ew(Sw(ce),e.ADD_URI_SAFE_ATTR,ye):ce,re="ADD_DATA_URI_TAGS"in e?Ew(Sw(le),e.ADD_DATA_URI_TAGS,ye):le,se="FORBID_CONTENTS"in e?Ew({},e.FORBID_CONTENTS,ye):ie,H="FORBID_TAGS"in e?Ew({},e.FORBID_TAGS,ye):{},z="FORBID_ATTR"in e?Ew({},e.FORBID_ATTR,ye):{},oe="USE_PROFILES"in e&&e.USE_PROFILES,j=!1!==e.ALLOW_ARIA_ATTR,Z=!1!==e.ALLOW_DATA_ATTR,q=e.ALLOW_UNKNOWN_PROTOCOLS||!1,$=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,W=e.SAFE_FOR_TEMPLATES||!1,K=e.WHOLE_DOCUMENT||!1,X=e.RETURN_DOM||!1,Q=e.RETURN_DOM_FRAGMENT||!1,J=e.RETURN_TRUSTED_TYPE||!1,Y=e.FORCE_BODY||!1,ee=!1!==e.SANITIZE_DOM,te=e.SANITIZE_NAMED_PROPS||!1,ne=!1!==e.KEEP_CONTENT,ae=e.IN_PLACE||!1,I=e.ALLOWED_URI_REGEXP||qw,he=e.NAMESPACE||pe,U=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&De(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(U.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&De(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(U.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(U.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),W&&(Z=!1),Q&&(X=!0),oe&&(R=Ew({},[...Iw]),N=[],!0===oe.html&&(Ew(R,Tw),Ew(N,Rw)),!0===oe.svg&&(Ew(R,Ow),Ew(N,Fw),Ew(N,Vw)),!0===oe.svgFilters&&(Ew(R,Lw),Ew(N,Fw),Ew(N,Vw)),!0===oe.mathMl&&(Ew(R,Mw),Ew(N,Nw),Ew(N,Vw))),e.ADD_TAGS&&(R===F&&(R=Sw(R)),Ew(R,e.ADD_TAGS,ye)),e.ADD_ATTR&&(N===V&&(N=Sw(N)),Ew(N,e.ADD_ATTR,ye)),e.ADD_URI_SAFE_ATTR&&Ew(de,e.ADD_URI_SAFE_ATTR,ye),e.FORBID_CONTENTS&&(se===ie&&(se=Sw(se)),Ew(se,e.FORBID_CONTENTS,ye)),ne&&(R["#text"]=!0),K&&Ew(R,["html","head","body"]),R.table&&(Ew(R,["tbody"]),delete H.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw Dw('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw Dw('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');y=e.TRUSTED_TYPES_POLICY,_=y.createHTML("")}else void 0===y&&(y=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const a="data-tt-policy-suffix";t&&t.hasAttribute(a)&&(n=t.getAttribute(a));const o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}}(h,o)),null!==y&&"string"==typeof _&&(_=y.createHTML(""));lw&&lw(e),_e=e}},ke=Ew({},["mi","mo","mn","ms","mtext"]),Ee=Ew({},["foreignobject","desc","title","annotation-xml"]),Se=Ew({},["title","style","font","a","script"]),Ae=Ew({},Ow);Ew(Ae,Lw),Ew(Ae,Pw);const Te=Ew({},Mw);Ew(Te,Bw);const Oe=function(e){fw(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.remove()}},Le=function(e,t){try{fw(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){fw(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!N[e])if(X||Q)try{Oe(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Pe=function(e){let t,n;if(Y)e="<remove></remove>"+e;else{const t=bw(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===be&&he===pe&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const a=y?y.createHTML(e):e;if(he===pe)try{t=(new p).parseFromString(a,be)}catch(e){}if(!t||!t.documentElement){t=C.createDocument(he,"template",null);try{t.documentElement.innerHTML=fe?_:a}catch(e){}}const o=t.body||t.documentElement;return e&&n&&o.insertBefore(s.createTextNode(n),o.childNodes[0]||null),he===pe?k.call(t,K?"html":"body")[0]:K?t.documentElement:o},Me=function(e){return D.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},Be=function(e){return"object"==typeof l?e instanceof l:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Ie=function(e,t,a){S[e]&&pw(S[e],(e=>{e.call(n,t,a,_e)}))},Re=function(e){let t;if(Ie("beforeSanitizeElements",e,null),(a=e)instanceof m&&("string"!=typeof a.nodeName||"string"!=typeof a.textContent||"function"!=typeof a.removeChild||!(a.attributes instanceof u)||"function"!=typeof a.removeAttribute||"function"!=typeof a.setAttribute||"string"!=typeof a.namespaceURI||"function"!=typeof a.insertBefore||"function"!=typeof a.hasChildNodes))return Oe(e),!0;var a;const o=ye(e.nodeName);if(Ie("uponSanitizeElement",e,{tagName:o,allowedTags:R}),e.hasChildNodes()&&!Be(e.firstElementChild)&&(!Be(e.content)||!Be(e.content.firstElementChild))&&Cw(/<[/\w]/g,e.innerHTML)&&Cw(/<[/\w]/g,e.textContent))return Oe(e),!0;if(!R[o]||H[o]){if(!H[o]&&Ne(o)){if(U.tagNameCheck instanceof RegExp&&Cw(U.tagNameCheck,o))return!1;if(U.tagNameCheck instanceof Function&&U.tagNameCheck(o))return!1}if(ne&&!se[o]){const t=w(e)||e.parentNode,n=b(e)||e.childNodes;if(n&&t)for(let a=n.length-1;a>=0;--a)t.insertBefore(g(n[a],!0),v(e))}return Oe(e),!0}return e instanceof d&&!function(e){let t=w(e);t&&t.tagName||(t={namespaceURI:he,tagName:"template"});const n=gw(e.tagName),a=gw(t.tagName);return!!ge[e.namespaceURI]&&(e.namespaceURI===me?t.namespaceURI===pe?"svg"===n:t.namespaceURI===ue?"svg"===n&&("annotation-xml"===a||ke[a]):Boolean(Ae[n]):e.namespaceURI===ue?t.namespaceURI===pe?"math"===n:t.namespaceURI===me?"math"===n&&Ee[a]:Boolean(Te[n]):e.namespaceURI===pe?!(t.namespaceURI===me&&!Ee[a])&&!(t.namespaceURI===ue&&!ke[a])&&!Te[n]&&(Se[n]||!Ae[n]):!("application/xhtml+xml"!==be||!ge[e.namespaceURI]))}(e)?(Oe(e),!0):"noscript"!==o&&"noembed"!==o&&"noframes"!==o||!Cw(/<\/no(script|embed|frames)/i,e.innerHTML)?(W&&3===e.nodeType&&(t=e.textContent,t=ww(t,A," "),t=ww(t,T," "),t=ww(t,O," "),e.textContent!==t&&(fw(n.removed,{element:e.cloneNode()}),e.textContent=t)),Ie("afterSanitizeElements",e,null),!1):(Oe(e),!0)},Fe=function(e,t,n){if(ee&&("id"===t||"name"===t)&&(n in s||n in Ce))return!1;if(Z&&!z[t]&&Cw(L,t));else if(j&&Cw(P,t));else if(!N[t]||z[t]){if(!(Ne(e)&&(U.tagNameCheck instanceof RegExp&&Cw(U.tagNameCheck,e)||U.tagNameCheck instanceof Function&&U.tagNameCheck(e))&&(U.attributeNameCheck instanceof RegExp&&Cw(U.attributeNameCheck,t)||U.attributeNameCheck instanceof Function&&U.attributeNameCheck(t))||"is"===t&&U.allowCustomizedBuiltInElements&&(U.tagNameCheck instanceof RegExp&&Cw(U.tagNameCheck,n)||U.tagNameCheck instanceof Function&&U.tagNameCheck(n))))return!1}else if(de[t]);else if(Cw(I,ww(n,B,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==yw(n,"data:")||!re[e])if(q&&!Cw(M,ww(n,B,"")));else if(n)return!1;return!0},Ne=function(e){return e.indexOf("-")>0},Ve=function(e){let t,n,a,o;Ie("beforeSanitizeAttributes",e,null);const{attributes:s}=e;if(!s)return;const i={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:N};for(o=s.length;o--;){t=s[o];const{name:r,namespaceURI:l}=t;n="value"===r?t.value:_w(t.value);const d=n;if(a=ye(r),i.attrName=a,i.attrValue=n,i.keepAttr=!0,i.forceKeepAttr=void 0,Ie("uponSanitizeAttribute",e,i),n=i.attrValue,i.forceKeepAttr)continue;if(!i.keepAttr){Le(r,e);continue}if(!$&&Cw(/\/>/i,n)){Le(r,e);continue}W&&(n=ww(n,A," "),n=ww(n,T," "),n=ww(n,O," "));const c=ye(e.nodeName);if(Fe(c,a,n)){if(!te||"id"!==a&&"name"!==a||(Le(r,e),n="user-content-"+n),y&&"object"==typeof h&&"function"==typeof h.getAttributeType)if(l);else switch(h.getAttributeType(c,a)){case"TrustedHTML":n=y.createHTML(n);break;case"TrustedScriptURL":n=y.createScriptURL(n)}if(n!==d)try{l?e.setAttributeNS(l,r,n):e.setAttribute(r,n)}catch(t){Le(r,e)}}else Le(r,e)}Ie("afterSanitizeAttributes",e,null)},Ue=function e(t){let n;const a=Me(t);for(Ie("beforeSanitizeShadowDOM",t,null);n=a.nextNode();)Ie("uponSanitizeShadowNode",n,null),Re(n)||(n.content instanceof i&&e(n.content),Ve(n));Ie("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e){let t,o,s,r,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(fe=!e,fe&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Be(e)){if("function"!=typeof e.toString)throw Dw("toString is not a function");if("string"!=typeof(e=e.toString()))throw Dw("dirty is not a string, aborting")}if(!n.isSupported)return e;if(G||xe(d),n.removed=[],"string"==typeof e&&(ae=!1),ae){if(e.nodeName){const t=ye(e.nodeName);if(!R[t]||H[t])throw Dw("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)t=Pe("\x3c!----\x3e"),o=t.ownerDocument.importNode(e,!0),1===o.nodeType&&"BODY"===o.nodeName||"HTML"===o.nodeName?t=o:t.appendChild(o);else{if(!X&&!W&&!K&&-1===e.indexOf("<"))return y&&J?y.createHTML(e):e;if(t=Pe(e),!t)return X?null:J?_:""}t&&Y&&Oe(t.firstChild);const c=Me(ae?e:t);for(;s=c.nextNode();)Re(s)||(s.content instanceof i&&Ue(s.content),Ve(s));if(ae)return e;if(X){if(Q)for(r=x.call(t.ownerDocument);t.firstChild;)r.appendChild(t.firstChild);else r=t;return(N.shadowroot||N.shadowrootmode)&&(r=E.call(a,r,!0)),r}let u=K?t.outerHTML:t.innerHTML;return K&&R["!doctype"]&&t.ownerDocument&&t.ownerDocument.doctype&&t.ownerDocument.doctype.name&&Cw(Kw,t.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+t.ownerDocument.doctype.name+">\n"+u),W&&(u=ww(u,A," "),u=ww(u,T," "),u=ww(u,O," ")),y&&J?y.createHTML(u):u},n.setConfig=function(e){xe(e),G=!0},n.clearConfig=function(){_e=null,G=!1},n.isValidAttribute=function(e,t,n){_e||xe({});const a=ye(e),o=ye(t);return Fe(a,o,n)},n.addHook=function(e,t){"function"==typeof t&&(S[e]=S[e]||[],fw(S[e],t))},n.removeHook=function(e){if(S[e])return hw(S[e])},n.removeHooks=function(e){S[e]&&(S[e]=[])},n.removeAllHooks=function(){S={}},n}();const Qw=Bt.each,Jw=Bt.trim,ey=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],ty={ftp:21,http:80,https:443,mailto:25},ny=["img","video"],ay=(e,t,n)=>{const a=(e=>{try{return decodeURIComponent(e)}catch(t){return unescape(e)}})(t).replace(/\s/g,"");return!e.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(a)||!e.allow_html_data_urls&&(/^data:image\//i.test(a)?((e,t)=>_(e)?!e:!_(t)||!j(ny,t))(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(a):/^data:/i.test(a)))};class oy{static parseDataUri(e){let t;const n=decodeURIComponent(e).split(","),a=/data:([^;]+)/.exec(n[0]);return a&&(t=a[1]),{type:t,data:n[1]}}static isDomSafe(e,t,n={}){if(n.allow_script_urls)return!0;{const a=ti.decode(e).replace(/[\s\u0000-\u001F]+/g,"");return!ay(n,a,t)}}static getDocumentBaseUrl(e){var t;let n;return n=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?null!==(t=e.href)&&void 0!==t?t:"":e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),n}constructor(e,t={}){this.path="",this.directory="",e=Jw(e),this.settings=t;const n=t.base_uri,a=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))return void(a.source=e);const o=0===e.indexOf("//");if(0!==e.indexOf("/")||o||(e=(n&&n.protocol||"http")+"://mce_host"+e),!/^[\w\-]*:?\/\//.test(e)){const t=n?n.path:new oy(document.location.href).directory;if(""===(null==n?void 0:n.protocol))e="//mce_host"+a.toAbsPath(t,e);else{const o=/([^#?]*)([#?]?.*)/.exec(e);o&&(e=(n&&n.protocol||"http")+"://mce_host"+a.toAbsPath(t,o[1])+o[2])}}e=e.replace(/@@/g,"(mce_at)");const s=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);s&&Qw(ey,((e,t)=>{let n=s[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),a[e]=n})),n&&(a.protocol||(a.protocol=n.protocol),a.userInfo||(a.userInfo=n.userInfo),a.port||"mce_host"!==a.host||(a.port=n.port),a.host&&"mce_host"!==a.host||(a.host=n.host),a.source=""),o&&(a.protocol="")}setPath(e){const t=/^(.*?)\/?(\w+)?$/.exec(e);t&&(this.path=t[0],this.directory=t[1],this.file=t[2]),this.source="",this.getURI()}toRelative(e){if("./"===e)return e;const t=new oy(e,{base_uri:this});if("mce_host"!==t.host&&this.host!==t.host&&t.host||this.port!==t.port||this.protocol!==t.protocol&&""!==t.protocol)return t.getURI();const n=this.getURI(),a=t.getURI();if(n===a||"/"===n.charAt(n.length-1)&&n.substr(0,n.length-1)===a)return n;let o=this.toRelPath(this.path,t.path);return t.query&&(o+="?"+t.query),t.anchor&&(o+="#"+t.anchor),o}toAbsolute(e,t){const n=new oy(e,{base_uri:this});return n.getURI(t&&this.isSameOrigin(n))}isSameOrigin(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;const t=this.protocol?ty[this.protocol]:null;if(t&&(this.port||t)==(e.port||t))return!0}return!1}toRelPath(e,t){let n,a,o=0,s="";const i=e.substring(0,e.lastIndexOf("/")).split("/"),r=t.split("/");if(i.length>=r.length)for(n=0,a=i.length;n<a;n++)if(n>=r.length||i[n]!==r[n]){o=n+1;break}if(i.length<r.length)for(n=0,a=r.length;n<a;n++)if(n>=i.length||i[n]!==r[n]){o=n+1;break}if(1===o)return t;for(n=0,a=i.length-(o-1);n<a;n++)s+="../";for(n=o-1,a=r.length;n<a;n++)s+=n!==o-1?"/"+r[n]:r[n];return s}toAbsPath(e,t){let n=0;const a=/\/$/.test(t)?"/":"",o=e.split("/"),s=t.split("/"),i=[];Qw(o,(e=>{e&&i.push(e)}));const r=[];for(let c=s.length-1;c>=0;c--)0!==s[c].length&&"."!==s[c]&&(".."!==s[c]?n>0?n--:r.push(s[c]):n++);const l=i.length-n;let d;return d=l<=0?oe(r).join("/"):i.slice(0,l).join("/")+"/"+oe(r).join("/"),0!==d.indexOf("/")&&(d="/"+d),a&&d.lastIndexOf("/")!==d.length-1&&(d+=a),d}getURI(e=!1){let t;return this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source}}const sy=Bt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),iy="data-mce-type";let ry=0;const ly=(e,t,n,a,o)=>{var s,i,r,l;const d=t.validate,c=n.getSpecialElements();8===e.nodeType&&!t.allow_conditional_comments&&/^\[if/i.test(null!==(s=e.nodeValue)&&void 0!==s?s:"")&&(e.nodeValue=" "+e.nodeValue);const u=null!==(i=null==o?void 0:o.tagName)&&void 0!==i?i:e.nodeName.toLowerCase();if("html"!==a&&n.isValid(a))return void(_(o)&&(o.allowedTags[u]=!0));if(1!==e.nodeType||"body"===u)return;const m=yn(e),h=an(m,iy),f=tn(m,"data-mce-bogus");if(!h&&p(f))return void("all"===f?Ca(m):Da(m));const g=n.getElementRule(u);if(!d||g){if(_(o)&&(o.allowedTags[u]=!0),d&&g&&!h){if($(null!==(r=g.attributesForced)&&void 0!==r?r:[],(e=>{Jt(m,e.name,"{$uid}"===e.value?"mce_"+ry++:e.value)})),$(null!==(l=g.attributesDefault)&&void 0!==l?l:[],(e=>{an(m,e.name)||Jt(m,e.name,"{$uid}"===e.value?"mce_"+ry++:e.value)})),g.attributesRequired&&!Z(g.attributesRequired,(e=>an(m,e))))return void Da(m);if(g.removeEmptyAttrs&&(e=>{const t=e.dom.attributes;return null==t||0===t.length})(m))return void Da(m);g.outputName&&g.outputName!==u&&((e,t)=>{const n=((e,t)=>{const n=bn(t),a=sn(e);return en(n,a),n})(e,t);ga(e,n);const a=Fn(e);ya(n,a),Ca(e)})(m,g.outputName)}}else xe(c,u)?Ca(m):Da(m)},dy=(e,t,n,a,o,s)=>"html"!==n&&!gs(a)||!(o in sy&&ay(e,s,a))&&(!e.validate||t.isValid(a,o)||je(o,"data-")||je(o,"aria-")),cy=(e,t)=>e.hasAttribute(iy)&&("id"===t||"class"===t||"style"===t),uy=(e,t)=>e in t.getBoolAttrs(),my=(e,t,n,a)=>{const{attributes:o}=e;for(let s=o.length-1;s>=0;s--){const i=o[s],r=i.name,l=i.value;dy(t,n,a,e.tagName.toLowerCase(),r,l)||cy(e,r)?uy(r,n)&&e.setAttribute(r,r):e.removeAttribute(r)}},py=(e,t,n)=>{const a=Xw();return a.addHook("uponSanitizeElement",((a,o)=>{ly(a,e,t,n.track(a),o)})),a.addHook("uponSanitizeAttribute",((a,o)=>{((e,t,n,a,o)=>{const s=e.tagName.toLowerCase(),{attrName:i,attrValue:r}=o;o.keepAttr=dy(t,n,a,s,i,r),o.keepAttr?(o.allowedAttributes[i]=!0,uy(i,n)&&(o.attrValue=i),t.allow_svg_data_urls&&je(r,"data:image/svg+xml")&&(o.forceKeepAttr=!0)):cy(e,i)&&(o.forceKeepAttr=!0)})(a,e,t,n.current(),o)})),a},hy=e=>{const t=["type","href","role","arcrole","title","show","actuate","label","from","to"].map((e=>`xlink:${e}`)),n={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:t};return Xw().sanitize(e,n),e.innerHTML},fy=Bt.makeMap,gy=Bt.extend,vy=(e,t,n,a)=>{const o=e.name,s=o in n&&"title"!==o&&"textarea"!==o,i=t.childNodes;for(let r=0,l=i.length;r<l;r++){const t=i[r],o=new $h(t.nodeName.toLowerCase(),t.nodeType);if(Za(t)){const e=t.attributes;for(let t=0,n=e.length;t<n;t++){const n=e[t];o.attr(n.name,n.value)}gs(o.name)&&(a(t),o.value=t.innerHTML)}else eo(t)?(o.value=t.data,s&&(o.raw=!0)):(ao(t)||to(t)||no(t))&&(o.value=t.data);gs(o.name)||vy(o,t,n,a),e.append(o)}},by=(e={},t=mi())=>{const n=qb(),a=qb(),o={validate:!0,root_name:"body",sanitize:!0,...e},s=new DOMParser,i=((e,t)=>{const n=(()=>{let e=[];const t=()=>e[e.length-1];return{track:n=>{vs(n)&&e.push(n);let a=t();return a&&!a.contains(n)&&(e.pop(),a=t()),bs(a)},current:()=>bs(t()),reset:()=>{e=[]}}})();if(e.sanitize){const a=py(e,t,n),o=(t,o)=>{a.sanitize(t,((e,t)=>{const n={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]};return n.PARSER_MEDIA_TYPE=t,e.allow_script_urls?n.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(n.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),n})(e,o)),a.removed=[],n.reset()};return{sanitizeHtmlElement:o,sanitizeNamespaceElement:hy}}return{sanitizeHtmlElement:(a,o)=>{const s=document.createNodeIterator(a,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let i;for(;i=s.nextNode();){const a=n.track(i);ly(i,e,t,a),Za(i)&&my(i,e,t,a)}n.reset()},sanitizeNamespaceElement:k}})(o,t),r=n.addFilter,l=n.getFilters,d=n.removeFilter,c=a.addFilter,u=a.getFilters,m=a.removeFilter,h=(e,n)=>{const a=p(n.attr(iy)),o=1===n.type&&!xe(e,n.name)&&!Ms(t,n)&&!gs(n.name);return 3===n.type||o&&!a},f={schema:t,addAttributeFilter:c,getAttributeFilters:u,removeAttributeFilter:m,addNodeFilter:r,getNodeFilters:l,removeNodeFilter:d,parse:(e,n={})=>{var a;const r=o.validate,d=null!==(a=n.context)&&void 0!==a?a:o.root_name,c=((e,n,a="html")=>{const o="xhtml"===a?"application/xhtml+xml":"text/html",r=xe(t.getSpecialElements(),n.toLowerCase()),l=r?`<${n}>${e}</${n}>`:e,d="xhtml"===a?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${l}</body></html>`:`<body>${l}</body>`,c=s.parseFromString(d,o).body;return i.sanitizeHtmlElement(c,o),r?c.firstChild:c})(e,d,n.format);Es(t,c);const m=new $h(d,11);vy(m,c,t.getSpecialElements(),i.sanitizeNamespaceElement),c.innerHTML="";const[p,f]=((e,t,n,a)=>{const o=n.validate,s=t.getNonEmptyElements(),i=t.getWhitespaceElements(),r=gy(fy("script,style,head,html,body,title,meta,param"),t.getBlockElements()),l=ci(t),d=/[ \t\r\n]+/g,c=/^[ \t\r\n]+/,u=/[ \t\r\n]+$/,m=e=>{let t=e.parent;for(;_(t);){if(t.name in i)return!0;t=t.parent}return!1},p=n=>n.name in r||Ms(t,n)||gs(n.name)&&n.parent===e,h=(t,n)=>{const o=n?t.prev:t.next;return!_(o)&&!y(t.parent)&&p(t.parent)&&(t.parent!==e||!0===a.isRootContent)};return[e=>{var t;if(3===e.type&&!m(e)){let n=null!==(t=e.value)&&void 0!==t?t:"";n=n.replace(d," "),(((e,t)=>_(e)&&(t(e)||"br"===e.name))(e.prev,p)||h(e,!0))&&(n=n.replace(c,"")),0===n.length?e.remove():e.value=n}},e=>{var r;if(1===e.type){const r=t.getElementRule(e.name);if(o&&r){const o=wv(t,s,i,e);r.paddInEmptyBlock&&o&&(e=>{let n=e;for(;_(n);){if(n.name in l)return wv(t,s,i,n);n=n.parent}return!1})(e)?vv(n,a,p,e):r.removeEmpty&&o?p(e)?e.remove():e.unwrap():r.paddEmpty&&(o||(e=>{var t;return bv(e,"#text")&&(null===(t=null==e?void 0:e.firstChild)||void 0===t?void 0:t.value)===bo})(e))&&vv(n,a,p,e)}}else if(3===e.type&&!m(e)){let t=null!==(r=e.value)&&void 0!==r?r:"";(e.next&&p(e.next)||h(e,!1))&&(t=t.replace(u,"")),0===t.length?e.remove():e.value=t}}]})(m,t,o,n),g=[],v=r?e=>((e,n)=>{Dv(t,e)&&n.push(e)})(e,g):k,b={nodes:{},attributes:{}},w=e=>hv(l(),u(),e,b);if(((e,t,n)=>{const a=[];for(let o=e,s=o;o;s=o,o=o.walk()){const n=o;$(t,(e=>e(n))),y(n.parent)&&n!==e?o=s:a.push(n)}for(let o=a.length-1;o>=0;o--){const e=a[o];$(n,(t=>t(e)))}})(m,[p,w],[f,v]),g.reverse(),r&&g.length>0)if(n.context){const{pass:e,fail:a}=K(g,(e=>e.parent===m));Cv(a,t,m,w),n.invalid=e.length>0}else Cv(g,t,m,w);const C=((e,t)=>{var n;const a=null!==(n=t.forced_root_block)&&void 0!==n?n:e.forced_root_block;return!1===a?"":!0===a?"p":a})(o,n);return C&&("body"===m.name||n.isRootContent)&&((e,n)=>{const a=gy(fy("script,style,head,html,body,title,meta,param"),t.getBlockElements()),s=/^[ \t\r\n]+/,i=/[ \t\r\n]+$/;let r=e.firstChild,l=null;const d=e=>{var t,n;e&&(r=e.firstChild,r&&3===r.type&&(r.value=null===(t=r.value)||void 0===t?void 0:t.replace(s,"")),r=e.lastChild,r&&3===r.type&&(r.value=null===(n=r.value)||void 0===n?void 0:n.replace(i,"")))};if(t.isValidChild(e.name,n.toLowerCase())){for(;r;){const t=r.next;h(a,r)?(l||(l=new $h(n,1),l.attr(o.forced_root_block_attrs),e.insert(l,r)),l.append(r)):(d(l),l=null),r=t}d(l)}})(m,C),n.invalid||fv(b,n),m}};return nw(f,o),((e,t,n)=>{t.inline_styles&&$b(e,t,n)})(f,o,t),f},wy=(e,t,n)=>{const a=(e=>Mv(e)?mf({validate:!1}).serialize(e):e)(e),o=t(a);if(o.isDefaultPrevented())return o;if(Mv(e)){if(o.content!==a){const t=by({validate:!1,forced_root_block:!1,...n}).parse(o.content,{context:e.name});return{...o,content:t}}return{...o,content:e}}return o},yy=(e,t)=>{if(t.no_events)return gl.value(t);{const n=((e,t)=>e.dispatch("BeforeGetContent",t))(e,t);return n.isDefaultPrevented()?gl.error(sp(e,{content:"",...n}).content):gl.value(n)}},_y=(e,t,n)=>{if(n.no_events)return t;{const a=wy(t,(t=>sp(e,{...n,content:t})),{sanitize:hc(e),sandbox_iframes:_c(e)});return a.content}},Cy=(e,t)=>{if(t.no_events)return gl.value(t);{const n=wy(t.content,(n=>((e,t)=>e.dispatch("BeforeSetContent",t))(e,{...t,content:n})),{sanitize:hc(e),sandbox_iframes:_c(e)});return n.isDefaultPrevented()?(op(e,n),gl.error(void 0)):gl.value(n)}},Dy=(e,t,n)=>{n.no_events||op(e,{...n,content:t})},xy=(e,t,n)=>({element:e,width:t,rows:n}),ky=(e,t)=>({element:e,cells:t}),Ey=(e,t)=>({x:e,y:t}),Sy=(e,t)=>nn(e,t).bind(Xe).getOr(1),Ay=(e,t,n)=>{const a=e.rows;return!!(a[n]?a[n].cells:[])[t]},Ty=e=>X(e,((e,t)=>t.cells.length>e?t.cells.length:e),0),Oy=(e,t)=>{const n=e.rows;for(let a=0;a<n.length;a++){const e=n[a].cells;for(let n=0;n<e.length;n++)if(kn(e[n],t))return N.some(Ey(n,a))}return N.none()},Ly=(e,t,n,a,o)=>{const s=[],i=e.rows;for(let r=n;r<=o;r++){const e=i[r].cells,n=t<a?e.slice(t,a+1):e.slice(a,t+1);s.push(ky(i[r].element,n))}return s},Py=e=>((e,t)=>{const n=hr(e.element),a=bn("tbody");return ya(a,t),ba(n,a),n})(e,(e=>q(e.rows,(e=>{const t=q(e.cells,(e=>{const t=fr(e);return on(t,"colspan"),on(t,"rowspan"),t})),n=hr(e.element);return ya(n,t),n})))(e)),My=(e,t,n)=>{const a=yn(t.commonAncestorContainer),o=Mf(a,e),s=G(o,(e=>n.isWrapper(jt(e)))),i=((e,t)=>J(e,(e=>"li"===jt(e)&&sm(e,t))).fold(A([]),(t=>(e=>J(e,(e=>"ul"===jt(e)||"ol"===jt(e))))(e).map((e=>{const t=bn(jt(e)),n=ye(pa(e),((e,t)=>je(t,"list-style")));return da(t,n),[bn("li"),t]})).getOr([]))))(o,t),r=s.concat(i.length?i:(e=>So(e)?On(e).filter(Eo).fold(A([]),(t=>[e,t])):Eo(e)?[e]:[])(a));return q(r,hr)},By=()=>Ep([]),Iy=(e,t)=>((e,t)=>ta(t,"table",L(kn,e)))(e,t[0]).bind((e=>{const n=t[0],a=t[t.length-1],o=(e=>{const t=xy(hr(e),0,[]);return $(Va(e,"tr"),((e,n)=>{$(Va(e,"td,th"),((a,o)=>{((e,t,n,a,o)=>{const s=Sy(o,"rowspan"),i=Sy(o,"colspan"),r=e.rows;for(let l=n;l<n+s;l++){r[l]||(r[l]=ky(fr(a),[]));for(let e=t;e<t+i;e++)r[l].cells[e]=l===n&&e===t?o:hr(o)}})(t,((e,t,n)=>{for(;Ay(e,t,n);)t++;return t})(t,o,n),n,e,a)}))})),xy(t.element,Ty(t.rows),t.rows)})(e);return((e,t,n)=>Oy(e,t).bind((t=>Oy(e,n).map((n=>((e,t,n)=>{const a=t.x,o=t.y,s=n.x,i=n.y,r=o<i?Ly(e,a,o,s,i):Ly(e,a,i,s,o);return xy(e.element,Ty(r),r)})(e,t,n))))))(o,n,a).map((e=>Ep([Py(e)])))})).getOrThunk(By),Ry=(e,t,n)=>{const a=em(t,e);return a.length>0?Iy(e,a):((e,t,n)=>t.length>0&&t[0].collapsed?By():((e,t,n)=>((e,t)=>{const n=X(t,((e,t)=>(ba(t,e),t)),e);return t.length>0?Ep([n]):n})(yn(t.cloneContents()),My(e,t,n)))(e,t[0],n))(e,t,n)},Fy=(e,t)=>t>=0&&t<e.length&&Xu(e.charAt(t)),Ny=e=>Io(e.innerText),Vy=e=>Za(e)?e.outerHTML:eo(e)?ti.encodeRaw(e.data,!1):ao(e)?"\x3c!--"+e.data+"--\x3e":"",Uy=(e,t)=>(((e,t)=>{let n=0;$(e,(e=>{0===e[0]?n++:1===e[0]?(((e,t,n)=>{const a=(e=>{let t;const n=document.createElement("div"),a=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)a.appendChild(t);return a})(t);if(e.hasChildNodes()&&n<e.childNodes.length){const t=e.childNodes[n];e.insertBefore(a,t)}else e.appendChild(a)})(t,e[1],n),n++):2===e[0]&&((e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];e.removeChild(n)}})(t,n)}))})(((e,t)=>{const n=e.length+t.length+2,a=new Array(n),o=new Array(n),s=(n,a,o,i,l)=>{const d=r(n,a,o,i);if(null===d||d.start===a&&d.diag===a-i||d.end===n&&d.diag===n-o){let s=n,r=o;for(;s<a||r<i;)s<a&&r<i&&e[s]===t[r]?(l.push([0,e[s]]),++s,++r):a-n>i-o?(l.push([2,e[s]]),++s):(l.push([1,t[r]]),++r)}else{s(n,d.start,o,d.start-d.diag,l);for(let t=d.start;t<d.end;++t)l.push([0,e[t]]);s(d.end,a,d.end-d.diag,i,l)}},i=(n,a,o,s)=>{let i=n;for(;i-a<s&&i<o&&e[i]===t[i-a];)++i;return((e,t,n)=>({start:e,end:t,diag:n}))(n,i,a)},r=(n,s,r,l)=>{const d=s-n,c=l-r;if(0===d||0===c)return null;const u=d-c,m=c+d,p=(m%2==0?m:m+1)/2;let h,f,g,v,b;for(a[1+p]=n,o[1+p]=s+1,h=0;h<=p;++h){for(f=-h;f<=h;f+=2){for(g=f+p,f===-h||f!==h&&a[g-1]<a[g+1]?a[g]=a[g+1]:a[g]=a[g-1]+1,v=a[g],b=v-n+r-f;v<s&&b<l&&e[v]===t[b];)a[g]=++v,++b;if(u%2!=0&&u-h<=f&&f<=u+h&&o[g-u]<=a[g])return i(o[g-u],f+n-r,s,l)}for(f=u-h;f<=u+h;f+=2){for(g=f+p-u,f===u-h||f!==u+h&&o[g+1]<=o[g-1]?o[g]=o[g+1]-1:o[g]=o[g-1],v=o[g]-1,b=v-n+r-f;v>=n&&b>=r&&e[v]===t[b];)o[g]=v--,b--;if(u%2==0&&-h<=f&&f<=h&&o[g]<=a[g+u])return i(o[g],f+n-r,s,l)}}return null},l=[];return s(0,e.length,0,t.length,l),l})(q(ue(t.childNodes),Vy),e),t),t),Hy=Ie((()=>document.implementation.createHTMLDocument("undo"))),zy=e=>{const t=e.serializer.getTempAttrs(),n=sf(e.getBody(),t);return(e=>null!==e.querySelector("iframe"))(n)?{type:"fragmented",fragments:G(q(ue(n.childNodes),E(Io,Vy)),(e=>e.length>0)),content:"",bookmark:null,beforeBookmark:null}:{type:"complete",fragments:null,content:Io(n.innerHTML),bookmark:null,beforeBookmark:null}},jy=(e,t,n)=>{const a=n?t.beforeBookmark:t.bookmark;"fragmented"===t.type?Uy(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:!_(a)||!Nu(a)||!a.isFakeCaret}),a&&(e.selection.moveToBookmark(a),e.selection.scrollIntoView())},Zy=e=>"fragmented"===e.type?e.fragments.join(""):e.content,qy=e=>{const t=bn("body",Hy());return Ea(t,Zy(e)),$(Va(t,"*[data-mce-bogus]"),Da),ka(t)},$y=(e,t)=>!(!e||!t)&&(!!((e,t)=>Zy(e)===Zy(t))(e,t)||((e,t)=>qy(e)===qy(t))(e,t)),Wy=e=>0===e.get(),Ky=(e,t,n)=>{Wy(n)&&(e.typing=t)},Gy=(e,t)=>{e.typing&&(Ky(e,!1,t),e.add())},Yy=e=>({init:{bindEvents:k},undoManager:{beforeChange:(t,n)=>((e,t,n)=>{Wy(t)&&n.set(pl(e.selection))})(e,t,n),add:(t,n,a,o,s,i)=>((e,t,n,a,o,s,i)=>{const r=zy(e),l=Bt.extend(s||{},r);if(!Wy(a)||e.removed)return null;const d=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:l,lastLevel:d,originalEvent:i}).isDefaultPrevented())return null;if(d&&$y(d,l))return null;t.data[n.get()]&&o.get().each((e=>{t.data[n.get()].beforeBookmark=e}));const c=Ld(e);if(c&&t.data.length>c){for(let e=0;e<t.data.length-1;e++)t.data[e]=t.data[e+1];t.data.length--,n.set(t.data.length)}l.bookmark=pl(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(l),n.set(t.data.length-1);const u={level:l,lastLevel:d,originalEvent:i};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",u),e.dispatch("change",u)):e.dispatch("AddUndo",u),l})(e,t,n,a,o,s,i),undo:(t,n,a)=>((e,t,n,a)=>{let o;return t.typing&&(t.add(),t.typing=!1,Ky(t,!1,n)),a.get()>0&&(a.set(a.get()-1),o=t.data[a.get()],jy(e,o,!0),e.setDirty(!0),e.dispatch("Undo",{level:o})),o})(e,t,n,a),redo:(t,n)=>((e,t,n)=>{let a;return t.get()<n.length-1&&(t.set(t.get()+1),a=n[t.get()],jy(e,a,!1),e.setDirty(!0),e.dispatch("Redo",{level:a})),a})(e,t,n),clear:(t,n)=>((e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")})(e,t,n),reset:e=>(e=>{e.clear(),e.add()})(e),hasUndo:(t,n)=>((e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!$y(zy(e),t.data[0]))(e,t,n),hasRedo:(e,t)=>((e,t)=>t.get()<e.data.length-1&&!e.typing)(e,t),transact:(e,t,n)=>((e,t,n)=>(Gy(e,t),e.beforeChange(),e.ignore(n),e.add()))(e,t,n),ignore:(e,t)=>((e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}})(e,t),extra:(t,n,a,o)=>((e,t,n,a,o)=>{if(t.transact(a)){const a=t.data[n.get()].bookmark,s=t.data[n.get()-1];jy(e,s,!0),t.transact(o)&&(t.data[n.get()-1].beforeBookmark=a)}})(e,t,n,a,o)},formatter:{match:(t,n,a,o)=>jv(e,t,n,a,o),matchAll:(t,n)=>((e,t,n)=>{const a=[],o={},s=e.selection.getStart();return e.dom.getParent(s,(s=>{for(let i=0;i<t.length;i++){const r=t[i];!o[r]&&zv(e,s,r,n)&&(o[r]=!0,a.push(r))}}),e.dom.getRoot()),a})(e,t,n),matchNode:(t,n,a,o)=>zv(e,t,n,a,o),canApply:t=>((e,t)=>{const n=e.formatter.get(t),a=e.dom;if(n&&e.selection.isEditable()){const t=e.selection.getStart(),o=xm(a,t);for(let e=n.length-1;e>=0;e--){const t=n[e];if(!Sm(t))return!0;for(let e=o.length-1;e>=0;e--)if(a.is(o[e],t.selector))return!0}}return!1})(e,t),closest:t=>((e,t)=>{const n=t=>kn(t,yn(e.getBody()));return N.from(e.selection.getStart(!0)).bind((a=>Rv(yn(a),(n=>me(t,(t=>((t,n)=>zv(e,t.dom,n)?N.some(n):N.none())(n,t)))),n))).getOrNull()})(e,t),apply:(t,n,a)=>Nb(e,t,n,a),remove:(t,n,a,o)=>Pb(e,t,n,a,o),toggle:(t,n,a)=>((e,t,n,a)=>{const o=e.formatter.get(t);o&&(!jv(e,t,n,a)||"toggle"in o[0]&&!o[0].toggle?Nb(e,t,n,a):Pb(e,t,n,a))})(e,t,n,a),formatChanged:(t,n,a,o,s)=>((e,t,n,a,o,s)=>(((e,t,n,a,o,s)=>{const i=t.get();$(n.split(","),(t=>{const n=De(i,t).getOrThunk((()=>{const e={withSimilar:{state:Zi(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Zi(!1),similar:!1,callbacks:[]},withVars:[]};return i[t]=e,e})),r=()=>{const n=zb(e);return Hb(e,n,t,o,s).isSome()};if(w(s)){const e=o?n.withSimilar:n.withoutSimilar;e.callbacks.push(a),1===e.callbacks.length&&e.state.set(r())}else n.withVars.push({state:Zi(r()),similar:o,vars:s,callback:a})})),t.set(i)})(e,t,n,a,o,s),{unbind:()=>((e,t,n)=>{const a=e.get();$(t.split(","),(e=>De(a,e).each((t=>{a[e]={withSimilar:{...t.withSimilar,callbacks:G(t.withSimilar.callbacks,(e=>e!==n))},withoutSimilar:{...t.withoutSimilar,callbacks:G(t.withoutSimilar.callbacks,(e=>e!==n))},withVars:G(t.withVars,(e=>e.callback!==n))}})))),e.set(a)})(t,n,a)}))(e,t,n,a,o,s)},editor:{getContent:t=>((e,t)=>N.from(e.getBody()).fold(A("tree"===t.format?new $h("body",11):""),(n=>df(e,t,n))))(e,t),setContent:(t,n)=>((e,t,n)=>N.from(e.getBody()).map((a=>Mv(t)?((e,t,n,a)=>{gv(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const o=mf({validate:!1},e.schema).serialize(n),s=Io(Oo(yn(t))?o:Bt.trim(o));return Bv(e,s,a.no_selection),{content:n,html:s}})(e,a,t,n):((e,t,n,a)=>{if(0===(n=Io(n)).length||/^\s+$/.test(n)){const o='<br data-mce-bogus="1">';"TABLE"===t.nodeName?n="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+o+"</li>");const s=Nl(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),s.toLowerCase())?(n=o,n=e.dom.createHTML(s,Vl(e),n)):n||(n=o),Bv(e,n,a.no_selection),{content:n,html:n}}{"raw"!==a.format&&(n=mf({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const o=Oo(yn(t))?n:Bt.trim(n);return Bv(e,o,a.no_selection),{content:o,html:o}}})(e,a,t,n))).getOr({content:t,html:Mv(n.content)?"":n.content}))(e,t,n),insertContent:(t,n)=>Pv(e,t,n),addVisual:t=>((e,t)=>{const n=e.dom,a=_(t)?t:e.getBody();$(n.select("table,a",a),(t=>{switch(t.nodeName){case"TABLE":const a=Ud(e),o=n.getAttrib(t,"border");o&&"0"!==o||!e.hasVisual?n.removeClass(t,a):n.addClass(t,a);break;case"A":if(!n.getAttrib(t,"href")){const a=n.getAttrib(t,"name")||t.id,o=Hd(e);a&&e.hasVisual?n.addClass(t,o):n.removeClass(t,o)}}})),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})})(e,t)},selection:{getContent:(t,n)=>((e,t,n={})=>{const a=((e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}))(n,t);return yy(e,a).fold(T,(t=>{const n=((e,t)=>{if("text"===t.format)return(e=>N.from(e.selection.getRng()).map((t=>{var n;const a=N.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),o=e.getBody(),s=(e=>e.map((e=>e.nodeName)).getOr("div").toLowerCase())(a),i=yn(t.cloneContents());rf(i),lf(i);const r=e.dom.add(o,s,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},i.dom),l=Ny(r),d=Io(null!==(n=r.textContent)&&void 0!==n?n:"");if(e.dom.remove(r),Fy(d,0)||Fy(d,d.length-1)){const e=a.getOr(o),t=Ny(e),n=t.indexOf(l);return-1===n?l:(Fy(t,n-1)?" ":"")+l+(Fy(t,n+l.length)?" ":"")}return l})).getOr(""))(e);{const n=((e,t)=>{const n=e.selection.getRng(),a=e.dom.create("body"),o=e.selection.getSel(),s=Rh(e,Ju(o)),i=t.contextual?Ry(yn(e.getBody()),s,e.schema).dom:n.cloneContents();return i&&a.appendChild(i),e.selection.serializer.serialize(a,t)})(e,t);return"tree"===t.format?n:e.selection.isCollapsed()?"":n}})(e,t);return _y(e,n,t)}))})(e,t,n)},autocompleter:{addDecoration:t=>Uh(e,t),removeDecoration:()=>((e,t)=>Hh(t).each((t=>{const n=e.selection.getBookmark();Da(t),e.selection.moveToBookmark(n)})))(e,yn(e.getBody()))},raw:{getModel:()=>N.none()}}),Xy=e=>xe(e.plugins,"rtc"),Qy=e=>e.rtcInstance?e.rtcInstance:Yy(e),Jy=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},e_=e=>Jy(e).init.bindEvents(),t_=e=>0===e.dom.length?(Ca(e),N.none()):N.some(e),n_=(e,t,n,a,o)=>{e.bind((e=>((a?ug:cg)(e.dom,a?e.dom.length:0,o),t.filter(Kt).map((t=>((e,t,n,a,o)=>{const s=e.dom,i=t.dom,r=a?s.length:i.length;a?(mg(s,i,o,!1,!a),n.setStart(i,r)):(mg(i,s,o,!1,!a),n.setEnd(i,r))})(e,t,n,a,o)))))).orThunk((()=>{const e=((e,t)=>e.filter((e=>Jm.isBookmarkNode(e.dom))).bind(t?Bn:Mn))(t,a).or(t).filter(Kt);return e.map((e=>((e,t,n)=>{On(e).each((a=>{const o=e.dom;t&&tg(a,$r(o,0),n)?cg(o,0,n):!t&&ng(a,$r(o,o.length),n)&&ug(o,o.length,n)}))})(e,a,o)))}))},a_=(e,t,n)=>{if(xe(e,t)){const a=G(e[t],(e=>e!==n));0===a.length?delete e[t]:e[t]=a}},o_=e=>!(!e||!e.ownerDocument)&&En(yn(e.ownerDocument),yn(e)),s_=(e,t,n,a)=>{let o,s;const{selectorChangedWithUnbind:i}=((e,t)=>{let n,a;const o=(t,n)=>J(n,(n=>e.is(n,t))),s=t=>e.getParents(t,void 0,e.getRoot());return{selectorChangedWithUnbind:(e,i)=>(n||(n={},a={},t.on("NodeChange",(e=>{const t=e.element,i=s(t),r={};fe(n,((e,t)=>{o(t,i).each((n=>{a[t]||($(e,(e=>{e(!0,{node:n,selector:t,parents:i})})),a[t]=e),r[t]=e}))})),fe(a,((e,n)=>{r[n]||(delete a[n],$(e,(e=>{e(!1,{node:t,selector:n,parents:i})})))}))}))),n[e]||(n[e]=[]),n[e].push(i),o(e,s(t.selection.getStart())).each((()=>{a[e]=n[e]})),{unbind:()=>{a_(n,e,i),a_(a,e,i)}})}})(e,a),r=(e,t)=>((e,t,n={})=>{const a=((e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}))(n,t);Cy(e,a).each((t=>{const n=((e,t)=>{if("raw"!==t.format){const n=e.selection.getRng(),a=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),o=a?{context:a.nodeName.toLowerCase()}:{},s=e.parser.parse(t.content,{forced_root_block:!1,...o,...t});return mf({validate:!1},e.schema).serialize(s)}return t.content})(e,t),a=e.selection.getRng();((e,t,n)=>{const a=N.from(t.firstChild).map(yn),o=N.from(t.lastChild).map(yn);e.deleteContents(),e.insertNode(t);const s=a.bind(Mn).filter(Kt).bind(t_),i=o.bind(Bn).filter(Kt).bind(t_);n_(s,a,e,!0,n),n_(i,o,e,!1,n),e.collapse(!1)})(a,a.createContextualFragment(n),e.schema),e.selection.setRng(a),sh(e,a),Dy(e,n,t)}))})(a,e,t),l=e=>{const t=c();t.collapse(!!e),u(t)},d=()=>t.getSelection?t.getSelection():t.document.selection,c=()=>{let n;const i=(e,t,n)=>{try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}},r=t.document;if(_(a.bookmark)&&!Ah(a)){const e=gh(a);if(e.isSome())return e.map((e=>Rh(a,[e])[0])).getOr(r.createRange())}try{const e=d();e&&!ja(e.anchorNode)&&(n=e.rangeCount>0?e.getRangeAt(0):r.createRange(),n=Rh(a,[n])[0])}catch(e){}if(n||(n=r.createRange()),oo(n.startContainer)&&n.collapsed){const t=e.getRoot();n.setStart(t,0),n.setEnd(t,0)}return o&&s&&(0===i(n.START_TO_START,n,o)&&0===i(n.END_TO_END,n,o)?n=s:(o=null,s=null)),n},u=(e,t)=>{if(!(e=>!!e&&o_(e.startContainer)&&o_(e.endContainer))(e))return;const n=d();if(e=a.dispatch("SetSelectionRange",{range:e,forward:t}).range,n){s=e;try{n.removeAllRanges(),n.addRange(e)}catch(e){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),o=n.rangeCount>0?n.getRangeAt(0):null}if(!e.collapsed&&e.startContainer===e.endContainer&&(null==n?void 0:n.setBaseAndExtent)&&e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()){const t=e.startContainer.childNodes[e.startOffset];t&&"IMG"===t.nodeName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(t,0,t,1))}a.dispatch("AfterSetSelectionRange",{range:e,forward:t})},m=()=>{const t=d(),n=null==t?void 0:t.anchorNode,a=null==t?void 0:t.focusNode;if(!t||!n||!a||ja(n)||ja(a))return!0;const o=e.createRng(),s=e.createRng();try{o.setStart(n,t.anchorOffset),o.collapse(!0),s.setStart(a,t.focusOffset),s.collapse(!0)}catch(e){return!0}return o.compareBoundaryPoints(o.START_TO_START,s)<=0},p={dom:e,win:t,serializer:n,editor:a,expand:(t={type:"word"})=>u(Vp(e).expand(c(),t)),collapse:l,setCursorLocation:(t,n)=>{const o=e.createRng();_(t)&&_(n)?(o.setStart(t,n),o.setEnd(t,n),u(o),l(!1)):(im(e,o,a.getBody(),!0),u(o))},getContent:e=>((e,t={})=>((e,t,n)=>Jy(e).selection.getContent(t,n))(e,t.format?t.format:"html",t))(a,e),setContent:r,getBookmark:(e,t)=>h.getBookmark(e,t),moveToBookmark:e=>h.moveToBookmark(e),select:(t,n)=>(((e,t,n)=>N.from(t).bind((t=>N.from(t.parentNode).map((a=>{const o=e.nodeIndex(t),s=e.createRng();return s.setStart(a,o),s.setEnd(a,o+1),n&&(im(e,s,t,!0),im(e,s,t,!1)),s})))))(e,t,n).each(u),t),isCollapsed:()=>{const e=c(),t=d();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isEditable:()=>{const t=c(),n=a.getBody().querySelectorAll('[data-mce-selected="1"]');return n.length>0?ae(n,(t=>e.isEditable(t.parentElement))):Lh(e,t)},isForward:m,setNode:t=>(r(e.getOuterHTML(t)),t),getNode:()=>((e,t)=>{if(!t)return e;let n=t.startContainer,a=t.endContainer;const o=t.startOffset,s=t.endOffset;let i=t.commonAncestorContainer;t.collapsed||(n===a&&s-o<2&&n.hasChildNodes()&&(i=n.childNodes[o]),eo(n)&&eo(a)&&(n=n.length===o?Ih(n.nextSibling,!0):n.parentNode,a=0===s?Ih(a.previousSibling,!1):a.parentNode,n&&n===a&&(i=n)));const r=eo(i)?i.parentNode:i;return qa(r)?r:e})(a.getBody(),c()),getSel:d,setRng:u,getRng:c,getStart:e=>Mh(a.getBody(),c(),e),getEnd:e=>Bh(a.getBody(),c(),e),getSelectedBlocks:(t,n)=>((e,t,n,a)=>{const o=[],s=e.getRoot(),i=e.getParent(n||Mh(s,t,t.collapsed),e.isBlock),r=e.getParent(a||Bh(s,t,t.collapsed),e.isBlock);if(i&&i!==s&&o.push(i),i&&r&&i!==r){let t;const n=new Ha(i,s);for(;(t=n.next())&&t!==r;)e.isBlock(t)&&o.push(t)}return r&&i!==r&&r!==s&&o.push(r),o})(e,c(),t,n),normalize:()=>{const t=c(),n=d();if(!(Ju(n).length>1)&&rm(a)){const n=Rp(e,t);return n.each((e=>{u(e,m())})),n.getOr(t)}return t},selectorChanged:(e,t)=>(i(e,t),p),selectorChangedWithUnbind:i,getScrollContainer:()=>{let t,n=e.getRoot();for(;n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},scrollIntoView:(e,t)=>{_(e)?((e,t,n)=>{(e.inline?nh:oh)(e,t,n)})(a,e,t):sh(a,c(),t)},placeCaretAt:(e,t)=>u(Ap(e,t,a.getDoc())),getBoundingClientRect:()=>{const e=c();return e.collapsed?$r.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:()=>{t=o=s=null,f.destroy()}},h=Jm(p),f=mp(p,a);return p.bookmarkManager=h,p.controlSelection=f,p},i_=(e,t,n)=>{-1===Bt.inArray(t,n)&&(e.addAttributeFilter(n,((e,t)=>{let n=e.length;for(;n--;)e[n].attr(t,null)})),t.push(n))},r_=(e,t)=>{const n=["data-mce-selected"],a={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},o=t&&t.dom?t.dom:Hi.DOM,s=t&&t.schema?t.schema:mi(a),i=by(a,s);return((e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",((e,t)=>{let n=e.length;for(;n--;){const a=e[n];a.attr("tabindex",a.attr("data-mce-tabindex")),a.attr(t,null)}})),e.addAttributeFilter("src,href,style",((e,a)=>{const o="data-mce-"+a,s=t.url_converter,i=t.url_converter_scope;let r=e.length;for(;r--;){const t=e[r];let l=t.attr(o);void 0!==l?(t.attr(a,l.length>0?l:null),t.attr(o,null)):(l=t.attr(a),"style"===a?l=n.serializeStyle(n.parseStyle(l),t.name):s&&(l=s.call(i,l,a,t.name)),t.attr(a,l.length>0?l:null))}})),e.addAttributeFilter("class",(e=>{let t=e.length;for(;t--;){const n=e[t];let a=n.attr("class");a&&(a=a.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),n.attr("class",a.length>0?a:null))}})),e.addAttributeFilter("data-mce-type",((e,t,n)=>{let a=e.length;for(;a--;){const t=e[a];if("bookmark"===t.attr("data-mce-type")&&!n.cleanup){const e=N.from(t.firstChild).exists((e=>{var t;return!Bo(null!==(t=e.value)&&void 0!==t?t:"")}));e?t.unwrap():t.remove()}}})),e.addNodeFilter("noscript",(e=>{var t;let n=e.length;for(;n--;){const a=e[n].firstChild;a&&(a.value=ti.decode(null!==(t=a.value)&&void 0!==t?t:""))}})),e.addNodeFilter("script,style",((e,n)=>{var a;const o=e=>e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let s=e.length;for(;s--;){const i=e[s],r=i.firstChild,l=null!==(a=null==r?void 0:r.value)&&void 0!==a?a:"";if("script"===n){const e=i.attr("type");e&&i.attr("type","mce-no/type"===e?null:e.replace(/^mce\-/,"")),"xhtml"===t.element_format&&r&&l.length>0&&(r.value="// <![CDATA[\n"+o(l)+"\n// ]]>")}else"xhtml"===t.element_format&&r&&l.length>0&&(r.value="\x3c!--\n"+o(l)+"\n--\x3e")}})),e.addNodeFilter("#comment",(e=>{let a=e.length;for(;a--;){const o=e[a],s=o.value;t.preserve_cdata&&0===(null==s?void 0:s.indexOf("[CDATA["))?(o.name="#cdata",o.type=4,o.value=n.decode(s.replace(/^\[CDATA\[|\]\]$/g,""))):0===(null==s?void 0:s.indexOf("mce:protected "))&&(o.name="#text",o.type=3,o.raw=!0,o.value=unescape(s).substr(14))}})),e.addNodeFilter("xml:namespace,input",((e,t)=>{let n=e.length;for(;n--;){const a=e[n];7===a.type?a.remove():1===a.type&&("input"!==t||a.attr("type")||a.attr("type","text"))}})),e.addAttributeFilter("data-mce-type",(t=>{$(t,(t=>{"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())}))})),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",((e,t)=>{let n=e.length;for(;n--;)e[n].attr(t,null)})),t.remove_trailing_brs&&Wb(t,e,e.schema)})(i,a,o),{schema:s,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:(e,n={})=>{const r={format:"html",...n},l=((e,t,n)=>((e,t)=>_(e)&&e.hasEventListeners("PreProcess")&&!t.no_events)(e,n)?((e,t,n)=>{let a;const o=e.dom;let s=t.cloneNode(!0);const i=document.implementation;if(i.createHTMLDocument){const e=i.createHTMLDocument("");Bt.each("BODY"===s.nodeName?s.childNodes:[s],(t=>{e.body.appendChild(e.importNode(t,!0))})),s="BODY"!==s.nodeName?e.body.firstChild:e.body,a=o.doc,o.doc=e}return((e,t)=>{e.dispatch("PreProcess",t)})(e,{...n,node:s}),a&&(o.doc=a),s})(e,t,n):t)(t,e,r),d=((e,t,n)=>{const a=Io(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||Oo(yn(t))?a:Bt.trim(a)})(o,l,r),c=((e,t,n)=>{const a=n.selection?{forced_root_block:!1,...n}:n,o=e.parse(t,a);return(e=>{const t=e=>"br"===(null==e?void 0:e.name),n=e.lastChild;if(t(n)){const e=n.prev;t(e)&&(n.remove(),e.remove())}})(o),o})(i,d,r);return"tree"===r.format?c:((e,t,n,a,o)=>{const s=((e,t,n)=>mf(e,t).serialize(n))(t,n,a);return((e,t,n)=>{if(!t.no_events&&e){const a=((e,t)=>e.dispatch("PostProcess",t))(e,{...t,content:n});return a.content}return n})(e,o,s)})(t,a,s,c,r)},addRules:s.addValidElements,setRules:s.setValidElements,addTempAttr:L(i_,i,n),getTempAttrs:A(n),getNodeFilters:i.getNodeFilters,getAttributeFilters:i.getAttributeFilters,removeNodeFilter:i.removeNodeFilter,removeAttributeFilter:i.removeAttributeFilter}},l_=(e,t)=>{const n=r_(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},d_=(e,t,n={})=>{const a=((e,t)=>({format:"html",...e,set:!0,content:t}))(n,t);return Cy(e,a).map((t=>{const n=((e,t,n)=>Qy(e).editor.setContent(t,n))(e,t.content,t);return Dy(e,n.html,t),n.content})).getOr(t)},c_="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),u_="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),m_="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),p_=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],h_=(e,t)=>{const n=G(t,(t=>xe(e,t)));return re(n)},f_=e=>{const t=h_(e,c_),n=e.forced_root_block;return!1!==n&&""!==n||t.push("forced_root_block (false only)"),re(t)},g_=e=>h_(e,u_),v_=(e,t)=>{const n=Bt.makeMap(e.plugins," "),a=G(t,(e=>xe(n,e)));return re(a)},b_=e=>v_(e,m_),w_=e=>v_(e,p_.map((e=>e.name))),y_=e=>J(p_,(t=>t.name===e)).fold((()=>e),(t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e)),__=Hi.DOM,C_=e=>N.from(e).each((e=>e.destroy())),D_=(()=>{const e={};return{add:(t,n)=>{e[t]=n},get:t=>e[t]?e[t]:{icons:{}},has:t=>xe(e,t)}})(),x_=Gi.ModelManager,k_=(e,t)=>t.dom[e],E_=(e,t)=>parseInt(ca(t,e),10),S_=L(k_,"clientWidth"),A_=L(k_,"clientHeight"),T_=L(E_,"margin-top"),O_=L(E_,"margin-left"),L_=e=>{const t=[],n=()=>{const t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():(()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}})()},a=()=>N.from(t[0]),o=()=>{$(t,(e=>{e.reposition()}))},s=e=>{ee(t,(t=>t===e)).each((e=>{t.splice(e,1)}))},i=(i,r=!0)=>e.removed||!(e=>{return(t=e.inline?e.getBody():e.getContentAreaContainer(),N.from(t).map(yn)).map(Yn).getOr(!1);var t})(e)?{}:(r&&e.dispatch("BeforeOpenNotification",{notification:i}),J(t,(e=>{return t=n().getArgs(e),a=i,!(t.type!==a.type||t.text!==a.text||t.progressBar||t.timeout||a.progressBar||a.timeout);var t,a})).getOrThunk((()=>{e.editorManager.setActive(e);const r=n().open(i,(()=>{s(r),o(),Th(e)&&a().fold((()=>e.focus()),(e=>ih(yn(e.getEl()))))}));return(e=>{t.push(e)})(r),o(),e.dispatch("OpenNotification",{notification:{...r}}),r}))),r=A(t);return(e=>{e.on("SkinLoaded",(()=>{const t=fd(e);t&&i({text:t,type:"warning",timeout:0},!1),o()})),e.on("show ResizeEditor ResizeWindow NodeChange",(()=>{requestAnimationFrame(o)})),e.on("remove",(()=>{$(t.slice(),(e=>{n().close(e)}))}))})(e),{open:i,close:()=>{a().each((e=>{n().close(e),s(e),o()}))},getNotifications:r}},P_=Gi.PluginManager,M_=Gi.ThemeManager,B_=e=>{let t=[];const n=()=>{const t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():(()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}})()},a=(e,t)=>(...n)=>t?t.apply(e,n):void 0,o=n=>{(t=>{e.dispatch("CloseWindow",{dialog:t})})(n),t=G(t,(e=>e!==n)),0===t.length&&e.focus()},s=n=>{e.editorManager.setActive(e),fh(e),e.ui.show();const a=n();return(n=>{t.push(n),(t=>{e.dispatch("OpenWindow",{dialog:t})})(n)})(a),a};return e.on("remove",(()=>{$(t,(e=>{n().close(e)}))})),{open:(e,t)=>s((()=>n().open(e,t,o))),openUrl:e=>s((()=>n().openUrl(e,o))),alert:(e,t,o)=>{const s=n();s.alert(e,a(o||s,t))},confirm:(e,t,o)=>{const s=n();s.confirm(e,a(o||s,t))},close:()=>{N.from(t[t.length-1]).each((e=>{n().close(e),o(e)}))}}},I_=(e,t)=>{e.notificationManager.open({type:"error",text:t})},R_=(e,t)=>{e._skinLoaded?I_(e,t):e.on("SkinLoaded",(()=>{I_(e,t)}))},F_=(e,t,n)=>{tp(e,t,{message:n}),console.error(n)},N_=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,V_=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},U_=e=>"content/"+e+"/content.css",H_=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",a=`content${e.editorManager.suffix}.css`;return q(t,(t=>(e=>tinymce.Resource.has(U_(e)))(t)?t:(e=>/^[a-z0-9\-]+$/i.test(e))(t)&&!e.inline?`${n}/${t}/${a}`:e.documentBaseURI.toAbsolute(t)))},z_=(e,t)=>{const n={};return{findAll:(a,o=F)=>{const s=G((e=>e?ue(e.getElementsByTagName("img")):[])(a),(t=>{const n=t.src;return!t.hasAttribute("data-mce-bogus")&&!t.hasAttribute("data-mce-placeholder")&&!(!n||n===Ot.transparentSrc)&&(je(n,"blob:")?!e.isUploaded(n)&&o(t):!!je(n,"data:")&&o(t))})),i=q(s,(e=>{const a=e.src;if(xe(n,a))return n[a].then((t=>p(t)?t:{image:e,blobInfo:t.blobInfo}));{const o=((e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(je(t,"blob:")){const s=e.getByUri(t);return _(s)?Promise.resolve(s):(a=t,je(a,"blob:")?(e=>fetch(e).then((e=>e.ok?e.blob():Promise.reject())).catch((()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"}))))(a):je(a,"data:")?(o=a,new Promise(((e,t)=>{Kb(o).bind((({type:e,data:t,base64Encoded:n})=>Gb(e,t,n))).fold((()=>t("Invalid data URI")),e)}))):Promise.reject("Unknown URI format")).then((t=>Yb(t).then((a=>Qb(a,!1,(n=>N.some(Jb(e,t,n)))).getOrThunk(n)))))}var a,o;return je(t,"data:")?ew(e,t).fold(n,(e=>Promise.resolve(e))):Promise.reject("Unknown image data format")})(t,a).then((t=>(delete n[a],{image:e,blobInfo:t}))).catch((e=>(delete n[a],e)));return n[a]=o,o}}));return Promise.all(i)}}},j_=()=>{let e={};const t=(e,t)=>({status:e,resultUri:t}),n=t=>t in e;return{hasBlobUri:n,getResultUri:t=>{const n=e[t];return n?n.resultUri:null},isPending:t=>!!n(t)&&1===e[t].status,isUploaded:t=>!!n(t)&&2===e[t].status,markPending:n=>{e[n]=t(1,null)},markUploaded:(n,a)=>{e[n]=t(2,a)},removeFailed:t=>{delete e[t]},destroy:()=>{e={}}}};let Z_=0;const q_=(e,t)=>{const n={},a=(e,n)=>new Promise(((a,o)=>{const s=new XMLHttpRequest;s.open("POST",t.url),s.withCredentials=t.credentials,s.upload.onprogress=e=>{n(e.loaded/e.total*100)},s.onerror=()=>{o("Image upload failed due to a XHR Transport error. Code: "+s.status)},s.onload=()=>{if(s.status<200||s.status>=300)return void o("HTTP Error: "+s.status);const e=JSON.parse(s.responseText);var n,i;e&&p(e.location)?a((n=t.basePath,i=e.location,n?n.replace(/\/$/,"")+"/"+i.replace(/^\//,""):i)):o("Invalid JSON: "+s.responseText)};const i=new FormData;i.append("file",e.blob(),e.filename()),s.send(i)})),o=C(t.handler)?t.handler:a,s=(e,t)=>({url:t,blobInfo:e,status:!0}),i=(e,t)=>({url:"",blobInfo:e,status:!1,error:t}),r=(e,t)=>{Bt.each(n[e],(e=>{e(t)})),delete n[e]};return{upload:(l,d)=>t.url||o!==a?((t,a)=>(t=Bt.grep(t,(t=>!e.isUploaded(t.blobUri()))),Promise.all(Bt.map(t,(t=>e.isPending(t.blobUri())?(e=>{const t=e.blobUri();return new Promise((e=>{n[t]=n[t]||[],n[t].push(e)}))})(t):((t,n,a)=>(e.markPending(t.blobUri()),new Promise((o=>{let l,d;try{const c=()=>{l&&(l.close(),d=k)},u=n=>{c(),e.markUploaded(t.blobUri(),n),r(t.blobUri(),s(t,n)),o(s(t,n))},m=n=>{c(),e.removeFailed(t.blobUri()),r(t.blobUri(),i(t,n)),o(i(t,n))};d=e=>{e<0||e>100||N.from(l).orThunk((()=>N.from(a).map(B))).each((t=>{l=t,t.progressBar.value(e)}))},n(t,d).then(u,(e=>{m(p(e)?{message:e}:e)}))}catch(e){o(i(t,e))}}))))(t,o,a))))))(l,d):new Promise((e=>{e([])}))}},$_=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),W_=(e,t)=>q_(t,{url:Yl(e),basePath:Xl(e),credentials:Ql(e),handler:Jl(e)}),K_=e=>{const t=(()=>{let e=[];const t=e=>{if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const t=e.id||"blobid"+Z_+++(()=>{const e=()=>Math.round(4294967295*Math.random()).toString(36);return"s"+(new Date).getTime().toString(36)+e()+e()+e()})(),n=e.name||t,a=e.blob;var o;return{id:A(t),name:A(n),filename:A(e.filename||n+"."+(o=a.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[o.toLowerCase()]||"dat")),blob:A(a),base64:A(e.base64),blobUri:A(e.blobUri||URL.createObjectURL(a)),uri:A(e.uri)}},n=t=>J(e,t).getOrUndefined(),a=e=>n((t=>t.id()===e));return{create:(e,n,a,o,s)=>{if(p(e))return t({id:e,name:o,filename:s,blob:n,base64:a});if(h(e))return t(e);throw new Error("Unknown input type")},add:t=>{a(t.id())||e.push(t)},get:a,getByUri:e=>n((t=>t.blobUri()===e)),getByData:(e,t)=>n((n=>n.base64()===e&&n.blob().type===t)),findFirst:n,removeByUri:t=>{e=G(e,(e=>e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1)))},destroy:()=>{$(e,(e=>{URL.revokeObjectURL(e.blobUri())})),e=[]}}})();let n,a;const o=j_(),s=[],i=t=>n=>e.selection?t(n):[],r=(e,t,n)=>{let a=0;do{a=e.indexOf(t,a),-1!==a&&(e=e.substring(0,a)+n+e.substr(a+t.length),a+=n.length-t.length+1)}while(-1!==a);return e},l=(e,t,n)=>{const a=`src="${n}"${n===Ot.transparentSrc?' data-mce-placeholder="1"':""}`;return e=r(e,`src="${t}"`,a),r(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},d=(t,n)=>{$(e.undoManager.data,(e=>{"fragmented"===e.type?e.fragments=q(e.fragments,(e=>l(e,t,n))):e.content=l(e.content,t,n)}))},c=()=>(n||(n=W_(e,o)),f().then(i((a=>{const o=q(a,(e=>e.blobInfo));return n.upload(o,$_(e)).then(i((n=>{const o=[];let s=!1;const i=q(n,((n,i)=>{const{blobInfo:r,image:l}=a[i];let c=!1;return n.status&&Wl(e)?(n.url&&!ze(l.src,n.url)&&(s=!0),t.removeByUri(l.src),Xy(e)||((t,n)=>{const a=e.convertURL(n,"src");var o;d(t.src,n),en(yn(t),{src:$l(e)?(o=n,o+(-1===o.indexOf("?")?"?":"&")+(new Date).getTime()):n,"data-mce-src":a})})(l,n.url)):n.error&&(n.error.remove&&(d(l.src,Ot.transparentSrc),o.push(l),c=!0),((e,t)=>{R_(e,Ki.translate(["Failed to upload image: {0}",t]))})(e,n.error.message)),{element:l,status:n.status,uploadUri:n.url,blobInfo:r,removed:c}}));return o.length>0&&!Xy(e)?e.undoManager.transact((()=>{$(xa(o),(n=>{const a=On(n);Ca(n),a.each((e=>t=>{((e,t)=>e.dom.isEmpty(t.dom)&&_(e.schema.getTextBlockElements()[jt(t)]))(e,t)&&ba(t,vn('<br data-mce-bogus="1" />'))})(e)),t.removeByUri(n.dom.src)}))})):s&&e.undoManager.dispatchChange(),i})))})))),u=()=>ql(e)?c():Promise.resolve([]),m=e=>ae(s,(t=>t(e))),f=()=>(a||(a=z_(o,t)),a.findAll(e.getBody(),m).then(i((t=>{const n=G(t,(t=>p(t)?(R_(e,t),!1):"blob"!==t.uriType));return Xy(e)||$(n,(e=>{d(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")})),n})))),g=n=>n.replace(/src="(blob:[^"]+)"/g,((n,a)=>{const s=o.getResultUri(a);if(s)return'src="'+s+'"';let i=t.getByUri(a);return i||(i=X(e.editorManager.get(),((e,t)=>e||t.editorUpload&&t.editorUpload.blobCache.getByUri(a)),void 0)),i?'src="data:'+i.blob().type+";base64,"+i.base64()+'"':n}));return e.on("SetContent",(()=>{ql(e)?u():f()})),e.on("RawSaveContent",(e=>{e.content=g(e.content)})),e.on("GetContent",(e=>{e.source_view||"raw"===e.format||"tree"===e.format||(e.content=g(e.content))})),e.on("PostRender",(()=>{e.parser.addNodeFilter("img",(e=>{$(e,(e=>{const n=e.attr("src");if(!n||t.getByUri(n))return;const a=o.getResultUri(n);a&&e.attr("src",a)}))}))})),{blobCache:t,addFilter:e=>{s.push(e)},uploadImages:c,uploadImagesAuto:u,scanForImages:f,destroy:()=>{t.destroy(),o.destroy(),a=n=null}}},G_={remove_similar:!0,inherit:!1},Y_={selector:"td,th",...G_},X_={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Y_},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Y_},tablecellbordercolor:{styles:{borderColor:"%value"},...Y_},tablecellclass:{classes:["%value"],...Y_},tableclass:{selector:"table",classes:["%value"],...G_},tablecellborderstyle:{styles:{borderStyle:"%value"},...Y_},tablecellborderwidth:{styles:{borderWidth:"%value"},...Y_}},Q_=A(X_),J_=Bt.each,eC=Hi.DOM,tC=e=>_(e)&&h(e),nC=(e,t)=>{const n=t&&t.schema||mi({}),a=e=>{const t=p(e)?{name:e,classes:[],attrs:{}}:e,n=eC.create(t.name);return((e,t)=>{t.classes.length>0&&eC.addClass(e,t.classes.join(" ")),eC.setAttribs(e,t.attrs)})(n,t),n},o=(e,t,s)=>{let i;const r=t[0],l=tC(r)?r.name:void 0,d=((e,t)=>{const a=n.getElementRule(e.nodeName.toLowerCase()),o=null==a?void 0:a.parentsRequired;return!(!o||!o.length)&&(t&&j(o,t)?t:o[0])})(e,l);if(d)l===d?(i=r,t=t.slice(1)):i=d;else if(r)i=r,t=t.slice(1);else if(!s)return e;const c=i?a(i):eC.create("div");c.appendChild(e),s&&Bt.each(s,(t=>{const n=a(t);c.insertBefore(n,e)}));const u=tC(i)?i.siblings:void 0;return o(c,t,u)},s=eC.create("div");if(e.length>0){const t=e[0],n=a(t),i=tC(t)?t.siblings:void 0;s.appendChild(o(n,e.slice(1),i))}return s},aC=e=>{let t="div";const n={name:t,classes:[],attrs:{},selector:e=Bt.trim(e)};return"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,((e,t,a,o,s)=>{switch(t){case"#":n.attrs.id=a;break;case".":n.classes.push(a);break;case":":-1!==Bt.inArray("checked disabled enabled read-only required".split(" "),a)&&(n.attrs[a]=a)}if("["===o){const e=s.match(/([\w\-]+)(?:\=\"([^\"]+))?/);e&&(n.attrs[e[1]]=e[2])}return""}))),n.name=t||"div",n},oC=(e,t)=>{let n="",a=Cd(e);if(""===a)return"";const o=e=>p(e)?e.replace(/%(\w+)/g,""):"",s=(t,n)=>eC.getStyle(null!=n?n:e.getBody(),t,!0);if(p(t)){const n=e.formatter.get(t);if(!n)return"";t=n[0]}if("preview"in t){const e=t.preview;if(!1===e)return"";a=e||a}let i,r=t.block||t.inline||"span";const l=(d=t.selector,p(d)?(d=(d=d.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Bt.map(d.split(/(?:>|\s+(?![^\[\]]+\]))/),(e=>{const t=Bt.map(e.split(/(?:~\+|~|\+)/),aC),n=t.pop();return t.length&&(n.siblings=t),n})).reverse()):[]);var d;l.length>0?(l[0].name||(l[0].name=r),r=t.selector,i=nC(l,e)):i=nC([r],e);const c=eC.select(r,i)[0]||i.firstChild;J_(t.styles,((e,t)=>{const n=o(e);n&&eC.setStyle(c,t,n)})),J_(t.attributes,((e,t)=>{const n=o(e);n&&eC.setAttrib(c,t,n)})),J_(t.classes,(e=>{const t=o(e);eC.hasClass(c,t)||eC.addClass(c,t)})),e.dispatch("PreviewFormats"),eC.setStyles(i,{position:"absolute",left:-65535}),e.getBody().appendChild(i);const u=s("fontSize"),m=/px$/.test(u)?parseInt(u,10):0;return J_(a.split(" "),(e=>{let t=s(e,c);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)&&(t=s(e),"#ffffff"===_i(t).toLowerCase())||"color"===e&&"#000000"===_i(t).toLowerCase())){if("font-size"===e&&/em|%$/.test(t)){if(0===m)return;t=parseFloat(t)/(/%$/.test(t)?100:1)*m+"px"}"border"===e&&t&&(n+="padding:0 2px;"),n+=e+":"+t+";"}})),e.dispatch("AfterPreviewFormats"),eC.remove(i),n},sC=e=>{const t=(e=>{const t={},n=(e,a)=>{e&&(p(e)?(g(a)||(a=[a]),$(a,(e=>{w(e.deep)&&(e.deep=!Sm(e)),w(e.split)&&(e.split=!Sm(e)||Am(e)),w(e.remove)&&Sm(e)&&!Am(e)&&(e.remove="none"),Sm(e)&&Am(e)&&(e.mixed=!0,e.block_expand=!0),p(e.classes)&&(e.classes=e.classes.split(/\s+/))})),t[e]=a):fe(e,((e,t)=>{n(t,e)})))};return n((e=>{const t=e.dom,n=e.schema.type,a={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const e={inline:"span",styles:{textDecoration:"line-through"},exact:!0},t={inline:"strike",remove:"all",preserve_attributes:["class","style"]},a={inline:"s",remove:"all",preserve_attributes:["class","style"]};return"html4"!==n?[a,e,t]:[e,a,t]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(e,t,n)=>Za(e)&&e.hasAttribute("href"),onformat:(e,n,a)=>{Bt.each(a,((n,a)=>{t.setAttrib(e,a,n)}))}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":e=>{var t;return null!==(t=null==e?void 0:e.customValue)&&void 0!==t?t:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Bt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),(e=>{a[e]={block:e,remove:"all"}})),a})(e)),n(Q_()),n(_d(e)),{get:e=>_(e)?t[e]:t,has:e=>xe(t,e),register:n,unregister:e=>(e&&t[e]&&delete t[e],t)}})(e),n=Zi({});return(e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])})(e),(e=>{e.on("mouseup keydown",(t=>{var n;((e,t,n)=>{const a=e.selection,o=e.getBody();Kv(e,null,n),8!==t&&46!==t||!a.isCollapsed()||a.getStart().innerHTML!==Zv||Kv(e,Ru(o,a.getStart()),!0),37!==t&&39!==t||Kv(e,Ru(o,a.getStart()),!0)})(e,t.keyCode,(n=e.selection.getRng().endContainer,eo(n)&&Ze(n.data,bo)))}))})(e),Xy(e)||((e,t)=>{e.set({}),t.on("NodeChange",(n=>{jb(t,n.element,e.get())})),t.on("FormatApply FormatRemove",(n=>{const a=N.from(n.node).map((e=>cm(e)?e:e.startContainer)).bind((e=>Za(e)?N.some(e):N.from(e.parentElement))).getOrThunk((()=>Ub(t)));jb(t,a,e.get())}))})(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(t,n,a)=>{((e,t,n,a)=>{Jy(e).formatter.apply(t,n,a)})(e,t,n,a)},remove:(t,n,a,o)=>{((e,t,n,a,o)=>{Jy(e).formatter.remove(t,n,a,o)})(e,t,n,a,o)},toggle:(t,n,a)=>{((e,t,n,a)=>{Jy(e).formatter.toggle(t,n,a)})(e,t,n,a)},match:(t,n,a,o)=>((e,t,n,a,o)=>Jy(e).formatter.match(t,n,a,o))(e,t,n,a,o),closest:t=>((e,t)=>Jy(e).formatter.closest(t))(e,t),matchAll:(t,n)=>((e,t,n)=>Jy(e).formatter.matchAll(t,n))(e,t,n),matchNode:(t,n,a,o)=>((e,t,n,a,o)=>Jy(e).formatter.matchNode(t,n,a,o))(e,t,n,a,o),canApply:t=>((e,t)=>Jy(e).formatter.canApply(t))(e,t),formatChanged:(t,a,o,s)=>((e,t,n,a,o,s)=>Jy(e).formatter.formatChanged(t,n,a,o,s))(e,n,t,a,o,s),getCssText:L(oC,e)}},iC=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},rC=e=>{const t=Xi(),n=Zi(0),a=Zi(0),o={data:[],typing:!1,beforeChange:()=>{((e,t,n)=>{Jy(e).undoManager.beforeChange(t,n)})(e,n,t)},add:(s,i)=>((e,t,n,a,o,s,i)=>Jy(e).undoManager.add(t,n,a,o,s,i))(e,o,a,n,t,s,i),dispatchChange:()=>{e.setDirty(!0);const t=zy(e);t.bookmark=pl(e.selection),e.dispatch("change",{level:t,lastLevel:le(o.data,a.get()).getOrUndefined()})},undo:()=>((e,t,n,a)=>Jy(e).undoManager.undo(t,n,a))(e,o,n,a),redo:()=>((e,t,n)=>Jy(e).undoManager.redo(t,n))(e,a,o.data),clear:()=>{((e,t,n)=>{Jy(e).undoManager.clear(t,n)})(e,o,a)},reset:()=>{((e,t)=>{Jy(e).undoManager.reset(t)})(e,o)},hasUndo:()=>((e,t,n)=>Jy(e).undoManager.hasUndo(t,n))(e,o,a),hasRedo:()=>((e,t,n)=>Jy(e).undoManager.hasRedo(t,n))(e,o,a),transact:t=>((e,t,n,a)=>Jy(e).undoManager.transact(t,n,a))(e,o,n,t),ignore:t=>{((e,t,n)=>{Jy(e).undoManager.ignore(t,n)})(e,n,t)},extra:(t,n)=>{((e,t,n,a,o)=>{Jy(e).undoManager.extra(t,n,a,o)})(e,o,a,t,n)}};return Xy(e)||((e,t,n)=>{const a=Zi(!1),o=e=>{Ky(t,!1,n),t.add({},e)};e.on("init",(()=>{t.add()})),e.on("BeforeExecCommand",(e=>{const a=e.command;iC(a)||(Gy(t,n),t.beforeChange())})),e.on("ExecCommand",(e=>{const t=e.command;iC(t)||o(e)})),e.on("ObjectResizeStart cut",(()=>{t.beforeChange()})),e.on("SaveContent ObjectResized blur",o),e.on("dragend",o),e.on("keyup",(n=>{const s=n.keyCode;if(n.isDefaultPrevented())return;const i=Ot.os.isMacOS()&&"Meta"===n.key;(s>=33&&s<=36||s>=37&&s<=40||45===s||n.ctrlKey||i)&&(o(),e.nodeChanged()),46!==s&&8!==s||e.nodeChanged(),a.get()&&t.typing&&!$y(zy(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),a.set(!1),e.nodeChanged())})),e.on("keydown",(e=>{const s=e.keyCode;if(e.isDefaultPrevented())return;if(s>=33&&s<=36||s>=37&&s<=40||45===s)return void(t.typing&&o(e));const i=e.ctrlKey&&!e.altKey||e.metaKey;if((s<16||s>20)&&224!==s&&91!==s&&!t.typing&&!i)return t.beforeChange(),Ky(t,!0,n),t.add({},e),void a.set(!0);(Ot.os.isMacOS()?e.metaKey:e.ctrlKey&&!e.altKey)&&t.beforeChange()})),e.on("mousedown",(e=>{t.typing&&o(e)})),e.on("input",(e=>{var t;e.inputType&&("insertReplacementText"===e.inputType||"insertText"===(t=e).inputType&&null===t.data||(e=>"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType)(e))&&o(e)})),e.on("AddUndo Undo Redo ClearUndos",(t=>{t.isDefaultPrevented()||e.nodeChanged()}))})(e,o,n),(e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")})(e),o},lC=[9,27,rp.HOME,rp.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,rp.DOWN,rp.UP,rp.LEFT,rp.RIGHT].concat(Ot.browser.isFirefox()?[224]:[]),dC="data-mce-placeholder",cC=e=>"keydown"===e.type||"keyup"===e.type,uC=e=>{const t=e.keyCode;return t===rp.BACKSPACE||t===rp.DELETE},mC=(e,t)=>({from:e,to:t}),pC=(e,t)=>{const n=yn(e),a=yn(t.container());return Og(n,a).map((e=>((e,t)=>({block:e,position:t}))(e,t)))},hC=(e,t)=>Jn(t,(e=>To(e)||lo(e.dom)),(t=>kn(t,e))).filter(Wt).getOr(e),fC=(e,t)=>{const n=((e,t)=>{const n=Fn(e);return ee(n,(e=>t.isBlock(jt(e)))).fold(A(n),(e=>n.slice(0,e)))})(e,t);return $(n,Ca),n},gC=(e,t)=>{const n=Mf(t,e);return J(n.reverse(),(e=>fs(e))).each(Ca)},vC=(e,t,n,a,o)=>{if(fs(n))return Po(n),Pu(n.dom);0===G(In(o),(e=>!fs(e))).length&&fs(t)&&fa(o,bn("br"));const s=Lu(n.dom,$r.before(o.dom));return $(fC(t,a),(e=>{fa(o,e)})),gC(e,t),s},bC=(e,t,n,a)=>{if(fs(n)){if(fs(t)){const e=e=>{const t=(e,n)=>Vn(e).fold((()=>n),(e=>((e,t)=>e.isInline(jt(t)))(a,e)?t(e,n.concat(hr(e))):n));return t(e,[])},o=Y(e(n),((e,t)=>(wa(e,t),t)),Lo());_a(t),ba(t,o)}return Ca(n),Pu(t.dom)}const o=Mu(n.dom);return $(fC(t,a),(e=>{ba(n,e)})),gC(e,t),o},wC=(e,t)=>{Tu(e,t.dom).bind((e=>N.from(e.getNode()))).map(yn).filter(xo).each(Ca)},yC=(e,t,n,a)=>(wC(!0,t),wC(!1,n),((e,t)=>En(t,e)?((e,t)=>{const n=Mf(t,e);return N.from(n[n.length-1])})(t,e):N.none())(t,n).fold(L(bC,e,t,n,a),L(vC,e,t,n,a))),_C=(e,t,n,a,o)=>t?yC(e,a,n,o):yC(e,n,a,o),CC=(e,t)=>{const n=yn(e.getBody()),a=((e,t,n)=>n.collapsed?((e,t,n)=>{const a=pC(e,$r.fromRangeStart(n)),o=a.bind((n=>Eu(t,e,n.position).bind((n=>pC(e,n).map((n=>((e,t,n)=>io(n.position.getNode())&&!fs(n.block)?Tu(!1,n.block.dom).bind((a=>a.isEqual(n.position)?Eu(t,e,a).bind((t=>pC(e,t))):N.some(n))).getOr(n):n)(e,t,n)))))));return Ft(a,o,mC).filter((t=>(e=>!kn(e.from.block,e.to.block))(t)&&((e,t)=>{const n=yn(e);return kn(hC(n,t.from.block),hC(n,t.to.block))})(e,t)&&(e=>!1===co(e.from.block.dom)&&!1===co(e.to.block.dom))(t)&&(e=>{const t=e=>ko(e)||As(e.dom);return t(e.from.block)&&t(e.to.block)})(t)))})(e,t,n):N.none())(n.dom,t,e.selection.getRng()).map((a=>()=>{_C(n,t,a.from.block,a.to.block,e.schema).each((t=>{e.selection.setRng(t.toRange())}))}));return a},DC=(e,t)=>{const n=yn(t),a=L(kn,e);return Qn(n,To,a).isSome()},xC=e=>{const t=yn(e.getBody());return((e,t)=>{const n=Lu(e.dom,$r.fromRangeStart(t)).isNone(),a=Ou(e.dom,$r.fromRangeEnd(t)).isNone();return!((e,t)=>DC(e,t.startContainer)||DC(e,t.endContainer))(e,t)&&n&&a})(t,e.selection.getRng())?(e=>N.some((()=>{e.setContent(""),e.selection.setCursorLocation()})))(e):((e,t,n)=>{const a=t.getRng();return Ft(Og(e,yn(a.startContainer)),Og(e,yn(a.endContainer)),((o,s)=>kn(o,s)?N.none():N.some((()=>{a.deleteContents(),_C(e,!0,o,s,n).each((e=>{t.setRng(e.toRange())}))})))).getOr(N.none())})(t,e.selection,e.schema)},kC=(e,t)=>e.selection.isCollapsed()?N.none():xC(e),EC=(e,t,n,a,o)=>N.from(t._selectionOverrides.showCaret(e,n,a,o)),SC=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?N.none():N.some((e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t})(t)),AC=(e,t,n)=>t.collapsed?((e,t,n)=>{const a=su(1,e.getBody(),t),o=$r.fromRangeStart(a),s=o.getNode();if(Rc(s))return EC(1,e,s,!o.isAtEnd(),!1);const i=o.getNode(!0);if(Rc(i))return EC(1,e,i,!1,!1);const r=dv(e.dom.getRoot(),o.getNode());return Rc(r)?EC(1,e,r,!1,n):N.none()})(e,t,n).getOr(t):t,TC=e=>Of(e)||Ef(e),OC=e=>Lf(e)||Sf(e),LC=(e,t,n,a,o,s)=>{EC(a,e,s.getNode(!o),o,!0).each((n=>{if(t.collapsed){const e=t.cloneRange();o?e.setEnd(n.startContainer,n.startOffset):e.setStart(n.endContainer,n.endOffset),e.deleteContents()}else t.deleteContents();e.selection.setRng(n)})),((e,t)=>{eo(t)&&0===t.data.length&&e.remove(t)})(e.dom,n)},PC=(e,t)=>((e,t)=>{const n=e.selection.getRng();if(!eo(n.commonAncestorContainer))return N.none();const a=t?uu.Forwards:uu.Backwards,o=Cu(e.getBody()),s=L(du,t?o.next:o.prev),i=t?TC:OC,r=ru(a,e.getBody(),n),l=s(r),d=l?xg(t,l):l;if(!d||!cu(r,d))return N.none();if(i(d))return N.some((()=>LC(e,n,r.getNode(),a,t,d)));const c=s(d);return c&&i(c)&&cu(d,c)?N.some((()=>LC(e,n,r.getNode(),a,t,c))):N.none()})(e,t),MC=(e,t)=>{const n=e.getBody();return t?Pu(n).filter(Of):Mu(n).filter(Lf)},BC=e=>{const t=e.selection.getRng();return!t.collapsed&&(MC(e,!0).exists((e=>e.isEqual($r.fromRangeStart(t))))||MC(e,!1).exists((e=>e.isEqual($r.fromRangeEnd(t)))))},IC=vl([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),RC=(e,t,n,a)=>Eu(t,e,n).bind((o=>{return s=o.getNode(),_(s)&&(To(yn(s))||So(yn(s)))||((e,t,n,a,o)=>{const s=t=>o.isInline(t.nodeName.toLowerCase())&&!Qc(n,a,e);return iu(!t,n).fold((()=>iu(t,a).fold(R,s)),s)})(e,t,n,o,a)?N.none():t&&co(o.getNode())||!t&&co(o.getNode(!0))?((e,t,n,a)=>{const o=a.getNode(!t);return Og(yn(e),yn(n.getNode())).map((e=>fs(e)?IC.remove(e.dom):IC.moveToElement(o))).orThunk((()=>N.some(IC.moveToElement(o))))})(e,t,n,o):t&&Lf(n)||!t&&Of(n)?N.some(IC.moveToPosition(o)):N.none();var s})),FC=(e,t)=>N.from(dv(e.getBody(),t)),NC=(e,t)=>{const n=e.selection.getNode();return FC(e,n).filter(co).fold((()=>((e,t,n,a)=>{const o=su(t?1:-1,e,n),s=$r.fromRangeStart(o),i=yn(e);return!t&&Lf(s)?N.some(IC.remove(s.getNode(!0))):t&&Of(s)?N.some(IC.remove(s.getNode())):!t&&Of(s)&&qf(i,s,a)?$f(i,s,a).map((e=>IC.remove(e.getNode()))):t&&Lf(s)&&Zf(i,s,a)?Wf(i,s,a).map((e=>IC.remove(e.getNode()))):((e,t,n,a)=>((e,t)=>{const n=t.getNode(!e),a=e?"after":"before";return Za(n)&&n.getAttribute("data-mce-caret")===a})(t,n)?((e,t)=>y(t)?N.none():e&&co(t.nextSibling)?N.some(IC.moveToElement(t.nextSibling)):!e&&co(t.previousSibling)?N.some(IC.moveToElement(t.previousSibling)):N.none())(t,n.getNode(!t)).orThunk((()=>RC(e,t,n,a))):RC(e,t,n,a).bind((t=>((e,t,n)=>n.fold((e=>N.some(IC.remove(e))),(e=>N.some(IC.moveToElement(e))),(n=>Qc(t,n,e)?N.none():N.some(IC.moveToPosition(n)))))(e,n,t))))(e,t,s,a)})(e.getBody(),t,e.selection.getRng(),e.schema).map((n=>()=>n.fold(((e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),wg(e,t,yn(n)),!0))(e,t),((e,t)=>n=>{const a=t?$r.before(n):$r.after(n);return e.selection.setRng(a.toRange()),!0})(e,t),(e=>t=>(e.selection.setRng(t.toRange()),!0))(e))))),(()=>N.some(k)))},VC=e=>{const t=e.dom,n=e.selection,a=dv(e.getBody(),n.getNode());if(lo(a)&&t.isBlock(a)&&t.isEmpty(a)){const e=t.create("br",{"data-mce-bogus":"1"});t.setHTML(a,""),a.appendChild(e),n.setRng($r.before(e).toRange())}return!0},UC=(e,t)=>e.selection.isCollapsed()?NC(e,t):((e,t)=>{const n=e.selection.getNode();return co(n)&&!uo(n)?FC(e,n.parentNode).filter(co).fold((()=>N.some((()=>{var n;n=yn(e.getBody()),$(Va(n,".mce-offscreen-selection"),Ca),wg(e,t,yn(e.selection.getNode())),Lg(e)}))),(()=>N.some(k))):BC(e)?N.some((()=>{Bg(e,e.selection.getRng(),yn(e.getBody()))})):N.none()})(e,t),HC=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const n=$r.fromRangeStart(e.selection.getRng());return Eu(t,e.getBody(),n).filter((e=>t?xf(e):kf(e))).bind((e=>Jc(t?0:-1,e))).map((t=>()=>e.selection.select(t)))})(e,t):N.none(),zC=eo,jC=e=>zC(e)&&e.data[0]===Mo,ZC=e=>zC(e)&&e.data[e.data.length-1]===Mo,qC=e=>{var t;return(null!==(t=e.ownerDocument)&&void 0!==t?t:document).createTextNode(Mo)},$C=(e,t)=>e?(e=>{var t;if(zC(e.previousSibling))return ZC(e.previousSibling)||e.previousSibling.appendData(Mo),e.previousSibling;if(zC(e))return jC(e)||e.insertData(0,Mo),e;{const n=qC(e);return null===(t=e.parentNode)||void 0===t||t.insertBefore(n,e),n}})(t):(e=>{var t,n;if(zC(e.nextSibling))return jC(e.nextSibling)||e.nextSibling.insertData(0,Mo),e.nextSibling;if(zC(e))return ZC(e)||e.appendData(Mo),e;{const a=qC(e);return e.nextSibling?null===(t=e.parentNode)||void 0===t||t.insertBefore(a,e.nextSibling):null===(n=e.parentNode)||void 0===n||n.appendChild(a),a}})(t),WC=L($C,!0),KC=L($C,!1),GC=(e,t)=>eo(e.container())?$C(t,e.container()):$C(t,e.getNode()),YC=(e,t)=>{const n=t.get();return n&&e.container()===n&&Vo(n)},XC=(e,t)=>t.fold((t=>{Tc(e.get());const n=WC(t);return e.set(n),N.some($r(n,n.length-1))}),(t=>Pu(t).map((t=>{if(YC(t,e)){const t=e.get();return $r(t,1)}{Tc(e.get());const n=GC(t,!0);return e.set(n),$r(n,1)}}))),(t=>Mu(t).map((t=>{if(YC(t,e)){const t=e.get();return $r(t,t.length-1)}{Tc(e.get());const n=GC(t,!1);return e.set(n),$r(n,n.length-1)}}))),(t=>{Tc(e.get());const n=KC(t);return e.set(n),N.some($r(n,1))})),QC=(e,t)=>{for(let n=0;n<e.length;n++){const a=e[n].apply(null,t);if(a.isSome())return a}return N.none()},JC=vl([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),eD=(e,t)=>Xc(t,e)||e,tD=(e,t,n)=>{const a=kg(n),o=eD(t,a.container());return Dg(e,o,a).fold((()=>Ou(o,a).bind(L(Dg,e,o)).map((e=>JC.before(e)))),N.none)},nD=(e,t)=>null===Ru(e,t),aD=(e,t,n)=>Dg(e,t,n).filter(L(nD,t)),oD=(e,t,n)=>{const a=Eg(n);return aD(e,t,a).bind((e=>Lu(e,a).isNone()?N.some(JC.start(e)):N.none()))},sD=(e,t,n)=>{const a=kg(n);return aD(e,t,a).bind((e=>Ou(e,a).isNone()?N.some(JC.end(e)):N.none()))},iD=(e,t,n)=>{const a=Eg(n),o=eD(t,a.container());return Dg(e,o,a).fold((()=>Lu(o,a).bind(L(Dg,e,o)).map((e=>JC.after(e)))),N.none)},rD=e=>!Cg(dD(e)),lD=(e,t,n)=>QC([tD,oD,sD,iD],[e,t,n]).filter(rD),dD=e=>e.fold(T,T,T,T),cD=e=>e.fold(A("before"),A("start"),A("end"),A("after")),uD=e=>e.fold(JC.before,JC.before,JC.after,JC.after),mD=e=>e.fold(JC.start,JC.start,JC.end,JC.end),pD=(e,t,n,a,o,s)=>Ft(Dg(t,n,a),Dg(t,n,o),((t,a)=>t!==a&&((e,t,n)=>{const a=Xc(t,e),o=Xc(n,e);return _(a)&&a===o})(n,t,a)?JC.after(e?t:a):s)).getOr(s),hD=(e,t)=>e.fold(F,(e=>{return a=t,!(cD(n=e)===cD(a)&&dD(n)===dD(a));var n,a})),fD=(e,t)=>e?t.fold(E(N.some,JC.start),N.none,E(N.some,JC.after),N.none):t.fold(N.none,E(N.some,JC.before),N.none,E(N.some,JC.end)),gD=(e,t,n)=>{const a=e?1:-1;return t.setRng($r(n.container(),n.offset()+a).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0};var vD;!function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"}(vD||(vD={}));const bD=(e,t)=>e===uu.Backwards?oe(t):t,wD=(e,t,n)=>e===uu.Forwards?t.next(n):t.prev(n),yD=(e,t,n,a)=>io(a.getNode(t===uu.Forwards))?vD.Br:!1===Qc(n,a)?vD.Block:vD.Wrap,_D=(e,t,n,a)=>{const o=Cu(n);let s=a;const i=[];for(;s;){const n=wD(t,o,s);if(!n)break;if(io(n.getNode(!1)))return t===uu.Forwards?{positions:bD(t,i).concat([n]),breakType:vD.Br,breakAt:N.some(n)}:{positions:bD(t,i),breakType:vD.Br,breakAt:N.some(n)};if(n.isVisible()){if(e(s,n)){const e=yD(0,t,s,n);return{positions:bD(t,i),breakType:e,breakAt:N.some(n)}}i.push(n),s=n}else s=n}return{positions:bD(t,i),breakType:vD.Eol,breakAt:N.none()}},CD=(e,t,n,a)=>t(n,a).breakAt.map((a=>{const o=t(n,a).positions;return e===uu.Backwards?o.concat(a):[a].concat(o)})).getOr([]),DD=(e,t)=>X(e,((e,n)=>e.fold((()=>N.some(n)),(a=>Ft(de(a.getClientRects()),de(n.getClientRects()),((e,o)=>{const s=Math.abs(t-e.left);return Math.abs(t-o.left)<=s?n:a})).or(e)))),N.none()),xD=(e,t)=>de(t.getClientRects()).bind((t=>DD(e,t.left))),kD=L(_D,$r.isAbove,-1),ED=L(_D,$r.isBelow,1),SD=L(CD,-1,kD),AD=L(CD,1,ED),TD=(e,t)=>kD(e,t).breakAt.isNone(),OD=(e,t)=>ED(e,t).breakAt.isNone(),LD=(e,t)=>xD(SD(e,t),t),PD=(e,t)=>xD(AD(e,t),t),MD=co,BD=(e,t)=>Math.abs(e.left-t),ID=(e,t)=>Math.abs(e.right-t),RD=(e,t)=>Pe(e,((e,n)=>{const a=Math.min(BD(e,t),ID(e,t)),o=Math.min(BD(n,t),ID(n,t));return o===a&&ke(n,"node")&&MD(n.node)||o<a?n:e})),FD=e=>{const t=t=>q(t,(t=>{const n=wr(t);return n.node=e,n}));if(Za(e))return t(e.getClientRects());if(eo(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}return[]},ND=e=>ne(e,FD);var VD;!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(VD||(VD={}));const UD=(e,t,n,a,o,s)=>{let i=0;const r=[],l=a=>{let s=ND([a]);-1===e&&(s=s.reverse());for(let e=0;e<s.length;e++){const a=s[e];if(!n(a,d)){if(r.length>0&&t(a,Be(r))&&i++,a.line=i,o(a))return!0;r.push(a)}}return!1},d=Be(s.getClientRects());if(!d)return r;const c=s.getNode();return c&&(l(c),((e,t,n,a)=>{let o=a;for(;o=Yc(o,e,os,t);)if(n(o))return})(e,a,l,c)),r},HD=L(UD,VD.Up,Cr,Dr),zD=L(UD,VD.Down,Dr,Cr),jD=e=>Be(e.getClientRects()),ZD=e=>t=>((e,t)=>t.line>e)(e,t),qD=e=>t=>((e,t)=>t.line===e)(e,t),$D=(e,t)=>{e.selection.setRng(t),sh(e,e.selection.getRng())},WD=(e,t,n)=>N.some(AC(e,t,n)),KD=(e,t,n,a,o,s)=>{const i=t===uu.Forwards,r=Cu(e.getBody()),l=L(du,i?r.next:r.prev),d=i?a:o;if(!n.collapsed){const a=kr(n);if(s(a))return EC(t,e,a,t===uu.Backwards,!1);if(BC(e)){const e=n.cloneRange();return e.collapse(t===uu.Backwards),N.from(e)}}const c=ru(t,e.getBody(),n);if(d(c))return SC(e,c.getNode(!i));let u=l(c);const m=Wo(n);if(!u)return m?N.some(n):N.none();if(u=xg(i,u),d(u))return EC(t,e,u.getNode(!i),i,!1);const p=l(u);return p&&d(p)&&cu(u,p)?EC(t,e,p.getNode(!i),i,!1):m?WD(e,u.toRange(),!1):N.none()},GD=(e,t,n,a,o,s)=>{const i=ru(t,e.getBody(),n),r=Be(i.getClientRects()),l=t===VD.Down,d=e.getBody();if(!r)return N.none();if(BC(e)){const e=l?$r.fromRangeEnd(n):$r.fromRangeStart(n);return(l?PD:LD)(d,e).orThunk((()=>N.from(e))).map((e=>e.toRange()))}const c=(l?zD:HD)(d,ZD(1),i),u=G(c,qD(1)),m=r.left,p=RD(u,m);if(p&&s(p.node)){const n=Math.abs(m-p.left),a=Math.abs(m-p.right);return EC(t,e,p.node,n<a,!1)}let h;if(h=a(i)?i.getNode():o(i)?i.getNode(!0):kr(n),h){const n=((e,t,n,a)=>{const o=Cu(t);let s,i,r,l;const d=[];let c=0;1===e?(s=o.next,i=Dr,r=Cr,l=$r.after(a)):(s=o.prev,i=Cr,r=Dr,l=$r.before(a));const u=jD(l);do{if(!l.isVisible())continue;const e=jD(l);if(r(e,u))continue;d.length>0&&i(e,Be(d))&&c++;const t=wr(e);if(t.position=l,t.line=c,n(t))return d;d.push(t)}while(l=s(l));return d})(t,d,ZD(1),h);let a=RD(G(n,qD(1)),m);if(a)return WD(e,a.position.toRange(),!1);if(a=Be(G(n,qD(0))),a)return WD(e,a.position.toRange(),!1)}return 0===u.length?YD(e,l).filter(l?o:a).map((t=>AC(e,t.toRange(),!1))):N.none()},YD=(e,t)=>{const n=e.selection.getRng(),a=t?$r.fromRangeEnd(n):$r.fromRangeStart(n),o=(s=a.container(),i=e.getBody(),Qn(yn(s),(e=>Nc(e.dom)),(e=>e.dom===i)).map((e=>e.dom)).getOr(i));var s,i;if(t){const e=ED(o,a);return ce(e.positions)}{const e=kD(o,a);return de(e.positions)}},XD=(e,t,n)=>YD(e,t).filter(n).exists((t=>(e.selection.setRng(t.toRange()),!0))),QD=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},JD=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},ex=(e,t,n)=>XC(t,n).map((t=>(QD(e,t),n))),tx=(e,t,n)=>{const a=e.getBody(),o=((e,t,n)=>{const a=$r.fromRangeStart(e);if(e.collapsed)return a;{const o=$r.fromRangeEnd(e);return n?Lu(t,o).getOr(o):Ou(t,a).getOr(a)}})(e.selection.getRng(),a,n);return((e,t,n,a)=>{const o=xg(e,a),s=lD(t,n,o);return lD(t,n,o).bind(L(fD,e)).orThunk((()=>((e,t,n,a,o)=>{const s=xg(e,o);return Eu(e,n,s).map(L(xg,e)).fold((()=>a.map(uD)),(o=>lD(t,n,o).map(L(pD,e,t,n,s,o)).filter(L(hD,a)))).filter(rD)})(e,t,n,s,a)))})(n,L(_g,e),a,o).bind((n=>ex(e,t,n)))},nx=(e,t,n)=>!!yd(e)&&tx(e,t,n).isSome(),ax=(e,t,n)=>!!yd(t)&&((e,t)=>{const n=t.selection.getRng(),a=e?$r.fromRangeEnd(n):$r.fromRangeStart(n);return!!(e=>C(e.selection.getSel().modify))(t)&&(e&&zo(a)?gD(!0,t.selection,a):!(e||!jo(a))&&gD(!1,t.selection,a))})(e,t),ox=e=>{const t=Zi(null),n=L(_g,e);return e.on("NodeChange",(a=>{yd(e)&&(((e,t,n)=>{const a=q(Va(yn(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),(e=>e.dom)),o=G(a,e),s=G(n,e);$(se(o,s),L(JD,!1)),$(se(s,o),L(JD,!0))})(n,e.dom,a.parents),((e,t)=>{const n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){const a=$r.fromRangeStart(e.selection.getRng());$r.isTextPosition(a)&&!(e=>zo(e)||jo(e))(a)&&(QD(e,Ac(n,a)),t.set(null))}})(e,t),((e,t,n,a)=>{if(t.selection.isCollapsed()){const o=G(a,e);$(o,(a=>{const o=$r.fromRangeStart(t.selection.getRng());lD(e,t.getBody(),o).bind((e=>ex(t,n,e)))}))}})(n,e,t,a.parents))})),t},sx=L(ax,!0),ix=L(ax,!1),rx=(e,t,n)=>{if(yd(e)){const a=YD(e,t).getOrThunk((()=>{const n=e.selection.getRng();return t?$r.fromRangeEnd(n):$r.fromRangeStart(n)}));return lD(L(_g,e),e.getBody(),a).exists((t=>{const a=uD(t);return XC(n,a).exists((t=>(QD(e,t),!0)))}))}return!1},lx=(e,t)=>n=>XC(t,n).map((t=>()=>QD(e,t))),dx=(e,t,n,a)=>{const o=e.getBody(),s=L(_g,e);e.undoManager.ignore((()=>{e.selection.setRng(((e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n})(n,a)),Ag(e),lD(s,o,$r.fromRangeStart(e.selection.getRng())).map(mD).bind(lx(e,t)).each(I)})),e.nodeChanged()},cx=(e,t,n)=>{if(e.selection.isCollapsed()&&yd(e)){const a=$r.fromRangeStart(e.selection.getRng());return((e,t,n,a)=>{const o=((e,t)=>Xc(t,e)||e)(e.getBody(),a.container()),s=L(_g,e),i=lD(s,o,a);return i.bind((e=>n?e.fold(A(N.some(mD(e))),N.none,A(N.some(uD(e))),N.none):e.fold(N.none,A(N.some(uD(e))),N.none,A(N.some(mD(e)))))).map(lx(e,t)).getOrThunk((()=>{const r=Su(n,o,a),l=r.bind((e=>lD(s,o,e)));return Ft(i,l,(()=>Dg(s,o,a).bind((t=>(e=>Ft(Pu(e),Mu(e),((t,n)=>{const a=xg(!0,t),o=xg(!1,n);return Ou(e,a).forall((e=>e.isEqual(o)))})).getOr(!0))(t)?N.some((()=>{wg(e,n,yn(t))})):N.none())))).getOrThunk((()=>l.bind((()=>r.map((o=>()=>{n?dx(e,t,a,o):dx(e,t,o,a)}))))))}))})(e,t,n,a)}return N.none()},ux=(e,t)=>{const n=yn(e.getBody()),a=yn(e.selection.getStart()),o=Mf(a,n);return ee(o,t).fold(A(o),(e=>o.slice(0,e)))},mx=e=>1===Hn(e),px=(e,t)=>{const n=L(eb,e);return ne(t,(e=>n(e)?[e.dom]:[]))},hx=e=>{const t=(e=>ux(e,(t=>e.schema.isBlock(jt(t)))))(e);return px(e,t)},fx=(e,t)=>{const n=G((e=>ux(e,(t=>e.schema.isBlock(jt(t))||(e=>Hn(e)>1)(t))))(e),mx);return ce(n).bind((a=>{const o=$r.fromRangeStart(e.selection.getRng());return Pg(t,o,a.dom)&&!Lm(a)?N.some((()=>((e,t,n,a)=>{const o=px(t,a);if(0===o.length)wg(t,e,n);else{const e=Jv(n.dom,o);t.selection.setRng(e.toRange())}})(t,e,a,n))):N.none()}))},gx=(e,t)=>{const n=e.selection.getStart(),a=((e,t)=>{const n=t.parentElement;return io(t)&&!v(n)&&e.dom.isEmpty(n)})(e,n)||Lm(yn(n))?Jv(n,t):((e,t)=>{const{caretContainer:n,caretPosition:a}=Qv(t);return e.insertNode(n.dom),a})(e.selection.getRng(),t);e.selection.setRng(a.toRange())},vx=e=>eo(e.startContainer),bx=e=>{const t=e.selection.getRng();return(e=>0===e.startOffset&&vx(e))(t)&&((e,t)=>{const n=t.startContainer.parentElement;return!v(n)&&eb(e,yn(n))})(e,t)&&(e=>(e=>(e=>{const t=e.startContainer.parentNode,n=e.endContainer.parentNode;return!v(t)&&!v(n)&&t.isEqualNode(n)})(e)&&(e=>{const t=e.endContainer;return e.endOffset===(eo(t)?t.length:t.childNodes.length)})(e))(e)||(e=>!e.endContainer.isEqualNode(e.commonAncestorContainer))(e))(t)},wx=(e,t)=>e.selection.isCollapsed()?fx(e,t):(e=>{if(bx(e)){const t=hx(e);return N.some((()=>{Ag(e),((e,t)=>{const n=se(t,hx(e));n.length>0&&gx(e,n)})(e,t)}))}return N.none()})(e),yx=(e,t)=>Qn(e,(e=>Iu(e.dom)),(e=>t.isBlock(jt(e)))).isSome(),_x=e=>((e=>{const t=e.selection.getRng();return t.collapsed&&(vx(t)||e.dom.isEmpty(t.startContainer))&&!(e=>yx(yn(e.selection.getStart()),e.schema))(e)})(e)&&gx(e,[]),!0),Cx=(e,t,n)=>_(n)?N.some((()=>{e._selectionOverrides.hideFakeCaret(),wg(e,t,yn(n))})):N.none(),Dx=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const n=t?Ef:Sf,a=t?uu.Forwards:uu.Backwards,o=ru(a,e.getBody(),e.selection.getRng());return n(o)?Cx(e,t,o.getNode(!t)):N.from(xg(t,o)).filter((e=>n(e)&&cu(o,e))).bind((n=>Cx(e,t,n.getNode(!t))))})(e,t):((e,t)=>{const n=e.selection.getNode();return po(n)?Cx(e,t,n):N.none()})(e,t),xx=e=>Xe(null!=e?e:"").getOr(0),kx=(e,t)=>(e||"table"===jt(t)?"margin":"padding")+("rtl"===ca(t,"direction")?"-right":"-left"),Ex=e=>{const t=Ax(e);return!e.mode.isReadOnly()&&(t.length>1||((e,t)=>ae(t,(t=>{const n=kx(od(e),t),a=ma(t,n).map(xx).getOr(0);return"false"!==e.dom.getContentEditable(t.dom)&&a>0})))(e,t))},Sx=e=>Eo(e)||So(e),Ax=e=>G(xa(e.selection.getSelectedBlocks()),(e=>!Sx(e)&&!(e=>On(e).exists(Sx))(e)&&Jn(e,(e=>lo(e.dom)||co(e.dom))).exists((e=>lo(e.dom))))),Tx=(e,t)=>{var n,a;const{dom:o}=e,s=sd(e),i=null!==(a=null===(n=/[a-z%]+$/i.exec(s))||void 0===n?void 0:n[0])&&void 0!==a?a:"px",r=xx(s),l=od(e);$(Ax(e),(e=>{((e,t,n,a,o,s)=>{const i=kx(n,yn(s)),r=xx(e.getStyle(s,i));if("outdent"===t){const t=Math.max(0,r-a);e.setStyle(s,i,t?t+o:"")}else{const t=r+a+o;e.setStyle(s,i,t)}})(o,t,l,r,i,e.dom)}))},Ox=e=>Tx(e,"outdent"),Lx=e=>{if(e.selection.isCollapsed()&&Ex(e)){const t=e.dom,n=e.selection.getRng(),a=$r.fromRangeStart(n),o=t.getParent(n.startContainer,t.isBlock);if(null!==o&&Nf(yn(o),a,e.schema))return N.some((()=>Ox(e)))}return N.none()},Px=(e,t,n)=>me([Lx,UC,PC,(e,n)=>cx(e,t,n),CC,lv,HC,Dx,kC,wx],(t=>t(e,n))).filter((t=>e.selection.isEditable())),Mx=(e,t)=>{e.addCommand("delete",(()=>{((e,t)=>{Px(e,t,!1).fold((()=>{e.selection.isEditable()&&(Ag(e),Lg(e))}),I)})(e,t)})),e.addCommand("forwardDelete",(()=>{((e,t)=>{Px(e,t,!0).fold((()=>{e.selection.isEditable()&&(e=>{Sg(e,"ForwardDelete")})(e)}),I)})(e,t)}))},Bx=e=>void 0===e.touches||1!==e.touches.length?N.none():N.some(e.touches[0]),Ix=(e,t)=>xe(e,t.nodeName),Rx=(e,t)=>!!eo(t)||!!Za(t)&&!(Ix(e.getBlockElements(),t)||Ku(t)||Ls(e,t)||vs(t)),Fx=(e,t)=>{if(eo(t)){if(0===t.data.length)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||Ix(e,t.nextSibling)||vs(t.nextSibling)}return!1},Nx=e=>e.dom.create(Nl(e),Vl(e)),Vx=e=>{const t=e.dom,n=e.selection,a=e.schema,o=a.getBlockElements(),s=n.getStart(),i=e.getBody();let r,l,d=!1;const c=Nl(e);if(!s||!Za(s))return;const u=i.nodeName.toLowerCase();if(!a.isValidChild(u,c.toLowerCase())||((e,t,n)=>Z(Pf(yn(n),yn(t)),(t=>Ix(e,t.dom))))(o,i,s))return;const m=n.getRng(),{startContainer:p,startOffset:h,endContainer:f,endOffset:g}=m,v=Ah(e);let b=i.firstChild;for(;b;)if(Za(b)&&Ss(a,b),Rx(a,b)){if(Fx(o,b)){l=b,b=b.nextSibling,t.remove(l);continue}r||(r=Nx(e),i.insertBefore(r,b),d=!0),l=b,b=b.nextSibling,r.appendChild(l)}else r=null,b=b.nextSibling;d&&v&&(m.setStart(p,h),m.setEnd(f,g),n.setRng(m),e.nodeChanged())},Ux=(e,t,n)=>{const a=yn(Nx(e)),o=Lo();ba(a,o),n(t,a);const s=document.createRange();return s.setStartBefore(o.dom),s.setEndBefore(o.dom),s},Hx=e=>t=>-1!==(" "+t.attr("class")+" ").indexOf(e),zx=(e,t,n)=>function(a){const o=arguments,s=o[o.length-2],i=s>0?t.charAt(s-1):"";if('"'===i)return a;if(">"===i){const e=t.lastIndexOf("<",s);if(-1!==e&&-1!==t.substring(e,s).indexOf('contenteditable="false"'))return a}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(o[0])+'">'+e.dom.encode("string"==typeof o[1]?o[1]:o[0])+"</span>"},jx=(e,t)=>{t.hasAttribute("data-mce-caret")&&($o(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},Zx=(e,t)=>{const n=(e=>na(yn(e.getBody()),"*[data-mce-caret]").map((e=>e.dom)).getOrNull())(e);if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void jx(e,n)):void(Ho(n)&&(jx(e,n),e.undoManager.add()))},qx=co,$x=(e,t,n)=>{const a=Cu(e.getBody()),o=L(du,1===t?a.next:a.prev);if(n.collapsed){const a=e.dom.getParent(n.startContainer,"PRE");if(!a)return;if(!o($r.fromRangeStart(n))){const n=yn((e=>{const t=e.dom.create(Nl(e));return t.innerHTML='<br data-mce-bogus="1">',t})(e));1===t?ga(yn(a),n):fa(yn(a),n),e.selection.select(n.dom,!0),e.selection.collapse()}}},Wx=(e,t)=>((e,t)=>{const n=t?uu.Forwards:uu.Backwards,a=e.selection.getRng();return((e,t,n)=>KD(t,e,n,Of,Lf,qx))(n,e,a).orThunk((()=>($x(e,n,a),N.none())))})(e,((e,t)=>{const n=t?e.getEnd(!0):e.getStart(!0);return Cg(n)?!t:t})(e.selection,t)).exists((t=>($D(e,t),!0))),Kx=(e,t)=>((e,t)=>{const n=t?1:-1,a=e.selection.getRng();return((e,t,n)=>GD(t,e,n,(e=>Of(e)||Af(e)),(e=>Lf(e)||Tf(e)),qx))(n,e,a).orThunk((()=>($x(e,n,a),N.none())))})(e,t).exists((t=>($D(e,t),!0))),Gx=(e,t)=>XD(e,t,t?Lf:Of),Yx=(e,t)=>MC(e,!t).map((n=>{const a=n.toRange(),o=e.selection.getRng();return t?a.setStart(o.startContainer,o.startOffset):a.setEnd(o.endContainer,o.endOffset),a})).exists((t=>($D(e,t),!0))),Xx=e=>j(["figcaption"],jt(e)),Qx=(e,t)=>!!e.selection.isCollapsed()&&((e,t)=>{const n=yn(e.getBody()),a=$r.fromRangeStart(e.selection.getRng());return((e,t,n)=>{const a=L(kn,t);return Jn(yn(e.container()),(e=>n.isBlock(jt(e))),a).filter(Xx)})(a,n,e.schema).exists((()=>{if(((e,t,n)=>t?OD(e.dom,n):TD(e.dom,n))(n,t,a)){const a=Ux(e,n,t?ba:va);return e.selection.setRng(a),!0}return!1}))})(e,t),Jx=(e,t)=>((e,t)=>t?N.from(e.dom.getParent(e.selection.getNode(),"details")).map((t=>((e,t)=>{const n=e.selection.getRng(),a=$r.fromRangeStart(n);return!(e.getBody().lastChild!==t||!OD(t,a)||(e.execCommand("InsertNewBlockAfter"),0))})(e,t))).getOr(!1):N.from(e.dom.getParent(e.selection.getNode(),"summary")).bind((t=>N.from(e.dom.getParent(t,"details")).map((n=>((e,t,n)=>{const a=e.selection.getRng(),o=$r.fromRangeStart(a);return!(e.getBody().firstChild!==t||!TD(n,o)||(e.execCommand("InsertNewBlockBefore"),0))})(e,n,t))))).getOr(!1))(e,t),ek={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},tk=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,nk=(e,...t)=>()=>e.apply(null,t),ak=(e,t)=>J(((e,t)=>ne((e=>q(e,(e=>({...ek,...e}))))(e),(e=>tk(e,t)?[e]:[])))(e,t),(e=>e.action())),ok=(e,t)=>me(((e,t)=>ne((e=>q(e,(e=>({...ek,...e}))))(e),(e=>tk(e,t)?[e]:[])))(e,t),(e=>e.action())),sk=(e,t)=>{const n=t?uu.Forwards:uu.Backwards,a=e.selection.getRng();return KD(e,n,a,Ef,Sf,po).exists((t=>($D(e,t),!0)))},ik=(e,t)=>{const n=t?1:-1,a=e.selection.getRng();return GD(e,n,a,Ef,Sf,po).exists((t=>($D(e,t),!0)))},rk=(e,t)=>XD(e,t,t?Sf:Ef),lk=vl([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),dk={...lk,none:e=>lk.none(e)},ck=(e,t,n)=>ne(Fn(e),(e=>Dn(e,t)?n(e)?[e]:[]:ck(e,t,n))),uk=(e,t)=>aa(e,"table",t),mk=(e,t,n,a,o=F)=>{const s=1===a;if(!s&&n<=0)return dk.first(e[0]);if(s&&n>=e.length-1)return dk.last(e[e.length-1]);{const s=n+a,i=e[s];return o(i)?dk.middle(t,i):mk(e,t,s,a,o)}},pk=(e,t)=>uk(e,t).bind((t=>{const n=ck(t,"th,td",F);return ee(n,(t=>kn(e,t))).map((e=>({index:e,all:n})))})),hk=(e,t,n,a,o)=>{const s=Va(yn(n),"td,th,caption").map((e=>e.dom)),i=G(((e,t)=>ne(t,(t=>{const n=((e,t)=>({left:e.left-t,top:e.top-t,right:e.right+-2,bottom:e.bottom+-2,width:e.width+t,height:e.height+t}))(wr(t.getBoundingClientRect()),-1);return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]})))(e,s),(e=>t(e,o)));return((e,t,n)=>X(e,((e,a)=>e.fold((()=>N.some(a)),(e=>{const o=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),s=Math.sqrt(Math.abs(a.x-t)+Math.abs(a.y-n));return N.some(s<o?a:e)}))),N.none()))(i,a,o).map((e=>e.cell))},fk=L(hk,(e=>e.bottom),((e,t)=>e.y<t)),gk=L(hk,(e=>e.top),((e,t)=>e.y>t)),vk=(e,t,n)=>{const a=e(t,n);return(e=>e.breakType===vD.Wrap&&0===e.positions.length)(a)||!io(n.getNode())&&(e=>e.breakType===vD.Br&&1===e.positions.length)(a)?!((e,t,n)=>n.breakAt.exists((n=>e(t,n).breakAt.isSome())))(e,t,a):a.breakAt.isNone()},bk=L(vk,kD),wk=L(vk,ED),yk=(e,t,n,a)=>{const o=e.selection.getRng(),s=t?1:-1;return!(!Ic()||!((e,t,n)=>{const a=$r.fromRangeStart(t);return Tu(!e,n).exists((e=>e.isEqual(a)))})(t,o,n)||(EC(s,e,n,!t,!1).each((t=>{$D(e,t)})),0))},_k=(e,t,n)=>{const a=((e,t)=>{const n=t.getNode(e);return Xa(n)?N.some(n):N.none()})(!!t,n),o=!1===t;a.fold((()=>$D(e,n.toRange())),(a=>Tu(o,e.getBody()).filter((e=>e.isEqual(n))).fold((()=>$D(e,n.toRange())),(n=>((e,t,n)=>{t.undoManager.transact((()=>{const a=e?ga:fa,o=Ux(t,yn(n),a);$D(t,o)}))})(t,e,a)))))},Ck=(e,t,n,a)=>{const o=e.selection.getRng(),s=$r.fromRangeStart(o),i=e.getBody();if(!t&&bk(a,s)){const a=((e,t,n)=>((e,t)=>de(t.getClientRects()).bind((t=>fk(e,t.left,t.top))).bind((e=>{return xD(Mu(n=e).map((e=>kD(n,e).positions.concat(e))).getOr([]),t);var n})))(t,n).orThunk((()=>de(n.getClientRects()).bind((n=>DD(SD(e,$r.before(t)),n.left))))).getOr($r.before(t)))(i,n,s);return _k(e,t,a),!0}if(t&&wk(a,s)){const a=((e,t,n)=>((e,t)=>ce(t.getClientRects()).bind((t=>gk(e,t.left,t.top))).bind((e=>{return xD(Pu(n=e).map((e=>[e].concat(ED(n,e).positions))).getOr([]),t);var n})))(t,n).orThunk((()=>de(n.getClientRects()).bind((n=>DD(AD(e,$r.after(t)),n.left))))).getOr($r.after(t)))(i,n,s);return _k(e,t,a),!0}return!1},Dk=(e,t,n)=>N.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((a=>N.from(e.dom.getParent(a,"table")).map((o=>n(e,t,o,a))))).getOr(!1),xk=(e,t)=>Dk(e,t,yk),kk=(e,t)=>Dk(e,t,Ck),Ek=(e,t,n)=>n.fold(N.none,N.none,((e,t)=>{return(n=t,ea(n,Nh)).map((e=>(e=>{const t=Cp.exact(e,0,e,0);return Sp(t)})(e)));var n}),(n=>(e.execCommand("mceTableInsertRowAfter"),Sk(e,t,n)))),Sk=(e,t,n)=>{return Ek(e,t,(o=oa,pk(a=n,void 0).fold((()=>dk.none(a)),(e=>mk(e.all,a,e.index,1,o)))));var a,o},Ak=(e,t,n)=>{return Ek(e,t,(o=oa,pk(a=n,void 0).fold((()=>dk.none()),(e=>mk(e.all,a,e.index,-1,o)))));var a,o},Tk=(e,t)=>{const n=["table","li","dl"],a=yn(e.getBody()),o=e=>{const t=jt(e);return kn(e,a)||j(n,t)},s=e.selection.getRng();return((e,t)=>((e,t,n=R)=>n(t)?N.none():j(e,jt(t))?N.some(t):ta(t,e.join(","),(e=>Dn(e,"table")||n(e))))(["td","th"],e,t))(yn(t?s.endContainer:s.startContainer),o).map((n=>(uk(n,o).each((t=>{e.model.table.clearSelectedCells(t.dom)})),e.selection.collapse(!t),(t?Sk:Ak)(e,o,n).each((t=>{e.selection.setRng(t)})),!0))).getOr(!1)},Ok=(e,t)=>({container:e,offset:t}),Lk=Hi.DOM,Pk=e=>t=>e===t?-1:0,Mk=(e,t,n)=>{if(eo(e)&&t>=0)return N.some(Ok(e,t));{const a=vr(Lk);return N.from(a.backwards(e,t,Pk(e),n)).map((e=>Ok(e.container,e.container.data.length)))}},Bk=(e,t,n)=>{if(!eo(e))return N.none();const a=e.data;if(t>=0&&t<=a.length)return N.some(Ok(e,t));{const a=vr(Lk);return N.from(a.backwards(e,t,Pk(e),n)).bind((e=>{const a=e.container.data;return Bk(e.container,t+a.length,n)}))}},Ik=(e,t,n)=>{if(!eo(e))return N.none();const a=e.data;if(t<=a.length)return N.some(Ok(e,t));{const o=vr(Lk);return N.from(o.forwards(e,t,Pk(e),n)).bind((e=>Ik(e.container,t-a.length,n)))}},Rk=(e,t,n,a,o)=>{const s=vr(e,(e=>t=>e.isBlock(t)||j(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t))(e));return N.from(s.backwards(t,n,a,o))},Fk=e=>Io(e.toString().replace(/\u00A0/g," ")),Nk=e=>""!==e&&-1!=="  \f\n\r\t\v".indexOf(e),Vk=(e,t)=>e.substring(t.length),Uk=(e,t,n,a=0)=>{return(o=yn(t.startContainer),aa(o,Vh)).fold((()=>((e,t,n,a=0)=>{if(!(o=t).collapsed||!eo(o.startContainer))return N.none();var o;const s={text:"",offset:0},i=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return Rk(e,t.startContainer,t.startOffset,((e,t,a)=>(s.text=a+s.text,s.offset+=t,((e,t,n)=>{let a;const o=n.charAt(0);for(a=t-1;a>=0;a--){const s=e.charAt(a);if(Nk(s))return N.none();if(o===s&&ze(e,n,a,t))break}return N.some(a)})(s.text,s.offset,n).getOr(t))),i).bind((e=>{const o=t.cloneRange();if(o.setStart(e.container,e.offset),o.setEnd(t.endContainer,t.endOffset),o.collapsed)return N.none();const s=Fk(o);return 0!==s.lastIndexOf(n)||Vk(s,n).length<a?N.none():N.some({text:Vk(s,n),range:o,trigger:n})}))})(e,t,n,a)),(t=>{const a=e.createRng();a.selectNode(t.dom);const o=Fk(a);return N.some({range:a,text:Vk(o,n),trigger:n})}));var o},Hk=e=>{if((e=>3===e.nodeType)(e))return Ok(e,e.data.length);{const t=e.childNodes;return t.length>0?Hk(t[t.length-1]):Ok(e,t.length)}},zk=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?zk(n[t],0):n.length>0&&(e=>1===e.nodeType)(e)&&n.length===t?Hk(n[n.length-1]):Ok(e,t)},jk=(e,t,n,a={})=>{var o;const s=t(),i=null!==(o=e.selection.getRng().startContainer.nodeValue)&&void 0!==o?o:"",r=G(s.lookupByTrigger(n.trigger),(t=>n.text.length>=t.minChars&&t.matches.getOrThunk((()=>(e=>t=>{const n=zk(t.startContainer,t.startOffset);return!((e,t)=>{var n;const a=null!==(n=e.getParent(t.container,e.isBlock))&&void 0!==n?n:e.getRoot();return Rk(e,t.container,t.offset,((e,t)=>0===t?-1:t),a).filter((e=>{const t=e.container.data.charAt(e.offset-1);return!Nk(t)})).isSome()})(e,n)})(e.dom)))(n.range,i,n.text)));if(0===r.length)return N.none();const l=Promise.all(q(r,(e=>e.fetch(n.text,e.maxResults,a).then((t=>({matchText:n.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn}))))));return N.some({lookupData:l,context:n})};var Zk;!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(Zk||(Zk={}));const qk=(e,t,n)=>e.stype===Zk.Error?t(e.serror):n(e.svalue),$k=e=>({stype:Zk.Value,svalue:e}),Wk=e=>({stype:Zk.Error,serror:e}),Kk=qk,Gk=e=>h(e)&&pe(e).length>100?" removed due to size":JSON.stringify(e,null,2),Yk=(e,t)=>Wk([{path:e,getErrorInfo:t}]),Xk=(e,t)=>({extract:(n,a)=>De(a,e).fold((()=>((e,t)=>Yk(e,(()=>'Choice schema did not contain choice key: "'+t+'"')))(n,e)),(e=>((e,t,n,a)=>De(n,a).fold((()=>((e,t,n)=>Yk(e,(()=>'The chosen schema: "'+n+'" did not exist in branches: '+Gk(t))))(e,n,a)),(n=>n.extract(e.concat(["branch: "+a]),t))))(n,a,t,e))),toString:()=>"chooseOn("+e+"). Possible values: "+pe(t)}),Qk=e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const n={};for(let a=0;a<t.length;a++){const o=t[a];for(const t in o)xe(o,t)&&(n[t]=e(n[t],o[t]))}return n},Jk=Qk(((e,t)=>f(e)&&f(t)?Jk(e,t):t)),eE=(Qk(((e,t)=>t)),e=>({tag:"defaultedThunk",process:A(e)})),tE=e=>{const t=(e=>{const t=[],n=[];return $(e,(e=>{qk(e,(e=>n.push(e)),(e=>t.push(e)))})),{values:t,errors:n}})(e);return t.errors.length>0?(n=t.errors,E(Wk,te)(n)):$k(t.values);var n},nE=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},aE=e=>({extract:(t,n)=>{return a=e(n),o=e=>((e,t)=>Yk(e,A(t)))(t,e),a.stype===Zk.Error?o(a.serror):a;var a,o},toString:A("val")}),oE=aE($k),sE=(e,t,n,a)=>a(De(e,t).getOrThunk((()=>n(e)))),iE=(e,t,n,a,o)=>{const s=e=>o.extract(t.concat([a]),e),i=e=>e.fold((()=>$k(N.none())),(e=>{const n=o.extract(t.concat([a]),e);return s=n,i=N.some,s.stype===Zk.Value?{stype:Zk.Value,svalue:i(s.svalue)}:s;var s,i}));switch(e.tag){case"required":return((e,t,n,a)=>De(t,n).fold((()=>((e,t,n)=>Yk(e,(()=>'Could not find valid *required* value for "'+t+'" in '+Gk(n))))(e,n,t)),a))(t,n,a,s);case"defaultedThunk":return sE(n,a,e.process,s);case"option":return((e,t,n)=>n(De(e,t)))(n,a,i);case"defaultedOptionThunk":return((e,t,n,a)=>a(De(e,t).map((t=>!0===t?n(e):t))))(n,a,e.process,i);case"mergeWithThunk":return sE(n,a,A({}),(t=>{const a=Jk(e.process(n),t);return s(a)}))}},rE=e=>({extract:(t,n)=>((e,t,n)=>{const a={},o=[];for(const s of n)nE(s,((n,s,i,r)=>{const l=iE(i,e,t,n,r);Kk(l,(e=>{o.push(...e)}),(e=>{a[s]=e}))}),((e,n)=>{a[e]=n(t)}));return o.length>0?Wk(o):$k(a)})(t,n,e),toString:()=>{const t=q(e,(e=>nE(e,((e,t,n,a)=>e+" -> "+a.toString()),((e,t)=>"state("+e+")"))));return"obj{\n"+t.join("\n")+"}"}}),lE=e=>({extract:(t,n)=>{const a=q(n,((n,a)=>e.extract(t.concat(["["+a+"]"]),n)));return tE(a)},toString:()=>"array("+e.toString()+")"}),dE=(e,t,n)=>{return a=((e,t,n)=>((e,t)=>e.stype===Zk.Error?{stype:Zk.Error,serror:t(e.serror)}:e)(t.extract([e],n),(e=>({input:n,errors:e}))))(e,t,n),qk(a,gl.error,gl.value);var a},cE=(e,t)=>Xk(e,ge(t,rE)),uE=A(oE),mE=(e,t)=>aE((n=>{const a=typeof n;return e(n)?$k(n):Wk(`Expected type: ${t} but got: ${a}`)})),pE=mE(D,"number"),hE=mE(p,"string"),fE=mE(b,"boolean"),gE=mE(C,"function"),vE=(e,t,n,a)=>({tag:"field",key:e,newKey:t,presence:n,prop:a}),bE=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),wE=(e,t)=>vE(e,e,{tag:"required",process:{}},t),yE=e=>wE(e,hE),_E=e=>wE(e,gE),CE=(e,t)=>vE(e,e,{tag:"option",process:{}},t),DE=e=>CE(e,hE),xE=(e,t,n)=>vE(e,e,eE(t),n),kE=(e,t)=>xE(e,t,pE),EE=(e,t,n)=>xE(e,t,(e=>{return t=t=>j(e,t)?gl.value(t):gl.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`),aE((e=>t(e).fold(Wk,$k)));var t})(n)),SE=(e,t)=>xE(e,t,fE),AE=(e,t)=>xE(e,t,gE),TE=yE("type"),OE=_E("fetch"),LE=_E("onAction"),PE=AE("onSetup",(()=>k)),ME=DE("text"),BE=DE("icon"),IE=DE("tooltip"),RE=DE("label"),FE=SE("active",!1),NE=SE("enabled",!0),VE=SE("primary",!1),UE=e=>((e,t)=>xE("type",t,hE))(0,e),HE=rE([TE,yE("trigger"),kE("minChars",1),((e,t)=>vE(e,e,eE(1),uE()))("columns"),kE("maxResults",10),CE("matches",gE),OE,LE,(zE=hE,xE("highlightOn",[],lE(zE)))]);var zE;const jE=[NE,IE,BE,ME,PE],ZE=[FE].concat(jE),qE=[AE("predicate",R),EE("scope","node",["node","editor"]),EE("position","selection",["node","selection","line"])],$E=jE.concat([UE("contextformbutton"),VE,LE,bE("original",T)]),WE=ZE.concat([UE("contextformbutton"),VE,LE,bE("original",T)]),KE=jE.concat([UE("contextformbutton")]),GE=ZE.concat([UE("contextformtogglebutton")]),YE=cE("type",{contextformbutton:$E,contextformtogglebutton:WE});rE([UE("contextform"),AE("initValue",A("")),RE,((e,t)=>vE(e,e,{tag:"required",process:{}},lE(t)))("commands",YE),CE("launch",cE("type",{contextformbutton:KE,contextformtogglebutton:GE}))].concat(qE));const XE=e=>{const t=e.ui.registry.getAll().popups,n=ge(t,(e=>{return(t=e,dE("Autocompleter",HE,{trigger:t.ch,...t})).fold((e=>{throw new Error("Errors: \n"+(e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:A("... (only showing first ten failures)")}]):e;return q(t,(e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()))})((t=e).errors).join("\n")+"\n\nInput object: "+Gk(t.input));var t}),T);var t})),a=Ee(_e(n,(e=>e.trigger))),o=Ce(n);return{dataset:n,triggers:a,lookupByTrigger:e=>G(o,(t=>t.trigger===e))}},QE=e=>{const t=Xi(),n=Zi(!1),a=t.isSet,o=()=>{a()&&((e=>{Jy(e).autocompleter.removeDecoration()})(e),(e=>{e.dispatch("AutocompleterEnd")})(e),n.set(!1),t.clear())},s=Ie((()=>XE(e))),i=i=>{(n=>t.get().map((t=>Uk(e.dom,e.selection.getRng(),t.trigger).bind((t=>jk(e,s,t,n))))).getOrThunk((()=>((e,t)=>{const n=t(),a=e.selection.getRng();return((e,t,n)=>me(n.triggers,(n=>Uk(e,t,n))))(e.dom,a,n).bind((n=>jk(e,t,n)))})(e,s))))(i).fold(o,(s=>{(n=>{a()||(((e,t)=>{Jy(e).autocompleter.addDecoration(t)})(e,n.range),t.set({trigger:n.trigger,matchLength:n.text.length}))})(s.context),s.lookupData.then((a=>{t.get().map((i=>{const r=s.context;i.trigger===r.trigger&&(r.text.length-i.matchLength>=10?o():(t.set({...i,matchLength:r.text.length}),n.get()?((e,t)=>{e.dispatch("AutocompleterUpdate",t)})(e,{lookupData:a}):(n.set(!0),((e,t)=>{e.dispatch("AutocompleterStart",t)})(e,{lookupData:a}))))}))}))}))};e.addCommand("mceAutocompleterReload",((e,t)=>{const n=h(t)?t.fetchOptions:{};i(n)})),e.addCommand("mceAutocompleterClose",o),((e,t)=>{const n=Ji(t.load,50);e.on("keypress compositionend",(e=>{27!==e.which&&n.throttle()})),e.on("keydown",(e=>{const a=e.which;8===a?n.throttle():27===a&&t.cancelIfNecessary()})),e.on("remove",n.cancel)})(e,{cancelIfNecessary:o,load:i})},JE=Dt().browser.isSafari(),eS=e=>Po(yn(e)),tS=(e,t)=>{var n;return 0===e.startOffset&&e.endOffset===(null===(n=t.textContent)||void 0===n?void 0:n.length)},nS=(e,t)=>N.from(e.getParent(t.container(),"details")),aS=(e,t)=>nS(e,t).isSome(),oS=(e,t)=>{const n=t.getNode();w(n)||e.selection.setCursorLocation(n,t.offset())},sS=(e,t,n)=>{const a=e.dom.getParent(t.container(),"details");if(a&&!a.open){const t=e.dom.select("summary",a)[0];t&&(n?Pu(t):Mu(t)).each((t=>oS(e,t)))}else oS(e,t)},iS=(e,t,n)=>{const{dom:a,selection:o}=e,s=e.getBody();if("character"===n){const n=$r.fromRangeStart(o.getRng()),i=a.getParent(n.container(),a.isBlock),r=nS(a,n),l=i&&a.isEmpty(i),d=v(null==i?void 0:i.previousSibling),c=v(null==i?void 0:i.nextSibling);return!!(l&&(t?c:d)&&Su(!t,s,n).exists((e=>aS(a,e)&&!Rt(r,nS(a,e)))))||Su(t,s,n).fold(R,(n=>{const o=nS(a,n);if(aS(a,n)&&!Rt(r,o)){if(t||sS(e,n,!1),i&&l){if(t&&d)return!0;if(!t&&c)return!0;sS(e,n,t),e.dom.remove(i)}return!0}return!1}))}return!1},rS=(e,t,n,a)=>{const o=e.selection.getRng(),s=$r.fromRangeStart(o),i=e.getBody();return"selection"===a?((e,t)=>{const n=t.startSummary.exists((t=>t.contains(e.startContainer))),a=t.startSummary.exists((t=>t.contains(e.endContainer))),o=t.startDetails.forall((e=>t.endDetails.forall((t=>e!==t))));return(n||a)&&!(n&&a)||o})(o,t):n?((e,t)=>t.startSummary.exists((t=>((e,t)=>Mu(t).exists((n=>io(n.getNode())&&Lu(t,n).exists((t=>t.isEqual(e)))||n.isEqual(e))))(e,t))))(s,t)||((e,t,n)=>n.startDetails.exists((n=>Ou(e,t).forall((e=>!n.contains(e.container()))))))(i,s,t):((e,t)=>t.startSummary.exists((t=>((e,t)=>Pu(t).exists((t=>t.isEqual(e))))(e,t))))(s,t)||((e,t)=>t.startDetails.exists((n=>Lu(n,e).forall((n=>t.startSummary.exists((t=>!t.contains(e.container())&&t.contains(n.container()))))))))(s,t)},lS=(e,t,n)=>((e,t,n)=>((e,t)=>{const n=N.from(e.getParent(t.startContainer,"details")),a=N.from(e.getParent(t.endContainer,"details"));if(n.isSome()||a.isSome()){const t=n.bind((t=>N.from(e.select("summary",t)[0])));return N.some({startSummary:t,startDetails:n,endDetails:a})}return N.none()})(e.dom,e.selection.getRng()).fold((()=>iS(e,t,n)),(a=>rS(e,a,t,n)||iS(e,t,n))))(e,t,n)||JE&&((e,t,n)=>{const a=e.selection,o=a.getNode(),s=a.getRng(),i=$r.fromRangeStart(s);return!!go(o)&&("selection"===n&&tS(s,o)||Pg(t,i,o)?eS(o):e.undoManager.transact((()=>{const s=a.getSel();let{anchorNode:i,anchorOffset:r,focusNode:l,focusOffset:d}=null!=s?s:{};const c=()=>{_(i)&&_(r)&&_(l)&&_(d)&&(null==s||s.setBaseAndExtent(i,r,l,d))},u=(e,t)=>{$(e.childNodes,(e=>{cm(e)&&t.appendChild(e)}))},m=e.dom.create("span",{"data-mce-bogus":"1"});u(o,m),o.appendChild(m),c(),"word"!==n&&"line"!==n||null==s||s.modify("extend",t?"right":"left",n),!a.isCollapsed()&&tS(a.getRng(),m)?eS(o):(e.execCommand(t?"ForwardDelete":"Delete"),i=null==s?void 0:s.anchorNode,r=null==s?void 0:s.anchorOffset,l=null==s?void 0:s.focusNode,d=null==s?void 0:s.focusOffset,u(m,o),c()),e.dom.remove(m)})),!0)})(e,t,n)?N.some(k):N.none(),dS=e=>(t,n,a={})=>{const o=t.getBody(),s={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:o,currentTarget:o,eventPhase:Event.AT_TARGET,originalTarget:o,explicitOriginalTarget:o,isTrusted:!1,srcElement:o,cancelable:!1,preventDefault:k,inputType:n},i=xi(new InputEvent(e));return t.dispatch(e,{...i,...s,...a})},cS=dS("input"),uS=dS("beforeinput"),mS=Dt(),pS=mS.os,hS=pS.isMacOS()||pS.isiOS(),fS=mS.browser.isFirefox(),gS=(e,t)=>{const n=e.dom,a=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const e=(e=>{for(;e;){if(Za(e)||eo(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null})(t.firstChild);e&&/^(UL|OL|DL)$/.test(e.nodeName)&&t.insertBefore(n.doc.createTextNode(bo),t.firstChild)}const o=n.createRng();if(t.normalize(),t.hasChildNodes()){const e=new Ha(t,t);let n,s=t;for(;n=e.current();){if(eo(n)){o.setStart(n,0),o.setEnd(n,0);break}if(a[n.nodeName.toLowerCase()]){o.setStartBefore(n),o.setEndBefore(n);break}s=n,n=e.next()}n||(o.setStart(s,0),o.setEnd(s,0))}else io(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)):(o.setStart(t,0),o.setEnd(t,0));e.selection.setRng(o),sh(e,o)},vS=(e,t)=>{const n=e.getRoot();let a,o=t;for(;o!==n&&o&&"false"!==e.getContentEditable(o);){if("true"===e.getContentEditable(o)){a=o;break}o=o.parentNode}return o!==n?a:n},bS=e=>N.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),wS=e=>{e.innerHTML='<br data-mce-bogus="1">'},yS=(e,t)=>{Nl(e).toLowerCase()===t.tagName.toLowerCase()&&((e,t,n)=>{const a=e.dom;N.from(n.style).map(a.parseStyle).each((e=>{const n={...pa(yn(t)),...e};a.setStyles(t,n)}));const o=N.from(n.class).map((e=>e.split(/\s+/))),s=N.from(t.className).map((e=>G(e.split(/\s+/),(e=>""!==e))));Ft(o,s,((e,n)=>{const o=G(n,(t=>!j(e,t))),s=[...e,...o];a.setAttrib(t,"class",s.join(" "))}));const i=["style","class"],r=ye(n,((e,t)=>!j(i,t)));a.setAttribs(t,r)})(e,t,Vl(e))},_S=(e,t,n,a,o=!0,s,i)=>{const r=e.dom,l=e.schema,d=Nl(e),c=n?n.nodeName.toUpperCase():"";let u=t;const m=l.getTextInlineElements();let p;p=s||"TABLE"===c||"HR"===c?r.create(s||d,i||{}):n.cloneNode(!1);let h=p;if(o){do{if(m[u.nodeName]){if(Iu(u)||Ku(u))continue;const e=u.cloneNode(!1);r.setAttrib(e,"id",""),p.hasChildNodes()?(e.appendChild(p.firstChild),p.appendChild(e)):(h=e,p.appendChild(e))}}while((u=u.parentNode)&&u!==a)}else r.setAttrib(p,"style",null),r.setAttrib(p,"class",null);return yS(e,p),wS(h),p},CS=(e,t)=>{const n=null==e?void 0:e.parentNode;return _(n)&&n.nodeName===t},DS=e=>_(e)&&/^(OL|UL|LI)$/.test(e.nodeName),xS=e=>_(e)&&/^(LI|DT|DD)$/.test(e.nodeName),kS=e=>{const t=e.parentNode;return xS(t)?t:e},ES=(e,t,n)=>{let a=e[n?"firstChild":"lastChild"];for(;a&&!Za(a);)a=a[n?"nextSibling":"previousSibling"];return a===t},SS=e=>X(_e(pa(yn(e)),((e,t)=>`${t}: ${e};`)),((e,t)=>e+t),""),AS=(e,t)=>t&&"A"===t.nodeName&&e.isEmpty(t),TS=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,OS=(e,t)=>_(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&"false"!==e.getContentEditable(t),LS=(e,t,n)=>eo(t)?e?1===n&&t.data.charAt(n-1)===Mo?0:n:n===t.data.length-1&&t.data.charAt(n)===Mo?t.data.length:n:n,PS={insert:(e,t)=>{let n,a,o,s,i=!1;const r=e.dom,l=e.schema.getNonEmptyElements(),d=e.selection.getRng(),c=Nl(e),u=yn(d.startContainer),m=Nn(u,d.startOffset),h=m.exists((e=>$t(e)&&!oa(e))),f=d.collapsed&&h,g=(t,a)=>_S(e,n,k,x,jl(e),t,a),b=e=>{const t=LS(e,n,a);if(eo(n)&&(e?t>0:t<n.data.length))return!1;if(n.parentNode===k&&i&&!e)return!0;if(e&&Za(n)&&n===k.firstChild)return!0;if(TS(n,"TABLE")||TS(n,"HR"))return i&&!e||!i&&e;const o=new Ha(n,k);let s;for(eo(n)&&(e&&0===t?o.prev():e||t!==n.data.length||o.next());s=o.current();){if(Za(s)){if(!s.getAttribute("data-mce-bogus")){const e=s.nodeName.toLowerCase();if(l[e]&&"br"!==e)return!1}}else if(eo(s)&&!is(s.data))return!1;e?o.prev():o.next()}return!0},w=()=>{let t;return t=/^(H[1-6]|PRE|FIGURE)$/.test(o)&&"HGROUP"!==E?g(c):g(),((e,t)=>{const n=Zl(e);return!y(t)&&(p(n)?j(Bt.explode(n),t.nodeName.toLowerCase()):n)})(e,s)&&OS(r,s)&&r.isEmpty(k,void 0,{includeZwsp:!0})?t=r.split(s,k):r.insertAfter(t,k),gS(e,t),t};Rp(r,d).each((e=>{d.setStart(e.startContainer,e.startOffset),d.setEnd(e.endContainer,e.endOffset)})),n=d.startContainer,a=d.startOffset;const C=!(!t||!t.shiftKey),D=!(!t||!t.ctrlKey);Za(n)&&n.hasChildNodes()&&!f&&(i=a>n.childNodes.length-1,n=n.childNodes[Math.min(a,n.childNodes.length-1)]||n,a=i&&eo(n)?n.data.length:0);const x=vS(r,n);if(!x||((e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return null!==n&&"false"===e.dom.getContentEditableParent(n)})(e,n))return;C||(n=((e,t,n,a,o)=>{var s,i;const r=e.dom,l=null!==(s=vS(r,a))&&void 0!==s?s:r.getRoot();let d=r.getParent(a,r.isBlock);if(!d||!OS(r,d)){if(d=d||l,!d.hasChildNodes()){const a=r.create(t);return yS(e,a),d.appendChild(a),n.setStart(a,0),n.setEnd(a,0),a}let s,c=a;for(;c&&c.parentNode!==d;)c=c.parentNode;for(;c&&!r.isBlock(c);)s=c,c=c.previousSibling;const u=null===(i=null==s?void 0:s.parentElement)||void 0===i?void 0:i.nodeName;if(s&&u&&e.schema.isValidChild(u,t.toLowerCase())){const i=s.parentNode,l=r.create(t);for(yS(e,l),i.insertBefore(l,s),c=s;c&&!r.isBlock(c);){const e=c.nextSibling;l.appendChild(c),c=e}n.setStart(a,o),n.setEnd(a,o)}}return a})(e,c,d,n,a));let k=r.getParent(n,r.isBlock)||r.getRoot();s=_(null==k?void 0:k.parentNode)?r.getParent(k.parentNode,r.isBlock):null,o=k?k.nodeName.toUpperCase():"";const E=s?s.nodeName.toUpperCase():"";if("LI"!==E||D||(k=s,s=s.parentNode,o=E),Za(s)&&((e,t,n)=>!t&&n.nodeName.toLowerCase()===Nl(e)&&e.dom.isEmpty(n)&&((t,n,a)=>{let o=n;for(;o&&o!==t&&v(o.nextSibling);){const t=o.parentElement;if(!t||(s=t,!xe(e.schema.getTextBlockElements(),s.nodeName.toLowerCase())))return fo(t);o=t}var s;return!1})(e.getBody(),n))(e,C,k))return((e,t,n)=>{var a,o,s;const i=t(Nl(e)),r=((e,t)=>e.dom.getParent(t,fo))(e,n);r&&(e.dom.insertAfter(i,r),gS(e,i),(null!==(s=null===(o=null===(a=n.parentElement)||void 0===a?void 0:a.childNodes)||void 0===o?void 0:o.length)&&void 0!==s?s:0)>1&&e.dom.remove(n))})(e,g,k);if(/^(LI|DT|DD)$/.test(o)&&Za(s)&&r.isEmpty(k))return void((e,t,n,a,o)=>{const s=e.dom,i=e.selection.getRng(),r=n.parentNode;if(n===e.getBody()||!r)return;var l;DS(l=n)&&DS(l.parentNode)&&(o="LI");const d=xS(a)?SS(a):void 0;let c=xS(a)&&d?t(o,{style:SS(a)}):t(o);if(ES(n,a,!0)&&ES(n,a,!1))if(CS(n,"LI")){const e=kS(n);s.insertAfter(c,e),(e=>{var t;return(null===(t=e.parentNode)||void 0===t?void 0:t.firstChild)===e})(n)?s.remove(e):s.remove(n)}else s.replace(c,n);else if(ES(n,a,!0))CS(n,"LI")?(s.insertAfter(c,kS(n)),c.appendChild(s.doc.createTextNode(" ")),c.appendChild(n)):r.insertBefore(c,n),s.remove(a);else if(ES(n,a,!1))s.insertAfter(c,kS(n)),s.remove(a);else{n=kS(n);const e=i.cloneRange();e.setStartAfter(a),e.setEndAfter(n);const t=e.extractContents();if("LI"===o&&((e,t)=>e.firstChild&&"LI"===e.firstChild.nodeName)(t)){const e=G(q(c.children,yn),P(Xt("br")));c=t.firstChild,s.insertAfter(t,n),$(e,(e=>va(yn(c),e))),d&&c.setAttribute("style",d)}else s.insertAfter(t,n),s.insertAfter(c,n);s.remove(a)}gS(e,c)})(e,g,s,k,c);if(!(f||k!==e.getBody()&&OS(r,k)))return;const S=k.parentNode;let A;if(f)A=g(c),m.fold((()=>{ba(u,yn(A))}),(e=>{fa(e,yn(A))})),e.selection.setCursorLocation(A,0);else if(No(k))A=$o(k),r.isEmpty(k)&&wS(k),yS(e,A),gS(e,A);else if(b(!1))A=w();else if(b(!0)&&S){A=S.insertBefore(g(),k);const t=yn(d.startContainer).dom.hasChildNodes()&&d.collapsed;gS(e,TS(k,"HR")||t?A:k)}else{const t=(e=>{const t=e.cloneRange();return t.setStart(e.startContainer,LS(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,LS(!1,e.endContainer,e.endOffset)),t})(d).cloneRange();t.setEndAfter(k);const n=t.extractContents();(e=>{$(Na(yn(e),Kt),(e=>{const t=e.dom;t.nodeValue=Io(t.data)}))})(n),(e=>{let t=e;do{eo(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild}while(t)})(n),A=n.firstChild,r.insertAfter(n,k),((e,t,n)=>{var a;const o=[];if(!n)return;let s=n;for(;s=s.firstChild;){if(e.isBlock(s))return;Za(s)&&!t[s.nodeName.toLowerCase()]&&o.push(s)}let i=o.length;for(;i--;)s=o[i],(!s.hasChildNodes()||s.firstChild===s.lastChild&&""===(null===(a=s.firstChild)||void 0===a?void 0:a.nodeValue)||AS(e,s))&&e.remove(s)})(r,l,A),((e,t)=>{t.normalize();const n=t.lastChild;(!n||Za(n)&&/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")})(r,k),r.isEmpty(k)&&wS(k),A.normalize(),r.isEmpty(A)?(r.remove(A),w()):(yS(e,A),gS(e,A))}r.setAttrib(A,"id",""),e.dispatch("NewBlock",{newBlock:A})},fakeEventName:"insertParagraph"},MS=(e,t,n)=>{const a=e.dom.createRng();n?(a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)),e.selection.setRng(a),sh(e,a)},BS=(e,t)=>{const n=bn("br");fa(yn(t),n),e.undoManager.add()},IS=(e,t)=>{RS(e.getBody(),t)||ga(yn(t),bn("br"));const n=bn("br");ga(yn(t),n),MS(e,n.dom,!1),e.undoManager.add()},RS=(e,t)=>{return n=$r.after(t),!!io(n.getNode())||Ou(e,$r.after(t)).map((e=>io(e.getNode()))).getOr(!1);var n},FS=e=>e&&"A"===e.nodeName&&"href"in e,NS=e=>e.fold(R,FS,FS,R),VS=(e,t)=>{t.fold(k,L(BS,e),L(IS,e),k)},US={insert:(e,t)=>{const n=(e=>{const t=L(_g,e),n=$r.fromRangeStart(e.selection.getRng());return lD(t,e.getBody(),n).filter(NS)})(e);n.isSome()?n.each(L(VS,e)):((e,t)=>{const n=e.selection,a=e.dom,o=n.getRng();let s,i=!1;Rp(a,o).each((e=>{o.setStart(e.startContainer,e.startOffset),o.setEnd(e.endContainer,e.endOffset)}));let r=o.startOffset,l=o.startContainer;if(Za(l)&&l.hasChildNodes()){const e=r>l.childNodes.length-1;l=l.childNodes[Math.min(r,l.childNodes.length-1)]||l,r=e&&eo(l)?l.data.length:0}let d=a.getParent(l,a.isBlock);const c=d&&d.parentNode?a.getParent(d.parentNode,a.isBlock):null,u=c?c.nodeName.toUpperCase():"",m=!(!t||!t.ctrlKey);"LI"!==u||m||(d=c),eo(l)&&r>=l.data.length&&(((e,t,n)=>{const a=new Ha(t,n);let o;const s=e.getNonEmptyElements();for(;o=a.next();)if(s[o.nodeName.toLowerCase()]||eo(o)&&o.length>0)return!0;return!1})(e.schema,l,d||a.getRoot())||(s=a.create("br"),o.insertNode(s),o.setStartAfter(s),o.setEndAfter(s),i=!0)),s=a.create("br"),Kr(a,o,s),MS(e,s,i),e.undoManager.add()})(e,t)},fakeEventName:"insertLineBreak"},HS=(e,t)=>bS(e).filter((e=>t.length>0&&Dn(yn(e),t))).isSome(),zS=vl([{br:[]},{block:[]},{none:[]}]),jS=(e,t)=>(e=>HS(e,zl(e)))(e),ZS=e=>(t,n)=>(e=>bS(e).filter((e=>So(yn(e)))).isSome())(t)===e,qS=(e,t)=>(n,a)=>{const o=(e=>bS(e).fold(A(""),(e=>e.nodeName.toUpperCase())))(n)===e.toUpperCase();return o===t},$S=e=>{const t=vS(e.dom,e.selection.getStart());return y(t)},WS=e=>qS("pre",e),KS=e=>(t,n)=>Fl(t)===e,GS=(e,t)=>(e=>HS(e,Hl(e)))(e),YS=(e,t)=>t,XS=e=>{const t=Nl(e),n=vS(e.dom,e.selection.getStart());return _(n)&&e.schema.isValidChild(n.nodeName,t)},QS=e=>{const t=e.selection.getRng(),n=yn(t.startContainer),a=Nn(n,t.startOffset).map((e=>$t(e)&&!oa(e)));return t.collapsed&&a.getOr(!0)},JS=(e,t)=>(n,a)=>X(e,((e,t)=>e&&t(n,a)),!0)?N.some(t):N.none(),eA=(e,t,n)=>{t.selection.isCollapsed()||(e=>{e.execCommand("delete")})(t),_(n)&&uS(t,e.fakeEventName).isDefaultPrevented()||(e.insert(t,n),_(n)&&cS(t,e.fakeEventName))},tA=(e,t)=>{const n=()=>eA(US,e,t),a=()=>eA(PS,e,t),o=((e,t)=>QC([JS([jS],zS.none()),JS([WS(!0),$S],zS.none()),JS([qS("summary",!0)],zS.br()),JS([WS(!0),KS(!1),YS],zS.br()),JS([WS(!0),KS(!1)],zS.block()),JS([WS(!0),KS(!0),YS],zS.block()),JS([WS(!0),KS(!0)],zS.br()),JS([ZS(!0),YS],zS.br()),JS([ZS(!0)],zS.block()),JS([GS],zS.br()),JS([YS],zS.br()),JS([XS],zS.block()),JS([QS],zS.block())],[e,!(!t||!t.shiftKey)]).getOr(zS.none()))(e,t);switch(Ul(e)){case"linebreak":o.fold(n,n,k);break;case"block":o.fold(a,a,k);break;case"invert":o.fold(a,n,k);break;default:o.fold(n,a,k)}},nA=Dt(),aA=nA.os.isiOS()&&nA.browser.isSafari(),oA=(e,t)=>{var n;t.isDefaultPrevented()||(t.preventDefault(),(n=e.undoManager).typing&&(n.typing=!1,n.add()),e.undoManager.transact((()=>{tA(e,t)})))},sA=Dt(),iA=e=>e.stopImmediatePropagation(),rA=e=>e.keyCode===rp.PAGE_UP||e.keyCode===rp.PAGE_DOWN,lA=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",iA,!0):!n&&e.get()&&t.off("NodeChange",iA),e.set(n)},dA=(e,t)=>{const n=t.container(),a=t.offset();return eo(n)?(n.insertData(a,e),N.some($r(n,a+e.length))):lu(t).map((n=>{const a=wn(e);return t.isAtEnd()?ga(n,a):fa(n,a),$r(a.dom,e.length)}))},cA=L(dA,bo),uA=L(dA," "),mA=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},pA=e=>{const t=$r.fromRangeStart(e.selection.getRng()),n=yn(e.getBody());if(e.selection.isCollapsed()){const a=L(_g,e),o=$r.fromRangeStart(e.selection.getRng());return lD(a,e.getBody(),o).bind((e=>t=>t.fold((t=>Lu(e.dom,$r.before(t))),(e=>Pu(e)),(e=>Mu(e)),(t=>Ou(e.dom,$r.after(t)))))(n)).map((a=>()=>((e,t,n)=>a=>eg(e,a,n)?cA(t):uA(t))(n,t,e.schema)(a).each(mA(e))))}return N.none()},hA=e=>{return Nt(Ot.browser.isFirefox()&&e.selection.isEditable()&&(t=e.dom,n=e.selection.getRng().startContainer,t.isEditable(t.getParent(n,"summary"))),(()=>{const t=yn(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete"),((e,t,n)=>eg(e,t,n)?cA(t):uA(t))(t,$r.fromRangeStart(e.selection.getRng()),e.schema).each(mA(e))}));var t,n},fA=e=>vc(e)?[{keyCode:rp.TAB,action:nk(Tk,e,!0)},{keyCode:rp.TAB,shiftKey:!0,action:nk(Tk,e,!1)}]:[],gA=e=>{if(e.addShortcut("Meta+P","","mcePrint"),QE(e),Xy(e))return Zi(null);{const t=ox(e);return(e=>{e.on("beforeinput",(t=>{e.selection.isEditable()&&!Z(t.getTargetRanges(),(t=>!Lh(e.dom,t)))||t.preventDefault()}))})(e),(e=>{e.on("keyup compositionstart",L(Zx,e))})(e),((e,t)=>{e.on("keydown",(n=>{n.isDefaultPrevented()||((e,t,n)=>{const a=Ot.os.isMacOS()||Ot.os.isiOS();ak([{keyCode:rp.RIGHT,action:nk(Wx,e,!0)},{keyCode:rp.LEFT,action:nk(Wx,e,!1)},{keyCode:rp.UP,action:nk(Kx,e,!1)},{keyCode:rp.DOWN,action:nk(Kx,e,!0)},...a?[{keyCode:rp.UP,action:nk(Yx,e,!1),metaKey:!0,shiftKey:!0},{keyCode:rp.DOWN,action:nk(Yx,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:rp.RIGHT,action:nk(xk,e,!0)},{keyCode:rp.LEFT,action:nk(xk,e,!1)},{keyCode:rp.UP,action:nk(kk,e,!1)},{keyCode:rp.DOWN,action:nk(kk,e,!0)},{keyCode:rp.UP,action:nk(kk,e,!1)},{keyCode:rp.UP,action:nk(Jx,e,!1)},{keyCode:rp.DOWN,action:nk(Jx,e,!0)},{keyCode:rp.RIGHT,action:nk(sk,e,!0)},{keyCode:rp.LEFT,action:nk(sk,e,!1)},{keyCode:rp.UP,action:nk(ik,e,!1)},{keyCode:rp.DOWN,action:nk(ik,e,!0)},{keyCode:rp.RIGHT,action:nk(nx,e,t,!0)},{keyCode:rp.LEFT,action:nk(nx,e,t,!1)},{keyCode:rp.RIGHT,ctrlKey:!a,altKey:a,action:nk(sx,e,t)},{keyCode:rp.LEFT,ctrlKey:!a,altKey:a,action:nk(ix,e,t)},{keyCode:rp.UP,action:nk(Qx,e,!1)},{keyCode:rp.DOWN,action:nk(Qx,e,!0)}],n).each((e=>{n.preventDefault()}))})(e,t,n)}))})(e,t),((e,t)=>{let n=!1;e.on("keydown",(a=>{n=a.keyCode===rp.BACKSPACE,a.isDefaultPrevented()||((e,t,n)=>{const a=n.keyCode===rp.BACKSPACE?"deleteContentBackward":"deleteContentForward",o=e.selection.isCollapsed(),s=o?"character":"selection",i=e=>o?e?"word":"line":"selection";ok([{keyCode:rp.BACKSPACE,action:nk(Lx,e)},{keyCode:rp.BACKSPACE,action:nk(UC,e,!1)},{keyCode:rp.DELETE,action:nk(UC,e,!0)},{keyCode:rp.BACKSPACE,action:nk(PC,e,!1)},{keyCode:rp.DELETE,action:nk(PC,e,!0)},{keyCode:rp.BACKSPACE,action:nk(cx,e,t,!1)},{keyCode:rp.DELETE,action:nk(cx,e,t,!0)},{keyCode:rp.BACKSPACE,action:nk(lv,e,!1)},{keyCode:rp.DELETE,action:nk(lv,e,!0)},{keyCode:rp.BACKSPACE,action:nk(lS,e,!1,s)},{keyCode:rp.DELETE,action:nk(lS,e,!0,s)},...hS?[{keyCode:rp.BACKSPACE,altKey:!0,action:nk(lS,e,!1,i(!0))},{keyCode:rp.DELETE,altKey:!0,action:nk(lS,e,!0,i(!0))},{keyCode:rp.BACKSPACE,metaKey:!0,action:nk(lS,e,!1,i(!1))}]:[{keyCode:rp.BACKSPACE,ctrlKey:!0,action:nk(lS,e,!1,i(!0))},{keyCode:rp.DELETE,ctrlKey:!0,action:nk(lS,e,!0,i(!0))}],{keyCode:rp.BACKSPACE,action:nk(HC,e,!1)},{keyCode:rp.DELETE,action:nk(HC,e,!0)},{keyCode:rp.BACKSPACE,action:nk(Dx,e,!1)},{keyCode:rp.DELETE,action:nk(Dx,e,!0)},{keyCode:rp.BACKSPACE,action:nk(kC,e,!1)},{keyCode:rp.DELETE,action:nk(kC,e,!0)},{keyCode:rp.BACKSPACE,action:nk(CC,e,!1)},{keyCode:rp.DELETE,action:nk(CC,e,!0)},{keyCode:rp.BACKSPACE,action:nk(wx,e,!1)},{keyCode:rp.DELETE,action:nk(wx,e,!0)}],n).filter((t=>e.selection.isEditable())).each((t=>{n.preventDefault(),uS(e,a).isDefaultPrevented()||(t(),cS(e,a))}))})(e,t,a)})),e.on("keyup",(t=>{t.isDefaultPrevented()||((e,t,n)=>{ak([{keyCode:rp.BACKSPACE,action:nk(VC,e)},{keyCode:rp.DELETE,action:nk(VC,e)},...hS?[{keyCode:rp.BACKSPACE,altKey:!0,action:nk(_x,e)},{keyCode:rp.DELETE,altKey:!0,action:nk(_x,e)},...n?[{keyCode:fS?224:91,action:nk(_x,e)}]:[]]:[{keyCode:rp.BACKSPACE,ctrlKey:!0,action:nk(_x,e)},{keyCode:rp.DELETE,ctrlKey:!0,action:nk(_x,e)}]],t)})(e,t,n),n=!1}))})(e,t),(e=>{let t=N.none();e.on("keydown",(n=>{n.keyCode===rp.ENTER&&(aA&&(e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(eo(t)){const n=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,a=t.data.charAt(e.startOffset-1);return n.test(a)}return!1})(e.selection.getRng())?(e=>{t=N.some(e.selection.getBookmark()),e.undoManager.add()})(e):oA(e,n))})),e.on("keyup",(n=>{n.keyCode===rp.ENTER&&t.each((()=>((e,n)=>{e.undoManager.undo(),t.fold(k,(t=>e.selection.moveToBookmark(t))),oA(e,n),t=N.none()})(e,n)))}))})(e),(e=>{e.on("keydown",(t=>{t.isDefaultPrevented()||((e,t)=>{ok([{keyCode:rp.SPACEBAR,action:nk(pA,e)},{keyCode:rp.SPACEBAR,action:nk(hA,e)}],t).each((n=>{t.preventDefault(),uS(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),cS(e,"insertText",{data:" "}))}))})(e,t)}))})(e),(e=>{e.on("input",(t=>{t.isComposing||(e=>{const t=yn(e.getBody());e.selection.isCollapsed()&&lg(t,$r.fromRangeStart(e.selection.getRng()),e.schema).each((t=>{e.selection.setRng(t.toRange())}))})(e)}))})(e),(e=>{e.on("keydown",(t=>{t.isDefaultPrevented()||((e,t)=>{ak([...fA(e)],t).each((e=>{t.preventDefault()}))})(e,t)}))})(e),((e,t)=>{e.on("keydown",(n=>{n.isDefaultPrevented()||((e,t,n)=>{const a=Ot.os.isMacOS()||Ot.os.isiOS();ak([{keyCode:rp.END,action:nk(Gx,e,!0)},{keyCode:rp.HOME,action:nk(Gx,e,!1)},...a?[]:[{keyCode:rp.HOME,action:nk(Yx,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:rp.END,action:nk(Yx,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:rp.END,action:nk(rk,e,!0)},{keyCode:rp.HOME,action:nk(rk,e,!1)},{keyCode:rp.END,action:nk(rx,e,!0,t)},{keyCode:rp.HOME,action:nk(rx,e,!1,t)}],n).each((e=>{n.preventDefault()}))})(e,t,n)}))})(e,t),((e,t)=>{if(sA.os.isMacOS())return;const n=Zi(!1);e.on("keydown",(t=>{rA(t)&&lA(n,e,!0)})),e.on("keyup",(a=>{a.isDefaultPrevented()||((e,t,n)=>{ak([{keyCode:rp.PAGE_UP,action:nk(rx,e,!1,t)},{keyCode:rp.PAGE_DOWN,action:nk(rx,e,!0,t)}],n)})(e,t,a),rA(a)&&n.get()&&(lA(n,e,!1),e.nodeChanged())}))})(e,t),t}};class vA{constructor(e){let t;this.lastPath=[],this.editor=e;const n=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",(n=>{const a=e.selection.getRng(),o={startContainer:a.startContainer,startOffset:a.startOffset,endContainer:a.endContainer,endOffset:a.endOffset};"nodechange"!==n.type&&Tp(o,t)||e.dispatch("SelectionChange"),t=o})),e.on("contextmenu",(()=>{e.dispatch("SelectionChange")})),e.on("SelectionChange",(()=>{const t=e.selection.getStart(!0);t&&rm(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})})),e.on("mouseup",(t=>{!t.isDefaultPrevented()&&rm(e)&&("IMG"===e.selection.getNode().nodeName?bh.setEditorTimeout(e,(()=>{e.nodeChanged()})):e.nodeChanged())}))}nodeChanged(e={}){const t=this.editor.selection;let n;if(this.editor.initialized&&t&&!Pd(this.editor)&&!this.editor.mode.isReadOnly()){const a=this.editor.getBody();n=t.getStart(!0)||a,n.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(n,a)||(n=a);const o=[];this.editor.dom.getParent(n,(e=>e===a||(o.push(e),!1))),this.editor.dispatch("NodeChange",{...e,element:n,parents:o})}}isSameElementPath(e){let t;const n=this.editor,a=oe(n.dom.getParents(e,F,n.getBody()));if(a.length===this.lastPath.length){for(t=a.length;t>=0&&a[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=a,!0}return this.lastPath=a,!1}}const bA=mr("image"),wA=mr("event"),yA=e=>t=>{t[wA]=e},_A=yA(0),CA=yA(2),DA=yA(1),xA=e=>{const t=e;return N.from(t[wA]).exists((e=>0===e))},kA=mr("mode"),EA=e=>t=>{t[kA]=e},SA=(e,t)=>EA(t)(e),AA=EA(0),TA=EA(2),OA=EA(1),LA=e=>t=>{const n=t;return N.from(n[kA]).exists((t=>t===e))},PA=LA(0),MA=LA(1),BA=["none","copy","link","move"],IA=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],RA=()=>{const e=new window.DataTransfer;let t="move",n="all";const a={get dropEffect(){return t},set dropEffect(e){j(BA,e)&&(t=e)},get effectAllowed(){return n},set effectAllowed(e){xA(a)&&j(IA,e)&&(n=e)},get items(){return((e,t)=>({...t,get length(){return t.length},add:(n,a)=>{if(PA(e)){if(!p(n))return t.add(n);if(!w(a))return t.add(n,a)}return null},remove:n=>{PA(e)&&t.remove(n)},clear:()=>{PA(e)&&t.clear()}}))(a,e.items)},get files(){return MA(a)?Object.freeze({length:0,item:e=>null}):e.files},get types(){return e.types},setDragImage:(t,n,o)=>{var s;PA(a)&&(s={image:t,x:n,y:o},a[bA]=s,e.setDragImage(t,n,o))},getData:t=>MA(a)?"":e.getData(t),setData:(t,n)=>{PA(a)&&e.setData(t,n)},clearData:t=>{PA(a)&&e.clearData(t)}};return AA(a),a},FA=(e,t)=>e.setData("text/html",t),NA="x-tinymce/html",VA=A(NA),UA="\x3c!-- "+NA+" --\x3e",HA=e=>UA+e,zA=e=>-1!==e.indexOf(UA),jA="%MCEPASTEBIN%",ZA=e=>e.dom.get("mcepastebin"),qA=e=>_(e)&&"mcepastebin"===e.id,$A=e=>e===jA,WA=(e,t)=>(Bt.each(t,(t=>{e=m(t,RegExp)?e.replace(t,""):e.replace(t[0],t[1])})),e),KA=e=>WA(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(e,t,n)=>t||n?bo:" "],/<br class="Apple-interchange-newline">/g,/<br>$/i]),GA=(e,t)=>({content:e,cancelled:t}),YA=(e,t)=>(e.insertContent(t,{merge:nc(e),paste:!0}),!0),XA=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),QA=(e,t,n)=>!(e.selection.isCollapsed()||!XA(t))&&((e,t,n)=>(e.undoManager.extra((()=>{n(e,t)}),(()=>{e.execCommand("mceInsertLink",!1,t)})),!0))(e,t,n),JA=(e,t,n)=>!!((e,t)=>XA(t)&&Z(gc(e),(e=>Ze(t.toLowerCase(),`.${e.toLowerCase()}`))))(e,t)&&((e,t,n)=>(e.undoManager.extra((()=>{n(e,t)}),(()=>{e.insertContent('<img src="'+t+'">')})),!0))(e,t,n),eT=(e=>{let t=0;return()=>"mceclip"+t++})(),tT=e=>{const t=RA();return FA(t,e),TA(t),t},nT=(e,t,n,a,o)=>{const s=((e,t,n)=>((e,t,n)=>{const a=((e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}))(e,t,n),o=((e,t)=>{const n=by({sanitize:hc(e),sandbox_iframes:_c(e)},e.schema);n.addNodeFilter("meta",(e=>{Bt.each(e,(e=>{e.remove()}))}));const a=n.parse(t,{forced_root_block:!1,isRootContent:!0});return mf({validate:!0},e.schema).serialize(a)})(e,a.content);return e.hasEventListeners("PastePostProcess")&&!a.isDefaultPrevented()?((e,t,n)=>{const a=e.dom.create("div",{style:"display:none"},t),o=((e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}))(e,a,n);return GA(o.node.innerHTML,o.isDefaultPrevented())})(e,o,n):GA(o,a.isDefaultPrevented())})(e,t,n))(e,t,n);if(!s.cancelled){const t=s.content,n=()=>((e,t,n)=>{n||!ac(e)?YA(e,t):((e,t)=>{Bt.each([QA,JA,YA],(n=>!n(e,t,YA)))})(e,t)})(e,t,a);o?uS(e,"insertFromPaste",{dataTransfer:tT(t)}).isDefaultPrevented()||(n(),cS(e,"insertFromPaste")):n()}},aT=(e,t,n,a)=>{const o=n||zA(t);nT(e,(e=>e.replace(UA,""))(t),o,!1,a)},oT=(e,t,n)=>{const a=e.dom.encode(t).replace(/\r\n/g,"\n"),o=((e,t,n)=>{const a=e.split(/\n\n/),o=((e,t)=>{let n="<"+e;const a=_e(t,((e,t)=>t+'="'+ti.encodeAllRaw(e)+'"'));return a.length&&(n+=" "+a.join(" ")),n+">"})(t,n),s="</"+t+">",i=q(a,(e=>e.split(/\n/).join("<br />")));return 1===i.length?i[0]:q(i,(e=>o+e+s)).join("")})(ds(a,sc(e)),Nl(e),Vl(e));nT(e,o,!1,!0,n)},sT=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const a=e.types[n];try{t[a]=e.getData(a)}catch(e){t[a]=""}}return t},iT=(e,t)=>t in e&&e[t].length>0,rT=e=>iT(e,"text/html")||iT(e,"text/plain"),lT=(e,t,n)=>{const a="paste"===t.type?t.clipboardData:t.dataTransfer;var o;if(Yd(e)&&a){const s=((e,t)=>{const n=t.items?ne(ue(t.items),(e=>"file"===e.kind?[e.getAsFile()]:[])):[],a=t.files?ue(t.files):[];return G(n.length>0?n:a,(e=>{const t=gc(e);return e=>je(e.type,"image/")&&Z(t,(t=>(e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Bt.hasOwn(n,t)?"image/"+n[t]:"image/"+t})(t)===e.type))})(e))})(e,a);if(s.length>0)return t.preventDefault(),(o=s,Promise.all(q(o,(e=>Yb(e).then((t=>({file:e,uri:t}))))))).then((t=>{n&&e.selection.setRng(n),$(t,(t=>{((e,t)=>{Kb(t.uri).each((({data:n,type:a,base64Encoded:o})=>{const s=o?n:btoa(n),i=t.file,r=e.editorUpload.blobCache,l=r.getByData(s,a),d=null!=l?l:((e,t,n,a)=>{const o=eT(),s=$l(e)&&_(n.name),i=s?((e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return _(n)?e.dom.encode(n[1]):void 0})(e,n.name):o,r=s?n.name:void 0,l=t.create(o,n,a,i,r);return t.add(l),l})(e,r,i,s);aT(e,`<img src="${d.blobUri()}">`,!1,!0)}))})(e,t)}))})),!0}return!1},dT=(e,t,n,a,o)=>{let s=KA(n);const i=iT(t,VA())||zA(n),r=!i&&(e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e))(s),l=XA(s);($A(s)||!s.length||r&&!l)&&(a=!0),(a||l)&&(s=iT(t,"text/plain")&&r?t["text/plain"]:(e=>{const t=mi(),n=by({},t);let a="";const o=t.getVoidElements(),s=Bt.makeMap("script noscript style textarea video audio iframe object"," "),i=t.getBlockElements(),r=e=>{const n=e.name,l=e;if("br"!==n){if("wbr"!==n)if(o[n]&&(a+=" "),s[n])a+=" ";else{if(3===e.type&&(a+=e.value),!(e.name in t.getVoidElements())){let t=e.firstChild;if(t)do{r(t)}while(t=t.next)}i[n]&&l.next&&(a+="\n","p"===n&&(a+="\n"))}}else a+="\n"};return e=WA(e,[/<!\[[^\]]+\]>/g]),r(n.parse(e)),a})(s)),$A(s)||(a?oT(e,s,o):aT(e,s,i,o))},cT=(e,t,n)=>{((e,t,n)=>{let a;e.on("keydown",(e=>{(e=>rp.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode)(e)&&!e.isDefaultPrevented()&&(a=e.shiftKey&&86===e.keyCode)})),e.on("paste",(o=>{if(o.isDefaultPrevented()||(e=>{var t,n;return Ot.os.isAndroid()&&0===(null===(n=null===(t=e.clipboardData)||void 0===t?void 0:t.items)||void 0===n?void 0:n.length)})(o))return;const s="text"===n.get()||a;a=!1;const i=sT(o.clipboardData);!rT(i)&&lT(e,o,t.getLastRng()||e.selection.getRng())||(iT(i,"text/html")?(o.preventDefault(),dT(e,i,i["text/html"],s,!0)):iT(i,"text/plain")&&iT(i,"text/uri-list")?(o.preventDefault(),dT(e,i,i["text/plain"],s,!0)):(t.create(),bh.setEditorTimeout(e,(()=>{const n=t.getHtml();t.remove(),dT(e,i,n,s,!1)}),0)))}))})(e,t,n),(e=>{const t=e=>je(e,"webkit-fake-url"),n=e=>je(e,"data:");e.parser.addNodeFilter("img",((a,o,s)=>{if(!Yd(e)&&(e=>{var t;return!0===(null===(t=e.data)||void 0===t?void 0:t.paste)})(s))for(const i of a){const a=i.attr("src");p(a)&&!i.attr("data-mce-object")&&a!==Ot.transparentSrc&&(t(a)||!ic(e)&&n(a))&&i.remove()}}))})(e)},uT=(e,t,n,a)=>{((e,t,n)=>{if(!e)return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(VA(),t),!0}catch(e){return!1}})(e.clipboardData,t.html,t.text)?(e.preventDefault(),a()):n(t.html,a)},mT=e=>(t,n)=>{const{dom:a,selection:o}=e,s=a.create("div",{contenteditable:"false","data-mce-bogus":"all"}),i=a.create("div",{contenteditable:"true"},t);a.setStyles(s,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),s.appendChild(i),a.add(e.getBody(),s);const r=o.getRng();i.focus();const l=a.createRng();l.selectNodeContents(i),o.setRng(l),bh.setEditorTimeout(e,(()=>{o.setRng(r),a.remove(s),n()}),0)},pT=e=>({html:HA(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),hT=e=>!e.selection.isCollapsed()||(e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()))(e),fT=(e,t)=>{var n,a;return Vp.getCaretRangeFromPoint(null!==(n=t.clientX)&&void 0!==n?n:0,null!==(a=t.clientY)&&void 0!==a?a:0,e.getDoc())},gT=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},vT=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,bT=e=>Bt.trim(e).replace(vT,_i).toLowerCase(),wT=(e,t,n)=>{const a=ec(e);if(n||"all"===a||!tc(e))return t;const o=a?a.split(/[, ]/):[];if(o&&"none"!==a){const n=e.dom,a=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,((e,t,s,i)=>{const r=n.parseStyle(n.decode(s)),l={};for(let c=0;c<o.length;c++){const e=r[o[c]];let t=e,s=n.getStyle(a,o[c],!0);/color/.test(o[c])&&(t=bT(t),s=bT(s)),s!==t&&(l[o[c]]=e)}const d=n.serializeStyle(l,"span");return d?t+' style="'+d+'"'+i:t+i}))}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,((e,t,n,a)=>t+' style="'+n+'"'+a)),t},yT=e=>{const t=Zi(!1),n=Zi(oc(e)?"text":"html"),a=(e=>{const t=Zi(null);return{create:()=>((e,t)=>{const{dom:n,selection:a}=e,o=e.getBody();t.set(a.getRng());const s=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},jA);Ot.browser.isFirefox()&&n.setStyle(s,"left","rtl"===n.getStyle(o,"direction",!0)?65535:-65535),n.bind(s,"beforedeactivate focusin focusout",(e=>{e.stopPropagation()})),s.focus(),a.select(s,!0)})(e,t),remove:()=>((e,t)=>{const n=e.dom;if(ZA(e)){let a;const o=t.get();for(;a=ZA(e);)n.remove(a),n.unbind(a);o&&e.selection.setRng(o)}t.set(null)})(e,t),getEl:()=>ZA(e),getHtml:()=>(e=>{const t=e.dom,n=(e,n)=>{e.appendChild(n),t.remove(n,!0)},[a,...o]=G(e.getBody().childNodes,qA);$(o,(e=>{n(a,e)}));const s=t.select("div[id=mcepastebin]",a);for(let i=s.length-1;i>=0;i--){const e=t.create("div");a.insertBefore(e,s[i]),n(e,s[i])}return a?a.innerHTML:""})(e),getLastRng:t.get}})(e);(e=>{(Ot.browser.isChromium()||Ot.browser.isSafari())&&((e,t)=>{e.on("PastePreProcess",(n=>{n.content=t(e,n.content,n.internal)}))})(e,wT)})(e),((e,t)=>{e.addCommand("mceTogglePlainTextPaste",(()=>{((e,t)=>{"text"===t.get()?(t.set("html"),ip(e,!1)):(t.set("text"),ip(e,!0)),e.focus()})(e,t)})),e.addCommand("mceInsertClipboardContent",((t,n)=>{n.html&&aT(e,n.html,n.internal,!1),n.text&&oT(e,n.text,!1)}))})(e,n),(e=>{const t=t=>n=>{t(e,n)},n=Xd(e);C(n)&&e.on("PastePreProcess",t(n));const a=Qd(e);C(a)&&e.on("PastePostProcess",t(a))})(e),e.on("PreInit",(()=>{(e=>{e.on("cut",(e=>t=>{!t.isDefaultPrevented()&&hT(e)&&e.selection.isEditable()&&uT(t,pT(e),mT(e),(()=>{if(Ot.browser.isChromium()||Ot.browser.isFirefox()){const t=e.selection.getRng();bh.setEditorTimeout(e,(()=>{e.selection.setRng(t),e.execCommand("Delete")}),0)}else e.execCommand("Delete")}))})(e)),e.on("copy",(e=>t=>{!t.isDefaultPrevented()&&hT(e)&&uT(t,pT(e),mT(e),k)})(e))})(e),((e,t)=>{Gd(e)&&e.on("dragend dragover draggesture dragdrop drop drag",(e=>{e.preventDefault(),e.stopPropagation()})),Yd(e)||e.on("drop",(e=>{const t=e.dataTransfer;t&&(e=>Z(e.files,(e=>/^image\//.test(e.type))))(t)&&e.preventDefault()})),e.on("drop",(n=>{if(n.isDefaultPrevented())return;const a=fT(e,n);if(y(a))return;const o=sT(n.dataTransfer),s=iT(o,VA());if((!rT(o)||(e=>{const t=e["text/plain"];return!!t&&0===t.indexOf("file://")})(o))&&lT(e,n,a))return;const i=o[VA()],r=i||o["text/html"]||o["text/plain"],l=((e,t,n,a)=>{const o=e.getParent(n,(e=>Ls(t,e)));if(!v(e.getParent(n,"summary")))return!0;if(o&&xe(a,"text/html")){const e=(new DOMParser).parseFromString(a["text/html"],"text/html").body;return!v(e.querySelector(o.nodeName.toLowerCase()))}return!1})(e.dom,e.schema,a.startContainer,o),d=t.get();d&&!l||r&&(n.preventDefault(),bh.setEditorTimeout(e,(()=>{e.undoManager.transact((()=>{(i||d&&l)&&e.execCommand("Delete"),gT(e,a);const t=KA(r);o["text/html"]?aT(e,t,s,!0):oT(e,t,!0)}))})))})),e.on("dragstart",(e=>{t.set(!0)})),e.on("dragover dragend",(n=>{Yd(e)&&!t.get()&&(n.preventDefault(),gT(e,fT(e,n))),"dragend"===n.type&&t.set(!1)})),(e=>{e.on("input",(t=>{const n=e=>v(e.querySelector("summary"));if("deleteByDrag"===t.inputType){const t=G(e.dom.select("details"),n);$(t,(t=>{io(t.firstChild)&&t.firstChild.remove();const n=e.dom.create("summary");n.appendChild(Lo().dom),t.prepend(n)}))}}))})(e)})(e,t),cT(e,a,n)}))},_T=io,CT=eo,DT=e=>co(e.dom),xT=e=>t=>kn(yn(e),t),kT=(e,t)=>Jn(yn(e),DT,xT(t)),ET=(e,t,n)=>{const a=new Ha(e,t),o=n?a.next.bind(a):a.prev.bind(a);let s=e;for(let i=n?e:o();i&&!_T(i);i=o())ns(i)&&(s=i);return s},ST=e=>{const t=((e,t,n)=>{const a=$r.fromRangeStart(e).getNode(),o=((e,t,n)=>Jn(yn(e),(e=>(e=>lo(e.dom))(e)||n.isBlock(jt(e))),xT(t)).getOr(yn(t)).dom)(a,t,n),s=ET(a,o,!1),i=ET(a,o,!0),r=document.createRange();return kT(s,o).fold((()=>{CT(s)?r.setStart(s,0):r.setStartBefore(s)}),(e=>r.setStartBefore(e.dom))),kT(i,o).fold((()=>{CT(i)?r.setEnd(i,i.data.length):r.setEndAfter(i)}),(e=>r.setEndAfter(e.dom))),r})(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(xv(t))};var AT;!function(e){e.Before="before",e.After="after"}(AT||(AT={}));const TT=(e,t)=>Math.abs(e.left-t),OT=(e,t)=>Math.abs(e.right-t),LT=(e,t)=>(e=>X(e,((e,t)=>e.fold((()=>N.some(t)),(e=>{const n=Math.min(t.left,e.left),a=Math.min(t.top,e.top),o=Math.max(t.right,e.right),s=Math.max(t.bottom,e.bottom);return N.some({top:a,right:o,bottom:s,left:n,width:o-n,height:s-a})}))),N.none()))(G(e,(e=>{return(n=t)>=(a=e).top&&n<=a.bottom;var n,a}))).fold((()=>[[],e]),(t=>{const{pass:n,fail:a}=K(e,(e=>((e,t)=>{const n=((e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)))(e,t)/Math.min(e.height,t.height);return((e,t)=>e.top<t.bottom&&e.bottom>t.top)(e,t)&&n>.5})(e,t)));return[n,a]})),PT=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),MT=(e,t,n,a)=>{const o=e=>ns(e.node)?N.some(e):Za(e.node)?MT(ue(e.node.childNodes),t,n,!1):N.none(),s=(e,s)=>{const i=re(e,((e,a)=>s(e,t,n)-s(a,t,n)));return me(i,o).map((e=>a&&!eo(e.node)&&i.length>1?((e,a,s)=>o(a).filter((a=>Math.abs(s(e,t,n)-s(a,t,n))<2&&eo(a.node))))(e,i[1],s).getOr(e):e))},[i,r]=LT(ND(e),n),{pass:l,fail:d}=K(r,(e=>e.top<n));return s(i,PT).orThunk((()=>s(d,xr))).orThunk((()=>s(l,xr)))},BT=(e,t,n)=>((e,t,n)=>{const a=yn(e),o=An(a),s=_n(o,t,n).filter((e=>En(a,e))).getOr(a);return((e,t,n,a)=>{const o=(t,s)=>{const i=G(t.dom.childNodes,P((e=>Za(e)&&e.classList.contains("mce-drag-container"))));return s.fold((()=>MT(i,n,a,!0)),(e=>{const t=G(i,(t=>t!==e.dom));return MT(t,n,a,!0)})).orThunk((()=>(kn(t,e)?N.none():Ln(t)).bind((e=>o(e,N.some(t))))))};return o(t,N.none())})(a,s,t,n)})(e,t,n).filter((e=>Fc(e.node))).map((e=>((e,t)=>({node:e.node,position:TT(e,t)<OT(e,t)?AT.Before:AT.After}))(e,t))),IT=e=>{var t,n;const a=e.getBoundingClientRect(),o=e.ownerDocument,s=o.documentElement,i=o.defaultView;return{top:a.top+(null!==(t=null==i?void 0:i.scrollY)&&void 0!==t?t:0)-s.clientTop,left:a.left+(null!==(n=null==i?void 0:i.scrollX)&&void 0!==n?n:0)-s.clientLeft}},RT=e=>({target:e,srcElement:e}),FT=(e,t,n,a)=>{const o=((e,t)=>{const n=(e=>{const t=RA(),n=(e=>{const t=e;return N.from(t[kA])})(e);return TA(e),_A(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,(e=>{const t=e;return N.from(t[bA])})(e).each((e=>t.setDragImage(e.image,e.x,e.y))),$(e.types,(n=>{"Files"!==n&&t.setData(n,e.getData(n))})),$(e.files,(e=>t.items.add(e))),(e=>{const t=e;return N.from(t[wA])})(e).each((e=>{((e,t)=>{yA(t)(e)})(t,e)})),n.each((n=>{SA(e,n),SA(t,n)})),t})(e);return"dragstart"===t?(_A(n),AA(n)):"drop"===t?(CA(n),TA(n)):(DA(n),OA(n)),n})(n,e);return w(a)?((e,t,n)=>{const a=M("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:a,initEvent:a,preventDefault:k,stopImmediatePropagation:k,stopPropagation:k,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:a,initMouseEvent:a,getModifierState:a,dataTransfer:n,...RT(t)}})(e,t,o):((e,t,n,a)=>({...t,dataTransfer:a,type:e,...RT(n)}))(e,a,t,o)},NT=co,VT=((...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1})(NT,lo),UT=(e,t,n,a)=>{const o=e.dom,s=t.cloneNode(!0);o.setStyles(s,{width:n,height:a}),o.setAttrib(s,"data-mce-selected",null);const i=o.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return o.setStyles(i,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:a}),o.setStyles(s,{margin:0,boxSizing:"border-box"}),i.appendChild(s),i},HT=(e,t)=>n=>()=>{const a="left"===e?n.scrollX:n.scrollY;n.scroll({[e]:a+t,behavior:"smooth"})},zT=HT("left",-32),jT=HT("left",32),ZT=HT("top",-32),qT=HT("top",32),$T=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},WT=(e,t,n,a,o)=>{"dragstart"===t&&FA(a,e.dom.getOuterHTML(n));const s=FT(t,n,a,o);return e.dispatch(t,s)},KT=(e,t)=>{const n=Qi(((e,n)=>((e,t,n)=>{e._selectionOverrides.hideFakeCaret(),BT(e.getBody(),t,n).fold((()=>e.selection.placeCaretAt(t,n)),(a=>{const o=e._selectionOverrides.showCaret(1,a.node,a.position===AT.Before,!1);o?e.selection.setRng(o):e.selection.placeCaretAt(t,n)}))})(t,e,n)),0);t.on("remove",n.cancel);const a=e;return o=>e.on((e=>{const s=Math.max(Math.abs(o.screenX-e.screenX),Math.abs(o.screenY-e.screenY));if(!e.dragging&&s>10){const n=WT(t,"dragstart",e.element,e.dataTransfer,o);if(_(n.dataTransfer)&&(e.dataTransfer=n.dataTransfer),n.isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){const s=o.currentTarget===t.getDoc().documentElement,l=((e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}))(e,((e,t)=>{return n=(e=>e.inline?IT(e.getBody()):{left:0,top:0})(e),a=(e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}})(e),o=((e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=IT(e.getContentAreaContainer()),a=(e=>{const t=e.getBody(),n=e.getDoc().documentElement,a={left:t.scrollLeft,top:t.scrollTop},o={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?a:o})(e);return{left:t.pageX-n.left+a.left,top:t.pageY-n.top+a.top}}return{left:t.pageX,top:t.pageY}})(e,t),{pageX:o.left-n.left+a.left,pageY:o.top-n.top+a.top};var n,a,o})(t,o));i=e.ghost,r=t.getBody(),i.parentNode!==r&&r.appendChild(i),((e,t,n,a,o,s,i,r,l,d,c,u)=>{let m=0,p=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>o&&(m=t.pageX+n-o),t.pageY+a>s&&(p=t.pageY+a-s),e.style.width=n-m+"px",e.style.height=a-p+"px";const h=l.clientHeight,f=l.clientWidth,g=i+l.getBoundingClientRect().top,v=r+l.getBoundingClientRect().left;c.on((e=>{e.intervalId.clear(),e.dragging&&u&&(i+8>=h?e.intervalId.set(qT(d)):i-8<=0?e.intervalId.set(ZT(d)):r+8>=f?e.intervalId.set(jT(d)):r-8<=0?e.intervalId.set(zT(d)):g+16>=window.innerHeight?e.intervalId.set(qT(window)):g-16<=0?e.intervalId.set(ZT(window)):v+16>=window.innerWidth?e.intervalId.set(jT(window)):v-16<=0&&e.intervalId.set(zT(window)))}))})(e.ghost,l,e.width,e.height,e.maxX,e.maxY,o.clientY,o.clientX,t.getContentAreaContainer(),t.getWin(),a,s),n.throttle(o.clientX,o.clientY)}var i,r}))},GT=(e,t,n)=>{e.on((e=>{e.intervalId.clear(),e.dragging&&n.fold((()=>WT(t,"dragend",e.element,e.dataTransfer)),(n=>WT(t,"dragend",e.element,e.dataTransfer,n)))})),YT(e)},YT=e=>{e.on((e=>{e.intervalId.clear(),$T(e.ghost)})),e.clear()},XT=e=>{const t=Xi(),n=Hi.DOM,a=document,o=((e,t)=>n=>{if((e=>0===e.button)(n)){const a=J(t.dom.getParents(n.target),VT).getOr(null);if(_(a)&&((e,t,n)=>NT(n)&&n!==t&&e.isEditable(n.parentElement))(t.dom,t.getBody(),a)){const o=t.dom.getPos(a),s=t.getBody(),i=t.getDoc().documentElement;e.set({element:a,dataTransfer:RA(),dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?s.scrollWidth:i.offsetWidth)-2,maxY:(t.inline?s.scrollHeight:i.offsetHeight)-2,relX:n.pageX-o.x,relY:n.pageY-o.y,width:a.offsetWidth,height:a.offsetHeight,ghost:UT(t,a,a.offsetWidth,a.offsetHeight),intervalId:Yi(100)})}}})(t,e),s=KT(t,e),i=((e,t)=>n=>{e.on((e=>{var a;if(e.intervalId.clear(),e.dragging){if(((e,t,n)=>!y(t)&&t!==n&&!e.dom.isChildOf(t,n)&&e.dom.isEditable(t))(t,(e=>{const t=e.getSel();if(_(t)){const e=t.getRangeAt(0).startContainer;return eo(e)?e.parentNode:e}return null})(t.selection),e.element)){const o=null!==(a=t.getDoc().elementFromPoint(n.clientX,n.clientY))&&void 0!==a?a:t.getBody();WT(t,"drop",o,e.dataTransfer,n).isDefaultPrevented()||t.undoManager.transact((()=>{((e,t)=>{const n=e.getParent(t.parentNode,e.isBlock);$T(t),n&&n!==e.getRoot()&&e.isEmpty(n)&&Po(yn(n))})(t.dom,e.element),(e=>{const t=e.getData("text/html");return""===t?N.none():N.some(t)})(e.dataTransfer).each((e=>t.insertContent(e))),t._selectionOverrides.hideFakeCaret()}))}WT(t,"dragend",t.getBody(),e.dataTransfer,n)}})),YT(e)})(t,e),r=((e,t)=>n=>GT(e,t,N.some(n)))(t,e);e.on("mousedown",o),e.on("mousemove",s),e.on("mouseup",i),n.bind(a,"mousemove",s),n.bind(a,"mouseup",r),e.on("remove",(()=>{n.unbind(a,"mousemove",s),n.unbind(a,"mouseup",r)})),e.on("keydown",(n=>{n.keyCode===rp.ESC&&GT(t,e,N.none())}))},QT=co,JT=(e,t)=>dv(e.getBody(),t),eO=e=>{const t=e.selection,n=e.dom,a=e.getBody(),o=Bc(e,a,n.isBlock,(()=>Ah(e))),s="sel-"+n.uniqueId(),i="data-mce-selected";let r;const l=e=>e!==a&&(QT(e)||po(e))&&n.isChildOf(e,a)&&n.isEditable(e.parentNode),d=(n,a,s,i=!0)=>e.dispatch("ShowCaret",{target:a,direction:n,before:s}).isDefaultPrevented()?null:(i&&t.scrollIntoView(a,-1===n),o.show(s,a)),c=e=>Uo(e)||Zo(e)||qo(e),u=e=>c(e.startContainer)||c(e.endContainer),m=t=>{const a=e.schema.getVoidElements(),o=n.createRng(),s=t.startContainer,i=t.startOffset,r=t.endContainer,l=t.endOffset;return xe(a,s.nodeName.toLowerCase())?0===i?o.setStartBefore(s):o.setStartAfter(s):o.setStart(s,i),xe(a,r.nodeName.toLowerCase())?0===l?o.setEndBefore(r):o.setEndAfter(r):o.setEnd(r,l),o},p=(o,c)=>{if(!o)return null;if(o.collapsed){if(!u(o)){const e=c?1:-1,t=ru(e,a,o),s=t.getNode(!c);if(_(s)){if(Fc(s))return d(e,s,!!c&&!t.isAtEnd(),!1);if(Vo(s)&&co(s.nextSibling)){const e=n.createRng();return e.setStart(s,0),e.setEnd(s,0),e}}const i=t.getNode(c);if(_(i)){if(Fc(i))return d(e,i,!c&&!t.isAtEnd(),!1);if(Vo(i)&&co(i.previousSibling)){const e=n.createRng();return e.setStart(i,1),e.setEnd(i,1),e}}}return null}let m=o.startContainer,p=o.startOffset;const h=o.endOffset;if(eo(m)&&0===p&&QT(m.parentNode)&&(m=m.parentNode,p=n.nodeIndex(m),m=m.parentNode),!Za(m))return null;if(h===p+1&&m===o.endContainer){const a=m.childNodes[p];if(l(a))return(a=>{const o=a.cloneNode(!0),l=e.dispatch("ObjectSelected",{target:a,targetClone:o});if(l.isDefaultPrevented())return null;const d=((a,o)=>{const i=yn(e.getBody()),r=e.getDoc(),l=na(i,"#"+s).getOrThunk((()=>{const e=vn('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',r);return Jt(e,"id",s),ba(i,e),e})),d=n.createRng();_a(l),ya(l,[wn(bo,r),yn(o),wn(bo,r)]),d.setStart(l.dom.firstChild,1),d.setEnd(l.dom.lastChild,0),da(l,{top:n.getPos(a,e.getBody()).y+"px"}),ih(l);const c=t.getSel();return c&&(c.removeAllRanges(),c.addRange(d)),d})(a,l.targetClone),c=yn(a);return $(Va(yn(e.getBody()),`*[${i}]`),(e=>{kn(c,e)||on(e,i)})),n.getAttrib(a,i)||a.setAttribute(i,"1"),r=a,f(),d})(a)}return null},h=()=>{r&&r.removeAttribute(i),na(yn(e.getBody()),"#"+s).each(Ca),r=null},f=()=>{o.hide()};return Xy(e)||(e.on("click",(t=>{n.isEditable(t.target)||(t.preventDefault(),e.focus())})),e.on("blur NewBlock",h),e.on("ResizeWindow FullscreenStateChanged",o.reposition),e.on("tap",(t=>{const n=t.target,a=JT(e,n);QT(a)?(t.preventDefault(),SC(e,a).each(p)):l(n)&&SC(e,n).each(p)}),!0),e.on("mousedown",(o=>{const s=o.target;if(s!==a&&"HTML"!==s.nodeName&&!n.isChildOf(s,a))return;if(!((e,t,n)=>{const a=yn(e.getBody()),o=e.inline?a:yn(An(a).dom.documentElement),s=((e,t,n,a)=>{const o=(e=>e.dom.getBoundingClientRect())(t);return{x:n-(e?o.left+t.dom.clientLeft+O_(t):0),y:a-(e?o.top+t.dom.clientTop+T_(t):0)}})(e.inline,o,t,n);return((e,t,n)=>{const a=S_(e),o=A_(e);return t>=0&&n>=0&&t<=a&&n<=o})(o,s.x,s.y)})(e,o.clientX,o.clientY))return;h(),f();const i=JT(e,s);QT(i)?(o.preventDefault(),SC(e,i).each(p)):BT(a,o.clientX,o.clientY).each((n=>{var a;o.preventDefault(),(a=d(1,n.node,n.position===AT.Before,!1))&&t.setRng(a),qa(i)?i.focus():e.getBody().focus()}))})),e.on("keypress",(e=>{rp.modifierPressed(e)||QT(t.getNode())&&e.preventDefault()})),e.on("GetSelectionRange",(e=>{let t=e.range;if(r){if(!r.parentNode)return void(r=null);t=t.cloneRange(),t.selectNode(r),e.range=t}})),e.on("SetSelectionRange",(e=>{e.range=m(e.range);const t=p(e.range,e.forward);t&&(e.range=t)})),e.on("AfterSetSelectionRange",(e=>{const t=e.range,a=t.startContainer.parentElement;var o;u(t)||Za(o=a)&&"mcepastebin"===o.id||f(),(e=>_(e)&&n.hasClass(e,"mce-offscreen-selection"))(a)||h()})),(e=>{XT(e),Nd(e)&&(e=>{const t=t=>{if(!t.isDefaultPrevented()){const n=t.dataTransfer;n&&(j(n.types,"Files")||n.files.length>0)&&(t.preventDefault(),"drop"===t.type&&R_(e,"Dropped file type is not supported"))}},n=n=>{Ch(e,n.target)&&t(n)},a=()=>{const a=Hi.DOM,o=e.dom,s=document,i=e.inline?e.getBody():e.getDoc(),r=["drop","dragover"];$(r,(e=>{a.bind(s,e,n),o.bind(i,e,t)})),e.on("remove",(()=>{$(r,(e=>{a.unbind(s,e,n),o.unbind(i,e,t)}))}))};e.on("init",(()=>{bh.setEditorTimeout(e,a,0)}))})(e)})(e),(e=>{const t=Qi((()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const t=e.selection.getRng();if(t.collapsed){const n=AC(e,t,!1);e.selection.setRng(n)}}}),0);e.on("focus",(()=>{t.throttle()})),e.on("blur",(()=>{t.cancel()}))})(e),(e=>{e.on("init",(()=>{e.on("focusin",(t=>{const n=t.target;if(po(n)){const t=dv(e.getBody(),n),a=co(t)?t:n;e.selection.getNode()!==a&&SC(e,a).each((t=>e.selection.setRng(t)))}}))}))})(e)),{showCaret:d,showBlockCaretContainer:e=>{e.hasAttribute("data-mce-caret")&&($o(e),t.scrollIntoView(e))},hideFakeCaret:f,destroy:()=>{o.destroy(),r=null}}},tO=(e,t)=>{let n=t;for(let a=e.previousSibling;eo(a);a=a.previousSibling)n+=a.data.length;return n},nO=(e,t,n,a,o)=>{if(eo(n)&&(a<0||a>n.data.length))return[];const s=o&&eo(n)?[tO(n,a)]:[a];let i=n;for(;i!==t&&i.parentNode;)s.push(e.nodeIndex(i,o)),i=i.parentNode;return i===t?s.reverse():[]},aO=(e,t,n,a,o,s,i=!1)=>({start:nO(e,t,n,a,i),end:nO(e,t,o,s,i)}),oO=(e,t)=>{const n=t.slice(),a=n.pop();return D(a)?X(n,((e,t)=>e.bind((e=>N.from(e.childNodes[t])))),N.some(e)).bind((e=>eo(e)&&(a<0||a>e.data.length)?N.none():N.some({node:e,offset:a}))):N.none()},sO=(e,t)=>oO(e,t.start).bind((({node:n,offset:a})=>oO(e,t.end).map((({node:e,offset:t})=>{const o=document.createRange();return o.setStart(n,a),o.setEnd(e,t),o})))),iO=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const a=t.parentNode;e.remove(t,eo(t.firstChild)&&is(t.firstChild.data)),iO(e,a,n)}},rO=(e,t,n,a=!0)=>{const o=t.startContainer.parentNode,s=t.endContainer.parentNode;t.deleteContents(),a&&!n(t.startContainer)&&(eo(t.startContainer)&&0===t.startContainer.data.length&&e.remove(t.startContainer),eo(t.endContainer)&&0===t.endContainer.data.length&&e.remove(t.endContainer),iO(e,o,n),o!==s&&iO(e,s,n))},lO=(e,t)=>N.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),dO=(e,t,n)=>{const a=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:_l(a).concat(e.blockPatterns),inlinePatterns:Cl(a).concat(e.inlinePatterns)}},cO=(e,t,n,a)=>{const o=e.createRng();return o.setStart(t,0),o.setEnd(n,a),o.toString()},uO=(e,t,n)=>{((e,t,n)=>{if(eo(e)&&0>=e.length)return N.some(Ok(e,0));{const t=vr(Lk);return N.from(t.forwards(e,0,Pk(e),n)).map((e=>Ok(e.container,0)))}})(t,0,t).each((a=>{const o=a.container;Ik(o,n.start.length,t).each((n=>{const a=e.createRng();a.setStart(o,0),a.setEnd(n.container,n.offset),rO(e,a,(e=>e===t))}));const s=yn(o),i=_o(s);/^\s[^\s]/.test(i)&&((e,t)=>{yo.set(e,t)})(s,i.slice(1))}))},mO=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),pO=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},hO=(e,t,n)=>{const a=sO(e.getRoot(),n).getOrDie("Unable to resolve path range"),o=a.startContainer,s=a.endContainer,i=0===a.endOffset?s:s.splitText(a.endOffset),r=0===a.startOffset?o:o.splitText(a.startOffset),l=r.parentNode;return{prefix:t,end:i.parentNode.insertBefore(mO(e,t+"-end"),i),start:l.insertBefore(mO(e,t+"-start"),r)}},fO=(e,t,n)=>{iO(e,e.get(t.prefix+"-end"),n),iO(e,e.get(t.prefix+"-start"),n)},gO=e=>0===e.start.length,vO=(e,t,n,a)=>{const o=t.start;var s;return Rk(e,a.container,a.offset,(s=o,(e,t)=>{const n=e.data.substring(0,t),a=n.lastIndexOf(s.charAt(s.length-1)),o=n.lastIndexOf(s);return-1!==o?o+s.length:-1!==a?a+1:-1}),n).bind((a=>{var s,i;const r=null!==(i=null===(s=n.textContent)||void 0===s?void 0:s.indexOf(o))&&void 0!==i?i:-1;if(-1!==r&&a.offset>=r+o.length){const t=e.createRng();return t.setStart(a.container,a.offset-o.length),t.setEnd(a.container,a.offset),N.some(t)}{const s=a.offset-o.length;return Bk(a.container,s,n).map((t=>{const n=e.createRng();return n.setStart(t.container,t.offset),n.setEnd(a.container,a.offset),n})).filter((e=>e.toString()===o)).orThunk((()=>vO(e,t,n,Ok(a.container,0))))}}))},bO=(e,t,n,a)=>{const o=e.dom,s=o.getRoot(),i=n.pattern,r=n.position.container,l=n.position.offset;return Bk(r,l-n.pattern.end.length,t).bind((d=>{const c=aO(o,s,d.container,d.offset,r,l,a);if(gO(i))return N.some({matches:[{pattern:i,startRng:c,endRng:c}],position:d});{const r=wO(e,n.remainingPatterns,d.container,d.offset,t,a),l=r.getOr({matches:[],position:d}),u=l.position,m=((e,t,n,a,o,s=!1)=>{if(0===t.start.length&&!s){const t=e.createRng();return t.setStart(n,a),t.setEnd(n,a),N.some(t)}return Mk(n,a,o).bind((n=>vO(e,t,o,n).bind((e=>{var t;if(s){if(e.endContainer===n.container&&e.endOffset===n.offset)return N.none();if(0===n.offset&&(null===(t=e.endContainer.textContent)||void 0===t?void 0:t.length)===e.endOffset)return N.none()}return N.some(e)}))))})(o,i,u.container,u.offset,t,r.isNone());return m.map((e=>{const t=((e,t,n,a=!1)=>aO(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,a))(o,s,e,a);return{matches:l.matches.concat([{pattern:i,startRng:t,endRng:c}]),position:Ok(e.startContainer,e.startOffset)}}))}}))},wO=(e,t,n,a,o,s)=>{const i=e.dom;return Mk(n,a,i.getRoot()).bind((r=>{const l=cO(i,o,n,a);for(let i=0;i<t.length;i++){const d=t[i];if(!Ze(l,d.end))continue;const c=t.slice();c.splice(i,1);const u=bO(e,o,{pattern:d,remainingPatterns:c,position:r},s);if(u.isNone()&&a>0)return wO(e,t,n,a-1,o,s);if(u.isSome())return u}return N.none()}))},yO=(e,t,n)=>{e.selection.setRng(n),"inline-format"===t.type?$(t.format,(t=>{e.formatter.apply(t)})):e.execCommand(t.cmd,!1,t.value)},_O=(e,t,n,a,o,s)=>{var i;return((e,t)=>{const n=ae(e,(e=>Z(t,(t=>e.pattern.start===t.pattern.start&&e.pattern.end===t.pattern.end))));return e.length===t.length?n?e:t:e.length>t.length?e:t})(wO(e,o.inlinePatterns,n,a,t,s).fold((()=>[]),(e=>e.matches)),wO(e,(i=o.inlinePatterns,re(i,((e,t)=>t.end.length-e.end.length))),n,a,t,s).fold((()=>[]),(e=>e.matches)))},CO=(e,t)=>{if(0===t.length)return;const n=e.dom,a=e.selection.getBookmark(),o=((e,t)=>{const n=mr("mce_textpattern"),a=Y(t,((t,a)=>{const o=hO(e,n+`_end${t.length}`,a.endRng);return t.concat([{...a,endMarker:o}])}),[]);return Y(a,((t,o)=>{const s=a.length-t.length-1,i=gO(o.pattern)?o.endMarker:hO(e,n+`_start${s}`,o.startRng);return t.concat([{...o,startMarker:i}])}),[])})(n,t);$(o,(t=>{const a=n.getParent(t.startMarker.start,n.isBlock),o=e=>e===a;gO(t.pattern)?((e,t,n,a)=>{const o=pO(e.dom,n);rO(e.dom,o,a),yO(e,t,o)})(e,t.pattern,t.endMarker,o):((e,t,n,a,o)=>{const s=e.dom,i=pO(s,a),r=pO(s,n);rO(s,r,o),rO(s,i,o);const l={prefix:n.prefix,start:n.end,end:a.start},d=pO(s,l);yO(e,t,d)})(e,t.pattern,t.startMarker,t.endMarker,o),fO(n,t.endMarker,o),fO(n,t.startMarker,o)})),e.selection.moveToBookmark(a)},DO=(e,t)=>{const n=e.selection.getRng();return lO(e,n).map((a=>{var o;const s=Math.max(0,n.startOffset),i=dO(t,a,null!==(o=a.textContent)&&void 0!==o?o:""),r=_O(e,a,n.startContainer,s,i,!0),l=((e,t,n,a)=>{var o;const s=e.dom,i=Nl(e);if(!s.is(t,i))return[];const r=null!==(o=t.textContent)&&void 0!==o?o:"";return((e,t)=>{const n=(e=>re(e,((e,t)=>t.start.length-e.start.length)))(e),a=t.replace(bo," ");return J(n,(e=>0===t.indexOf(e.start)||0===a.indexOf(e.start)))})(n.blockPatterns,r).map((e=>Bt.trim(r).length===e.start.length?[]:[{pattern:e,range:aO(s,s.getRoot(),t,0,t,0,!0)}])).getOr([])})(e,a,i);return(l.length>0||r.length>0)&&(e.undoManager.add(),e.undoManager.extra((()=>{e.execCommand("mceInsertNewLine")}),(()=>{(e=>{e.insertContent(Mo,{preserve_zwsp:!0})})(e),CO(e,r),((e,t)=>{if(0===t.length)return;const n=e.selection.getBookmark();$(t,(t=>((e,t)=>{const n=e.dom,a=t.pattern,o=sO(n.getRoot(),t.range).getOrDie("Unable to resolve path range");return lO(e,o).each((t=>{"block-format"===a.type?((e,t)=>{const n=t.get(e);return g(n)&&de(n).exists((e=>xe(e,"block")))})(a.format,e.formatter)&&e.undoManager.transact((()=>{uO(e.dom,t,a),e.formatter.apply(a.format)})):"block-command"===a.type&&e.undoManager.transact((()=>{uO(e.dom,t,a),e.execCommand(a.cmd,!1,a.value)}))})),!0})(e,t))),e.selection.moveToBookmark(n)})(e,l);const t=e.selection.getRng(),n=Mk(t.startContainer,t.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),n.each((t=>{const n=t.container;n.data.charAt(t.offset-1)===vo&&(n.deleteData(t.offset-1,1),iO(e.dom,n.parentNode,(t=>t===e.dom.getRoot())))}))})),!0)})).getOr(!1)},xO=(e,t,n)=>{for(let a=0;a<e.length;a++)if(n(e[a],t))return!0;return!1},kO=e=>{const t=Bt.each,n=rp.BACKSPACE,a=rp.DELETE,o=e.dom,s=e.selection,i=e.parser,r=Ot.browser,l=r.isFirefox(),d=r.isChromium()||r.isSafari(),c=Ot.deviceType.isiPhone()||Ot.deviceType.isiPad(),u=Ot.os.isMacOS()||Ot.os.isiOS(),m=(t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch(e){}},h=e=>e.isDefaultPrevented(),f=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},g=()=>{e.inline||o.bind(e.getDoc(),"mousedown mouseup",(t=>{let n;if(t.target===e.getDoc().documentElement)if(n=s.getRng(),e.getBody().focus(),"mousedown"===t.type){if(Uo(n.startContainer))return;s.placeCaretAt(t.clientX,t.clientY)}else s.setRng(n)}))},v=()=>{Range.prototype.getClientRects||e.on("mousedown",(t=>{if(!h(t)&&"HTML"===t.target.nodeName){const t=e.getBody();t.blur(),bh.setEditorTimeout(e,(()=>{t.focus()}))}}))},b=()=>{const t=Hd(e);e.on("click",(n=>{const a=n.target;/^(IMG|HR)$/.test(a.nodeName)&&o.isEditable(a)&&(n.preventDefault(),e.selection.select(a),e.nodeChanged()),"A"===a.nodeName&&o.hasClass(a,t)&&0===a.childNodes.length&&o.isEditable(a.parentNode)&&(n.preventDefault(),s.select(a))}))},w=()=>{e.on("keydown",(e=>{if(!h(e)&&e.keyCode===n&&s.isCollapsed()&&0===s.getRng().startOffset){const t=s.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}return!0}))},y=()=>{Md(e)||e.on("BeforeExecCommand mousedown",(()=>{m("StyleWithCSS",!1),m("enableInlineTableEditing",!1),ud(e)||m("enableObjectResizing",!1)}))},_=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},C=()=>{e.inline||e.on("keydown",(()=>{document.activeElement===document.body&&e.getWin().focus()}))},D=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",(t=>{let n;"HTML"===t.target.nodeName&&(n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged())})))},x=()=>{u&&e.on("keydown",(t=>{!rp.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))}))},E=()=>{e.on("click",(e=>{let t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)})),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},S=()=>{e.on("init",(()=>{e.dom.bind(e.getBody(),"submit",(e=>{e.preventDefault()}))}))},A=k;return Xy(e)?(d&&(g(),b(),S(),f(),c&&(C(),D(),E())),l&&(v(),y(),_(),x())):(e.on("keydown",(t=>{if(h(t)||t.keyCode!==rp.BACKSPACE)return;let n=s.getRng();const a=n.startContainer,i=n.startOffset,r=o.getRoot();let l=a;if(n.collapsed&&0===i){for(;l.parentNode&&l.parentNode.firstChild===l&&l.parentNode!==r;)l=l.parentNode;"BLOCKQUOTE"===l.nodeName&&(e.formatter.toggle("blockquote",void 0,l),n=o.createRng(),n.setStart(a,0),n.setEnd(a,0),s.setRng(n))}})),(()=>{const t=e=>{const t=o.create("body"),n=e.cloneContents();return t.appendChild(n),s.serializer.serialize(t,{format:"html"})};e.on("keydown",(s=>{const i=s.keyCode;if(!h(s)&&(i===a||i===n)&&e.selection.isEditable()){const n=e.selection.isCollapsed(),a=e.getBody();if(n&&!fs(yn(a)))return;if(!n&&!(n=>{const a=t(n),s=o.createRng();return s.selectNode(e.getBody()),a===t(s)})(e.selection.getRng()))return;s.preventDefault(),e.setContent(""),a.firstChild&&o.isBlock(a.firstChild)?e.selection.setCursorLocation(a.firstChild,0):e.selection.setCursorLocation(a,0),e.nodeChanged()}}))})(),Ot.windowsPhone||e.on("keyup focusin mouseup",(t=>{rp.modifierPressed(t)||(e=>{const t=e.getBody(),n=e.selection.getRng();return n.startContainer===n.endContainer&&n.startContainer===t&&0===n.startOffset&&n.endOffset===t.childNodes.length})(e)||s.normalize()}),!0),d&&(g(),b(),e.on("init",(()=>{m("DefaultParagraphSeparator",Nl(e))})),S(),w(),i.addNodeFilter("br",(e=>{let t=e.length;for(;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()})),c?(C(),D(),E()):f()),l&&(e.on("keydown",(t=>{if(!h(t)&&t.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(s.isCollapsed()&&0===s.getRng().startOffset){const e=s.getNode(),n=e.previousSibling;if("HR"===e.nodeName)return o.remove(e),void t.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(o.remove(n),t.preventDefault())}}})),v(),(()=>{const n=()=>{const n=o.getAttribs(s.getStart().cloneNode(!1));return()=>{const a=s.getStart();a!==e.getBody()&&(o.setAttrib(a,"style",null),t(n,(e=>{a.setAttributeNode(e.cloneNode(!0))})))}},a=()=>!s.isCollapsed()&&o.getParent(s.getStart(),o.isBlock)!==o.getParent(s.getEnd(),o.isBlock);e.on("keypress",(t=>{let o;return!(!(h(t)||8!==t.keyCode&&46!==t.keyCode)&&a()&&(o=n(),e.getDoc().execCommand("delete",!1),o(),t.preventDefault(),1))})),o.bind(e.getDoc(),"cut",(t=>{if(!h(t)&&a()){const t=n();bh.setEditorTimeout(e,(()=>{t()}))}}))})(),y(),e.on("SetContent ExecCommand",(e=>{"setcontent"!==e.type&&"mceInsertLink"!==e.command||t(o.select("a:not([data-mce-block])"),(e=>{var t;let n=e.parentNode;const a=o.getRoot();if((null==n?void 0:n.lastChild)===e){for(;n&&!o.isBlock(n);){if((null===(t=n.parentNode)||void 0===t?void 0:t.lastChild)!==n||n===a)return;n=n.parentNode}o.add(n,"br",{"data-mce-bogus":1})}}))})),_(),x(),w(),e.on("drop",(t=>{var n;const a=null===(n=t.dataTransfer)||void 0===n?void 0:n.getData("text/html");p(a)&&/^<img[^>]*>$/.test(a)&&e.dispatch("dragend",new window.DragEvent("dragend",t))})))),{refreshContentEditable:A,isHidden:()=>{if(!l||e.removed)return!1;const t=e.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount}}},EO=Hi.DOM,SO=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,AO=e=>ye(e,(e=>!1===w(e))),TO=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return AO({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:SO(e),sandbox_iframes:t("sandbox_iframes"),sanitize:t("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},OO=e=>{const t=e.options.get;return AO({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},LO=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,PO=e=>{const t=LO(e),n=ld(e),a=e.contentCSS,o=()=>{t.unloadAll(a),e.inline||e.ui.styleSheetLoader.unloadAll(n)},s=()=>{e.removed?o():e.on("remove",o)};if(e.contentStyles.length>0){let t="";Bt.each(e.contentStyles,(e=>{t+=e+"\r\n"})),e.dom.addStyle(t)}const i=Promise.all(((e,t,n)=>{const{pass:a,fail:o}=K(t,(e=>tinymce.Resource.has(U_(e)))),s=a.map((t=>{const n=tinymce.Resource.get(U_(t));return p(n)?Promise.resolve(LO(e).loadRawCss(t,n)):Promise.resolve()})),i=[...s,LO(e).loadAll(o)];return e.inline?i:i.concat([e.ui.styleSheetLoader.loadAll(n)])})(e,a,n)).then(s).catch(s),r=rd(e);return r&&((e,t)=>{const n=yn(e.getBody()),a=$n(qn(n)),o=bn("style");Jt(o,"type","text/css"),ba(o,wn(t)),ba(a,o),e.on("remove",(()=>{Ca(o)}))})(e,r),i},MO=e=>{!0!==e.removed&&((e=>{Xy(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})})(e),(e=>{e.bindPendingEventDelegates(),e.initialized=!0,(e=>{e.dispatch("Init")})(e),e.focus(!0),(e=>{const t=e.dom.getRoot();e.inline||rm(e)&&e.selection.getStart(!0)!==t||Pu(t).each((t=>{const n=t.getNode(),a=Xa(n)?Pu(n).getOr(t):t;e.selection.setRng(a.toRange())}))})(e),e.nodeChanged({initial:!0});const t=Zd(e);C(t)&&t.call(e,e),(e=>{const t=$d(e);t&&bh.setEditorTimeout(e,(()=>{let n;n=!0===t?e:e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())}),100)})(e)})(e))},BO=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(EO.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const a=e.getBody();a.disabled=!0,e.readonly=Md(e),e._editableRoot=Bd(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&"static"===EO.getStyle(a,"position",!0)&&(a.style.position="relative"),a.contentEditable="true"),a.disabled=!1,e.editorUpload=K_(e),e.schema=mi(OO(e)),e.dom=Hi(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:ed(e),referrerPolicy:td(e),onSetAttrib:t=>{e.dispatch("SetAttrib",t)},force_hex_color:yc(e)}),e.parser=(e=>{const t=by(TO(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",((t,n)=>{const a=e.dom,o="data-mce-"+n;let s=t.length;for(;s--;){const i=t[s];let r=i.attr(n);if(r&&!i.attr(o)){if(0===r.indexOf("data:")||0===r.indexOf("blob:"))continue;"style"===n?(r=a.serializeStyle(a.parseStyle(r),i.name),r.length||(r=null),i.attr(o,r),i.attr(n,r)):"tabindex"===n?(i.attr(o,r),i.attr(n,null)):i.attr(o,e.convertURL(r,n,i.name))}}})),t.addNodeFilter("script",(e=>{let t=e.length;for(;t--;){const n=e[t],a=n.attr("type")||"no/type";0!==a.indexOf("mce-")&&n.attr("type","mce-"+a)}})),mc(e)&&t.addNodeFilter("#cdata",(t=>{var n;let a=t.length;for(;a--;){const o=t[a];o.type=8,o.name="#comment",o.value="[CDATA["+e.dom.encode(null!==(n=o.value)&&void 0!==n?n:"")+"]]"}})),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(t=>{let n=t.length;const a=e.schema.getNonEmptyElements();for(;n--;){const e=t[n];e.isEmpty(a)&&0===e.getAll("br").length&&e.append(new $h("br",1))}})),t})(e),e.serializer=l_((e=>{const t=e.options.get;return{...TO(e),...OO(e),...AO({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}})(e),e),e.selection=s_(e.dom,e.getWin(),e.serializer,e),e.annotator=Qm(e),e.formatter=sC(e),e.undoManager=rC(e),e._nodeChangeDispatcher=new vA(e),e._selectionOverrides=eO(e),(e=>{const t=Xi(),n=Zi(!1),a=Ji((t=>{e.dispatch("longpress",{...t,type:"longpress"}),n.set(!0)}),400);e.on("touchstart",(e=>{Bx(e).each((o=>{a.cancel();const s={x:o.clientX,y:o.clientY,target:e.target};a.throttle(e),n.set(!1),t.set(s)}))}),!0),e.on("touchmove",(o=>{a.cancel(),Bx(o).each((a=>{t.on((o=>{((e,t)=>{const n=Math.abs(e.clientX-t.x),a=Math.abs(e.clientY-t.y);return n>5||a>5})(a,o)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))}))}))}),!0),e.on("touchend touchcancel",(o=>{a.cancel(),"touchcancel"!==o.type&&t.get().filter((e=>e.target.isEqualNode(o.target))).each((()=>{n.get()?o.preventDefault():e.dispatch("tap",{...o,type:"tap"})}))}),!0)})(e),(e=>{(e=>{e.on("click",(t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()}))})(e),(e=>{e.parser.addNodeFilter("details",(t=>{const n=bc(e);$(t,(e=>{"expanded"===n?e.attr("open","open"):"collapsed"===n&&e.attr("open",null)}))})),e.serializer.addNodeFilter("details",(t=>{const n=wc(e);$(t,(e=>{"expanded"===n?e.attr("open","open"):"collapsed"===n&&e.attr("open",null)}))}))})(e)})(e),(e=>{const t="contenteditable",n=" "+Bt.trim(cc(e))+" ",a=" "+Bt.trim(dc(e))+" ",o=Hx(n),s=Hx(a),i=uc(e);i.length>0&&e.on("BeforeSetContent",(t=>{((e,t,n)=>{let a=t.length,o=n.content;if("raw"!==n.format){for(;a--;)o=o.replace(t[a],zx(e,o,dc(e)));n.content=o}})(e,i,t)})),e.parser.addAttributeFilter("class",(e=>{let n=e.length;for(;n--;){const a=e[n];o(a)?a.attr(t,"true"):s(a)&&a.attr(t,"false")}})),e.serializer.addAttributeFilter(t,(e=>{let n=e.length;for(;n--;){const a=e[n];(o(a)||s(a))&&(i.length>0&&a.attr("data-mce-content")?(a.name="#text",a.type=3,a.raw=!0,a.value=a.attr("data-mce-content")):a.attr(t,null))}}))})(e),Xy(e)||((e=>{e.on("mousedown",(t=>{t.detail>=3&&(t.preventDefault(),ST(e))}))})(e),(e=>{(e=>{const t=[",",".",";",":","!","?"],n=[32],a=()=>{return t=rc(e),n=lc(e),{inlinePatterns:Cl(t),blockPatterns:_l(t),dynamicPatternsLookup:n};var t,n},o=()=>(e=>e.options.isSet("text_patterns_lookup"))(e);e.on("keydown",(t=>{if(13===t.keyCode&&!rp.modifierPressed(t)&&e.selection.isCollapsed()){const n=a();(n.inlinePatterns.length>0||n.blockPatterns.length>0||o())&&DO(e,n)&&t.preventDefault()}}),!0);const s=()=>{if(e.selection.isCollapsed()){const t=a();(t.inlinePatterns.length>0||o())&&((e,t)=>{const n=e.selection.getRng();lO(e,n).map((a=>{const o=Math.max(0,n.startOffset-1),s=cO(e.dom,a,n.startContainer,o),i=dO(t,a,s),r=_O(e,a,n.startContainer,o,i,!1);r.length>0&&e.undoManager.transact((()=>{CO(e,r)}))}))})(e,t)}};e.on("keyup",(e=>{xO(n,e,((e,t)=>e===t.keyCode&&!rp.modifierPressed(t)))&&s()})),e.on("keypress",(n=>{xO(t,n,((e,t)=>e.charCodeAt(0)===t.charCode))&&bh.setEditorTimeout(e,s)}))})(e)})(e));const o=gA(e);Mx(e,o),(e=>{e.on("NodeChange",L(Vx,e))})(e),(e=>{var t;const n=e.dom,a=Nl(e),o=null!==(t=pd(e))&&void 0!==t?t:"",s=(t,i)=>{if((e=>{if(cC(e)){const t=e.keyCode;return!uC(e)&&(rp.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||j(lC,t))}return!1})(t))return;const r=e.getBody(),l=!(e=>cC(e)&&!(uC(e)||"keyup"===e.type&&229===e.keyCode))(t)&&((e,t,n)=>{if(fs(yn(t),!1)){const a=t.firstElementChild;return!a||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&n===a.nodeName.toLowerCase()}return!1})(n,r,a);(""!==n.getAttrib(r,dC)!==l||i)&&(n.setAttrib(r,dC,l?o:null),n.setAttrib(r,"aria-placeholder",l?o:null),((e,t)=>{e.dispatch("PlaceholderToggle",{state:t})})(e,l),e.on(l?"keydown":"keyup",s),e.off(l?"keyup":"keydown",s))};Ge(o)&&e.on("init",(t=>{s(t,!0),e.on("change SetContent ExecCommand",s),e.on("paste",(t=>bh.setEditorTimeout(e,(()=>s(t)))))}))})(e),yT(e);const s=(e=>{const t=e;return(e=>De(e.plugins,"rtc").bind((e=>N.from(e.setup))))(e).fold((()=>(t.rtcInstance=Yy(e),N.none())),(e=>(t.rtcInstance=(()=>{const e=A(null),t=A("");return{init:{bindEvents:k},undoManager:{beforeChange:k,add:e,undo:e,redo:e,clear:k,reset:k,hasUndo:R,hasRedo:R,transact:e,ignore:k,extra:k},formatter:{match:R,matchAll:A([]),matchNode:A(void 0),canApply:R,closest:t,apply:k,remove:k,toggle:k,formatChanged:A({unbind:k})},editor:{getContent:t,setContent:A({content:"",html:""}),insertContent:A(""),addVisual:k},selection:{getContent:t},autocompleter:{addDecoration:k,removeDecoration:k},raw:{getModel:A(N.none())}}})(),N.some((()=>e().then((e=>(t.rtcInstance=(e=>{const t=e=>h(e)?e:{},{init:n,undoManager:a,formatter:o,editor:s,selection:i,autocompleter:r,raw:l}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:a.beforeChange,add:a.add,undo:a.undo,redo:a.redo,clear:a.clear,reset:a.reset,hasUndo:a.hasUndo,hasRedo:a.hasRedo,transact:(e,t,n)=>a.transact(n),ignore:(e,t)=>a.ignore(t),extra:(e,t,n,o)=>a.extra(n,o)},formatter:{match:(e,n,a,s)=>o.match(e,t(n),s),matchAll:o.matchAll,matchNode:o.matchNode,canApply:e=>o.canApply(e),closest:e=>o.closest(e),apply:(e,n,a)=>o.apply(e,t(n)),remove:(e,n,a,s)=>o.remove(e,t(n)),toggle:(e,n,a)=>o.toggle(e,t(n)),formatChanged:(e,t,n,a,s)=>o.formatChanged(t,n,a,s)},editor:{getContent:e=>s.getContent(e),setContent:(e,t)=>({content:s.setContent(e,t),html:""}),insertContent:(e,t)=>(s.insertContent(e),""),addVisual:s.addVisual},selection:{getContent:(e,t)=>i.getContent(t)},autocompleter:{addDecoration:r.addDecoration,removeDecoration:r.removeDecoration},raw:{getModel:()=>N.some(l.getRawModel())}}})(e),e.rtc.isRemote))))))))})(e);(e=>{const t=e.getDoc(),n=e.getBody();(e=>{e.dispatch("PreInit")})(e),Wd(e)||(t.body.spellcheck=!1,EO.setAttrib(n,"spellcheck","false")),e.quirks=kO(e),(e=>{e.dispatch("PostRender")})(e);const a=dd(e);void 0!==a&&(n.dir=a);const o=Kd(e);o&&e.on("BeforeSetContent",(e=>{Bt.each(o,(t=>{e.content=e.content.replace(t,(e=>"\x3c!--mce:protected "+escape(e)+"--\x3e"))}))})),e.on("SetContent",(()=>{e.addVisual(e.getBody())})),e.on("compositionstart compositionend",(t=>{e.composing="compositionstart"===t.type}))})(e),s.fold((()=>{const t=(e=>{let t=!1;const n=setTimeout((()=>{t||e.setProgressState(!0)}),500);return()=>{clearTimeout(n),t=!0,e.setProgressState(!1)}})(e);PO(e).then((()=>{MO(e),t()}))}),(t=>{e.setProgressState(!0),PO(e).then((()=>{t().then((t=>{e.setProgressState(!1),MO(e),e_(e)}),(t=>{e.notificationManager.open({type:"error",text:String(t)}),MO(e),e_(e)}))}))}))},IO=F,RO=Hi.DOM,FO=Hi.DOM,NO=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),VO=e=>{const t=e.getElement();return e.inline?NO(null):(e=>{const t=FO.create("div");return FO.insertAfter(t,e),NO(t,t)})(t)},UO=async e=>{e.dispatch("ScriptsLoaded"),(e=>{const t=Bt.trim(Kl(e)),n=e.ui.registry.getAll().icons,a={...D_.get("default").icons,...D_.get(t).icons};fe(a,((t,a)=>{xe(n,a)||e.ui.registry.addIcon(a,t)}))})(e),(e=>{const t=gd(e);if(p(t)){const n=M_.get(t);e.theme=n(e,M_.urls[t])||{},C(e.theme.init)&&e.theme.init(e,M_.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}})(e),(e=>{const t=bd(e),n=x_.get(t);e.model=n(e,x_.urls[t])})(e),(e=>{const t=[];$(Rd(e),(n=>{((e,t,n)=>{const a=P_.get(n),o=P_.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=Bt.trim(n),a&&-1===Bt.inArray(t,n)){if(e.plugins[n])return;try{const s=a(e,o)||{};e.plugins[n]=s,C(s.init)&&(s.init(e,o),t.push(n))}catch(t){((e,t,n)=>{const a=Ki.translate(["Failed to initialize plugin: {0}",t]);tp(e,"PluginLoadError",{message:a}),V_(a,n),R_(e,a)})(e,n,t)}}})(e,t,(e=>e.replace(/^\-/,""))(n))}))})(e);const t=await(e=>{const t=e.getElement();return e.orgDisplay=t.style.display,p(gd(e))?(e=>{const t=e.theme.renderUI;return t?t():VO(e)})(e):C(gd(e))?(e=>{const t=e.getElement(),n=gd(e)(e,t);return n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||e.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||e.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:t.offsetHeight,n})(e):VO(e)})(e);((e,t)=>{const n={show:N.from(t.show).getOr(k),hide:N.from(t.hide).getOr(k),isEnabled:N.from(t.isEnabled).getOr(F),setEnabled:n=>{e.mode.isReadOnly()||N.from(t.setEnabled).each((e=>e(n)))}};e.ui={...e.ui,...n}})(e,N.from(t.api).getOr({})),e.editorContainer=t.editorContainer,(e=>{e.contentCSS=e.contentCSS.concat((e=>H_(e,id(e)))(e),(e=>H_(e,ld(e)))(e))})(e),e.inline?BO(e):((e,t)=>{((e,t)=>{const n=e.translate("Rich Text Area"),a=nn(yn(e.getElement()),"tabindex").bind(Xe),o=((e,t,n,a)=>{const o=bn("iframe");return a.each((e=>Jt(o,"tabindex",e))),en(o,n),en(o,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),mn(o,"tox-edit-area__iframe"),o})(e.id,n,Ll(e),a).dom;o.onload=()=>{o.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=o,e.iframeHTML=(e=>{let t=Pl(e)+"<html><head>";Ml(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=Bl(e),a=Il(e),o=e.translate(zd(e));return Rl(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+Rl(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${a}" data-id="${e.id}" aria-label="${o}"><br></body></html>`,t})(e),RO.add(t.iframeContainer,o)})(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=RO.isHidden(t.editorContainer)),e.getElement().style.display="none",RO.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,(e=>{const t=e.iframeElement,n=()=>{e.contentDocument=t.contentDocument,BO(e)};if(fc(e)||Ot.browser.isFirefox()){const t=e.getDoc();t.open(),t.write(e.iframeHTML),t.close(),n()}else{const o=(a=yn(t),Sa(a,"load",IO,(()=>{o.unbind(),n()})));t.srcdoc=e.iframeHTML}var a})(e)})(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},HO=Hi.DOM,zO=e=>"-"===e.charAt(0),jO=(e,t,n)=>N.from(t).filter((e=>Ge(e)&&!D_.has(e))).map((t=>({url:`${e.editorManager.baseURL}/icons/${t}/icons${n}.js`,name:N.some(t)}))),ZO=(e,t)=>{const n=ji.ScriptLoader,a=()=>{!e.removed&&(e=>{const t=gd(e);return!p(t)||_(M_.get(t))})(e)&&(e=>{const t=bd(e);return _(x_.get(t))})(e)&&UO(e)};((e,t)=>{const n=gd(e);if(p(n)&&!zO(n)&&!xe(M_.urls,n)){const a=vd(e),o=a?e.documentBaseURI.toAbsolute(a):`themes/${n}/theme${t}.js`;M_.load(n,o).catch((()=>{((e,t,n)=>{F_(e,"ThemeLoadError",N_("theme",t,n))})(e,o,n)}))}})(e,t),((e,t)=>{const n=bd(e);if("plugin"!==n&&!xe(x_.urls,n)){const a=wd(e),o=p(a)?e.documentBaseURI.toAbsolute(a):`models/${n}/model${t}.js`;x_.load(n,o).catch((()=>{((e,t,n)=>{F_(e,"ModelLoadError",N_("model",t,n))})(e,o,n)}))}})(e,t),((e,t)=>{const n=nd(t),a=ad(t);if(!Ki.hasCode(n)&&"en"!==n){const o=Ge(a)?a:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(o).catch((()=>{((e,t,n)=>{F_(e,"LanguageLoadError",N_("language",t,n))})(t,o,n)}))}})(n,e),((e,t,n)=>{const a=jO(t,"default",n),o=(e=>N.from(Gl(e)).filter(Ge).map((e=>({url:e,name:N.none()}))))(t).orThunk((()=>jO(t,Kl(t),"")));$((e=>{const t=[],n=e=>{t.push(e)};for(let a=0;a<e.length;a++)e[a].each(n);return t})([a,o]),(n=>{e.add(n.url).catch((()=>{((e,t,n)=>{F_(e,"IconsLoadError",N_("icons",t,n))})(t,n.url,n.name.getOrUndefined())}))}))})(n,e,t),((e,t)=>{const n=(t,n)=>{P_.load(t,n).catch((()=>{((e,t,n)=>{F_(e,"PluginLoadError",N_("plugin",t,n))})(e,n,t)}))};fe(Fd(e),((t,a)=>{n(a,t),e.options.set("plugins",Rd(e).concat(a))})),$(Rd(e),(e=>{!(e=Bt.trim(e))||P_.urls[e]||zO(e)||n(e,`plugins/${e}/plugin${t}.js`)}))})(e,t),n.loadQueue().then(a,a)},qO=Dt().deviceType,$O=qO.isPhone(),WO=qO.isTablet(),KO=e=>{if(y(e))return[];{const t=g(e)?e:e.split(/[ ,]/),n=q(t,$e);return G(n,Ge)}},GO=(e,t)=>{const n=((t,n)=>{const a={},o={};return we(t,((t,n)=>j(e,n)),be(a),be(o)),{t:a,f:o}})(t);return a=n.t,o=n.f,{sections:A(a),options:A(o)};var a,o},YO=(e,t)=>xe(e.sections(),t),XO=(e,t)=>({table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:De(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1,...t?{menubar:!1}:{}}),QO=(e,t)=>{var n;const a=null!==(n=t.external_plugins)&&void 0!==n?n:{};return e&&e.external_plugins?Bt.extend({},e.external_plugins,a):a},JO=(e,t,n,a,o)=>{var s;const i=e?{mobile:XO(null!==(s=o.mobile)&&void 0!==s?s:{},t)}:{},r=GO(["mobile"],Jk(i,o)),l=Bt.extend(n,a,r.options(),((e,t)=>e&&YO(t,"mobile"))(e,r)?((e,t,n={})=>{const a=e.sections(),o=De(a,t).getOr({});return Bt.extend({},n,o)})(r,"mobile"):{},{external_plugins:QO(a,r.options())});return((e,t,n,a)=>{const o=KO(n.forced_plugins),s=KO(a.plugins),i=((e,t)=>YO(e,t)?e.sections()[t]:{})(t,"mobile"),r=((e,t,n,a)=>e&&YO(t,"mobile")?a:n)(e,t,s,i.plugins?KO(i.plugins):s),l=((e,t)=>[...KO(e),...KO(t)])(o,r);return Bt.extend(a,{forced_plugins:o,plugins:l})})(e,r,a,l)},eL=e=>{(e=>{const t=t=>()=>{$("left,center,right,justify".split(","),(n=>{t!==n&&e.formatter.remove("align"+n)})),"none"!==t&&((t,n)=>{e.formatter.toggle(t,void 0),e.nodeChanged()})("align"+t)};e.editorCommands.addCommands({JustifyLeft:t("left"),JustifyCenter:t("center"),JustifyRight:t("right"),JustifyFull:t("justify"),JustifyNone:t("none")})})(e),(e=>{const t=t=>()=>{const n=e.selection,a=n.isCollapsed()?[e.dom.getParent(n.getNode(),e.dom.isBlock)]:n.getSelectedBlocks();return Z(a,(n=>_(e.formatter.matchNode(n,t))))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")})(e)},tL=(e,t)=>{const n=e.selection,a=e.dom;return/^ | $/.test(t)?((e,t,n,a)=>{const o=yn(e.getRoot());return n=tg(o,$r.fromRangeStart(t),a)?n.replace(/^ /,"&nbsp;"):n.replace(/^&nbsp;/," "),ng(o,$r.fromRangeEnd(t),a)?n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n.replace(/&nbsp;(<br( \/)?>)?$/," ")})(a,n.getRng(),t,e.schema):t},nL=(e,t)=>{if(e.selection.isEditable()){const{content:n,details:a}=(e=>{if("string"!=typeof e){const t=Bt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}})(t);Cy(e,{...a,content:tL(e,n),format:"html",set:!1,selection:!0}).each((t=>{const n=((e,t,n)=>Qy(e).editor.insertContent(t,n))(e,t.content,a);Dy(e,n,t),e.addVisual()}))}},aL={"font-size":"size","font-family":"face"},oL=Xt("font"),sL=e=>(t,n)=>N.from(n).map(yn).filter(Wt).bind((n=>((e,t,n)=>Rv(yn(n),(t=>(t=>ma(t,e).orThunk((()=>oL(t)?De(aL,e).bind((e=>nn(t,e))):N.none())))(t)),(e=>kn(yn(t),e))))(e,t,n.dom).or(((e,t)=>N.from(Hi.DOM.getStyle(t,e,!0)))(e,n.dom)))).getOr(""),iL=sL("font-size"),rL=E((e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")),sL("font-family")),lL=e=>Pu(e.getBody()).bind((e=>{const t=e.container();return N.from(eo(t)?t.parentNode:t)})),dL=(e,t)=>((e,t)=>(e=>N.from(e.selection.getRng()).bind((t=>{const n=e.getBody();return t.startContainer===n&&0===t.startOffset?N.none():N.from(e.selection.getStart(!0))})))(e).orThunk(L(lL,e)).map(yn).filter(Wt).bind(t))(e,S(N.some,t)),cL=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const a=(e=>Bt.explode(e.options.get("font_size_style_values")))(e),o=(e=>Bt.explode(e.options.get("font_size_classes")))(e);return o.length>0?o[n-1]||t:a[n-1]||t}return t}return t},uL=e=>{const t=e.split(/\s*,\s*/);return q(t,(e=>-1===e.indexOf(" ")||je(e,'"')||je(e,"'")?e:`'${e}'`)).join(",")},mL=(e,t)=>{const n=e.dom,a=e.selection.getRng(),o=t?e.selection.getStart():e.selection.getEnd(),s=t?a.startContainer:a.endContainer,i=vS(n,s);if(!i||!i.isContentEditable)return;const r=t?fa:ga,l=Nl(e);((e,t,n,a)=>{const o=e.dom,s=e=>o.isBlock(e)&&e.parentElement===n,i=s(t)?t:o.getParent(a,s,n);return N.from(i).map(yn)})(e,o,i,s).each((t=>{const n=_S(e,s,t.dom,i,!1,l);r(t,yn(n)),e.selection.setCursorLocation(n,0),e.dispatch("NewBlock",{newBlock:n}),cS(e,"insertParagraph")}))},pL=e=>{eL(e),(e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let a;try{n.execCommand(t)}catch(e){a=!0}if("paste"!==t||n.queryCommandEnabled(t)||(a=!0),a||!n.queryCommandSupported(t)){let t=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Ot.os.isMacOS()||Ot.os.isiOS())&&(t=t.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:t,type:"error"})}}})})(e),(e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})})(e),(e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,a)=>{let o=0;e.dom.getParent(e.selection.getNode(),(t=>!Za(t)||o++!==a||(e.selection.select(t),!1)),e.getBody())},mceSelectNode:(t,n,a)=>{e.selection.select(a)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),lo);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})})(e),(e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,a)=>{nL(e,e.dom.createHTML("img",{src:a}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,a)=>{nL(e,e.dom.encode(a))},insertHTML:(t,n,a)=>{nL(e,a)},mceInsertContent:(t,n,a)=>{nL(e,a)},mceSetContent:(t,n,a)=>{e.setContent(a)},mceReplaceContent:(t,n,a)=>{e.execCommand("mceInsertContent",!1,a.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(Jd(e))}})})(e),(e=>{const t=(t,n,a)=>{const o=p(a)?{href:a}:a,s=e.dom.getParent(e.selection.getNode(),"a");h(o)&&p(o.href)&&(o.href=o.href.replace(/ /g,"%20"),s&&o.href||e.formatter.remove("link"),o.href&&e.formatter.apply("link",o,s))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const t=e.dom.getParent(e.selection.getStart(),"a");return void(t&&e.dom.remove(t,!0))}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})})(e),(e=>{e.editorCommands.addCommands({Indent:()=>{(e=>{Tx(e,"indent")})(e)},Outdent:()=>{Ox(e)}}),e.editorCommands.addCommands({Outdent:()=>Ex(e)},"state")})(e),(e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{(e=>{mL(e,!0)})(e)},InsertNewBlockAfter:()=>{(e=>{mL(e,!1)})(e)}})})(e),(e=>{e.editorCommands.addCommands({insertParagraph:()=>{eA(PS,e)},mceInsertNewLine:(t,n,a)=>{tA(e,a)},InsertLineBreak:(t,n,a)=>{eA(US,e)}})})(e),(e=>{(e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{e.getDoc().execCommand(t);const n=e.dom.getParent(e.selection.getNode(),"ol,ul");if(n){const t=n.parentNode;if(t&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(t.nodeName)){const a=e.selection.getBookmark();e.dom.split(t,n),e.selection.moveToBookmark(a)}}}})})(e),(e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{const n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===t&&"UL"===n.tagName||"insertorderedlist"===t&&"OL"===n.tagName)}},"state")})(e)})(e),(e=>{(e=>{const t=(t,n)=>{e.formatter.toggle(t,n),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>{t(e)},"ForeColor,HiliteColor":(e,n,a)=>{t(e,{value:a})},BackColor:(e,n,a)=>{t("hilitecolor",{value:a})},FontName:(t,n,a)=>{((e,t)=>{const n=cL(e,t);e.formatter.toggle("fontname",{value:uL(n)}),e.nodeChanged()})(e,a)},FontSize:(t,n,a)=>{((e,t)=>{e.formatter.toggle("fontsize",{value:cL(e,t)}),e.nodeChanged()})(e,a)},LineHeight:(t,n,a)=>{((e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()})(e,a)},Lang:(e,n,a)=>{var o;t(e,{value:a.code,customValue:null!==(o=a.customCode)&&void 0!==o?o:null})},RemoveFormat:t=>{e.formatter.remove(t)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(e,n,a)=>{t(p(a)?a:"p")},mceToggleFormat:(e,n,a)=>{t(a)}})})(e),(e=>{const t=t=>e.formatter.match(t);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>t(e),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",(()=>(e=>dL(e,(t=>rL(e.getBody(),t.dom))).getOr(""))(e))),e.editorCommands.addQueryValueHandler("FontSize",(()=>(e=>dL(e,(t=>iL(e.getBody(),t.dom))).getOr(""))(e))),e.editorCommands.addQueryValueHandler("LineHeight",(()=>(e=>dL(e,(t=>{const n=yn(e.getBody()),a=Rv(t,(e=>ma(e,"line-height")),L(kn,n));return a.getOrThunk((()=>{const e=parseFloat(ca(t,"line-height")),n=parseFloat(ca(t,"font-size"));return String(e/n)}))})).getOr(""))(e)))})(e)})(e),(e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,a)=>{const o=null!=a?a:e.selection.getNode();if(o!==e.getBody()){const t=e.selection.getBookmark();e.dom.remove(o,!0),e.selection.moveToBookmark(t)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,a)=>{((e,t)=>{e.removed||(t?Oh(e):(e=>{const t=e.selection,n=e.getBody();let a=t.getRng();e.quirks.refreshContentEditable(),_(e.bookmark)&&!Ah(e)&&gh(e).each((t=>{e.selection.setRng(t),a=t}));const o=((e,t)=>e.dom.getParent(t,(t=>"true"===e.dom.getContentEditable(t))))(e,t.getNode());if(o&&e.dom.isChildOf(o,n))return Sh(o),Eh(e,a),void Oh(e);e.inline||(Ot.browser.isOpera()||Sh(n),e.getWin().focus()),(Ot.browser.isFirefox()||e.inline)&&(Sh(n),Eh(e,a)),Oh(e)})(e))})(e,!0===a)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})})(e)},hL=["toggleview"],fL=e=>j(hL,e.toLowerCase());class gL{constructor(e){this.commands={state:{},exec:{},value:{}},this.editor=e}execCommand(e,t=!1,n,a){const o=this.editor,s=e.toLowerCase(),i=null==a?void 0:a.skip_focus;if(o.removed)return!1;if("mcefocus"!==s&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(s)||i?(e=>{gh(e).each((t=>e.selection.setRng(t)))})(o):o.focus()),o.dispatch("BeforeExecCommand",{command:e,ui:t,value:n}).isDefaultPrevented())return!1;const r=this.commands.exec[s];return!!C(r)&&(r(s,t,n),o.dispatch("ExecCommand",{command:e,ui:t,value:n}),!0)}queryCommandState(e){if(!fL(e)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const t=e.toLowerCase(),n=this.commands.state[t];return!!C(n)&&n(t)}queryCommandValue(e){if(!fL(e)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const t=e.toLowerCase(),n=this.commands.value[t];return C(n)?n(t):""}addCommands(e,t="exec"){const n=this.commands;fe(e,((e,a)=>{$(a.toLowerCase().split(","),(a=>{n[t][a]=e}))}))}addCommand(e,t,n){const a=e.toLowerCase();this.commands.exec[a]=(e,a,o)=>t.call(null!=n?n:this.editor,a,o)}queryCommandSupported(e){const t=e.toLowerCase();return!!this.commands.exec[t]}addQueryStateHandler(e,t,n){this.commands.state[e.toLowerCase()]=()=>t.call(null!=n?n:this.editor)}addQueryValueHandler(e,t,n){this.commands.value[e.toLowerCase()]=()=>t.call(null!=n?n:this.editor)}}const vL="data-mce-contenteditable",bL=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch(e){}},wL=(e,t)=>{e.dom.contentEditable=t?"true":"false"},yL=e=>e.readonly,_L=e=>{e.parser.addAttributeFilter("contenteditable",(t=>{yL(e)&&$(t,(e=>{e.attr(vL,e.attr("contenteditable")),e.attr("contenteditable","false")}))})),e.serializer.addAttributeFilter(vL,(t=>{yL(e)&&$(t,(e=>{e.attr("contenteditable",e.attr(vL))}))})),e.serializer.addTempAttr(vL)},CL=["copy"],DL=Bt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class xL{static isNative(e){return!!DL[e.toLowerCase()]}constructor(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||R}fire(e,t){return this.dispatch(e,t)}dispatch(e,t){const n=e.toLowerCase(),a=ki(n,null!=t?t:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(a);const o=this.bindings[n];if(o)for(let s=0,i=o.length;s<i;s++){const e=o[s];if(!e.removed){if(e.once&&this.off(n,e.func),a.isImmediatePropagationStopped())return a;if(!1===e.func.call(this.scope,a))return a.preventDefault(),a}}return a}on(e,t,n,a){if(!1===t&&(t=R),t){const o={func:t,removed:!1};a&&Bt.extend(o,a);const s=e.toLowerCase().split(" ");let i=s.length;for(;i--;){const e=s[i];let t=this.bindings[e];t||(t=[],this.toggleEvent(e,!0)),t=n?[o,...t]:[...t,o],this.bindings[e]=t}}return this}off(e,t){if(e){const n=e.toLowerCase().split(" ");let a=n.length;for(;a--;){const o=n[a];let s=this.bindings[o];if(!o)return fe(this.bindings,((e,t)=>{this.toggleEvent(t,!1),delete this.bindings[t]})),this;if(s){if(t){const e=K(s,(e=>e.func===t));s=e.fail,this.bindings[o]=s,$(e.pass,(e=>{e.removed=!0}))}else s.length=0;s.length||(this.toggleEvent(e,!1),delete this.bindings[o])}}}else fe(this.bindings,((e,t)=>{this.toggleEvent(t,!1)})),this.bindings={};return this}once(e,t,n){return this.on(e,t,n,{once:!0})}has(e){e=e.toLowerCase();const t=this.bindings[e];return!(!t||0===t.length)}}const kL=e=>(e._eventDispatcher||(e._eventDispatcher=new xL({scope:e,toggleEvent:(t,n)=>{xL.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),EL={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const a=this;if(a.removed&&"remove"!==e&&"detach"!==e)return ki(e.toLowerCase(),null!=t?t:{},a);const o=kL(a).dispatch(e,t);if(!1!==n&&a.parent){let t=a.parent();for(;t&&!o.isPropagationStopped();)t.dispatch(e,o,!1),t=t.parent?t.parent():void 0}return o},on(e,t,n){return kL(this).on(e,t,n)},off(e,t){return kL(this).off(e,t)},once(e,t){return kL(this).once(e,t)},hasEventListeners(e){return kL(this).has(e)}},SL=Hi.DOM;let AL;const TL=(e,t)=>{if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const n=hd(e);return n?(e.eventRoot||(e.eventRoot=SL.select(n)[0]),e.eventRoot):e.getBody()},OL=(e,t,n)=>{(e=>!e.hidden&&!yL(e))(e)?e.dispatch(t,n):yL(e)&&((e,t)=>{if((e=>"click"===e.type)(t)&&!rp.metaKeyPressed(t)){const n=yn(t.target);((e,t)=>aa(t,"a",(t=>kn(t,yn(e.getBody())))).bind((e=>nn(e,"href"))))(e,n).each((n=>{if(t.preventDefault(),/^#/.test(n)){const t=e.dom.select(`${n},[name="${He(n,"#")}"]`);t.length&&e.selection.scrollIntoView(t[0],!0)}else window.open(n,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))}else(e=>j(CL,e.type))(t)&&e.dispatch(t.type,t)})(e,n)},LL=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=TL(e,t);if(hd(e)){if(AL||(AL={},e.editorManager.on("removeEditor",(()=>{e.editorManager.activeEditor||AL&&(fe(AL,((t,n)=>{e.dom.unbind(TL(e,n))})),AL=null)}))),AL[t])return;const a=n=>{const a=n.target,o=e.editorManager.get();let s=o.length;for(;s--;){const e=o[s].getBody();(e===a||SL.isChildOf(a,e))&&OL(o[s],t,n)}};AL[t]=a,SL.bind(n,t,a)}else{const a=n=>{OL(e,t,n)};SL.bind(n,t,a),e.delegates[t]=a}},PL={...EL,bindPendingEventDelegates(){const e=this;Bt.each(e._pendingNativeEvents,(t=>{LL(e,t)}))},toggleNativeEvent(e,t){const n=this;"focus"!==e&&"blur"!==e&&(n.removed||(t?n.initialized?LL(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(TL(n,e),e,n.delegates[e]),delete n.delegates[e])))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(fe(e.delegates,((t,n)=>{e.dom.unbind(TL(e,n),n,t)})),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},ML=e=>p(e)?{value:e.split(/[ ,]/),valid:!0}:x(e,p)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},BL=(e,t)=>e+(Ye(t.message)?"":`. ${t.message}`),IL=e=>e.valid,RL=(e,t,n="")=>{const a=t(e);return b(a)?a?{value:e,valid:!0}:{valid:!1,message:n}:a},FL=["design","readonly"],NL=(e,t,n,a)=>{const o=n[t.get()],s=n[a];try{s.activate()}catch(e){return void console.error(`problem while activating editor mode ${a}:`,e)}o.deactivate(),o.editorReadOnly!==s.editorReadOnly&&((e,t)=>{const n=yn(e.getBody());((e,t,n)=>{fn(e,t)&&!n?hn(e,t):n&&mn(e,t)})(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),(e=>{N.from(e.selection.getNode()).each((e=>{e.removeAttribute("data-mce-selected")}))})(e),e.readonly=!0,wL(n,!1),$(Va(n,'*[contenteditable="true"]'),(e=>{Jt(e,vL,"true"),wL(e,!1)}))):(e.readonly=!1,e.hasEditableRoot()&&wL(n,!0),$(Va(n,`*[${vL}="true"]`),(e=>{on(e,vL),wL(e,!0)})),bL(e,"StyleWithCSS",!1),bL(e,"enableInlineTableEditing",!1),bL(e,"enableObjectResizing",!1),Th(e)&&e.focus(),(e=>{e.selection.setRng(e.selection.getRng())})(e),e.nodeChanged())})(e,s.editorReadOnly),t.set(a),((e,t)=>{e.dispatch("SwitchMode",{mode:t})})(e,a)},VL=Bt.each,UL=Bt.explode,HL={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},zL=Bt.makeMap("alt,ctrl,shift,meta,access"),jL=e=>{const t={},n=Ot.os.isMacOS()||Ot.os.isiOS();VL(UL(e.toLowerCase(),"+"),(e=>{(e=>e in zL)(e)?t[e]=!0:/^[0-9]{2,}$/.test(e)?t.keyCode=parseInt(e,10):(t.charCode=e.charCodeAt(0),t.keyCode=HL[e]||e.toUpperCase().charCodeAt(0))}));const a=[t.keyCode];let o;for(o in zL)t[o]?a.push(o):t[o]=!1;return t.id=a.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class ZL{constructor(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;const t=this;e.on("keyup keypress keydown",(e=>{!t.hasModifier(e)&&!t.isFunctionKey(e)||e.isDefaultPrevented()||(VL(t.shortcuts,(n=>{t.matchShortcut(e,n)&&(t.pendingPatterns=n.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(n))})),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))}))}add(e,t,n,a){const o=this,s=o.normalizeCommandFunc(n);return VL(UL(Bt.trim(e)),(e=>{const n=o.createShortcut(e,t,s,a);o.shortcuts[n.id]=n})),!0}remove(e){const t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)}normalizeCommandFunc(e){const t=this,n=e;return"string"==typeof n?()=>{t.editor.execCommand(n,!1,null)}:Bt.isArray(n)?()=>{t.editor.execCommand(n[0],n[1],n[2])}:n}createShortcut(e,t,n,a){const o=Bt.map(UL(e,">"),jL);return o[o.length-1]=Bt.extend(o[o.length-1],{func:n,scope:a||this.editor}),Bt.extend(o[0],{desc:this.editor.translate(t),subpatterns:o.slice(1)})}hasModifier(e){return e.altKey||e.ctrlKey||e.metaKey}isFunctionKey(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123}matchShortcut(e,t){return!!t&&t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0)}executeShortcutAction(e){return e.func?e.func.call(e.scope):null}}const qL=()=>{const e=(()=>{const e={},t={},n={},a={},o={},s={},i={},r={},l=(e,t)=>(n,a)=>{e[n.toLowerCase()]={...a,type:t}};return{addButton:l(e,"button"),addGroupToolbarButton:l(e,"grouptoolbarbutton"),addToggleButton:l(e,"togglebutton"),addMenuButton:l(e,"menubutton"),addSplitButton:l(e,"splitbutton"),addMenuItem:l(t,"menuitem"),addNestedMenuItem:l(t,"nestedmenuitem"),addToggleMenuItem:l(t,"togglemenuitem"),addAutocompleter:l(n,"autocompleter"),addContextMenu:l(o,"contextmenu"),addContextToolbar:l(s,"contexttoolbar"),addContextForm:l(s,"contextform"),addSidebar:l(i,"sidebar"),addView:l(r,"views"),addIcon:(e,t)=>a[e.toLowerCase()]=t,getAll:()=>({buttons:e,menuItems:t,icons:a,popups:n,contextMenus:o,contextToolbars:s,sidebars:i,views:r})}})();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},$L=Hi.DOM,WL=Bt.extend,KL=Bt.each;class GL{constructor(e,t,n){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,WL(this,PL);const a=this;this.id=e,this.hidden=!1;const o=((e,t)=>JO($O||WO,$O,t,e,t))(n.defaultOptions,t);this.options=((e,t)=>{const n={},a={},o=(e,t,n)=>{const o=RL(t,n);return IL(o)?(a[e]=o.value,!0):(console.warn(BL(`Invalid value passed for the ${e} option`,o)),!1)},s=e=>xe(n,e);return{register:(e,s)=>{const i=(e=>p(e.processor))(s)?(e=>{const t=(()=>{switch(e){case"array":return g;case"boolean":return b;case"function":return C;case"number":return D;case"object":return h;case"string":return p;case"string[]":return ML;case"object[]":return e=>x(e,h);case"regexp":return e=>m(e,RegExp);default:return F}})();return n=>RL(n,t,`The value must be a ${e}.`)})(s.processor):s.processor,r=((e,t,n)=>{if(!w(t)){const a=RL(t,n);if(IL(a))return a.value;console.error(BL(`Invalid default value passed for the "${e}" option`,a))}})(e,s.default,i);n[e]={...s,default:r,processor:i},De(a,e).orThunk((()=>De(t,e))).each((t=>o(e,t,i)))},isRegistered:s,get:e=>De(a,e).orThunk((()=>De(n,e).map((e=>e.default)))).getOrUndefined(),set:(e,t)=>{if(s(e)){const a=n[e];return a.immutable?(console.error(`"${e}" is an immutable option and cannot be updated`),!1):o(e,t,a.processor)}return console.warn(`"${e}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:e=>{const t=s(e);return t&&delete a[e],t},isSet:e=>xe(a,e)}})(0,o),(e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:Ol(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:Ol(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:e=>{const t=p(e)&&Ge(e);return t?{value:e,valid:t}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:e=>{const t=j(["block","linebreak","invert","default"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:e=>b(e)||p(e)?{valid:!0,value:e}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:e=>{const t=!1===e||p(e)||x(e,p);return t?p(e)?{value:q(e.split(","),$e),valid:t}:g(e)?{value:e,valid:t}:!1===e?{value:[],valid:t}:{value:e,valid:t}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Ed(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:e=>{const t=p(e)||x(e,p);return t?{value:g(e)?e:q(e.split(","),$e),valid:t}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:e=>{const t=b(e)||p(e);return t?!1===e||xl.isiPhone()||xl.isiPad()?{value:"",valid:t}:{value:!0===e?"table,img,figure.image,div,video,iframe":e,valid:t}:{valid:!1,message:"Must be boolean or a string"}},default:!kl}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"object"}),t("service_message",{processor:"string"}),t("theme",{processor:e=>!1===e||p(e)||C(e),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:e=>{const t=!1===e||p(e);return t?{value:!1===e?"":e,valid:t}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:"string"}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:Tl}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:Tl}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:Tl}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:e=>p(e)||!0===e}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:e=>x(e,h)||!1===e?{value:Dl(!1===e?[]:e),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),t("text_patterns_lookup",{processor:e=>{return C(e)?{value:(t=e,e=>{const n=t(e);return Dl(n)}),valid:!0}:{valid:!1,message:"Must be a single function"};var t},default:e=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:e=>x(e,Sl)?{value:e,valid:!0}:Sl(e)?{value:[e],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!1}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:e=>{const t=j(["inherited","collapsed","expanded"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:e=>{const t=j(["inherited","collapsed","expanded"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("force_hex_color",{processor:e=>{const t=["always","rgb_only","off"],n=j(t,e);return n?{value:e,valid:n}:{valid:!1,message:`Must be one of: ${t.join(", ")}.`}},default:"off"}),t("sandbox_iframes",{processor:"boolean",default:!1}),t("convert_unsafe_embeds",{processor:"boolean",default:!1}),e.on("ScriptsLoaded",(()=>{t("directionality",{processor:"string",default:Ki.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:El.getAttrib(e.getElement(),"placeholder")})}))})(a);const s=this.options.get;s("deprecation_warnings")&&((e,t)=>{((e,t)=>{const n=f_(e),a=b_(t),o=a.length>0,s=n.length>0,i="mobile"===t.theme;if(o||s||i){const e="\n- ",t=i?`\n\nThemes:${e}mobile`:"",r=o?`\n\nPlugins:${e}${a.join(e)}`:"",l=s?`\n\nOptions:${e}${n.join(e)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+t+r+l)}})(e,t),((e,t)=>{const n=g_(e),a=w_(t),o=a.length>0,s=n.length>0;if(o||s){const e="\n- ",t=o?`\n\nPlugins:${e}${a.map(y_).join(e)}`:"",i=s?`\n\nOptions:${e}${n.join(e)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+t+i)}})(e,t)})(t,o);const i=s("suffix");i&&(n.suffix=i),this.suffix=n.suffix;const r=s("base_url");r&&n._setBaseUrl(r),this.baseUri=n.baseURI;const l=td(a);l&&(ji.ScriptLoader._setReferrerPolicy(l),Hi.DOM.styleSheetLoader._setReferrerPolicy(l));const d=Id(a);_(d)&&Hi.DOM.styleSheetLoader._setContentCssCors(d),Gi.languageLoad=s("language_load"),Gi.baseURL=n.baseURL,this.setDirty(!1),this.documentBaseURI=new oy(Ml(a),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Ed(a),this.hasVisual=Vd(a),this.shortcuts=new ZL(this),this.editorCommands=new gL(this),pL(this);const c=s("cache_suffix");c&&(Ot.cacheSuffix=c.replace(/^[\?\&]+/,"")),this.ui={registry:qL(),styleSheetLoader:void 0,show:k,hide:k,setEnabled:k,isEnabled:F},this.mode=(e=>{const t=Zi("design"),n=Zi({design:{activate:k,deactivate:k,editorReadOnly:!1},readonly:{activate:k,deactivate:k,editorReadOnly:!0}});return(e=>{e.serializer?_L(e):e.on("PreInit",(()=>{_L(e)}))})(e),(e=>{e.on("ShowCaret",(t=>{yL(e)&&t.preventDefault()})),e.on("ObjectSelected",(t=>{yL(e)&&t.preventDefault()}))})(e),{isReadOnly:()=>yL(e),set:a=>((e,t,n,a)=>{if(a!==n.get()){if(!xe(t,a))throw new Error(`Editor mode '${a}' is invalid`);e.initialized?NL(e,n,t,a):e.on("init",(()=>NL(e,n,t,a)))}})(e,n.get(),t,a),get:()=>t.get(),register:(e,t)=>{n.set(((e,t,n)=>{if(j(FL,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(e){console.error(`problem while deactivating editor mode ${t}:`,e)}}}}})(n.get(),e,t))}}})(a),n.dispatch("SetupEditor",{editor:this});const u=jd(a);C(u)&&u.call(a,a)}render(){(e=>{const t=e.id;Ki.setCode(nd(e));const n=()=>{HO.unbind(window,"ready",n),e.render()};if(!Li.Event.domLoaded)return void HO.bind(window,"ready",n);if(!e.getElement())return;const a=yn(e.getElement()),o=sn(a);e.on("remove",(()=>{W(a.dom.attributes,(e=>on(a,e.name))),en(a,o)})),e.ui.styleSheetLoader=((e,t)=>Ns.forElement(e,{contentCssCors:Id(t),referrerPolicy:td(t)}))(a,e),Ed(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const s=e.getElement().form||HO.getParent(t,"form");s&&(e.formElement=s,Sd(e)&&!Ja(e.getElement())&&(HO.insertAfter(HO.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=t=>{e.dispatch(t.type,t)},HO.bind(s,"submit reset",e.formEventDelegate),e.on("reset",(()=>{e.resetContent()})),!Ad(e)||s.submit.nodeType||s.submit.length||s._mceOldSubmit||(s._mceOldSubmit=s.submit,s.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),s._mceOldSubmit(s)))),e.windowManager=B_(e),e.notificationManager=L_(e),(e=>"xml"===e.options.get("encoding"))(e)&&e.on("GetContent",(e=>{e.save&&(e.content=HO.encode(e.content))})),Td(e)&&e.on("submit",(()=>{e.initialized&&e.save()})),Od(e)&&(e._beforeUnload=()=>{!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),ZO(e,e.suffix)})(this)}focus(e){this.execCommand("mceFocus",!1,e)}hasFocus(){return Ah(this)}translate(e){return Ki.translate(e)}getParam(e,t,n){const a=this.options;return a.isRegistered(e)||(_(n)?a.register(e,{processor:n,default:t}):a.register(e,{processor:F,default:t})),a.isSet(e)||w(t)?a.get(e):t}hasPlugin(e,t){return!(!j(Rd(this),e)||t&&void 0===P_.get(e))}nodeChanged(e){this._nodeChangeDispatcher.nodeChanged(e)}addCommand(e,t,n){this.editorCommands.addCommand(e,t,n)}addQueryStateHandler(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)}addQueryValueHandler(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)}addShortcut(e,t,n,a){this.shortcuts.add(e,t,n,a)}execCommand(e,t,n,a){return this.editorCommands.execCommand(e,t,n,a)}queryCommandState(e){return this.editorCommands.queryCommandState(e)}queryCommandValue(e){return this.editorCommands.queryCommandValue(e)}queryCommandSupported(e){return this.editorCommands.queryCommandSupported(e)}show(){const e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable="true":($L.show(e.getContainer()),$L.hide(e.id)),e.load(),e.dispatch("show"))}hide(){const e=this;e.hidden||(e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):($L.hide(e.getContainer()),$L.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(e,t){this.dispatch("ProgressState",{state:e,time:t})}load(e={}){const t=this,n=t.getElement();if(t.removed)return"";if(n){const a={...e,load:!0},o=Ja(n)?n.value:n.innerHTML,s=t.setContent(o,a);return a.no_events||t.dispatch("LoadContent",{...a,element:n}),s}return""}save(e={}){const t=this;let n=t.getElement();if(!n||!t.initialized||t.removed)return"";const a={...e,save:!0,element:n};let o=t.getContent(a);const s={...a,content:o};if(s.no_events||t.dispatch("SaveContent",s),"raw"===s.format&&t.dispatch("RawSaveContent",s),o=s.content,Ja(n))n.value=o;else{!e.is_removing&&t.inline||(n.innerHTML=o);const a=$L.getParent(t.id,"form");a&&KL(a.elements,(e=>e.name!==t.id||(e.value=o,!1)))}return s.element=a.element=n=null,!1!==s.set_dirty&&t.setDirty(!1),o}setContent(e,t){return d_(this,e,t)}getContent(e){return((e,t={})=>{const n=((e,t)=>({...e,format:t,get:!0,getInner:!0}))(t,t.format?t.format:"html");return yy(e,n).fold(T,(t=>{const n=((e,t)=>Qy(e).editor.getContent(t))(e,t);return _y(e,n,t)}))})(this,e)}insertContent(e,t){t&&(e=WL({content:e},t)),this.execCommand("mceInsertContent",!1,e)}resetContent(e){void 0===e?d_(this,this.startContent,{format:"raw"}):d_(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(e){const t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.dispatch("dirty")}getContainer(){const e=this;return e.container||(e.container=e.editorContainer||$L.get(e.id+"_parent")),e.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=$L.get(this.id)),this.targetElm}getWin(){const e=this;if(!e.contentWindow){const t=e.iframeElement;t&&(e.contentWindow=t.contentWindow)}return e.contentWindow}getDoc(){const e=this;if(!e.contentDocument){const t=e.getWin();t&&(e.contentDocument=t.document)}return e.contentDocument}getBody(){var e,t;const n=this.getDoc();return null!==(t=null!==(e=this.bodyElement)&&void 0!==e?e:null==n?void 0:n.body)&&void 0!==t?t:null}convertURL(e,t,n){const a=this,o=a.options.get,s=qd(a);if(C(s))return s.call(a,e,n,!0,t);if(!o("convert_urls")||"link"===n||h(n)&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length)return e;const i=new oy(e);return"http"!==i.protocol&&"https"!==i.protocol&&""!==i.protocol?e:o("relative_urls")?a.documentBaseURI.toRelative(e):e=a.documentBaseURI.toAbsolute(e,o("remove_script_host"))}addVisual(e){((e,t)=>{((e,t)=>{Jy(e).editor.addVisual(t)})(e,t)})(this,e)}setEditableRoot(e){((e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),((e,t)=>{e.dispatch("EditableRootStateChange",{state:t})})(e,t))})(this,e)}hasEditableRoot(){return this._editableRoot}remove(){(e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,a=e.getBody(),o=e.getElement();a&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&_(null==o?void 0:o.nextSibling)&&__.remove(o.nextSibling),(e=>{e.dispatch("remove")})(e),e.editorManager.remove(e),!e.inline&&a&&(e=>{__.setStyle(e.id,"display",e.orgDisplay)})(e),(e=>{e.dispatch("detach")})(e),__.remove(e.getContainer()),C_(t),C_(n),e.destroy()}})(this)}destroy(e){((e,t)=>{const{selection:n,dom:a}=e;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),C_(n),C_(a)),(e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),__.unbind(t,"submit reset",e.formEventDelegate))})(e),(e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const n=e.selection;if(n){const e=n.dom;t.selection=n.win=n.dom=e.doc=null}})(e),e.destroyed=!0):e.remove())})(this,e)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const YL=Hi.DOM,XL=Bt.each;let QL,JL=!1,eP=[];const tP=e=>{const t=e.type;XL(sP.get(),(n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e)}}))},nP=e=>{if(e!==JL){const t=Hi.DOM;e?(t.bind(window,"resize",tP),t.bind(window,"scroll",tP)):(t.unbind(window,"resize",tP),t.unbind(window,"scroll",tP)),JL=e}},aP=e=>{const t=eP;return eP=G(eP,(t=>e!==t)),sP.activeEditor===e&&(sP.activeEditor=eP.length>0?eP[0]:null),sP.focusedEditor===e&&(sP.focusedEditor=null),t.length!==eP.length},oP="CSS1Compat"!==document.compatMode,sP={...EL,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"8.3",releaseDate:"2024-02-08",i18n:Ki,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",a=oy.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));const o=window.tinymce||window.tinyMCEPreInit;if(o)t=o.base||o.baseURL,n=o.suffix;else{const e=document.getElementsByTagName("script");for(let a=0;a<e.length;a++){const o=e[a].src||"";if(""===o)continue;const s=o.substring(o.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(o)){-1!==s.indexOf(".min")&&(n=".min"),t=o.substring(0,o.lastIndexOf("/"));break}}if(!t&&document.currentScript){const e=document.currentScript.src;-1!==e.indexOf(".min")&&(n=".min"),t=e.substring(0,e.lastIndexOf("/"))}}var s;e.baseURL=new oy(a).toAbsolute(t),e.documentBaseURL=a,e.baseURI=new oy(e.baseURL),e.suffix=n,(s=e).on("AddEditor",L(xh,s)),s.on("RemoveEditor",L(kh,s))},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const a=e.plugin_base_urls;void 0!==a&&fe(a,((e,t)=>{Gi.PluginManager.urls[t]=e}))},init(e){const t=this;let n;const a=Bt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");let o=e=>{n=e};const s=()=>{let n=0;const i=[];let r;YL.unbind(window,"ready",s),(n=>{const a=e.onpageload;a&&a.apply(t,[])})(),r=((e,t)=>{const n=[],a=C(t)?e=>Z(n,(n=>t(n,e))):e=>j(n,e);for(let o=0,s=e.length;o<s;o++){const t=e[o];a(t)||n.push(t)}return n})((e=>Ot.browser.isIE()||Ot.browser.isEdge()?(V_("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):oP?(V_("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):p(e.selector)?YL.select(e.selector):_(e.target)?[e.target]:[])(e)),Bt.each(r,(e=>{var n;(n=t.get(e.id))&&n.initialized&&!(n.getContainer()||n.getBody()).parentNode&&(aP(n),n.unbindAllNativeEvents(),n.destroy(!0),n.removed=!0)})),r=Bt.grep(r,(e=>!t.get(e.id))),0===r.length?o([]):XL(r,(s=>{((e,t)=>e.inline&&t.tagName.toLowerCase()in a)(e,s)?V_("Could not initialize inline editor on invalid inline target element",s):((e,a,s)=>{const l=new GL(e,a,t);i.push(l),l.on("init",(()=>{++n===r.length&&o(i)})),l.targetElm=l.targetElm||s,l.render()})((e=>{let t=e.id;return t||(t=De(e,"name").filter((e=>!YL.get(e))).getOrThunk(YL.uniqueId),e.setAttribute("id",t)),t})(s),e,s)}))};return YL.bind(window,"ready",s),new Promise((e=>{n?e(n):o=t=>{e(t)}}))},get(e){return 0===arguments.length?eP.slice(0):p(e)?J(eP,(t=>t.id===e)).getOr(null):D(e)&&eP[e]?eP[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(null===n&&eP.push(e),nP(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),QL||(QL=e=>{const n=t.dispatch("BeforeUnload");if(n.returnValue)return e.preventDefault(),e.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",QL))),e},createEditor(e,t){return this.add(new GL(e,t,this))},remove(e){const t=this;let n;if(e){if(!p(e))return n=e,v(t.get(n.id))?null:(aP(n)&&t.dispatch("RemoveEditor",{editor:n}),0===eP.length&&window.removeEventListener("beforeunload",QL),n.remove(),nP(eP.length>0),n);XL(YL.select(e),(e=>{n=t.get(e.id),n&&t.remove(n)}))}else for(let a=eP.length-1;a>=0;a--)t.remove(eP[a])},execCommand(e,t,n){var a;const o=this,s=h(n)?null!==(a=n.id)&&void 0!==a?a:n.index:n;switch(e){case"mceAddEditor":if(!o.get(s)){const e=n.options;new GL(s,e,o).render()}return!0;case"mceRemoveEditor":{const e=o.get(s);return e&&e.remove(),!0}case"mceToggleEditor":{const e=o.get(s);return e?(e.isHidden()?e.show():e.hide(),!0):(o.execCommand("mceAddEditor",!1,n),!0)}}return!!o.activeEditor&&o.activeEditor.execCommand(e,t,n)},triggerSave:()=>{XL(eP,(e=>{e.save()}))},addI18n:(e,t)=>{Ki.add(e,t)},translate:e=>Ki.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new oy(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new oy(this.baseURL)}};sP.setup();const iP=(()=>{const e=Xi();return{FakeClipboardItem:e=>({items:e,types:pe(e),getType:t=>De(e,t).getOrUndefined()}),write:t=>{e.set(t)},read:()=>e.get().getOrUndefined(),clear:e.clear}})(),rP=Math.min,lP=Math.max,dP=Math.round,cP=(e,t,n)=>{let a=t.x,o=t.y;const s=e.w,i=e.h,r=t.w,l=t.h,d=(n||"").split("");return"b"===d[0]&&(o+=l),"r"===d[1]&&(a+=r),"c"===d[0]&&(o+=dP(l/2)),"c"===d[1]&&(a+=dP(r/2)),"b"===d[3]&&(o-=i),"r"===d[4]&&(a-=s),"c"===d[3]&&(o-=dP(i/2)),"c"===d[4]&&(a-=dP(s/2)),uP(a,o,s,i)},uP=(e,t,n,a)=>({x:e,y:t,w:n,h:a}),mP={inflate:(e,t,n)=>uP(e.x-t,e.y-n,e.w+2*t,e.h+2*n),relativePosition:cP,findBestRelativePosition:(e,t,n,a)=>{for(let o=0;o<a.length;o++){const s=cP(e,t,a[o]);if(s.x>=n.x&&s.x+s.w<=n.w+n.x&&s.y>=n.y&&s.y+s.h<=n.h+n.y)return a[o]}return null},intersect:(e,t)=>{const n=lP(e.x,t.x),a=lP(e.y,t.y),o=rP(e.x+e.w,t.x+t.w),s=rP(e.y+e.h,t.y+t.h);return o-n<0||s-a<0?null:uP(n,a,o-n,s-a)},clamp:(e,t,n)=>{let a=e.x,o=e.y,s=e.x+e.w,i=e.y+e.h;const r=t.x+t.w,l=t.y+t.h,d=lP(0,t.x-a),c=lP(0,t.y-o),u=lP(0,s-r),m=lP(0,i-l);return a+=d,o+=c,n&&(s+=d,i+=c,a-=u,o-=m),s-=u,i-=m,uP(a,o,s-a,i-o)},create:uP,fromClientRect:e=>uP(e.left,e.top,e.width,e.height)},pP=(()=>{const e={},t={},n={};return{load:(n,a)=>{const o=`Script at URL "${a}" failed to load`,s=`Script at URL "${a}" did not call \`tinymce.Resource.add('${n}', data)\` within 1 second`;if(void 0!==e[n])return e[n];{const i=new Promise(((e,i)=>{const r=((e,t,n=1e3)=>{let a=!1,o=null;const s=e=>(...t)=>{a||(a=!0,null!==o&&(clearTimeout(o),o=null),e.apply(null,t))},i=s(e),r=s(t);return{start:(...e)=>{a||null!==o||(o=setTimeout((()=>r.apply(null,e)),n))},resolve:i,reject:r}})(e,i);t[n]=r.resolve,ji.ScriptLoader.loadScript(a).then((()=>r.start(s)),(()=>r.reject(o)))}));return e[n]=i,i}},add:(a,o)=>{void 0!==t[a]&&(t[a](o),delete t[a]),e[a]=Promise.resolve(o),n[a]=o},has:e=>e in n,get:e=>n[e],unload:t=>{delete e[t]}}})();let hP;try{const e="__storage_test__";hP=window.localStorage,hP.setItem(e,e),hP.removeItem(e)}catch(t){hP=(()=>{let e={},t=[];const n={getItem:t=>e[t]||null,setItem:(n,a)=>{t.push(n),e[n]=String(a)},key:e=>t[e],removeItem:n=>{t=t.filter((e=>e===n)),delete e[n]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})()}const fP={geom:{Rect:mP},util:{Delay:bh,Tools:Bt,VK:rp,URI:oy,EventDispatcher:xL,Observable:EL,I18n:Ki,LocalStorage:hP,ImageUploader:e=>{const t=j_(),n=W_(e,t);return{upload:(t,a=!0)=>n.upload(t,a?$_(e):void 0)}}},dom:{EventUtils:Li,TreeWalker:Ha,TextSeeker:vr,DOMUtils:Hi,ScriptLoader:ji,RangeUtils:Vp,Serializer:l_,StyleSheetLoader:Fs,ControlSelection:mp,BookmarkManager:Jm,Selection:s_,Event:Li.Event},html:{Styles:Ci,Entities:ti,Node:$h,Schema:mi,DomParser:by,Writer:uf,Serializer:mf},Env:Ot,AddOnManager:Gi,Annotator:Qm,Formatter:sC,UndoManager:rC,EditorCommands:gL,WindowManager:B_,NotificationManager:L_,EditorObservable:PL,Shortcuts:ZL,Editor:GL,FocusManager:vh,EditorManager:sP,DOM:Hi.DOM,ScriptLoader:ji.ScriptLoader,PluginManager:P_,ThemeManager:M_,ModelManager:x_,IconManager:D_,Resource:pP,FakeClipboard:iP,trim:Bt.trim,isArray:Bt.isArray,is:Bt.is,toArray:Bt.toArray,makeMap:Bt.makeMap,each:Bt.each,map:Bt.map,grep:Bt.grep,inArray:Bt.inArray,extend:Bt.extend,walk:Bt.walk,resolve:Bt.resolve,explode:Bt.explode,_addCacheSuffix:Bt._addCacheSuffix},gP=Bt.extend(sP,fP);(e=>{window.tinymce=e,window.tinyMCE=e})(gP),(t=>{try{e.exports=t}catch(t){}})(gP)}()},79785:function(e,t,n){"use strict";n.r(t);n(82801),n(61295);var a=n(24239);const o={getValue(e){let t=structuredClone(a["default"].getters["cache/get"](e));return a["default"].commit("cache/REMOVE",e),t},setValue(e){a["default"].commit("cache/SET",e)}};t["default"]=o},2075:function(e,t,n){"use strict";n.r(t),t["default"]={Get_Cookie(e){var t=document.cookie.indexOf(e+"="),n=t+e.length+1;if(!t&&e!==document.cookie.substring(0,e.length))return null;if(-1===t)return null;var a=document.cookie.indexOf(";",n);return-1===a&&(a=document.cookie.length),a===t?"":unescape(document.cookie.substring(n,a))},Set_Cookie(e,t,n,a,o,s){var i=new Date;i.setTime(i.getTime()),n&&(n=1e3*n*60*60*24);var r=new Date(i.getTime()+n);document.cookie=e+"="+escape(t)+(n?";expires="+r.toGMTString():"")+(a?";path="+a:"")+(o?";domain="+o:"")+(s?";secure":"")},Delete_Cookie(e,t,n){this.Get_Cookie(e)&&(document.cookie=e+"="+(t?";path="+t:"")+(n?";domain="+n:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT")},get_sub_cookies(e){var t=new Array,n="";if(e&&""!==e){n=e.indexOf("#");while(n>-1){var a=e.substring(0,n);e=e.substring(n+1,e.length);var o=a.substring(0,a.indexOf("=")),s=a.substring(a.indexOf("=")+1,a.length);t[o]=s,n=e.indexOf("#")}}return t},subs_to_cookie(e){var t="";for(var n in e)"function"!=typeof e[n]&&(t+=n+"="+e[n]+"#");return t}}},29496:function(e,t,n){"use strict";n.r(t);var a=n(24239),o=n(96294);t["default"]={toDoubleDigit(e){return e<10?"0"+e:e},formatDateTimeToVueCal(e){if(!e)return"";let t=new Date;const n=-1!==e.indexOf(" ");let a,o;return n?(a=this.getDate(e.slice(0,e.indexOf(" "))),o=this.getTime(e.slice(e.indexOf(" ")+1)),t.setHours(o.hours),t.setMinutes(o.minutes)):a=this.getDate(e),t.setFullYear(a.year),t.setMonth(a.month),t.setDate(a.day),t},formatRangeDateTimeToVueCal(e){let t=e.split(" - ");return t.map((e=>this.formatDateTimeToVueCal(e)))},getDateSeparator(){return this.userDateFormat().match(/[.]|[/]|[-]/)[0]},getTimeSeparator(){return this.userTimeFormat().match(/[.]|[:]/)[0]},getDate(e){let t=this.userDateFormat().split(this.getDateSeparator()),n=e.split(this.getDateSeparator());return{year:Number(n[t.indexOf("Y")]),month:Number(n[t.indexOf("m")])-1,day:Number(n[t.indexOf("d")])}},getTime(e){let t=this.getTimeSeparator(),n=e.split(" ");this.hasMeridiem()&&(this.hasWhiteSpace()?n=[n[0]]:(n=n.filter((e=>""!==e)),n=[n[0].slice(0,-2)]));let a={hours:Number(n[0].split(t)[0]),minutes:Number(n[0].split(t)[1]),hour12:!1};return e.match(/p|P/)&&(a.hours+=12),a},hasMeridiem(){return this.userTimeFormat().includes("a")||this.userTimeFormat().includes("A")},hasWhiteSpace(){if(this.hasMeridiem())return this.userTimeFormat().includes(" ")},userDateFormat(){return a["default"].state.user.data.userDateFormat},userTimeFormat(){return a["default"].state.user.data.userTimeFormat},toUserFormat(e){if(!e)return"";let t=this.formatDateToUser(e),n=this.formatTimeToUser(e);return`${t} ${n}`},formatDateToUser(e){if(!e)return"";let t=this.userDateFormat(),n=e.getDate()<10?"0"+e.getDate():e.getDate(),a=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,o=e.getFullYear();return t.toLowerCase().replace("m",a).replace("d",n).replace("y",o)},formatRangeDateToUser(e){let[t,n]=e;return t=this.formatDateToUser(t),n=this.formatDateToUser(n),t+" - "+n},formatTimeToUser(e){if(!e)return"";let t=this.userTimeFormat(),n=e.getHours(),a=e.getMinutes(),o=this.getTimeSeparator();const s=e=>{if(!this.hasMeridiem())return"";e="am",n>=12&&(e="pm",n-=12);const a=t.slice(t.length-1);return a.toUpperCase()===a&&(e=e.toUpperCase()),e},i=-1!==t.indexOf(" ")?" ":"",r=s();return n=this.toDoubleDigit(n),a=this.toDoubleDigit(a),n+o+a+i+r},getDuration(e,t,n={}){let a={hours:0,minutes:0,seconds:0},s=0;if(s=Date.parse(t)-Date.parse(e),s/=1e3,a.hours=Math.floor(s/3600),a.minutes=s/60%60,a.seconds=s,o["default"].isEmpty(n))return a;for(let o in n)if(o&&s<=Number(o)){s=Number(o);break}return a.seconds=s,a},getTimezoneOffset(){return 60*(new Date).getTimezoneOffset()*1e3},userTimezoneOffset(){const e=a["default"].state.app.server;return 1e3*e.unixTimeUser-1e3*e.unixTime}}},27821:function(e,t,n){"use strict";n.r(t);var a=n(96294),o=n(76525),s=n(2075),i=n(29496),r=n(86243),l=n(79785),d=n(98302),c=n.n(d);const u={utils:Object.create(a["default"]),cookies:Object.create(s["default"]),validate:Object.create(o["default"]),dateTime:Object.create(i["default"]),swal:Object.create(r["default"]),cache:Object.create(l["default"]),plotly:Object.create(c())};t["default"]={install(e){e.mixin({computed:{DOAPP(){return Object.create(u)}}})}}},86243:function(e,t,n){"use strict";n.r(t);var a=n(24239),o=n(77665),s=n.n(o),i=n(96294);t["default"]={getToast(){return s().mixin({toast:!0,position:"top-right",confirmButtonColor:"var(--primary)",cancelButtonColor:"var(--secondary)",customClass:{confirmButton:"btn-lg",cancelButton:"btn-lg",popup:"mt-4"},padding:"1rem",width:"fit-content",background:a["default"].getters["app/isDarkMode"]?"#343a40":"#ffffff",color:a["default"].getters["app/isDarkMode"]?"#ffffff":"#212529",showConfirmButton:!1,timer:5e3})},getSuccessToast(e=""){this.getToast().fire({titleText:e||i["default"].translate("LBL_SAVED"),icon:"success"})},getErrorToast(e=""){this.getToast().fire({titleText:e||i["default"].translate("LBL_ERROR","Users"),timer:3e3,icon:"error"})},getWarningToast(e=""){this.getToast().fire({titleText:e||i["default"].translate("LBL_ERROR","Users"),timer:3e3,icon:"warning"})},getInfoToast(e=""){this.getToast().fire({titleText:e,timer:3e3,icon:"info"})},getConfirmToast({title:e="",text:t="",onConfirmed:n,onDismiss:a=(()=>{})}){this.getToast().fire({toast:!1,position:"top",titleText:e,text:t,showCancelButton:!0,showConfirmButton:!0,confirmButtonText:i["default"].translate("LBL_SUBMIT_BUTTON_LABEL"),cancelButtonText:i["default"].translate("LBL_CANCEL"),customClass:{popup:"mt-4"},timer:!1}).then((e=>{e.isConfirmed?n():e.dismiss&&a()}))},getRadioConfirmToast({title:e="",text:t="",options:n,onConfirmed:a}){const o=new Promise((e=>{setTimeout((()=>{e(n)}),1e3)})),{value:s}=this.getToast().fire({toast:!1,position:"top",titleText:e,input:"radio",inputOptions:o,text:t,inputValidator:e=>{if(!e)return"You need to choose something!"},showCancelButton:!0,showConfirmButton:!0,confirmButtonText:i["default"].translate("LBL_SUBMIT_BUTTON_LABEL"),cancelButtonText:i["default"].translate("LBL_CANCEL"),customClass:{popup:"mt-4"},timer:!1});s&&a()}}},96294:function(e,t,n){"use strict";n.r(t);var a=n(24239);t["default"]={translate(e,t=""){if(void 0===e)return null;if(""!==t&&Object.hasOwn(a["default"].state.app.modules,t)){let n=a["default"].state.app.modules[t].language;if(Object.hasOwn(n,e))return n[e]}return Object.hasOwn(a["default"].state.app.lang,e)?a["default"].state.app.lang[e]:e},isEmpty(e){for(let t in e)return!1;return!0},htmlDecode(e){return"string"===typeof e||e instanceof String?e.replace(/&quot;/g,'"').replace(/&#039;/g,"'"):e}}},76525:function(e,t,n){"use strict";n.r(t);var a=n(24239);t["default"]={validateHandler(e,t,n,o="focus"){let s=a["default"].getters[o+"/getValidation"](e),i=!0;if(s){let l;for(let e in s)if(l=e,"function"===typeof this[l])try{s[e].valid=this[l](t,n),i&&(i=s[e].valid)}catch(r){console.log(r)}else console.log("Parameter"+e+" for validation handler not found");a["default"].dispatch(o+"/setValidate",{name:e,data:s})}return i},required(e){return""!==e},moreThenZero(e){return e},phoneValidate(e){let t=new RegExp("^((8|\\+7)[\\- ]?)?(\\(?\\d{3}\\)?[\\- ]?)?[\\d\\- ]{7,10}$");return!(""!==e&&!t.test(e))},currencyValidate(e){let t=a["default"].state.user.data["1000sSeparator"],n=a["default"].state.user.data.decimalSymbol,o=e.replaceAll(t,"").replace(n,"."),s=new RegExp("^\\d*[.]?\\d*$");return!(""!==o&&!s.test(o))},intValidate(e){return!!(""===e||"number"===typeof Number(e)&&Number.isInteger(Number(e)))},emailValidate(e){let t=new RegExp("(?!(^[.-].*|[^@]*[.-]@|.*\\.{2,}.*)|^.{254}.)([a-zA-Z0-9!#$%&'*+\\/=?^_`{|}~.-]+@)(?!-.*|.*-\\.)([a-zA-Z0-9-]{1,63}\\.)+[a-zA-Z]{2,15}");return!!t.test(e)},rangeValidate(e,t){return""===e||t.validation.min<=e&&e<=t.validation.max},pwdRegexValidate(e,t){const n=new RegExp(t.REGEX);return!(""!==e&&!n.test(e))},pwdLengthValidate(e,t){let n=t.pwd_settings.minpwdlength,a=t.pwd_settings.maxpwdlength;return""===e||parseInt(n)>0&&e.length>parseInt(n)||parseInt(a)>0&&e.length<parseInt(a)},pwdUpperValidate(e){return!(""!==e&&!e.match("[ABCDEFGHIJKLMNOPQRSTUVWXYZ]"))},pwdLowerValidate(e){return!(""!==e&&!e.match("[abcdefghijklmnopqrstuvwxyz]"))},pwdNumberValidate(e){return!(""!==e&&!e.match("[0123456789]"))},pwdSpecialValidate(e){const t=new RegExp("[|}{~!@#$%^&*()_+=-]");return!(""!==e&&!e.match(t))},toEmailValidate(e){if(!e.trim())return!1;{let t=e.split(",");for(let e=0;e<t.length;e++){let n=t[e].charAt(-1),a=t[e].charAt(0),o=t[e].lastIndexOf("@"),s=t[e].substr(0,o),i=s.charAt(s.length-1);if(n.match(/[^.]/i)&&a.match(/[^.]/i)&&i.match(/[^.]/i)&&t[e].match(/.@z.*?/g))return!1;let r=new RegExp("(?!(^[.-].*|[^@]*[.-]@|.*\\.{2,}.*)|^.{254}.)([a-zA-Z0-9!#$%&'*+\\/=?^_`{|}~.-]+@)(?!-.*|.*-\\.)([a-zA-Z0-9-]{1,63}\\.)+[a-zA-Z]{2,15}");if(!r.test(t[e]))return!1}}return!0},copyEmailValidate(e){if(console.log("copyEmailValidate"),""===e)return!0;{let t=e.split(",");for(let e=0;e<t.length;e++){let n=new RegExp("(?!(^[.-].*|[^@]*[.-]@|.*\\.{2,}.*)|^.{254}.)([a-zA-Z0-9!#$%&'*+\\/=?^_`{|}~.-]+@)(?!-.*|.*-\\.)([a-zA-Z0-9-]{1,63}\\.)+[a-zA-Z]{2,15}");if(!n.test(t[e])&&""!==t[e])return!1}}return!0}}},4934:function(e,t,n){"use strict";n.r(t);var a=n(91528),o=n(35578),s=n(65709),i=n(33046),r=n(44597),l=n(69032);t["default"]={SubPanelDetailViewLink:a["default"],SubPanelEditButton:o["default"],SubPanelRemoveButton:s["default"],SubPanelIcon:i["default"],SubPanelActivitiesStatusField:r["default"],SubPanelEmailLink:l["default"]}},39395:function(e,t,n){"use strict";n.r(t);var a=n(77234),o=n(44403),s=n(71981),i=n(4296),r=n(26412),l=n(71354),d=n(92789);t["default"]={datetimecombo:a["default"],datetime:o["default"],date:s["default"],enum:d["default"],multienum:i["default"],varchar:r["default"],name:r["default"],bool:l["default"]}},65849:function(e,t,n){"use strict";n.r(t);var a=n(77234),o=n(44403),s=n(71981),i=n(4296),r=n(26412),l=n(71354);t["default"]={datetimecombo:a["default"],datetime:o["default"],date:s["default"],enum:i["default"],multienum:i["default"],varchar:r["default"],name:r["default"],bool:l["default"]}},64479:function(e,t,n){"use strict";n.r(t);var a=n(88524),o=n(75109),s=n(84724),i=n(78275),r=n(31105),l=n(28513),d=n(27885),c=n(80779),u=n(8817),m=n(52623),p=n(13685),h=n(18338),f=n(76183),g=n(66348),v=n(44349),b=n(24856),w=n(51761),y=n(23330),_=n(56118),C=n(72536),D=n(12865),x=n(84058),k=n(9670),E=n(54292),S=n(4354),A=n(26950),T=n(89210),O=n(10051),L=n(70052),P=n(51331),M=n(31469),B=n(62325),I=n(75676),R=n(40971),F=n(45225),N=n(65984),V=n(70851),U=n(72),H=n(66955),z=n(52491),j=n(39660),Z=n(31825),q=n(25771),$=n(42581),W=n(25626),K=n(40967),G=n(35802),Y=n(53696),X=n(42143),Q=n(42932),J=n(73010),ee=n(72977),te=n(51452),ne=n(60203),ae=n(73188),oe=n(93297),se=n(47277),ie=n(74873),re=n(63302),le=n(31064),de=n(67998);t["default"]={id:r["default"],url:l["default"],name:d["default"],file:O["default"],int:_["default"],time:g["default"],text:w["default"],bool:c["default"],link:l["default"],enum:o["default"],date:f["default"],phone:u["default"],float:m["default"],email:h["default"],function:a["default"],parent:y["default"],parent_type:o["default"],relate:s["default"],address:b["default"],varchar:V["default"],datetime:a["default"],multienum:a["default"],radioenum:p["default"],datetimecombo:i["default"],assigned_user_name:s["default"],readonly:C["default"],dynamicenum:D["default"],currency:x["default"],multiField:N["default"],user_name:V["default"],image:H["default"],password:z["default"],longtext:te["default"],getEmailAddressWidget:v["default"],display_update_form:M["default"],getCurrencyDropDown:B["default"],getEmployeeStatusOptions:o["default"],"Cases-quickCreate-duration_hours":k["default"],"Cases-quickCreate-duration":E["default"],"Calls-EditView-duration_hours":k["default"],"Meetings-EditView-duration":E["default"],"Meetings-EditView-reminders":a["default"],"Calls-EditView-reminders":a["default"],"Leads-EditView-first_name":S["default"],"Leads-EditView-account_name":A["default"],"Contacts-EditView-first_name":T["default"],"Prospects-EditView-first_name":L["default"],"ProspectLists-EditView-domain_name":P["default"],"AOS_Quotes-EditView-number":C["default"],"Documents-EditView-revision":I["default"],"Documents-EditView-related_doc_name":R["default"],"Documents-EditView-related_doc_rev_number":F["default"],"Cases-quickCreate-first_name":U["default"],"Employees-EditView-title":V["default"],"Employees-EditView-department":V["default"],"Employees-EditView-reports_to_name":s["default"],"Users-EditView-status":o["default"],"Users-EditView-employee_status":o["default"],"Users-EditView-title":V["default"],"Users-EditView-department":V["default"],"Users-EditView-reports_to_name":V["default"],"Users-EditView-sigDigitsExample":j["default"],"Users-EditView-use_group_tabs":Z["default"],"Users-EditView-user_theme_picker":q["default"],"Users-EditView-reminders":$["default"],"Users-EditView-tab_chooser":W["default"],"Emails-ComposeView-to_addrs_names":K["default"],"Emails-ComposeView-from_addr_name":ne["default"],"Emails-ComposeView-cc_addrs_names":Y["default"],"Emails-ComposeView-bcc_addrs_names":X["default"],"Emails-ComposeView-emails_email_templates_name":Q["default"],"Emails-ComposeView-parent_name":G["default"],"Emails-ComposeView-description":J["default"],"Emails-ComposeView-is_only_plain_text":c["default"],"Emails-ComposeView-name":ee["default"],"EmailTemplates-EditView-body_html":ae["default"],"EmailTemplates-EditView-ATTACHMENTS_JAVASCRIPT":oe["default"],"EmailTemplates-EditView-variable_module":se["default"],"FP_events-EditView-duration":E["default"],"Cases-quickCreate-revision":a["default"],"Cases-EditView-name":ie["default"],"Cases-EditView-suggestion_box":re["default"],"AOS_PDF_Templates-EditView-insert_fields":le["default"],"AOS_PDF_Templates-EditView-sample":de["default"]}},85697:function(e,t,n){"use strict";n.r(t);var a=n(21067),o=n(48544),s=n(8675),i=n(71528),r=n(4029),l=n(44415),d=n(79939),c=n(82033),u=n(63611),m=n(47138),p=n(96195),h=n(80244),f=n(71619),g=n(14703),v=n(78254),b=n(5506),w=n(35881),y=n(53743),_=n(96041),C=n(30934),D=n(6981),x=n(84269),k=n(61372),E=n(58474),S=n(24025),A=n(44381);t["default"]={url:g["default"],urlList:v["default"],name:a["default"],nameList:o["default"],text:p["default"],textList:h["default"],bool:!1,link:!1,enum:d["default"],enumList:c["default"],date:!1,phone:u["default"],phoneList:m["default"],float:!1,email:!1,relate:b["default"],relateList:w["default"],address:f["default"],varchar:s["default"],varcharList:i["default"],datetime:!1,multienum:!1,radioenum:!1,datetimecombo:!1,assigned_user_name:!1,fullname:!1,parent:y["default"],dateTimeCombo:_["default"],currency:k["default"],currencyList:E["default"],int:S["default"],intList:A["default"],emailAddressWidget:r["default"],emailAddressWidgetList:l["default"],CallsInlineEditDuration:C["default"],file:D["default"],fileList:x["default"]}},67883:function(e,t,n){"use strict";n.r(t);var a=n(81067),o=n(13499),s=n(86410),i=n(21947),r=n(85338),l=n(11288),d=n(18823),c=n(36342),u=n(78957),m=n(73014),p=n(91594),h=n(39485),f=n(20314),g=n(48598),v=n(88533),b=n(54638),w=n(93660),y=n(66927);t["default"]={id:a["default"],url:v["default"],name:s["default"],text:g["default"],bool:o["default"],link:a["default"],enum:p["default"],date:a["default"],phone:f["default"],float:a["default"],email:a["default"],relate:b["default"],address:a["default"],varchar:h["default"],datetime:a["default"],multienum:a["default"],radioenum:a["default"],datetimecombo:a["default"],assigned_user_name:a["default"],user_name:a["default"],file:i["default"],parent:a["default"],int:m["default"],currency:w["default"],getEmailAddressWidget:r["default"],setComplete_button:l["default"],setAcceptLinks:d["default"],dateDue_widget:c["default"],dateStart_widget:u["default"],showDuplicateField:y["default"]}},90601:function(e,t,n){"use strict";n.r(t);var a=n(26754),o=n(50375),s=n(19780),i=n(42134),r=n(60731),l=n(42070),d=n(85888),c=n(83272),u=n(60340),m=n(313),p=n(58627),h=n(79953),f=n(66183),g=n(6885),v=n(61218);t["default"]={id:r["default"],url:l["default"],name:d["default"],text:a["default"],bool:o["default"],link:a["default"],enum:f["default"],date:i["default"],phone:c["default"],float:u["default"],email:m["default"],relate:h["default"],address:a["default"],varchar:a["default"],datetime:a["default"],multienum:f["default"],radioenum:p["default"],datetimecombo:s["default"],assigned_user_name:a["default"],user_name:a["default"],currency:g["default"],parent:v["default"]}},7080:function(e,t,n){"use strict";n.r(t);const a={modules:{Home:{actions:{ListView:!0,UnifiedSearch:!0,About:!0},subMenu:{addDashlet:{css_key:"add-dashlet",lbl:{name:"LBL_ADD_DASHLETS",module:""},click:"addDashlet"},addPage:{css_key:"add-page",lbl:{name:"LBL_ADD_TAB",module:""},click:"addTab"},renamePage:{css_key:"rename-page",lbl:{name:"LBL_DA_RENAME_TAB",module:""},click:"renameTab"},deletePage:{css_key:"delete-page",lbl:{name:"LBL_DA_REMOVE_TAB",module:""},click:"removeTab"}}},Users:{actions:{EditView:!0,Login:!0}},Calls:{actions:{EditView:!0},subActions:{Kanban:{requestOff:!1}},subMenu:{Kanban:{css_key:"kanban",lbl:"Kanban",click:!1,query:{module:"Calls",action:"ListView",subAction:"Kanban"}},Calendar:{css_key:"schedule-calendar",lbl:{name:"LBL_MODULE_NAME",module:"Calendar"},click:!1,query:{module:"Calendar",action:"ListView"}}}},Meetings:{actions:{EditView:!0},subActions:{Kanban:{requestOff:!1}},subMenu:{Kanban:{css_key:"kanban",lbl:"Kanban",click:!1,query:{module:"Meetings",action:"ListView",subAction:"Kanban"}},Calendar:{css_key:"schedule-calendar",lbl:{name:"LBL_MODULE_NAME",module:"Calendar"},click:!1,query:{module:"Calendar",action:"ListView"}}}},Tasks:{actions:{},subActions:{Kanban:{requestOff:!1}},subMenu:{Kanban:{css_key:"kanban",lbl:"Kanban",click:!1,query:{module:"Tasks",action:"ListView",subAction:"Kanban"}},Calendar:{css_key:"schedule-calendar",lbl:{name:"LBL_MODULE_NAME",module:"Calendar"},click:!1,query:{module:"Calendar",action:"ListView"}}}},Opportunities:{actions:{},subActions:{Kanban:{requestOff:!1}},subMenu:{Kanban:{css_key:"kanban",lbl:"Kanban",click:!1,query:{module:"Opportunities",action:"ListView",subAction:"Kanban"}}}},Leads:{actions:{},subActions:{Kanban:{requestOff:!1}},subMenu:{Kanban:{css_key:"kanban",lbl:"Kanban",click:!1,query:{module:"Leads",action:"ListView",subAction:"Kanban"}}}},Bugs:{actions:{},subActions:{Kanban:{requestOff:!1}},subMenu:{Kanban:{css_key:"kanban",lbl:"Kanban",click:!1,query:{module:"Bugs",action:"ListView",subAction:"Kanban"}}}},Project:{actions:{view_GanttChart:!0}},FP_events:{actions:{},subMenu:{Calendar:{css_key:"schedule-calendar",lbl:{name:"LBL_MODULE_NAME",module:"Calendar"},click:!1,query:{module:"Calendar",action:"ListView"}}}},Calendar:{actions:{ListView:!0},subMenu:{Today:{css_key:"today",lbl:{name:"LBL_TODAY",module:"Home"},click:"setToday"}}},AOR_Reports:{actions:{DetailView:!0}},MergeRecords:{actions:{Step1:!0}},Administration:{actions:{Index:!0}}}};t["default"]=a},68353:function(e,t,n){"use strict";n.r(t);var a=n(97477),o=n(66393),s=n(62305),i=n(78839),r=n(9044),l=n(16759),d=n(61938),c=n(30739),u=n(90441),m=n(5075),p=n(27605),h=n(70056),f=n(48365),g=n(31713),v=n(29751),b=n(40609),w=n(84280),y=n(15961),_=n(43726),C=n(7138),D=n(19958),x=n(46712),k=n(59913),E=n(97210),S=n(46414),A=n(10238),T=n(23407),O=n(4093),L=n(56051),P=n(78428),M=n(99963),B=n(79093),I=n(53876),R=n(51858),F=n(93591),N=n(93777),V=n(24715),U=n(24026),H=n(76690),z=n(992),j=n(61052),Z=n(92845);t["default"]={InfoHeader:a["default"],quickCreateHeader:o["default"],DashletConfigHeader:s["default"],CalendarDetailHeader:i["default"],CalendarQuickCreateHeader:r["default"],AuditBody:l["default"],InfoBody:d["default"],InviteBody:c["default"],ReminderBody:u["default"],quickCreateBody:p["default"],relatePopupBody:m["default"],DashletAddBody:h["default"],DashPageAddBody:f["default"],DashPageRenameBody:v["default"],ShowDuplicatesBody:b["default"],MassUpdateBody:_["default"],CalendarLightBoxBody:w["default"],ChooseQuickCreateBody:y["default"],ComposeViewBody:C["default"],AccumulatedHistoryBody:D["default"],RescheduleHistoryBody:x["default"],DashletConfigBody:g["default"],CalendarDashletConfigBody:k["default"],SugarFeedDashletConfigBody:E["default"],OpportunitiesByLeadSourceDashletConfigBody:S["default"],PipelineBySalesStageDashletConfigBody:A["default"],MyPipelineBySalesStageDashletConfigBody:T["default"],OpportunitiesByLeadSourceByOutcomeDashletConfigBody:O["default"],OutcomeByMonthDashletConfigBody:L["default"],MyClosedOpportunitiesDashletConfigBody:P["default"],IFrameDashletConfigBody:M["default"],CalendarDetailBody:B["default"],CalendarQuickCreateBody:I["default"],InfoFooter:F["default"],quickCreateFooter:R["default"],DashPageAddFooter:N["default"],DashPageRenameFooter:V["default"],MassUpdateFooter:U["default"],ComposeViewFooter:H["default"],DashletConfigFooter:z["default"],CalendarDetailFooter:j["default"],CalendarQuickCreateFooter:Z["default"]}},68351:function(e,t,n){"use strict";n.r(t);var a=n(24239),o=n(86243);const s={computed:{focusData(){return a["default"].state.focus.data}},methods:{setToday(){let e=new Date,t={selectedDay:String(this.DOAPP.dateTime.toDoubleDigit(e.getDate())),selectedMonth:String(this.DOAPP.dateTime.toDoubleDigit(e.getMonth()+1)),selectedYear:String(e.getFullYear()),view:this.$store.state.app.setting.calendar.settings.view};this.$store.dispatch("app/updateCalendarDate",t)},tabShow(e){return"removeTab"!==e||"Home"!==a["default"].state.focus.get.module||0!==this.focusData.activePage},propsClickHandler(e){e&&(this[e]?this[e]():console.log('[ERROR]: method "'+e+'" was not found in the SidebarActions'))},async addDashlet(){let e=await a["default"].dispatch("ajaxGet",{get:{VueAjax:1,method:"dashletsDialog"},sanitize:!1});await this.openPopup(e,"DashletAdd","LBL_ADD_DASHLETS")},async addTab(){await a["default"].dispatch("popup/setSize","lg"),await a["default"].dispatch("popup/fill",{type:"DashPageAdd",header:{show:!0,data:{title:"LBL_ADD_TAB"}},body:{show:!0,data:{}},footer:{show:!0,data:{onConfirm:this.addTabSubmit}}}),await a["default"].dispatch("popup/show")},async removeTab(){o["default"].getConfirmToast({title:this.DOAPP.utils.translate("LBL_EDIT_TAB")+"?",onConfirmed:this.removeTabSubmit})},async renameTab(){await a["default"].dispatch("popup/setSize","lg"),await a["default"].dispatch("popup/fill",{type:"DashPageRename",header:{show:!0,data:{title:this.DOAPP.utils.translate("LBL_RENAME_DASHBOARD_PAGE","Home")}},body:{show:!0,data:{}},footer:{show:!0,data:{onConfirm:this.renameTabSubmit}}}),await a["default"].dispatch("popup/show")},async removeTabSubmit(){let e=new FormData;e.append("page_id",this.focusData.activePage),e.append("status","yes"),await a["default"].dispatch("focus/dashPageActions",{data:e,action:"RemoveDashboardPages"}),await a["default"].dispatch("popup/hide")},async addTabSubmit(e){await a["default"].dispatch("focus/dashPageActions",{data:new FormData(e.target.form),action:"AddDashboardPages"})},async renameTabSubmit(e){await a["default"].dispatch("focus/renameDashboardPage",{page_id:e.target.form.page_id.value,dashName:e.target.form.dashName.value})},async openPopup(e,t,n){await a["default"].dispatch("popup/setSize","lg"),await a["default"].dispatch("popup/fill",{type:t,header:{show:!0,data:{title:n}},body:{show:!0,data:e},footer:{show:!1,data:{}}}),await a["default"].dispatch("popup/show")}}};t["default"]=s},50866:function(e,t,n){"use strict";n.r(t);var a=n(49242),o=n(29688),s=n(1120),i=n(24239),r=n(27821),l=n(77387),d=n.n(l);n(16744),n(78797),n(44806);window.jQuery=window.$=d(),(0,a.ri)(o["default"]).use(s["default"]).use(i["default"]).use(r["default"]).mount("#app")},1120:function(e,t,n){"use strict";n.r(t);var a=n(22483),o=n(29688);const s=[{path:"/",name:"app",component:o["default"]}],i=(0,a.p7)({history:(0,a.PO)("/app/"),base:"/app/",routes:s});t["default"]=i},24239:function(e,t,n){"use strict";n.r(t);n(82801),n(61295);var a=n(20065),o=n(49638),s=n(5217),i=n(50862),r=n(49416),l=n(78466),d=n(81697),c=n(89506),u=n(91076),m=n(86243);t["default"]=(0,a.MT)({modules:{app:o["default"],cache:s["default"],focus:i["default"],user:r["default"],popup:l["default"],quickCreate:i["default"],mass_actions:d["default"],quick_create:c["default"]},getters:{},mutations:{saveLoginPage:(e,t)=>{e.app.auth=t.auth,e.app.language=t.data.app_lang,e.app.list_strings=t.data.app_list_lang,e.app.langHeader=t.data.app_langHeader,e.app.config=t.data.app_config},saveMainPage:(e,t)=>{e.app.auth=t.auth,e.app.menu=t.data.menu,e.app.modules=t.data.modules,e.app.config=t.data.app.app_config,e.app.langHeader=t.data.app.app_langHeader,e.app.lang=t.data.app.app_lang,e.app.curLang=t.data.app.app_curLang,e.app.list_strings=t.data.app.app_list_lang,e.user.data=t.data.user.data,e.user.gcls=t.data.user.gcls,e.user.logoutLink=t.data.user.logoutLink}},actions:{async getRootControllerData(e,t){let n=structuredClone(t);if(e.state.app.ajaxOff)return e.commit("app/resetAjaxOff"),e.state.focus.get;{"Calendar"===n.module&&"ListView"===n.action&&(n.action="index");let t=await e.dispatch("ajaxGet",{get:n,sanitize:!1});if("object"===typeof t)return Object.keys(t.app.sugarNotice).forEach((e=>{setTimeout((()=>m["default"].getErrorToast(t.app.sugarNotice[e])),100)})),await e.dispatch("focus/setFocus",t),t.focus.get;{let e="";return"string"===typeof t&&(e=t.replace(/<script[^>]*>([\S\s]*?)<\/script>/gim,"").replace(/<[^>]+>/g,"")),setTimeout((()=>m["default"].getErrorToast(e)),100),null}}},async getLoginPage(e,t){t.action="Login",t.module="Users",t.VueAjax=1;let n=await e.dispatch("ajaxGet",{get:t});e.commit("saveLoginPage",n)},async getMainPage(e,t){t.action="Login",t.module="Users",t.VueAjax=1;let n=await e.dispatch("ajaxGet",{get:t});e.commit("saveMainPage",n)},ajaxGet(e,t){return console.log("ajaxGet()"),e.commit("app/SET_LOADING",!0),u.Z.get("../index.php",{params:t.get,headers:{"X-Da-Vue-Ajax":"1"}}).then((n=>{let a;if(a=t.sanitize?e.dispatch("sanitizeResponse",n.data):n.data,"string"===typeof a&&!0===a.includes("==NO=AUTH=LOGIN_PAGE==")){let t=e.dispatch("sanitizeResponse",a);e.dispatch("redirectToLogin",t)}return e.commit("app/SET_LOADING",!1),a}))},ajaxPost(e,t){return console.log("ajaxPost()"),e.commit("app/SET_LOADING",!0),u.Z.post("../index.php",t.data,{params:t.get,headers:{"X-Da-Vue-Ajax":"1"}}).then((n=>{let a;return a=t.sanitize?e.dispatch("sanitizeResponse",n.data):n.data,e.commit("app/SET_LOADING",!1),a}))},sanitizeResponse(e,t){if(console.log("sanitizeResponse()"),"object"===typeof t)return console.log("Response does not need cleaning - is object"),t;let n;if(!1===t.includes("==CONFIRMATION=OF=THE=FULL=LOAD=="))return n={error:!0,error_code:406,error_description:"The server response was not fully loaded"},console.log("[ERROR]: "+n.error_description),setTimeout((()=>m["default"].getErrorToast("[ERROR]: "+n.error_description)),100),n;if(t.includes("xdebug-error")){let e=t.split("<font size='1'>");e=e.filter((e=>e.includes("xdebug-error")));let a={};for(let t in e)a[t]=e[t].slice(e[t].indexOf("<table"),e[t].indexOf("</table>")+8);return n={error:!0,error_code:406,error_description:"XDEBUG-ERROR"},console.log("[ERROR]: "+n.error_description),console.log(a),setTimeout((()=>m["default"].getErrorToast("[ERROR]: "+n.error_description)),100),n}let a=t.split("=data="),o=a.filter((e=>!e.includes("%%%%%%"))),s=o.join("").replace(/<(script language)="javascript">.*<\/script>/gm,"");try{n=JSON.parse(s)}catch{n={error:!0,error_code:1,error_description:"cant read json"},console.log("[ERROR]: "+n.error_description),setTimeout((()=>m["default"].getErrorToast("[ERROR]: "+n.error_description)),100)}return n},redirectToLogin(e,t){console.log("NO AUTH"),t.then((e=>{let t=e.config.site_url+"/index.php?"+new URLSearchParams(e.focus.get).toString();window.location.replace(t)}))}}})},49638:function(e,t,n){"use strict";n.r(t);n(82801),n(61295),n(57658);var a=n(96294);const o={state:()=>({ajaxOff:!1,contentReady:!1,loading:!1,pageReady:!1,isControlBarCollapsed:!0,auth:!1,menu:{},modules:{},lang:{},list_strings:{},config:{},langHeader:"",setting:{theme:{sideBarCollapse:!1,darkMode:!1,compactMode:!1},saved_calendar_presets:[],calendar:{settings:{},sharedUsers:[],isOnlyMineFlag:!1,isDashlet:!1,dashletId:""},kanban:{},subpanels:{}}}),getters:{getDefaultCalendarSettings(){return{activityColors:{Meetings:{border:"#87719C",body:"#007bff",text:"#E5E5E5",label:"LBL_MODULE_NAME"},Calls:{border:"#487166",body:"#28a745",text:"#E5E5E5",label:"LBL_MODULE_NAME"},Tasks:{border:"#515A71",body:"#17a2b8",text:"#E5E5E5",label:"LBL_MODULE_NAME"},FP_events:{border:"#C29B8A",body:"#FFC107",text:"#E5E5E5",label:"LBL_MODULE_NAME"}},hoursOptions:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24"],minutesOptions:{0:"00",15:"15",30:"30",45:"45"},dateStartMeridiem:"",selectedDay:(new Date).getDate(),selectedMonth:(new Date).getMonth()+1,selectedYear:(new Date).getFullYear(),view:"sharedWeek",dateStartHours:"07",dateEndHours:"20",dateStartMinutes:"00",dateEndMinutes:"00",shared_calendar_separate:"true",display_timeslots:"true",showCalls:"true",showCompleted:"true",showTasks:"true"}},getDefaultThemeSettings(e,t){return{theme:{sideBarCollapse:!1,darkMode:!1,compactMode:!1},saved_calendar_presets:[],calendar:{settings:structuredClone(t.getDefaultCalendarSettings),sharedUsers:[],isOnlyMineFlag:!1,isDashlet:!1,dashletId:""},kanban:{},subpanels:{}}},getCalendarIsDashlet(e){return e.setting.calendar.isDashlet},getCalendarDashletId(e){return e.setting.calendar.dashletId},getTheme(e,t){return t.isDarkMode?"dark":"light"},isDarkMode(e){return e.setting.theme.darkMode},getCurrentLocaleLanguage(e){switch(e.curLang.toLowerCase()){case"ru_ru":return"ru";case"en_us":return"en-US"}},isControlBarCollapsed(e){return e.isControlBarCollapsed},savedCalendarPresets(e){return e.setting.saved_calendar_presets},hasSavedPresets(e,t){return!!t.savedCalendarPresets.length},activePreset(e,t){return t.savedCalendarPresets.find((e=>e.isActive))},hasActivePreset(e,t){return!!t.activePreset},getCalendarView:e=>(t="")=>{let n=e.setting.calendar.settings.view;return n?(t&&(n=t),n=n.includes("Day")?n.replace("agenda","").toLowerCase():n.replace("agenda","shared"),n):"sharedWeek"}},mutations:{SET_CALENDAR_DASHLET_ID(e,t=""){e.setting.calendar.dashletId=t},SET_CALENDAR_IS_DASHLET(e,t){e.setting.calendar.isDashlet=t},SET_CALENDAR_VIEW(e,t){e.setting.calendar.settings.view=t},SET_CALENDAR_SELECTED_DATE(e,t){e.setting.calendar.settings.selectedDay=Number(t.selectedDay),e.setting.calendar.settings.selectedMonth=t.selectedMonth,e.setting.calendar.settings.selectedYear=t.selectedYear,e.setting.calendar.settings.view=t.view,e.setting.calendar.settings.selectedDay=String(t.selectedDay)},SET_KANBAN_SORT_DIRECTION(e,{sortDirection:t,module:n}){e.setting.kanban[n]&&(e.setting.kanban[n].sortDirection=t)},TOGGLE_CONTROL_BAR(e){e.isControlBarCollapsed=!e.isControlBarCollapsed},DELETE_KANBAN_PRESET(e,t){e.setting.kanban[t].presets=e.setting.kanban[t].presets.filter((e=>!0!==e.isActive))},CHOOSE_KANBAN_PRESET(e,t){let n=e.setting.kanban[t.module].presets.find((e=>Number(e.id)===Number(t.id)));n&&(e.setting.kanban[t.module].filters=structuredClone(n.filters),n.isActive=!0)},SAVE_KANBAN_PRESET(e,{module:t,presetName:n}){let a=structuredClone(e.setting.kanban[t].filters);e.setting.kanban[t].presets.push({id:Date.now(),name:n,isActive:!0,filters:a})},UPDATE_KANBAN_PRESET(e,t){let n=e.setting.kanban[t].presets.find((e=>!0===e.isActive));n&&(n.filters=structuredClone(e.setting.kanban[t].filters))},DEACTIVATE_KANBAN_PRESETS(e,t){e.setting.kanban[t].presets.forEach((e=>{e.isActive=!1}))},SET_ACTIVE_KANBAN_PRESET(e,t){let n=e.setting.kanban[t.module].presets.find((e=>e.id===Number(t.id)));n&&(n.isActive=!0)},CREATE_KANBAN_SETTINGS(e,t){Object.keys(e.setting.kanban).length?e.setting.kanban[t]||(e.setting.kanban[t]={filters:null,presets:[],sortDirection:"DESC"}):e.setting.kanban={[t]:{filters:null,presets:[],sortDirection:"DESC"}}},SET_KANBAN_FILTER_DATA(e,{module:t,values:n}){e.setting.kanban[t].filters=n},SET_KANBAN_SEARCH_QUERY(e,{module:t,searchQuery:n}){e.setting.kanban[t].searchQuery=n},SET_AUTH:(e,t)=>{e.auth=t},SET_SERVER:(e,t)=>{e.server=t},setAjaxOff:e=>{e.ajaxOff=!0},resetAjaxOff:e=>{e.ajaxOff=!1},SET_SETTING:(e,t)=>{e.setting=t},SET_CONTENT_READY:(e,t)=>{e.contentReady=t},SET_PAGE_READY:(e,t)=>{e.pageReady=t},SET_LOADING:(e,t)=>{e.loading=t},SET_DEFAULT_SETTINGS:(e,t)=>{e.setting.calendar.settings=t},SAVE_CALENDAR_PRESET:(e,t)=>{let n=JSON.parse(JSON.stringify(e.setting.calendar));e.setting.saved_calendar_presets.push({name:t,isActive:!0,calendar:{isOnlyMineFlag:n.isOnlyMineFlag,settings:n.settings,sharedUsers:n.sharedUsers}})},CLEAR_SETTINGS:(e,t)=>{let n=e.setting.calendar.settings.selectedDay,a=e.setting.calendar.settings.selectedMonth,o=e.setting.calendar.settings.selectedYear;e.setting.calendar.settings=t,e.setting.calendar.settings.selectedDay=n,e.setting.calendar.settings.selectedMonth=a,e.setting.calendar.settings.selectedYear=o},UPDATE_CALENDAR_PRESET:(e,t=!1)=>{let n=JSON.parse(JSON.stringify(e.setting.calendar));e.setting.saved_calendar_presets.forEach((e=>{!0===e.isActive&&(t?e.calendar=t:(e.calendar.isOnlyMineFlag=n.isOnlyMineFlag,e.calendar.settings=n.settings,e.calendar.sharedUsers=n.sharedUsers))}))},REMOVE_CALENDAR_PRESET:e=>{e.setting.saved_calendar_presets=e.setting.saved_calendar_presets.filter((e=>!0!==e.isActive))},DEACTIVATE_CALENDAR_PRESETS:e=>{e.setting.saved_calendar_presets.length&&e.setting.saved_calendar_presets.forEach((e=>{!0===e.isActive&&(e.isActive=!1)}))},CHOOSE_CALENDAR_PRESET:(e,t="")=>{let n;if(n=t?e.setting.saved_calendar_presets.find((e=>e.name===t)):e.setting.saved_calendar_presets.slice(-1)[0],!n)return;let a=JSON.parse(JSON.stringify(n));e.setting.calendar.isOnlyMineFlag=a.calendar.isOnlyMineFlag,e.setting.calendar.sharedUsers=a.calendar.sharedUsers,e.setting.calendar.settings=a.calendar.settings,n.isActive=!0},UPDATE_SHARED_USERS:(e,t=[])=>{e.setting.calendar.sharedUsers=t},UPDATE_IS_ONLY_MINE_FLAG:(e,t)=>{e.setting.calendar.isOnlyMineFlag=t}},actions:{setDefaultCalendarSettings(e){a["default"].isEmpty(e.state.setting.calendar.settings)&&e.commit("SET_DEFAULT_SETTINGS",structuredClone(e.getters.getDefaultCalendarSettings))},setKanbanSearchQuery(e){let t=[];const n=e.rootState.focus.get.module,o=e.rootState.focus.data.filters.fieldMetadata.advanced;let s=e.state.setting.kanban[n].filters;for(let i in s)if((!Array.isArray(s[i])||s[i].length)&&s[i]){let e=a["default"].translate(o[i].vname??o[i].label),n=s[i];t.push(e+": "+n)}t=t.join(", "),e.commit("SET_KANBAN_SEARCH_QUERY",{module:e.rootState.focus.get.module,searchQuery:t})},async setKanbanFilterData(e){let t=structuredClone(e.rootState.focus.data.filters.values.kanban);e.commit("SET_KANBAN_FILTER_DATA",{module:e.rootState.focus.get.module,values:t})},toggleControlBar(e){e.commit("TOGGLE_CONTROL_BAR")},deleteKanbanPreset(e,t){e.commit("DELETE_KANBAN_PRESET",t)},chooseKanbanPreset(e,t){e.commit("DEACTIVATE_KANBAN_PRESETS",t.module),e.commit("CHOOSE_KANBAN_PRESET",t)},async saveKanbanPreset(e,t){const n=e.rootState.focus.get.module;e.commit("DEACTIVATE_KANBAN_PRESETS",n),e.commit("SAVE_KANBAN_PRESET",{presetName:t,module:n}),await e.dispatch("setSettings")},async updateKanbanPreset(e,t){e.commit("UPDATE_KANBAN_PRESET",t),await e.dispatch("setSettings")},saveCalendarPreset(e,t){e.commit("SAVE_CALENDAR_PRESET",t)},updateCalendarDate(e,t){Object.keys(e.state.setting.calendar.settings).length&&e.commit("SET_CALENDAR_SELECTED_DATE",t)},async getSettings(e){let t=await e.dispatch("ajaxGet",{get:{VueAjax:!0,method:"getUserThemeSettings"}},{root:!0});e.commit("SET_AUTH",t.auth),t.data&&!a["default"].isEmpty(t.data)&&e.commit("SET_SETTING",t.data)},async setSettings(e,t=e.state.setting){e.commit("SET_SETTING",t);let n=new FormData;n.append("content",JSON.stringify(t));let a=await e.dispatch("ajaxPost",{get:{VueAjax:!0,method:"setUserThemeSettings"},data:n},{root:!0});a.data?console.log("Settings have been saved"):console.log("Error saving settings")}},namespaced:!0};t["default"]=o},5217:function(e,t,n){"use strict";n.r(t);const a={state:()=>({cache:{}}),getters:{get:e=>t=>e.cache[t]},mutations:{REMOVE(e,t){delete e.cache[t]},SET(e,{key:t,value:n}){e.cache[t]=n}},namespaced:!0};t["default"]=a},50862:function(e,t,n){"use strict";n.r(t);n(57658),n(82801),n(61295);var a=n(86243),o=n(96294),s=n(29496);const i={state:()=>({get:{module:"Users",action:"Login"},actions:{},data:{},subpanels:{data:{}},validate:{}}),getters:{getValidation:e=>t=>e.validate[t]},mutations:{updateListColumnChooser(e,t){e.data.columnChooser=t},updateReminderInvite(e,t){e.data.pageData.reminderInvite.users_arr=t},SET_VALIDATE(e,t){e.validate[t.name]=t.data},cleanFocusFields:(e,t)=>{for(let n in t)Object.hasOwn(e.data.beanData,t[n])&&(e.data.beanData[t[n]].value="")},UPDATE_MODEL_VALUE(e,t){Object.hasOwn(e.data.beanData,t.name)?e.data.beanData[t.name].value=t.value:e.data.beanData[t.name]={value:t.value}},UPDATE_MODEL_LIST_VALUE(e,t){Object.hasOwn(e.data.viewData.data,t.row)&&Object.hasOwn(e.data.viewData.data[t.row],t.name)&&(e.data.viewData.data[t.row][t.name]=t.value)},UPDATE_MODEL_PATH_VALUE(e,t){if(t.name)try{e.data[t.path].values[t.row][t.name]=t.value}catch(n){console.log(n)}else console.log("[ERROR] Cant update "+t.name)},CLEAN_MODEL_PATH_VALUES(e,t){for(let a in t.fields)if(t.fields[a])try{e.data[t.path].values[t.row][t.fields[a]]=""}catch(n){console.log(n)}else console.log("[ERROR] Cant update "+t.fields[a])},SET_CALENDAR_DASHLET_FOCUS(e,t){e.data.viewData.panelsData[t.dashletId].viewData.data=t.dashletData},SET_FOCUS_DATA(e,t){e.data=t},SET_FOCUS(e,t){console.log("SET_FOCUS_DATA()"),t.focus.get&&(e.get=t.focus.get),e.actions=t.focus.actions,e.data=t.focus.data,e.favoriteRecords=t.focus.favoriteRecords,e.recentRecords=t.focus.recentRecords,Object.hasOwn(t.focus,"search")&&!o["default"].isEmpty(t.focus.search)&&(e.data.beanData=t.focus.search.beanData,e.data.beanDataCustom=t.focus.search.customFields,e.data.columnChooser=t.focus.search.columnChooser,e.data.searchData=t.focus.search.searchData,e.data.filters=t.focus.search.filters),Object.hasOwn(t.focus,"subPanelTiles")&&!o["default"].isEmpty(t.focus.subPanelTiles)&&(e.subpanels.lock=t.focus.subPanelTiles.lock,e.subpanels.tabs=t.focus.subPanelTiles.tabs,e.subpanels.tabsProperties=t.focus.subPanelTiles.tabsProperties)},DELETE_CALENDAR_EVENT(e,t){let n;n=""!==t.dashletId?e.data.viewData.panelsData[t.dashletId].viewData.data.activities[t.userId]:e.data.activities[t.userId];let a=n.findIndex((e=>e.record===t.record));-1!==a&&n.splice(a,1)},ADD_EMPTY_EVENT(e,{dashletId:t,newEvent:n}){let a;if(a=""!==t?e.data.viewData.panelsData[t].viewData.data.activities:e.data.activities,!n.timestampEnd){const e=60*(60*Number(n.duration_hours)+Number(n.duration_minutes));n.timestampEnd=Number(n.timestamp)+e}a[n.user_id]=[n]},SAVE_CALENDAR_ACTIVITY(e,{dashletId:t,newEvent:n}){let a;if(a=""!==t?e.data.viewData.panelsData[t].viewData.data.activities[n.user_id]:e.data.activities[n.user_id],!a)return;let o=a.findIndex((e=>e.record===n.record));-1!==o?a.splice(o,1,n):a.push(n)},RESIZE_CALENDAR_EVENT(e,t){let n,a;a=""!==t.dashletId?e.data.viewData.panelsData[t.dashletId].viewData.data.activities[t.user_id]:e.data.activities[t.user_id],n=a.find((e=>e.record===t.record));let o=a.findIndex((e=>e.record===t.record));n&&(n.duration_hours=String(t.hours),n.duration_minutes=String(t.minutes),n.timestamp=(Date.parse(t.start)-s["default"].getTimezoneOffset())/1e3,n.timestampEnd=(Date.parse(t.end)-s["default"].getTimezoneOffset())/1e3),-1!==o&&a.splice(o,1,n)},setSubpanelData(e,t){e.subpanels.data[t.name]=t.data,e.subpanels.tabsProperties[t.name].expanded_subpanels=!0},resetSubpanelShow(e,t){e.subpanels.tabsProperties[t.name].expanded_subpanels=!1},setMergeRecordsData(e,t){e.data=t},RESET_FOCUS(e){Object.assign(e,i.state())},SET_FAVOURITE_RECORDS(e,t){e.favoriteRecords=t},SET_DASHBOARD_PAGE_NAME(e,t){e.data.pageData[parseInt(t.page_id)].title=t.dashName},SET_KANBAN_COLUMN_DATA(e,{status:t,nextOffset:n,items:a}){let o,s=a.viewData[t];e.data.viewData&&e.data.viewData.kanban?o=e.data.viewData.kanban[t]:e.data.viewData={kanban:{}},o?0!=n&&Object.keys(s.recordList).length?(o.nextOffset=s.nextOffset,o.currentOffset=s.currentOffset,o.rowCount=s.rowCount,o.recordList=Object.assign(o.recordList,s.recordList),o.recordAccess=Object.assign(o.recordAccess,s.recordAccess)):0==n&&(o.nextOffset=s.nextOffset,o.currentOffset=s.currentOffset,o.rowCount=s.rowCount,o.recordList=s.recordList,o.recordAccess=s.recordAccess):e.data.viewData.kanban[t]=s},SET_KANBAN_BEANDATA(e,t){e.data.beanData=t},SET_KANBAN_COLUMN_ROW_COUNT(e,{status:t,data:n}){e.data.viewData.kanban[t].rowCount=n.rowCount},SET_KANBAN_FILTERS(e,t){e.data.filters=t.filters;for(let n in t.searchData)Object.hasOwn(t.searchData[n],"value")&&(e.data.filters.values.advanced[n]=t.searchData[n].value)},SET_DASH_PAGE(e,{newData:t,dashletId:n}){e.data.activePage=t.activePage,e.data.pageData[t.activePage].columnsAmount=t.pageData[t.activePage].columnsAmount,e.data.viewData.panelsMetadata["page_"+t.activePage]=t.viewData.panelsMetadata["page_"+t.activePage],n?e.data.viewData.panelsData[n]=t.viewData.panelsData[n]:e.data.viewData.panelsData=t.viewData.panelsData},DELETE_DASHLET(e,{page:t,dashletId:n}){e.data.viewData.panelsMetadata[t].forEach((e=>{e.panels=e.panels.filter((e=>e!==n))}))},ADD_DASHLET(e,{page:t,dashletId:n}){e.data.viewData.panelsMetadata[t][0].panels.push(n)},SET_DASHLETS_ORDER(e,t){let n=e.data.viewData.panelsMetadata[t.activePage].find(((e,n)=>n===t.previousCol)),a=e.data.viewData.panelsMetadata[t.activePage].find(((e,n)=>n===t.targetCol)),o=a.panels.indexOf(t.targetId);n.panels=n.panels.filter((e=>e!==t.activeId)),t.isInsertBefore?a.panels.splice(o,0,t.activeId):a.panels.splice(o+1,0,t.activeId)},DELETE_REMINDER(e,t){e.data.beanData.reminders.value.remindersData.splice(t,1)},SET_SUGARFEED_DASH_PAGE(e,{newData:t,dashletId:n}){n?e.data.viewData.panelsData[n]=t.data:e.data.viewData.panelsData=t.data},SET_CALENDAR_ACTIVITIES(e,{activities:t,dashletId:n}){""!==n?e.data.viewData.panelsData[n].viewData.data.activities=structuredClone(t):e.data.activities=structuredClone(t)}},actions:{async setSharedUsers(e,t=[]){let n=new FormData;e.rootState.app.setting.calendar.isOnlyMineFlag||!t.length?(n.append("shared_ids[]",e.rootState.user.data.id),e.commit("app/UPDATE_IS_ONLY_MINE_FLAG",!0,{root:!0})):t.length?t.forEach((e=>{n.append("shared_ids[]",e)})):e.commit("app/UPDATE_IS_ONLY_MINE_FLAG",!0,{root:!0}),n.append("module","Calendar"),n.append("action","index"),n.append("view",e.rootGetters["app/getCalendarView"]()),await e.dispatch("ajaxPost",{data:n},{root:!0}),e.commit("app/UPDATE_SHARED_USERS",t,{root:!0})},async saveCalendarActivity(e,t){const n={get:{module:t.module,VueAjax:1,method:"saveActivity",arg:t}};let a=await e.dispatch("ajaxGet",n,{root:!0});e.commit("SAVE_CALENDAR_ACTIVITY",{dashletId:e.rootGetters["app/getCalendarDashletId"],newEvent:a.data})},async retrieveCalendarActivities(e,{params:t={},dashletId:n=""}={}){const a=e.rootState.app.setting.calendar.settings;let s={get:{module:"Calendar",action:"index"}};o["default"].isEmpty(t)?(s.get.day=a.selectedDay,s.get.month=a.selectedMonth,s.get.year=a.selectedYear):(s.get.day=t.selectedDay,s.get.month=t.selectedMonth,s.get.year=t.selectedYear,s.get.view=t.view);let i=await e.dispatch("ajaxGet",s,{root:!0});e.commit("SET_CALENDAR_ACTIVITIES",{activities:i.focus.data.activities,dashletId:n})},deleteReminder(e,t){e.commit("DELETE_REMINDER",t)},async setDashletsOrder(e,t){let n="page_"+e.state.data.activePage;t.activePage=n,e.commit("SET_DASHLETS_ORDER",t);let a=[];e.state.data.viewData.panelsMetadata[n].forEach((e=>{let t=[];e.panels.forEach((e=>{t.push(e)})),a.push(t.join())})),a=a.join("|"),await e.dispatch("sendDragPanelOrder",a)},async sendDragPanelOrder(e,t){let n=new FormData;n.append("layout",t);let a={get:{module:"Home",action:"DynamicAction",DynamicAction:"saveLayout",selectedPage:e.state.data.activePage,to_pdf:1},data:n};await e.dispatch("ajaxPost",a,{root:!0})},setValidate(e,t){e.commit("SET_VALIDATE",t)},updateModelValue(e,t){e.commit("UPDATE_MODEL_VALUE",t)},async getKanbanData(e,{params:t,formData:n}){return n?await e.dispatch("ajaxPost",{get:{VueAjax:1,method:"getKanbanData",arg:t},data:n},{root:!0}):await e.dispatch("ajaxGet",{get:{VueAjax:1,method:"getKanbanData",arg:t}},{root:!0})},async setKanbanSearchData(e,t){const n=await e.dispatch("ajaxGet",{get:{VueAjax:1,method:"getKanbanSearchForm",arg:t}},{root:!0});let a=e.rootState.app.setting.kanban?.[t.module_name]?.filterData;e.commit("SET_KANBAN_FILTERS",{filters:n.data.filters,searchData:a})},async setKanbanBeanData(e,t){let n=await e.dispatch("getKanbanData",{params:t});n.data?e.commit("SET_KANBAN_BEANDATA",n.data.beanData):console.error("Backend error, where is no data in response")},async setKanbanData(e,t){const n=await e.dispatch("getKanbanData",t);n.data?(e.commit("SET_KANBAN_COLUMN_DATA",{status:t.params.status_field_value,nextOffset:t.params.offset,items:n.data}),e.commit("app/SET_KANBAN_SORT_DIRECTION",{sortDirection:n.data.pageData.sortDirection,module:t.params.module_name},{root:!0})):console.error("Backend error, where is no data in response")},async setKanbanColumnRowCount(e,t){const n=await e.dispatch("getKanbanData",t);n.data?e.commit("SET_KANBAN_COLUMN_ROW_COUNT",{status:t.params.status_field_value,data:n.data}):console.error("Backend error, where is no data in response")},setKanbanPresetValues(e,t){let n=e.rootState.app.setting.kanban[t.module].filters;for(let a in n){let t=n[a];e.commit("UPDATE_MODEL_PATH_VALUE",{path:"filters",name:a,row:"kanban",value:t})}},async setCalendarSettings(e,t){let n=await e.dispatch("ajaxPost",t,{root:!0});e.commit("SET_CALENDAR_ACTIVITIES",{dashletId:e.rootGetters["app/getCalendarDashletId"],activities:n.focus.data.activities}),await e.dispatch("app/setSettings",e.rootState.app.setting,{root:!0})},setFocus(e,t){e.commit("app/SET_AUTH",t.app.auth,{root:!0}),e.commit("app/SET_SERVER",t.app.server,{root:!0}),e.commit("RESET_FOCUS"),e.commit("SET_FOCUS",t)},setFocusData(e,t){e.commit("SET_FOCUS_DATA",t)},setCalendarDashletFocus(e,t){e.commit("SET_CALENDAR_DASHLET_FOCUS",t)},async getFocusData(e,t){let n=await e.dispatch("ajaxGet",t,{root:!0});await e.dispatch("setFocusData",n.data)},async getFocus(e,t){t.sanitize=!0;let n=await e.dispatch("ajaxGet",t,{root:!0});await e.dispatch("setFocus",n)},async postFocus(e,t){t.sanitize=!0;let n=await e.dispatch("ajaxPost",t,{root:!0});await e.dispatch("setFocus",n)},async getSubpanelData(e,t){let n={get:{action:e.state.get.action,module:e.state.get.module,record:e.state.get.record,method:"getSubpanelDynamic",arg:{subpanel:t.name},VueAjax:1}},a=await e.dispatch("ajaxGet",n,{root:!0});t.data=a.data,e.commit("setSubpanelData",t)},async saveSubpanelExpand(e,t){let n={get:{module:e.state.get.module,VueAjax:1,method:"setSubpanelExpand",arg:{subpanel:t.subpanel,expand:t.expand}}};await e.dispatch("ajaxGet",n,{root:!0})},async retrieveDashPage(e,t){let n=await e.dispatch("ajaxGet",{get:t},{root:!0});e.commit("SET_DASH_PAGE",{newData:n.focus.data,dashletId:t.id})},async retrieveDashlet(e,t){const n={get:{VueAjax:1,method:"configureDashlet",arg:{id:t}}},a=await e.dispatch("ajaxGet",n,{root:!0}),o=a.data.header,s=a.data.body;return{title:o,data:s}},async addDashletDialog(e,t){let n=await e.dispatch("ajaxPost",t,{root:!0}),s=e.state.data.activePage,i=e.state.data.viewData.panelsMetadata["page_"+s][0].panels,r=n+","+i.join(),l=new FormData;l.append("layout",r);let d=await e.dispatch("ajaxPost",{get:{module:"Home",action:"DynamicAction",DynamicAction:"saveLayout",selectedPage:s,to_pdf:1},data:l},{root:!0});1===d?(a["default"].getSuccessToast(o["default"].translate("LBL_ADDED_DASHLET")),await e.dispatch("retrieveDashPage",{entryPoint:"retrieve_dash_page",page_id:s,id:n,to_pdf:!0})):a["default"].getErrorToast("ERROR: Dashlet addition failed. Backend return false")},async dashPageActions(e,t){let n={get:{module:"Home",action:t.action},data:t.data};await e.dispatch("ajaxPost",n,{root:!0}),await e.dispatch("getFocus",{get:{module:"Home",action:"ListView"},sanitize:!0}),await e.dispatch("retrieveDashPage",{entryPoint:"retrieve_dash_page",page_id:e.state.data.pageData.length-1,to_pdf:!0})},async deleteDashletDialog(e,t){let n=await e.dispatch("ajaxGet",{get:{to_pdf:1,module:"Home",action:"DynamicAction",DynamicAction:"deleteDashlet",activePage:t.activePage,id:t.id}},{root:!0});1===n?(e.commit("DELETE_DASHLET",{page:"page_"+t.activePage,dashletId:t.id}),await e.dispatch("retrieveDashPage",{entryPoint:"retrieve_dash_page",page_id:t.activePage,to_pdf:!0})):(a["default"].getErrorToast("ERROR: Dashlet remove failed. Backend return false"),console.log("ERROR: Dashlet remove failed. Backend return false"))},async renameDashboardPage(e,t){let n=await e.dispatch("ajaxGet",{get:{VueAjax:1,method:"renameDashboardPage",arg:{page_id:t.page_id,dashName:t.dashName}}},{root:!0});e.commit("SET_DASHBOARD_PAGE_NAME",n.data)},async getFavoriteRecords(e,t){let n=await e.dispatch("ajaxGet",{get:{to_pdf:1,module:"Favorites",action:"get_sidebar_elements",record_module:t.record_module}},{root:!0});e.commit("SET_FAVOURITE_RECORDS",n)},async retrieveFeedDashPage(e,t){let n=await e.dispatch("ajaxGet",t,{root:!0});e.commit("SET_SUGARFEED_DASH_PAGE",{newData:n,dashletId:t.id})}},namespaced:!0};t["default"]=i},81697:function(e,t,n){"use strict";n.r(t);const a={state:()=>({all:!1,uids:{},pages:{},data:{show:!1,size:"",responsive:!1,type:!1,header:{show:!1,data:{}},body:{show:!1,data:{}},footer:{show:!1,data:{}}},validate:{}}),getters:{getValidation:e=>t=>e.validate[t]},mutations:{SET_MASS_ACTION_ITEM(e,t){"selectall"===t.id?(e.all=t.value,e.pages={},e.uids={}):"pages"===t.id?e.pages[t.current]=t.value:e.uids[t.id]=t.value},RESET_MASS_ACTION(e){Object.assign(e,a.state())},RESET_POPUP:e=>{e.data.show=!1,e.data.size="",e.data.type="",e.data.header={},e.data.body={},e.data.footer={},e.data.responsive=!1},SHOW:e=>{e.data.show=!0},HIDE:e=>{e.data.show=!1},FILL:(e,t)=>{console.log("FILL",t),e.data.type=t.type,e.data.header=t.header,e.data.body=t.body,e.data.footer=t.footer},SET_SIZE:(e,t="")=>{e.data.size=t},UPDATE_MODEL_VALUE(e,t){Object.hasOwn(e.data.body.data.beanData,t.name)?e.data.body.data.beanData[t.name].value=t.value:e.data.body.data.beanData[t.name]={value:t.value}},SET_VALIDATE(e,t){e.validate[t.name]=t.data}},actions:{setValidate(e,t){e.commit("SET_VALIDATE",t)},async getContentMassUpdate(e,t){let n=await e.dispatch("ajaxGet",t,{root:!0}),a={type:"MassUpdate",header:{show:!0,data:{title:"LBL_MASS_UPDATE"}},body:{show:!0,data:n.data,module:t.get.module},footer:{show:!0}};e.commit("FILL",a),e.commit("SHOW")},updateModelValue(e,t){e.commit("UPDATE_MODEL_VALUE",t)}},namespaced:!0};t["default"]=a},78466:function(e,t,n){"use strict";n.r(t);const a={state:()=>({popup_0:{show:!1,size:"",responsive:!1,type:!1,header:{show:!1,data:{}},body:{show:!1,data:{}},footer:{show:!1,data:{needConfirm:!1}},parent:""}}),getters:{getValidation:(e,t)=>n=>e[t.getShownName].body.validate?e[t.getShownName].body.validate[n]:{},initialState(){return{show:!1,size:"",type:"",header:{show:!1,data:{}},body:{show:!1,data:{}},footer:{show:!1,data:{needConfirm:!1}},responsive:!1,parent:""}},popupsAmount(e){return Object.keys(e).length},getShownName(e,t){return"popup_"+(t.popupsAmount-1)},getPopupModule(e,t){return e[t.getShownName].header.data.module},getPopupType(e,t){return e[t.getShownName].type},getPopupSize(e,t){return e[t.getShownName].size},getPopupParent(e,t){return e[t.getShownName].parent},getNeedConfirm(e,t){return e[t.getShownName].footer.data.needConfirm},getPopupBodyData(e,t){return e[t.getShownName].body.data},getPopupSectionData:(e,t)=>n=>e[t.getShownName][n].data},mutations:{SET_QUICK_CREATE_DATA(e,{data:t,name:n}){e[n].body.data=t},ADD_NEW_POPUP(e,{data:t,name:n}){e[n]=t},CLEAR_DASHLET_CONFIG_FILTER(e,t){let n;e[t].body.data.data&&e[t].body.data.data.filters&&(n=e[t].body.data.data.filters);for(let a in n)n[a].value=""},updateSharedUsers(e,t){e.data.sharedUsers=t},UPDATE_DASHLET_SETTING_VALUE(e,{field:t,name:n}){Object.hasOwn(e[n].body.data.data,t.name)?e[n].body.data.data[t.name].value=t.value:Object.hasOwn(e[n].body.data.data.basicSettings,t.name)?e[n].body.data.data.basicSettings[t.name].value=t.value:Object.hasOwn(e[n].body.data.data.filters,t.name)?e[n].body.data.data.filters[t.name].value=t.value:console.error("Where is no field with this name")},UPDATE_DASHLET_COLUMN_CHOOSER(e,{chooser:t,name:n}){e[n].body.data.data.columnChooser=t},RESET:(e,t)=>{e[t].show=!1,e[t].size="",e[t].type="",e[t].header={show:!1,data:{}},e[t].body={show:!1,data:{}},e[t].footer={show:!1,data:{needConfirm:!1}},e[t].responsive=!1},SHOW:(e,t)=>{e[t].show=!0},HIDE:(e,t)=>{e[t].show=!1},FILL:(e,{data:t,name:n})=>{e[n].type=t.type,e[n].header=t.header,e[n].body=t.body,e[n].footer=t.footer},SET_SIZE:(e,{data:t="",name:n})=>{e[n].size=t},UPDATE_MODEL_VALUE(e,{field:t,name:n}){Object.hasOwn(e[n].body.data.beanData,t.name)?e[n].body.data.beanData[t.name].value=t.value:e[n].body.data.beanData[t.name]={value:t.value}},CLEAN_POPUP_FIELDS:(e,{fields:t,name:n})=>{for(let a in t)Object.hasOwn(e[n].body.data.beanData,t[a])&&(e[n].body.data.beanData[t[a]].value="")},UPDATE_MODEL_PATH_VALUE(e,t){let n="popup_"+(Object.keys(e).length-1);if(t.name)try{e[n].body[t.path].values[t.name]=t.value}catch(a){console.log(a)}else console.log("[ERROR] Cant update "+t.name)},CLEAN_MODEL_PATH_VALUES(e,t){let n="popup_"+(Object.keys(e).length-1);for(let o in t.fields)if(t.fields[o])try{e[n].body[t.path].values[t.fields[o]]=""}catch(a){console.log(a)}else console.log("[ERROR] Cant update "+t.fields[o])},SET_VALIDATE(e,{field:t,name:n}){e[n].body.validate||(e[n].body.validate={}),e[n].body.validate[t.name]=t.data}},actions:{async openPopup(e,t){let n=await e.dispatch("getPopupData",t);n.body.data.module=t.params.get.arg.targetModule,n.body.data.record="",await e.dispatch("setSize","xl"),await e.dispatch("fill",n),await e.dispatch("setParentParams",n),await e.dispatch("show")},async getPopupData(e,{params:t,type:n}){let a=await e.dispatch("ajaxGet",t,{root:!0});return{type:n,header:{data:{title:"LBL_EMAIL_QUICK_CREATE",module:t.get.arg.targetModule},show:!0},body:{data:a.data,show:!0},footer:{data:{},show:!0}}},async setParentParams(e,t){let n=t.body.data.beanData,a=e.rootState.focus.data.pageData,o=a.bean.objectName.toLowerCase();n.parent_id&&await e.dispatch("updateModelValue",{name:"parent_id",value:a.id}),n.parent_name&&await e.dispatch("updateModelValue",{name:"parent_name",value:a.recordName}),n.parent_type&&await e.dispatch("updateModelValue",{name:"parent_type",value:a.module}),n[o+"_id"]&&await e.dispatch("updateModelValue",{name:o+"_id",value:a.id}),n[o+"_name"]&&await e.dispatch("updateModelValue",{name:o+"_name",value:a.recordName})},addNewPopup(e){let t=e.getters.getShownName;if(e.state[t]&&!0===e.state[t].show){let n=e.getters.initialState;n.show=!0,n.parent=t,e.commit("ADD_NEW_POPUP",{name:"popup_"+e.getters.popupsAmount,data:n})}},deletePopup(e){let t=!1;return 1!==e.getters.popupsAmount&&(t=delete e.state[e.getters.getShownName]),t},clearDashletConfigFilter(e){e.commit("CLEAR_DASHLET_CONFIG_FILTER",e.getters.getShownName)},updateDashletSettingValue(e,t){e.commit("UPDATE_DASHLET_SETTING_VALUE",{name:e.getters.getShownName,field:t})},updateDashletColumnChooser(e,t){e.commit("UPDATE_DASHLET_COLUMN_CHOOSER",{name:e.getters.getShownName,chooser:t})},reset(e){1===e.getters.popupsAmount&&e.commit("RESET",e.getters.getShownName)},show(e){e.commit("SHOW",e.getters.getShownName)},hide(e){e.commit("HIDE",e.getters.getShownName)},fill(e,t){e.commit("FILL",{name:e.getters.getShownName,data:t})},setSize(e,t){e.commit("SET_SIZE",{name:e.getters.getShownName,data:t})},updateModelValue(e,t){e.commit("UPDATE_MODEL_VALUE",{name:e.getters.getShownName,field:t})},cleanPopupFields(e,t){e.commit("CLEAN_POPUP_FIELDS",{name:e.getters.getShownName,fields:t})},async getContent(e,{params:t,needConfirm:n=!1,cacheKey:a=!1}){let o=await e.dispatch("ajaxGet",t,{root:!0});o.popup.header.data.module=o.popup.body.data.pageData.bean.moduleDir,o.popup.body.cacheKey=a,o.popup.footer.data={needConfirm:n},await e.dispatch("fill",o.popup),await e.dispatch("show")},async getContentAudit(e,t){const n={type:"Audit",header:{show:!0,data:{title:"LBL_CHANGE_LOG",module:"Audit"}},body:{show:!0,data:{pageData:{},viewData:{displayColumns:{field_name:{label:"LBL_FIELD_NAME"},before_value_string:{label:"LBL_OLD_NAME"},after_value_string:{label:"LBL_NEW_VALUE"},created_by:{label:"LBL_CREATED_BY"},date_created:{label:"LBL_LIST_DATE"}},data:[]}}},footer:{show:!1,data:[]}};let a=await e.dispatch("ajaxGet",t,{root:!0});a.error?await e.dispatch("fill",n):(a.data.header.data.module="Audit",await e.dispatch("fill",a.data)),await e.dispatch("show")},setRelateSelected(e,t){for(let n in t)e.rootState.mass_actions.data.show?e.commit("mass_actions/UPDATE_MODEL_VALUE",{name:n,value:t[n]},{root:!0}):e.getters.popupsAmount>1?e.commit("UPDATE_MODEL_VALUE",{name:e.state[e.getters.getShownName].parent,field:{name:n,value:t[n]}}):e.commit("focus/UPDATE_MODEL_VALUE",{name:n,value:t[n]},{root:!0})},setPathRelateSelected(e,t){let n=t.result;for(let a in n)e.rootState.mass_actions.data.show?e.commit("mass_actions/UPDATE_MODEL_VALUE",{name:a,value:n[a]},{root:!0}):e.getters.popupsAmount>1?e.commit("UPDATE_MODEL_PATH_VALUE",{path:t.vuexAddress.path,row:t.vuexAddress.row,name:e.state[e.getters.getShownName].parent,field:{name:a,value:n[a]}}):e.commit("focus/UPDATE_MODEL_PATH_VALUE",{path:t.vuexAddress.path,row:t.vuexAddress.row,name:a,value:n[a]},{root:!0})},async getCustomPopup(e,{size:t,popupData:n}){await e.dispatch("addNewPopup"),await e.dispatch("setSize",t),await e.dispatch("fill",n),await e.dispatch("show")},setValidate(e,t){e.commit("SET_VALIDATE",{field:t,name:e.getters.getShownName})},async setTemplate(e,t){let n=new FormData;n.set("emailTemplateId",t);let a={get:{entryPoint:"emailTemplateData"},data:n},o=await e.dispatch("ajaxPost",a,{root:!0});e.dispatch("updateModelValue",{name:"name",value:o.data.subject}),e.dispatch("updateModelValue",{name:"description",value:o.data.body}),e.dispatch("updateModelValue",{name:"description_html",value:o.data.body_from_html}),o.data.attachments&&e.dispatch("updateModelValue",{name:"template_attachments",value:{name:{inputName:"template_attachment[]",removeName:"temp_remove_attachment[]"},data:o.data.attachments}})},async getComposeView(e,t){let n=await e.dispatch("ajaxGet",t,{root:!0}),a={type:"ComposeView",header:{data:{title:"LBL_COMPOSE_MODULE_NAME",module:"Emails",record:t.get.arg.ids},show:!0},body:{data:n.data,show:!0},footer:{data:{module:"Emails",record:t.get.arg.ids},show:!0}};if(a.body.data.module="Emails",a.body.data.record=t.get.arg.ids,Object.hasOwn(t,"refillFields"))for(let o in t.refillFields)Object.hasOwn(a.body.data.beanData,o)&&(a.body.data.beanData[o]["value"]=t.refillFields[o]);e.dispatch("getCustomPopup",{size:"xl",popupData:a})},async getAccumulatedHistoryPopup(e,t){let n=await e.dispatch("ajaxGet",t,{root:!0}),a={type:"AccumulatedHistory",header:{show:!0,data:{title:"LBL_ACCUMULATED_HISTORY_BUTTON_LABEL"}},body:{show:!0,module:t.get.arg.module_name,data:n.data},footer:{show:!0,data:{}}};e.dispatch("getCustomPopup",{size:"xl",popupData:a})}},namespaced:!0};t["default"]=a},89506:function(e,t,n){"use strict";n.r(t);const a={state:()=>({get:{module:"Users",action:"Login"},actions:{},data:{},subpanels:{data:{}},validate:{},popupData:{show:!1,size:"",responsive:!1,type:!1,header:{show:!1,data:{}},body:{show:!1,data:{}},footer:{show:!1,data:{}}}}),mutations:{RESET_QUICK_CREATE(e){Object.assign(e,a.state())},RESET_POPUP:e=>{e.popupData.show=!1,e.popupData.size="",e.popupData.type="",e.popupData.header={},e.popupData.body={},e.popupData.footer={},e.popupData.responsive=!1},SHOW:e=>{e.popupData.show=!0},HIDE:e=>{e.popupData.show=!1},FILL:(e,t)=>{e.popupData.type=t.type,e.popupData.header=t.header,e.popupData.body=t.body,e.popupData.footer=t.footer},SET_SIZE:(e,t="")=>{e.popupData.size=t},updateModelValue(e,t){Object.hasOwn(e.data.beanData,t.name)?e.data.beanData[t.name].value=t.value:e.data.beanData[t.name]={value:t.value}},setValidate(e,t){e.validate[t.name]=t.data},SET_QUICK_CREATE_DATA(e,t){e.data=t}},actions:{async getFocusData(e,t){let n=await e.dispatch("ajaxGet",t,{root:!0});await e.dispatch("setQuickCreateData",n.data)},setQuickCreateData(e,t){e.commit("SET_QUICK_CREATE_DATA",t)},async getComposeView(e,t){await e.dispatch("getFocusData",t);let n={type:"ComposeView",header:{data:{title:"LBL_COMPOSE_MODULE_NAME",module:"Emails",record:t.get.arg.ids},show:!0},body:{data:{module:"Emails",record:t.get.arg.ids},show:!0},footer:{data:{module:"Emails",record:t.get.arg.ids},show:!0}};e.commit("FILL",n),e.commit("SHOW")},async setTemplate(e,t){let n=await e.dispatch("ajaxPost",t,{root:!0});e.commit("updateModelValue",{name:"name",value:n.data.subject}),e.commit("updateModelValue",{name:"description",value:n.data.body}),e.commit("updateModelValue",{name:"description_html",value:n.data.body_from_html}),n.data.attachments&&e.commit("updateModelValue",{name:"template_attachments",value:{name:{inputName:"template_attachment[]",removeName:"temp_remove_attachment[]"},data:n.data.attachments}})}},namespaced:!0};t["default"]=a},49416:function(e,t,n){"use strict";n.r(t);const a={state:()=>({data:{id:"",firstName:"",lastName:"",username:"",title:"",photo:"",department:"",dataEntered:""},gcls:{about:{LABEL:"",SUBMENU:[],URL:""},employees:{LABEL:"",SUBMENU:[],URL:""},training:{LABEL:"",SUBMENU:[],URL:"",TARGET:""},logout_link:{LABEL:"",SUBMENU:[],URL:""}}}),getters:{},mutations:{},actions:{},namespaced:!0};t["default"]=a},29688:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var a=n(73396);function o(e,t,n,o,s,i){const r=(0,a.up)("TabPreloader");return(0,a.wg)(),(0,a.j4)((0,a.LL)(s.ParentPage),{windowSize:s.windowSize},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{isShow:!i.contentReady},null,8,["isShow"]),((0,a.wg)(),(0,a.j4)((0,a.LL)(s.ActionPage),{windowSize:s.windowSize},null,8,["windowSize"]))])),_:1},8,["windowSize"])}n(57658);var s=n(7080),i=n(88569),r=n(95481),l=n(31824),d=n(27178),c={data(){return{error:null,compName:!1,compPath:!1,subAction:!1,ActionPage:!1,ParentPage:!1,windowSize:{width:0,height:0}}},components:{TabPreloader:d["default"]},computed:{isShow(){return!(!this.$store.state.app.contentReady||!this.$store.state.app.pageReady)},contentReady(){return this.$store.state.app.contentReady}},watch:{compPath(){console.log("watch:compPath()"),this.ActionPage=this.getActionPage()},$route(e,t){if(console.log("ROUTE CHANGES"),!e.query.module)return console.log("ParentPage == NotFound"),void(this.ParentPage=(0,a.Fl)((()=>l["default"])));"Login"!==e.query.action?(this.ParentPage=(0,a.Fl)((()=>i["default"])),(!1===this.ActionPage||t.query.module!==e.query.module||!this.aliasIndexListView(t.query.action,e.query.action)&&t.query.action!==e.query.action||t.query.record!==e.query.record||t.query.subAction!==e.query.subAction)&&this.setupUrlView(e.query)):this.ParentPage=(0,a.Fl)((()=>r["default"]))}},mounted(){window.addEventListener("resize",this.sizeCalculate),this.sizeCalculate()},unmounted(){window.removeEventListener("resize",this.sizeCalculate)},methods:{aliasIndexListView(e,t){let n=["ListView","index"];return!(!n.includes(e)||!n.includes(t))||!(e||!n.includes(t))},sizeCalculate(){this.windowSize.width=window.innerWidth,this.windowSize.height=window.innerHeight},async setupUrlView(e){this.$store.commit("app/SET_CONTENT_READY",!1),this.setSubAction(e);let t={};t=this.subAction.requestOff?e:await this.$store.dispatch("getRootControllerData",e),t?(this.setCompName(t),this.setComponentPath(t),this.$router.replace({path:"/",query:t}),this.subAction.requestOff||this.$store.commit("app/SET_CONTENT_READY",!0)):this.$router.push({path:"/",query:{module:"Home",action:"ListView"}})},setSubAction(e){if(e.subAction){console.log("!!! subAction !!!");try{this.subAction=s["default"].modules[e.module].subActions[e.subAction]}catch(t){console.log(t),this.subAction=!1}}else this.subAction=!1},getActionPage(){return(0,a.Fl)((()=>!!this.isShow&&(0,a.RC)((async()=>{try{return await n(20075)(`${this.compPath}`)}catch(e){return console.log("[ERROR]",e),await n.e(4501).then(n.bind(n,4501))}}))))},setCompName(e){this.subAction?this.compName=e.subAction:e.action&&""!==e.action&&"index"!==e.action?this.compName=e.action:this.compName="Index"},setComponentPath(e){console.log("setComponentPath()");let t="./components/Application/",n=e.module,a=this.compName;Object.hasOwn(s["default"].modules,n)&&!this.subAction&&(["ListView","Index"].includes(this.compName)?(Object.hasOwn(s["default"].modules[n].actions,"ListView")&&(t="./components/Modules/"+n+"/",a="ListView"),Object.hasOwn(s["default"].modules[n].actions,"Index")&&(t="./components/Modules/"+n+"/",a="Index")):Object.hasOwn(s["default"].modules[n].actions,this.compName)&&(t="./components/Modules/"+n+"/")),this.subAction&&(t="./components/Modules/"+n+"/"),this.compPath=t+a+"/ActionPage.vue"}}},u=n(40089);const m=(0,u.Z)(c,[["render",o]]);var p=m},34807:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var a=n(73396),o=n(87139);const s=["value"],i=(0,a._)("input",{type:"hidden",name:"record",value:""},null,-1),r=(0,a._)("input",{type:"hidden",name:"duplicateSave",value:"true"},null,-1),l=["value"],d=["value"],c=(0,a._)("input",{type:"hidden",name:"isDuplicate",value:"false"},null,-1),u=(0,a._)("input",{type:"hidden",name:"action"},null,-1),m=["value"],p=["value"],h=["value"],f=["value"],g=(0,a._)("input",{type:"hidden",name:"module_tab"},null,-1),v=(0,a._)("input",{type:"hidden",name:"contact_role"},null,-1),b=["value"],w=["value"],y=["value"],_={class:"card-header"},C={class:"card-title"},D=(0,a._)("div",{class:"card-tools"},[(0,a._)("button",{type:"button",class:"btn btn-tool","data-card-widget":"collapse",title:"Collapse"},[(0,a._)("i",{class:"fas fa-minus"})])],-1),x={class:"card-body"};function k(e,t,n,k,E,S){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("input",{type:"hidden",name:"module",value:e.module},null,8,s),e.getData.isDuplicate?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[i,r,(0,a._)("input",{type:"hidden",name:"duplicateId",value:e.record},null,8,l)],64)):((0,a.wg)(),(0,a.iD)("input",{key:1,type:"hidden",name:"record",value:e.record},null,8,d)),c,u,(0,a._)("input",{type:"hidden",name:"return_module",value:e.getData.return_module},null,8,m),(0,a._)("input",{type:"hidden",name:"return_action",value:e.getData.return_action},null,8,p),(0,a._)("input",{type:"hidden",name:"return_subAction",value:e.getData.return_subAction},null,8,h),(0,a._)("input",{type:"hidden",name:"return_id",value:e.getData.return_id},null,8,f),g,v,S.recordRelateOpt?((0,a.wg)(),(0,a.iD)(a.HY,{key:2},[(0,a._)("input",{type:"hidden",name:"relate_to",value:S.recordRelateOpt().relate_to},null,8,b),(0,a._)("input",{type:"hidden",name:"relate_id",value:S.recordRelateOpt().relate_id},null,8,w)],64)):(0,a.kq)("",!0),(0,a._)("input",{type:"hidden",name:"offset",value:e.pageData.offset},null,8,y),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(S.fieldMap,((t,n)=>((0,a.wg)(),(0,a.iD)("div",{key:n,class:(0,o.C_)(["card card-outline card-primary",e.panelsMetadata[n].panelDefault])},[(0,a._)("div",_,[(0,a._)("h3",C,(0,o.zw)(e.DOAPP.utils.translate(n,e.module)),1),D]),(0,a._)("div",x,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t,((t,o)=>((0,a.wg)(),(0,a.iD)("div",{key:o,class:"row"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t,((t,o)=>((0,a.wg)(),(0,a.j4)((0,a.LL)(S.fieldTemplate(e.beanData[o],e.panelsFields[n][o])),{key:o,name:o,module:e.module,record:e.record,metadata:e.panelsFields[n][o],beanData:e.beanData},null,8,["name","module","record","metadata","beanData"])))),128))])))),128))])],2)))),128))],64)}var E=n(20065),S=n(64479),A={name:"EditBody",props:{windowSize:{type:Object,required:!0}},computed:{...(0,E.rn)({module:e=>e.focus.get.module,record:e=>e.focus.get.record,panelsFields:e=>e.focus.data.viewData.panelsFields,getData:e=>e.focus.get,beanData:e=>e.focus.data.beanData,pageData:e=>e.focus.data.pageData,panelsMetadata:e=>e.focus.data.viewData.panelsMetadata}),fieldMap(){return this.generateFieldMap()}},methods:{fieldType(e,t){let n="";return Object.hasOwn(t.field,"type")?n=t.field.type:e&&Object.hasOwn(e,"function")?n=e.function.name:Object.hasOwn(t.field,"fields")?n="multiField":e&&Object.hasOwn(e,"type")&&(n=e.type),(e&&Object.hasOwn(e,"readonly")&&e.readonly||Object.hasOwn(t.field,"readonly")&&t.field.readonly||Object.hasOwn(t.field,"displayParams")&&Object.hasOwn(t.field.displayParams,"readonly")&&t.field.displayParams.readonly)&&(n="readonly"),n},fieldTemplate(e,t){let n=this.fieldType(e,t);return S["default"][n]},generateFieldMap(){let e,t,n,a,o,s=4,i={};for(let r in this.panelsFields){a=0,o=0,n="",i[r]={},i[r][o]={};for(let l in this.panelsFields[r])t=this.fieldType(this.beanData[l],this.panelsFields[r][l]),S["default"][t]?Object.hasOwn(S["default"][t],"widgetCols")?e=S["default"][t].widgetCols:Object.hasOwn(S["default"][t],"extends")&&(e=S["default"][t].extends.widgetCols):(console.log("!!! WARN !!!: COMPONENT "+t+" IS NOT DEFINED "),e=1),a+=e,(a>s||"address"===t&&"address"!==n)&&(a=0+e,o++,i[r][o]={}),n=t,i[r][o][l]=t}return i},recordRelateOpt(){let e=!1;if((this.getData.return_module||this.getData.relate_to)&&!this.getData.isDuplicate){let t;this.getData.return_relationship?t=this.getData.return_relationship:this.getData.relate_to&&!this.getData.from_dcmenu?t=this.getData.relate_to:this.pageData.isDCForm||this.getData.from_dcmenu||(t=this.getData.return_module),e={relate_to:t,relate_id:this.getData.return_id}}return e}}},T=n(40089);const O=(0,T.Z)(A,[["render",k]]);var L=O},77148:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return R}});var a=n(73396),o=n(87139),s=n(49242);const i={name:"search_form",id:"advanced_search_form",class:"search_form"},r=(0,a._)("input",{type:"hidden",name:"searchFormTab",id:"searchFormTab",value:"advanced_search"},null,-1),l=(0,a._)("input",{type:"hidden",name:"query",value:"true"},null,-1),d={class:"form-group col-lg-12"},c={id:"edit_tabs",class:"form-group"},u={class:"d-flex flex-nowrap"},m={class:"d-flex align-self-center mr-1"},p={class:"btn-group-vertical"},h=(0,a._)("i",{class:"fas fa-arrow-up"},null,-1),f=[h],g=(0,a._)("i",{class:"fas fa-arrow-down"},null,-1),v=[g],b={class:"d-flex flex-column align-self-end mr-2 w-50"},w={for:"display_tabs",class:"text-sm mb-0",id:"chooser_display_tabs_text"},y={id:"display_tabs_td"},_=["value"],C={class:"btn-group mt-1"},D=(0,a._)("i",{class:"fas fa-arrow-right"},null,-1),x=[D],k={class:"d-flex flex-column align-self-end mr-2 w-50"},E={for:"hide_tabs",class:"text-sm mb-0",id:"chooser_hide_tabs"},S={id:"hide_tabs_td"},A=["value"],T={class:"btn-group mt-1"},O=(0,a._)("i",{class:"fas fa-arrow-left"},null,-1),L=[O];function P(e,t,n,h,g,D){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(n.activeTabClass)},[(0,a._)("form",i,[r,l,(0,a._)("div",d,[(0,a.wy)((0,a._)("input",{id:"displayColumnsDef",type:"hidden",name:"displayColumns","onUpdate:modelValue":t[0]||(t[0]=e=>D.displayedFields=e)},null,512),[[s.nr,D.displayedFields]]),(0,a._)("div",c,[(0,a._)("label",null,(0,o.zw)(e.DOAPP.utils.translate("LBL_COLUMN_CHOOSER"))+":",1),(0,a._)("div",u,[(0,a._)("div",m,[(0,a._)("div",p,[(0,a._)("button",{type:"button",class:"btn btn-sm btn-outline-secondary px-1 py-2",id:"chooser_display_tabs_up_arrow",onClick:t[1]||(t[1]=e=>D.switchOrderColumns(D.columnChooser.displayedFields,"up"))},f),(0,a._)("button",{type:"button",class:"btn btn-sm btn-outline-secondary px-1 py-2",id:"chooser_hide_tabs_down_arrow",onClick:t[2]||(t[2]=e=>D.switchOrderColumns(D.columnChooser.displayedFields,"down"))},v)])]),(0,a._)("div",b,[(0,a._)("label",w,(0,o.zw)(e.DOAPP.utils.translate("LBL_DISPLAY_COLUMNS")),1),(0,a._)("div",y,[(0,a.wy)((0,a._)("select",{id:"display_tabs",size:"7",multiple:"multiple",class:"templateGroupChooser form-control thin-scroll","onUpdate:modelValue":t[3]||(t[3]=e=>g.selectedDisplayed=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(D.columnChooser.displayedFields,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e,key:e[0]},(0,o.zw)(e[1]),9,_)))),128))],512),[[s.bM,g.selectedDisplayed]])]),(0,a._)("div",C,[(0,a._)("button",{type:"button",class:"btn btn-sm btn-outline-secondary p-0",id:"chooser_display_tabs_left_to_right",onClick:t[4]||(t[4]=e=>D.switchToHide(this.selectedDisplayed))},x)])]),(0,a._)("div",k,[(0,a._)("label",E,(0,o.zw)(e.DOAPP.utils.translate("LBL_HIDE_COLUMNS")),1),(0,a._)("div",S,[(0,a.wy)((0,a._)("select",{id:"hide_tabs",size:"7",multiple:"multiple",class:"groupChooser form-control thin-scroll","onUpdate:modelValue":t[5]||(t[5]=e=>g.selectedHidden=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(D.columnChooser.hiddenFields,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e,key:e[0]},(0,o.zw)(e[1]),9,A)))),128))],512),[[s.bM,g.selectedHidden]])]),(0,a._)("div",T,[(0,a._)("button",{type:"button",class:"btn btn-sm btn-outline-secondary p-0",id:"chooser_display_tabs_left_arrow",onClick:t[6]||(t[6]=e=>D.switchToDisplay(this.selectedHidden))},L)])])])])]),(0,a._)("button",{type:"button",form:"advanced_search_form",style:{"margin-right":"0.2em"},class:"btn btn-primary",onClick:t[7]||(t[7]=(...e)=>D.applyForm&&D.applyForm(...e)),id:"search_form_submit"},(0,o.zw)(e.DOAPP.utils.translate("LBL_APPLY_BUTTON","Home")),1),(0,a._)("button",{type:"button",form:"advanced_search_form",class:"btn btn-danger",onClick:t[8]||(t[8]=(...e)=>D.clearColumns&&D.clearColumns(...e)),id:"search_form_submit"},(0,o.zw)(e.DOAPP.utils.translate("LBL_CLEAR_BUTTON_LABEL","Home")),1)])],2)}n(57658);var M={name:"ListHeadColumnChooser",props:{module:{type:String,required:!0},activeTabClass:{type:String},activeTab:{type:String}},data(){return{selectedDisplayed:[],selectedHidden:[]}},mounted(){this.$emit("changeDisplayColumns",this.displayedFields)},watch:{displayedFields(e){this.$emit("changeDisplayColumns",e)}},computed:{columnChooser:{get(){let e=Object.assign({},this.$store.state.focus.data.columnChooser);return this.DOAPP.utils.isEmpty(e)?console.error("Object is empty"):(Array.isArray(e.displayedFields)||(this.chooserToArray(e),this.$store.commit("focus/updateListColumnChooser",e)),e)},set(e){console.log(e),this.$store.commit("focus/updateListColumnChooser",e)}},displayedFields(){let e=[];return this.columnChooser.displayedFields.forEach((t=>{e.push(t[0])})),e=e.join("|"),e},hiddenFields(){let e=[];return this.columnChooser.hiddenFields.forEach((t=>{e.push(t[0])})),e=e.join("|"),e}},methods:{clearColumns(e){this.$store.commit("focus/updateListColumnChooser",{displayedFields:[],hiddenFields:[]}),this.applyForm(e)},chooserToArray(e){for(let t in e){let n=[];for(let a in e[t])n=[...n,[a,e[t][a]]];e[t]=n}},async applyForm(e){window.$("#collapseSearchForm").collapse("hide"),window.$("#collapseColumnChooser").collapse("hide");let t=new FormData(e.target.form);this.DOAPP.cache.setValue({key:"listview_preloader",value:!0}),t.append("query",!0),t.append("displayColumns",this.displayedFields);let n={get:{module:this.module,action:"index"},data:t};await this.$store.dispatch("focus/postFocus",n),this.DOAPP.cache.setValue({key:"listview_preloader",value:!1})},switchToDisplay(e){let t=Object.assign({},this.columnChooser);e.forEach((e=>{t.hiddenFields=t.hiddenFields.filter((t=>t[0]!==e[0])),t.displayedFields.push(e)})),this.columnChooser=t,this.selectedHidden=[]},switchToHide(e){let t=Object.assign({},this.columnChooser);e.forEach((e=>{t.displayedFields=t.displayedFields.filter((t=>t[0]!==e[0])),t.hiddenFields.push(e)})),this.columnChooser=t,this.selectedDisplayed=[]},findPosition(e){let t=0,n=0,a=this.selectedDisplayed[0][0];return!!a.length&&(e.forEach((e=>{e[0]!==a?t+=1:n=t})),n)},switchOrderColumns(e,t){let n=this.findPosition(e),a=Object.assign({},this.columnChooser);if("false"===n)return!0;switch(t){case"up":if(0===n)return!0;[e[n-1],e[n]]=[e[n],e[n-1]];break;case"down":if(n===e.length-1)return!0;[e[n+1],e[n]]=[e[n],e[n+1]];break}a.displayedFields=e,this.columnChooser=a}}},B=n(40089);const I=(0,B.Z)(M,[["render",P]]);var R=I},59913:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}});var a=n(73396),o=n(87139);const s={class:"row"},i={class:"col-lg-12"},r={name:"dashletConfig",id:"dashletConfig"},l=(0,a._)("input",{type:"hidden",name:"module",value:"Home"},null,-1),d=(0,a._)("input",{type:"hidden",name:"action",value:"ConfigureDashlet"},null,-1),c=(0,a._)("input",{type:"hidden",name:"configure",value:!0},null,-1),u=(0,a._)("input",{type:"hidden",name:"to_pdf",value:!0},null,-1),m=["value"],p={class:"card card-primary card-outline"},h={class:"card-header"},f={class:"card-title"},g={class:"card-body"},v={class:"row"};function b(e,t,n,b,w,y){return(0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("div",i,[(0,a._)("form",r,[l,d,c,u,(0,a._)("input",{type:"hidden",name:"id",value:e.section.data.record},null,8,m),(0,a._)("div",p,[(0,a._)("div",h,[(0,a._)("h3",f,(0,o.zw)(e.DOAPP.utils.translate("LBL_DASHLET_CONFIGURE_GENERAL","Home")),1)]),(0,a._)("div",g,[(0,a._)("div",v,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.settingsData.basicSettings,((t,n)=>((0,a.wg)(),(0,a.j4)((0,a.LL)(e.basicFieldTemplate(t.type)),{key:n,name:n,module:e.dashletModule,widthClass:e.widthClass,fieldData:t},null,8,["name","module","widthClass","fieldData"])))),128))])])])])])])}var w=n(31713),y={name:"CalendarDashletConfigBody",extends:w["default"]},_=n(40089);const C=(0,_.Z)(y,[["render",b]]);var D=C},23407:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(31713),o={name:"MyPipelineBySalesStageDashletConfigBody",extends:a["default"],data(){return{displayColumnChooser:!1}}};const s=o;var i=s},46414:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(31713),o={name:"OpportunitiesByLeadSourceDashletConfigBody",extends:a["default"],data(){return{displayColumnChooser:!1}}};const s=o;var i=s},4093:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(46414),o={name:"OpportunitiesByLeadSourceByOutcomeDashletConfigBody",extends:a["default"]};const s=o;var i=s},56051:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(31713),o={name:"OutcomeByMonthDashletConfigBody",extends:a["default"],data(){return{displayColumnChooser:!1}}};const s=o;var i=s},10238:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(31713),o={name:"PipelineBySalesStageDashletConfigBody",extends:a["default"],data(){return{displayColumnChooser:!1}}};const s=o;var i=s},78428:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(31713),o={name:"MyClosedOpportunitiesDashletConfigBody",extends:a["default"],data(){return{displayColumnChooser:!1}}};const s=o;var i=s},99963:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(31713),o={name:"IFrameDashletConfigBody",extends:a["default"],data(){return{displayColumnChooser:!1}}};const s=o;var i=s},48365:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var a=n(73396),o=n(87139);const s={name:"addTabForm",id:"addTabForm"},i={class:"form-group"},r={for:"dashName"},l=(0,a._)("input",{name:"dashName",class:"form-control",id:"dashName"},null,-1),d={class:"form-group"},c=(0,a._)("select",{name:"numColumns",class:"custom-select rounded-0"},[(0,a._)("option",{value:"1"},"1"),(0,a._)("option",{value:"2"},"2"),(0,a._)("option",{value:"3"},"3")],-1);function u(e,t,n,u,m,p){return(0,a.wg)(),(0,a.iD)("form",s,[(0,a._)("div",i,[(0,a._)("label",r,(0,o.zw)(e.DOAPP.utils.translate("LBL_ENTER_DASHBOARD_NAME","Home")),1),l]),(0,a._)("div",d,[(0,a._)("label",null,(0,o.zw)(e.DOAPP.utils.translate("LBL_NUMBER_OF_COLUMNS","Home")),1),c])])}var m=n(36633),p={name:"DashPageAddBody",extends:m["default"],computed:{},methods:{}},h=n(40089);const f=(0,h.Z)(p,[["render",u]]);var g=f},29751:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var a=n(73396),o=n(87139);const s={name:"renameTabForm",id:"renameTabForm"},i={class:"form-group"},r={for:"dashName"},l=["title","value"],d=["value"];function c(e,t,n,c,u,m){return(0,a.wg)(),(0,a.iD)("form",s,[(0,a._)("div",i,[(0,a._)("label",r,(0,o.zw)(e.DOAPP.utils.translate("LBL_ENTER_DASHBOARD_NAME","Home")),1),(0,a._)("input",{name:"dashName",title:e.DOAPP.utils.translate("LBL_ENTER_DASHBOARD_NAME","Home"),class:"form-control",id:"dashName",value:m.dashName},null,8,l)]),(0,a._)("input",{type:"hidden",id:"page_id",name:"page_id",value:m.activePage},null,8,d)])}var u=n(36633),m={name:"DashPageRenameBody",extends:u["default"],computed:{activePage(){return this.$store.state.focus.data.activePage},dashName(){return this.$store.state.focus.data.pageData[this.activePage].title}},methods:{}},p=n(40089);const h=(0,p.Z)(m,[["render",c]]);var f=h},70056:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return re}});var a=n(73396),o=n(87139);const s={class:"row justify-content-end pb-3"},i={class:"col-md-6 input-group input-group-sm"},r=["placeholder","aria-label"],l={class:"input-group-append"},d={class:"w-100"},c=(0,a._)("i",{class:"suitepicon suitepicon-module-default mr-1"},null,-1),u=(0,a._)("i",{class:"suitepicon suitepicon-dashlet-charts-groupby mr-1"},null,-1),m=(0,a._)("i",{class:"suitepicon suitepicon-dashlet-jotpad mr-1"},null,-1),p=(0,a._)("i",{class:"suitepicon suitepicon-action-home mr-1"},null,-1),h={class:"tab-content p-3"},f={class:"pb-1",ref:"searchResult",style:{display:"none"}},g={class:"row"},v={class:"col-md-6"},b={class:"nav nav-pills nav-sidebar flex-column",ref:"searchResults1"},w={class:"col-md-6"},y={class:"nav nav-pills nav-sidebar flex-column",ref:"searchResults2"},_={class:"tab-pane fade active show",id:"modulesDashlets",ref:"modulesDashlets",role:"tabpanel","aria-labelledby":"modulesDashlets-tab"},C={class:"row"},D={class:"col-md-6"},x={class:"nav nav-pills nav-sidebar flex-column"},k=["id"],E=["onClick"],S={class:"col-md-6"},A={class:"nav nav-pills nav-sidebar flex-column"},T=["id"],O=["onClick"],L={class:"tab-pane fade",id:"chartsDashlets",ref:"chartsDashlets",role:"tabpanel","aria-labelledby":"chartsDashlets-tab"},P={key:0,class:"nav nav-pills nav-sidebar flex-column"},M=["id"],B=["onClick"],I={class:"tab-pane fade",id:"toolsDashlets",ref:"toolsDashlets",role:"tabpanel","aria-labelledby":"toolsDashlets-tab"},R={class:"row"},F={class:"col-md-6"},N={class:"nav nav-pills nav-sidebar flex-column"},V=["id"],U=["onClick"],H={class:"col-md-6"},z={class:"nav nav-pills nav-sidebar flex-column"},j=["id"],Z=["onClick"],q={class:"tab-pane fade",id:"webDashlets",ref:"webDashlets",role:"tabpanel","aria-labelledby":"webDashlets-tab"},$={class:"form-group row"},W={for:"web_address",class:"col-sm-2 col-form-label col-form-label-sm"},K={class:"input-group input-group-sm col-sm-10"},G={type:"text",class:"form-control form-control-sm",id:"iFrameDashlet_select",value:"https://",ref:"web_address"},Y={class:"btn btn-info",type:"button"},X={class:"form-group row"},Q={for:"rss_address",class:"col-sm-2 col-form-label col-form-label-sm"},J={class:"input-group input-group-sm col-sm-10"},ee={type:"text",class:"form-control form-control-sm",id:"RSSDashlet_select",value:"https://",ref:"rss_address"},te={class:"btn btn-info",type:"button"};function ne(e,t,n,ne,ae,oe){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",s,[(0,a._)("div",i,[(0,a._)("input",{type:"text",class:"form-control",placeholder:e.DOAPP.utils.translate("LBL_DASHLET_SEARCH","Home"),"aria-label":e.DOAPP.utils.translate("LBL_DASHLET_SEARCH","Home"),ref:"search_string",onKeyup:t[0]||(t[0]=(...e)=>oe.searchDashlets&&oe.searchDashlets(...e))},null,40,r),(0,a._)("div",l,[(0,a._)("button",{class:"btn btn-outline-danger",type:"button",onClick:t[1]||(t[1]=e=>oe.clearSearchInput())},(0,o.zw)(e.DOAPP.utils.translate("LBL_CLEAR","Home")),1)])])]),(0,a._)("nav",d,[(0,a._)("div",{class:"nav nav-tabs",id:"dashletCategories",role:"tablist",onClick:t[6]||(t[6]=e=>oe.changeTab())},[(0,a._)("a",{class:"nav-item nav-link show active",id:"modulesDashlets-tab","data-toggle":"tab",href:"#modulesDashlets",onClick:t[2]||(t[2]=e=>ae.searchCategories="modules"),role:"tab","aria-controls":"modulesDashlets","aria-selected":"true"},[c,(0,a.Uk)(" "+(0,o.zw)(e.DOAPP.utils.translate("LBL_MODULES","Home")),1)]),(0,a._)("a",{class:"nav-item nav-link",id:"chartsDashlets-tab","data-toggle":"tab",href:"#chartsDashlets",onClick:t[3]||(t[3]=e=>ae.searchCategories="charts"),role:"tab","aria-controls":"chartsDashlets","aria-selected":"false"},[u,(0,a.Uk)(" "+(0,o.zw)(e.DOAPP.utils.translate("LBL_CHARTS","Home")),1)]),(0,a._)("a",{class:"nav-item nav-link",id:"toolsDashlets-tab","data-toggle":"tab",href:"#toolsDashlets",onClick:t[4]||(t[4]=e=>ae.searchCategories="tools"),role:"tab","aria-controls":"toolsDashlets","aria-selected":"false"},[m,(0,a.Uk)(" "+(0,o.zw)(e.DOAPP.utils.translate("LBL_TOOLS","Home")),1)]),(0,a._)("a",{class:"nav-item nav-link",id:"webDashlets-tab","data-toggle":"tab",href:"#webDashlets",onClick:t[5]||(t[5]=e=>ae.searchCategories="web"),role:"tab","aria-controls":"webDashlets","aria-selected":"false"},[p,(0,a.Uk)(" "+(0,o.zw)(e.DOAPP.utils.translate("LBL_WEB","Home")),1)])])]),(0,a._)("div",h,[(0,a._)("div",f,[(0,a._)("div",g,[(0,a._)("div",v,[(0,a._)("ul",b,null,512)]),(0,a._)("div",w,[(0,a._)("ul",y,null,512)])])],512),(0,a._)("div",_,[(0,a._)("div",C,[(0,a._)("div",D,[(0,a._)("ul",x,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(oe.allTypes.modules,((e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:t},[t%2===0?((0,a.wg)(),(0,a.iD)("li",{key:0,class:"nav-item",id:e.id},[(0,a._)("a",{class:"nav-link",role:"button",onClick:t=>oe.addDashlet(e.id)},[(0,a._)("i",{class:(0,o.C_)(["suitepicon mr-1",oe.moduleIcon(e.module_name)])},null,2),(0,a._)("p",null,(0,o.zw)(e.title),1)],8,E)],8,k)):(0,a.kq)("",!0)],64)))),128))])]),(0,a._)("div",S,[(0,a._)("ul",A,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(oe.allTypes.modules,((e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:t},[t%2!==0?((0,a.wg)(),(0,a.iD)("li",{key:0,class:"nav-item",id:e.id},[(0,a._)("a",{class:"nav-link",role:"button",onClick:t=>oe.addDashlet(e.id)},[(0,a._)("i",{class:(0,o.C_)(["suitepicon mr-1",oe.moduleIcon(e.module_name)])},null,2),(0,a._)("p",null,(0,o.zw)(e.title),1)],8,O)],8,T)):(0,a.kq)("",!0)],64)))),128))])])])],512),(0,a._)("div",L,[oe.allTypes.charts?((0,a.wg)(),(0,a.iD)("ul",P,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(oe.allTypes.charts,((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:t,class:"nav-item",id:e.id},[(0,a._)("a",{class:"nav-link",role:"button",onClick:t=>oe.addDashlet(e.id)},[(0,a._)("i",{class:(0,o.C_)(["suitepicon mr-1",oe.moduleIcon(e.module_name)])},null,2),(0,a.Uk)(" "+(0,o.zw)(e.title),1)],8,B)],8,M)))),128))])):(0,a.kq)("",!0)],512),(0,a._)("div",I,[(0,a._)("div",R,[(0,a._)("div",F,[(0,a._)("ul",N,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(oe.allTypes.tools,((e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:t},[t%2===0?((0,a.wg)(),(0,a.iD)("li",{key:0,class:"nav-item",id:e.id},[(0,a._)("a",{class:"nav-link",role:"button",onClick:t=>oe.addDashlet(e.id)},[(0,a._)("i",{class:(0,o.C_)(["suitepicon mr-1","suitepicon-dashlet-"+e.icon.toLowerCase()])},null,2),(0,a.Uk)(" "+(0,o.zw)(e.title),1)],8,U)],8,V)):(0,a.kq)("",!0)],64)))),128))])]),(0,a._)("div",H,[(0,a._)("ul",z,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(oe.allTypes.tools,((e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:t},[t%2!==0?((0,a.wg)(),(0,a.iD)("li",{key:0,class:"nav-item",id:e.id},[(0,a._)("a",{class:"nav-link",role:"button",onClick:t=>oe.addDashlet(e.id)},[(0,a._)("i",{class:(0,o.C_)(["suitepicon mr-1","suitepicon-dashlet-"+e.icon.toLowerCase()])},null,2),(0,a.Uk)(" "+(0,o.zw)(e.title),1)],8,Z)],8,j)):(0,a.kq)("",!0)],64)))),128))])])])],512),(0,a._)("div",q,[(0,a._)("div",$,[(0,a._)("label",W,(0,o.zw)(e.DOAPP.utils.translate("LBL_WEBSITE_TITLE","Home")),1),(0,a._)("div",K,[(0,a._)("input",G,null,512),(0,a._)("div",{class:"input-group-append",onClick:t[7]||(t[7]=e=>oe.addDashlet("iFrameDashlet_select"))},[(0,a._)("button",Y,(0,o.zw)(e.DOAPP.utils.translate("LBL_ADD_BUTTON")),1)])])]),(0,a._)("div",X,[(0,a._)("label",Q,(0,o.zw)(e.DOAPP.utils.translate("LBL_RSS_TITLE","Home")),1),(0,a._)("div",J,[(0,a._)("input",ee,null,512),(0,a._)("div",{class:"input-group-append",onClick:t[8]||(t[8]=e=>oe.addDashlet("RSSDashlet_select"))},[(0,a._)("button",te,(0,o.zw)(e.DOAPP.utils.translate("LBL_ADD_BUTTON")),1)])])])],512)])],64)}n(57658);var ae=n(36633),oe={name:"DashletAddBody",extends:ae["default"],data(){return{searchCategories:"modules",lastResultCategories:!1}},computed:{allTypes(){return{modules:this.section.data.data["Module Views"],charts:this.section.data.data["Charts"],tools:this.section.data.data["Tools"],web:this.section.data.data["Web"]}},activePage(){return this.$store.state.focus.data.activePage},panelsData(){return this.$store.state.focus.data.viewData.panelsData}},methods:{addDashlet(e){let t=this.allTypes[this.searchCategories],n=Object.values(t).find((t=>t.id===e));if(!n){let e=this.DOAPP.utils.translate("LBL_DA_PROCESS_ERROR");return void this.DOAPP.swal.getErrorToast(e)}let a=n.onclick;a=a.split("("),a=a[1].split(")"),a=a[0].replaceAll(" ",""),a=a.replaceAll("'",""),a=a.split(",");let o={id:a[0],type:a[1],type_module:a[2]};if("SugarFeedDashlet"===o.id)for(let r in this.panelsData)if("SugarFeedDashlet"===this.panelsData[r].type){let e=n.title+this.DOAPP.utils.translate("LBL_DA_ALREADY_ON_THE_PAGE");return this.DOAPP.swal.getWarningToast(e),!1}let s=new FormData;"iFrameDashlet"===o.id?(s.append("type",o.type),s.append("type_module",o.type_module)):(s.append("data",o.type),s.append("type_module",o.type_module));let i={get:{module:"Home",action:"DynamicAction",DynamicAction:"addDashlet",activePage:this.activePage,id:o.id,to_pdf:1},data:s};this.$store.dispatch("focus/addDashletDialog",i)},moduleIcon(e){let t=e.replaceAll("_","-");return"suitepicon-module-"+t.toLowerCase()},changeTab(){let e=this.searchCategories+"Dashlets";this.$refs.search_string.value="",this.clearSearchResult(),setTimeout((()=>this.$refs[e].style.display=""),300)},clearSearchInput(){let e=this.searchCategories+"Dashlets";this.$refs.search_string.value="",this.clearSearchResult(),this.$refs.searchResult.style.display="none",this.$refs[e].style.display=""},clearSearchResult(){let e=this.$refs.searchResults1,t=this.$refs.searchResults2;while(e.firstChild)e.removeChild(e.firstChild);while(t.firstChild)t.removeChild(t.firstChild)},searchDashlets(e){this.lastResultCategories=this.searchCategories;let t=this.searchCategories+"Dashlets";if("webDashlets"===t)return;let n=e.target.value.toLowerCase(),a=this.$refs.searchResults1,o=this.$refs.searchResults2;if(n.length<1)return this.clearSearchResult(),this.$refs.searchResult.style.display="none",void(this.$refs[t].style.display="");let s=[],i=this.$refs[t].getElementsByTagName("li");for(let r=0;r<i.length;r++){const e=i[r];"SCRIPT"!==e.tagName&&-1!==e.innerText.toLowerCase().indexOf(n)&&s.push(e)}if(this.clearSearchResult(),s.length>0){let e=0;s.forEach((t=>{let n=t.cloneNode(!0);n.addEventListener("click",(()=>this.addDashlet(n.id))),e%2===0?a.append(n):o.append(n),e++}))}else a.innerText=this.DOAPP.utils.translate("MSG_LIST_VIEW_NO_RESULTS_CHANGE_CRITERIA");this.$refs[t].style.display="none",this.$refs.searchResult.style.display=""}}},se=n(40089);const ie=(0,se.Z)(oe,[["render",ne]]);var re=ie},31713:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var a=n(73396),o=n(87139);const s={class:"row no-space"},i={class:"col-lg-12"},r={name:"dashletConfig",id:"dashletConfig"},l=(0,a._)("input",{type:"hidden",name:"module",value:"Home"},null,-1),d=(0,a._)("input",{type:"hidden",name:"action",value:"ConfigureDashlet"},null,-1),c=(0,a._)("input",{type:"hidden",name:"configure",value:!0},null,-1),u=(0,a._)("input",{type:"hidden",name:"to_pdf",value:!0},null,-1),m=["value"],p={class:"card card-primary card-outline"},h={class:"card-header"},f={class:"card-title"},g={class:"card-body"},v={class:"row"},b={key:0,class:"card card-primary card-outline"},w={class:"card-header"},y={class:"card-title"},_={class:"card-body"},C={class:"row"};function D(e,t,n,D,x,k){const E=(0,a.up)("DashletConfigColumnChooser");return(0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("div",i,[(0,a._)("form",r,[l,d,c,u,(0,a._)("input",{type:"hidden",name:"id",value:e.section.data.record},null,8,m),(0,a._)("div",p,[(0,a._)("div",h,[(0,a._)("h3",f,(0,o.zw)(e.DOAPP.utils.translate("LBL_DASHLET_CONFIGURE_GENERAL","Home")),1)]),(0,a._)("div",g,[(0,a._)("div",v,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(k.settingsData.basicSettings,((e,t)=>((0,a.wg)(),(0,a.j4)((0,a.LL)(k.basicFieldTemplate(e.type)),{key:t,name:t,module:k.dashletModule,fieldData:e},null,8,["name","module","fieldData"])))),128)),x.displayColumnChooser?((0,a.wg)(),(0,a.j4)(E,{key:0,module:k.dashletModule,chooser:k.settingsData.columnChooser},null,8,["module","chooser"])):(0,a.kq)("",!0)])])]),e.DOAPP.utils.isEmpty(k.settingsData.filters)?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",b,[(0,a._)("div",w,[(0,a._)("h3",y,(0,o.zw)(e.DOAPP.utils.translate("LBL_DASHLET_CONFIGURE_FILTERS","Home")),1)]),(0,a._)("div",_,[(0,a._)("div",C,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(k.settingsData.filters,((e,t)=>((0,a.wg)(),(0,a.j4)((0,a.LL)(k.filtersFieldTemplate(e.type)),{key:t,name:t,module:k.dashletModule,fieldData:e},null,8,["name","module","fieldData"])))),128))])])]))])])])}var x=n(36633),k=n(39395),E=n(65849),S=n(14859),A={name:"DashletConfigBody",components:{DashletConfigColumnChooser:S["default"]},extends:x["default"],data(){return{displayColumnChooser:!0}},computed:{widthClass(){return"col-lg-6"},settingsData(){return this.DOAPP.utils.isEmpty(this.section.data.data)?{}:this.section.data.data},dashletModule(){return this.section.data.module?this.section.data.module:""}},methods:{basicFieldTemplate(e){return k["default"][e]?k["default"][e]:(console.log("Field type "+e+" not found"),k["default"].varchar)},filtersFieldTemplate(e){return E["default"][e]?E["default"][e]:(console.log("Field type "+e+" not found"),E["default"].varchar)}}},T=n(40089);const O=(0,T.Z)(A,[["render",D]]);var L=O},14859:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return B}});var a=n(73396),o=n(49242),s=n(87139);const i={class:"form-group col-lg-12"},r={id:"edit_tabs",class:"form-group"},l={class:"d-flex flex-nowrap"},d={class:"d-flex align-self-center mr-1"},c={class:"btn-group-vertical"},u=(0,a._)("i",{class:"fas fa-arrow-up"},null,-1),m=[u],p=(0,a._)("i",{class:"fas fa-arrow-down"},null,-1),h=[p],f={class:"d-flex flex-column align-self-end mr-2 w-50"},g={for:"display_tabs",class:"text-sm mb-0",id:"chooser_display_tabs_text"},v={id:"display_tabs_td"},b=["value"],w={class:"btn-group mt-1"},y=(0,a._)("i",{class:"fas fa-arrow-right"},null,-1),_=[y],C={class:"d-flex flex-column align-self-end mr-2 w-50"},D={for:"hide_tabs",class:"text-sm mb-0",id:"chooser_hide_tabs"},x={id:"hide_tabs_td"},k=["value"],E={class:"btn-group mt-1"},S=(0,a._)("i",{class:"fas fa-arrow-left"},null,-1),A=[S];function T(e,t,n,u,p,y){return(0,a.wg)(),(0,a.iD)("div",i,[(0,a.wy)((0,a._)("input",{id:"displayColumnsDef",type:"hidden",name:"displayColumnsDef","onUpdate:modelValue":t[0]||(t[0]=t=>e.displayedFields=t)},null,512),[[o.nr,e.displayedFields]]),(0,a.wy)((0,a._)("input",{id:"hideTabsDef",type:"hidden",name:"hideTabsDef","onUpdate:modelValue":t[1]||(t[1]=t=>e.hiddenFields=t)},null,512),[[o.nr,e.hiddenFields]]),(0,a._)("div",r,[(0,a._)("label",null,(0,s.zw)(e.DOAPP.utils.translate("LBL_COLUMN_CHOOSER"))+":",1),(0,a._)("div",l,[(0,a._)("div",d,[(0,a._)("div",c,[(0,a._)("button",{type:"button",class:"btn btn-sm btn-outline-secondary px-1 py-2",id:"chooser_display_tabs_up_arrow",onClick:t[2]||(t[2]=t=>e.switchOrderColumns(y.columnChooser.displayedFields,"up"))},m),(0,a._)("button",{type:"button",class:"btn btn-sm btn-outline-secondary px-1 py-2",id:"chooser_hide_tabs_down_arrow",onClick:t[3]||(t[3]=t=>e.switchOrderColumns(y.columnChooser.displayedFields,"down"))},h)])]),(0,a._)("div",f,[(0,a._)("label",g,(0,s.zw)(e.DOAPP.utils.translate("LBL_DISPLAY_COLUMNS")),1),(0,a._)("div",v,[(0,a.wy)((0,a._)("select",{id:"display_tabs",size:"7",multiple:"multiple",class:"templateGroupChooser form-control thin-scroll","onUpdate:modelValue":t[4]||(t[4]=t=>e.selectedDisplayed=t)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(y.columnChooser.displayedFields,(t=>((0,a.wg)(),(0,a.iD)("option",{value:t,key:t[0]},(0,s.zw)(e.DOAPP.utils.translate(t[1],e.module)),9,b)))),128))],512),[[o.bM,e.selectedDisplayed]])]),(0,a._)("div",w,[(0,a._)("button",{type:"button",class:"btn btn-sm btn-outline-secondary p-0",id:"chooser_display_tabs_left_to_right",onClick:t[5]||(t[5]=t=>e.switchToHide(this.selectedDisplayed))},_)])]),(0,a._)("div",C,[(0,a._)("label",D,(0,s.zw)(e.DOAPP.utils.translate("LBL_HIDE_COLUMNS")),1),(0,a._)("div",x,[(0,a.wy)((0,a._)("select",{id:"hide_tabs",size:"7",multiple:"multiple",class:"groupChooser form-control thin-scroll","onUpdate:modelValue":t[6]||(t[6]=t=>e.selectedHidden=t)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(y.columnChooser.hiddenFields,(t=>((0,a.wg)(),(0,a.iD)("option",{value:t,key:t[0]},(0,s.zw)(e.DOAPP.utils.translate(t[1],e.module)),9,k)))),128))],512),[[o.bM,e.selectedHidden]])]),(0,a._)("div",E,[(0,a._)("button",{type:"button",class:"btn btn-sm btn-outline-secondary p-0",id:"chooser_display_tabs_left_arrow",onClick:t[7]||(t[7]=t=>e.switchToDisplay(this.selectedHidden))},A)])])])])])}var O=n(77148),L={name:"DashletConfigColumnChooser",extends:O["default"],props:{chooser:{type:Object,required:!0}},computed:{columnChooser:{get(){let e=Object.assign({},this.chooser);return this.DOAPP.utils.isEmpty(e)?console.error("Object is empty"):(Array.isArray(e.displayedFields)||(this.chooserToArray(e),this.$store.commit("focus/updateListColumnChooser",e)),e)},set(e){this.$store.dispatch("popup/updateDashletColumnChooser",e)}}}},P=n(40089);const M=(0,P.Z)(L,[["render",T]]);var B=M},992:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var a=n(73396),o=n(87139);const s={class:"d-flex justify-content-between w-100"};function i(e,t,n,i,r,l){return(0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",onClick:t[0]||(t[0]=(...t)=>e.refuseHandler&&e.refuseHandler(...t))},(0,o.zw)(e.lblRefuse),1),(0,a._)("div",null,[e.confirmHandler?((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",class:"btn btn-primary mr-2",onClick:t[1]||(t[1]=(...t)=>e.confirmHandler&&e.confirmHandler(...t))},(0,o.zw)(e.lblConfirm),1)):(0,a.kq)("",!0),(0,a._)("button",{type:"button",class:"btn btn-danger",onClick:t[2]||(t[2]=(...e)=>l.clearFilter&&l.clearFilter(...e))},(0,o.zw)(e.DOAPP.utils.translate("LBL_CLEAR_BUTTON_LABEL")),1)])])}var r=n(93591),l={name:"DashletConfigFooter",extends:r["default"],methods:{clearFilter(){this.$store.dispatch("popup/clearDashletConfigFilter")}}},d=n(40089);const c=(0,d.Z)(l,[["render",i]]);var u=c},62305:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var a=n(73396),o=n(87139);const s={class:"modal-title"},i=(0,a._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[(0,a._)("span",{"aria-hidden":"true"},"×")],-1);function r(e,t,n,r,l,d){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("h5",s,(0,o.zw)(e.section.data.title),1),i],64)}var l=n(27480),d={name:"DashletConfigHeader",extends:l["default"]},c=n(40089);const u=(0,c.Z)(d,[["render",r]]);var m=u},97210:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var a=n(73396),o=n(87139),s=n(49242);const i={class:"row no-space"},r={class:"col-lg-12"},l={name:"dashletConfig",id:"dashletConfig"},d=(0,a._)("input",{type:"hidden",name:"module",value:"Home"},null,-1),c=(0,a._)("input",{type:"hidden",name:"action",value:"ConfigureDashlet"},null,-1),u=(0,a._)("input",{type:"hidden",name:"configure",value:!0},null,-1),m=(0,a._)("input",{type:"hidden",name:"to_pdf",value:!0},null,-1),p=["value"],h={class:"card card-primary card-outline"},f={class:"card-body"},g={class:"row"},v=["data-type","data-field"],b={class:"text-truncate mb-2"},w=["for"],y=["title","onUpdate:modelValue"],_=["label","value"];function C(e,t,n,C,D,x){return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",r,[(0,a._)("form",l,[d,c,u,m,(0,a._)("input",{type:"hidden",name:"id",value:e.section.data.record},null,8,p),(0,a._)("div",h,[(0,a._)("div",f,[(0,a._)("div",g,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(x.settingsData,((t,n)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:n},["enum"!==t.type?((0,a.wg)(),(0,a.j4)((0,a.LL)(x.filtersFieldTemplate(t.type)),{key:0,name:n,module:"SugarFeed",widthClass:x.widthClass,fieldData:t},null,8,["name","widthClass","fieldData"])):((0,a.wg)(),(0,a.iD)("div",{key:1,class:(0,o.C_)(["form-group",x.widthClass]),"data-type":t.type,"data-field":t.name},[(0,a._)("div",b,[(0,a._)("label",{for:t.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(t.label,"SugarFeed")),9,w)]),(0,a.wy)((0,a._)("select",{class:"custom-select",id:"autoRefresh",name:"autoRefresh",title:e.DOAPP.utils.translate(t.label,"SugarFeed"),"onUpdate:modelValue":e=>t.value=e},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,label:e,value:t},(0,o.zw)(e),9,_)))),128))],8,y),[[s.bM,t.value]])],10,v))],64)))),128))])])])])])])}var D=n(36633),x=n(65849),k={name:"DashletConfigSugarFieldBody",extends:D["default"],computed:{widthClass(){return"col-lg-6"},settingsData(){return this.DOAPP.utils.isEmpty(this.section.data.data)?{}:this.section.data.data}},methods:{filtersFieldTemplate(e){return x["default"][e]?x["default"][e]:(console.log("Field type "+e+" not found"),x["default"].varchar)}}},E=n(40089);const S=(0,E.Z)(k,[["render",C]]);var A=S},27178:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var a=n(73396),o=n(87139);const s=e=>((0,a.dD)("data-v-54014035"),e=e(),(0,a.Cn)(),e),i=s((()=>(0,a._)("i",{class:"fas fa-3x fa-sync-alt fa-spin"},null,-1))),r=[i];function l(e,t,n,s,i,l){return n.isShow?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"tab-preloader flex-column justify-content-center align-items-center",style:(0,o.j5)(i.styleObj)},r,4)):(0,a.kq)("",!0)}var d={name:"TabPreloader",props:{isShow:{type:Boolean}},data(){return{styleObj:{height:"100vh",opacity:0}}},updated(){this.updateStyle()},mounted(){this.updateStyle()},methods:{updateStyle(){let e,t,n=this.$el.parentElement;try{e=n.clientHeight-n.firstElementChild.clientHeight-n.lastElementChild.clientHeight}catch{e=0}e>0&&(t=e+"px",this.styleObj.height=t),this.isShow?this.styleObj.opacity=1:this.styleObj.opacity=0}}},c=n(40089);const u=(0,c.Z)(d,[["render",l],["__scopeId","data-v-54014035"]]);var m=u},79298:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var a=n(73396),o=n(87139);const s=(0,a._)("i",{class:"bi bi-chevron-left"},null,-1),i=(0,a._)("i",{class:"bi bi-chevron-right"},null,-1);function r(e,t,n,r,l,d){const c=(0,a.up)("VueDatePicker");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(c,{uid:"picker",ref:n.refName,autocomplete:n.autocomplete,range:n.range,"multi-calendars":n.multiCalendars,"multi-calendars-solo":n.multiCalendarsSolo,"action-row":n.actionRow,"auto-apply":n.autoApply,"input-class-name":"form-control "+n.inputClassName,"enable-time-picker":n.enableTimePicker,modelValue:n.date,"onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("changeDate",t)),title:n.title,name:n.name,dark:d.isDark,"text-input-options":d.getInputOptions,format:d.getFormat,locale:d.getLocale,"show-now-button":!0,onBlur:d.changeValue,"select-text":l.selectText,"now-button-label":l.nowButtonLabel,"cancel-text":l.cancelText,"hide-input-icon":"","text-input":"","is-24":!d.hasMeridiem,"minutes-grid-increment":"15","minutes-increment":"15",clearable:!1},{"action-extra":(0,a.w5)((()=>[(0,a._)("button",{class:"btn btn-primary mb-1",type:"button",title:"Select current date",onClick:t[0]||(t[0]=(...e)=>d.defaultSetToday&&d.defaultSetToday(...e))},(0,o.zw)(e.DOAPP.utils.translate("LBL_TODAY","Home")),1)])),"arrow-left":(0,a.w5)((()=>[s])),"arrow-right":(0,a.w5)((()=>[i])),_:1},8,["autocomplete","range","multi-calendars","multi-calendars-solo","action-row","auto-apply","input-class-name","enable-time-picker","modelValue","title","name","dark","text-input-options","format","locale","onBlur","select-text","now-button-label","cancel-text","is-24"]),(0,a.WI)(e.$slots,"buttons",{openMenu:d.openMenu,closeMenu:d.closeMenu,cleanMenu:d.cleanMenu})],64)}var l=n(30393),d={name:"daDateTimePicker",components:{VueDatePicker:l.Z},emits:["changeDate"],props:{refName:{type:String,default:()=>"datepicker"},autocomplete:{type:String,default:()=>"off"},range:{type:Boolean,default:()=>!1},multiCalendars:{type:Boolean,default:()=>!1},multiCalendarsSolo:{type:Boolean,default:()=>!1},actionRow:{type:Object,default:()=>({showPreview:!1,showSelect:!1})},autoApply:{type:Boolean,default:()=>!0},inputClassName:{type:String,default:()=>""},enableTimePicker:{type:Boolean,default:()=>!0},state:{type:String,required:!0},date:{type:[Date,String,Array],required:!0},title:{type:String,default:()=>""},name:{type:String},setToday:{type:Function}},data(){return{selectText:this.$store.state.app.lang.LBL_SELECT_BUTTON_LABEL,nowButtonLabel:this.$store.state.app.list_strings.aow_date_options.today,cancelText:this.$store.state.app.lang.LBL_CLOSE_BUTTON_TITLE,warningMessage:this.$store.state.app.lang.ERR_INVALID_VALUE}},computed:{isDark(){return this.$store.getters["app/isDarkMode"]},getLocale(){return this.$store.state.app.langHeader.split("=")[1].replace(/[']/g,"").split("_")[0]},hasMeridiem(){return this.DOAPP.dateTime.hasMeridiem()},getInputOptions(){let e={format:this.DOAPP.dateTime.userDateFormat().replace("d","dd").replace("m","MM").replace("Y","yyyy"),enterSubmit:!1,tabSubmit:!1,openMenu:!1};return this.enableTimePicker&&(e.format+=" H:mm"),e}},methods:{defaultSetToday(){this.range?this.$emit("changeDate",[new Date,new Date]):this.$emit("changeDate",new Date),this.setToday&&this.setToday(),this.closeMenu()},cleanMenu(){this.$emit("changeDate","")},openMenu(){this.$refs[this.refName].openMenu()},closeMenu(){this.$refs[this.refName].closeMenu()},changeValue(){const e=window.$("#dp-input-picker").val();let t;if(!0===this.range){t=this.DOAPP.dateTime.formatRangeDateTimeToVueCal(e);for(let e of t)if(Number.isNaN(Date.parse(e)))return}else if(t=this.DOAPP.dateTime.formatDateTimeToVueCal(e),Number.isNaN(Date.parse(t)))return;this.$emit("changeDate",t)},getFormat(e){return e?this.enableTimePicker?this.DOAPP.dateTime.toUserFormat(e):Array.isArray(e)?this.DOAPP.dateTime.formatRangeDateToUser(e):this.DOAPP.dateTime.formatDateToUser(e):""}}},c=n(40089);const u=(0,c.Z)(d,[["render",r]]);var m=u},53457:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var a=n(73396);function o(e,t,n,o,s,i){const r=(0,a.up)("Editor");return(0,a.wg)(),(0,a.j4)(r,{init:i.initObject,modelValue:n.insertedValue,"onUpdate:modelValue":i.onInput,disabled:n.disabled},null,8,["init","modelValue","onUpdate:modelValue","disabled"])}n(87584),n(72848),n(53163),n(5741),n(29754),n(26442),n(58061),n(20953),n(58266),n(17807),n(54212),n(44807),n(3158),n(55850),n(99767),n(70527),n(24843),n(79090);var s=n(55046),i={name:"daEditor",components:{Editor:s.Z},emits:["changeValue"],props:{menubar:{type:Boolean,default:!1},insertedValue:{type:String,default:""},toolbarHide:{type:Boolean,default(){return!1}},plugins:{type:Array,default(){return["lists","link","image","table","code","help","wordcount"]}},toolbar:{type:[String,Boolean],default:"undo redo | casechange blocks | bold italic backcolor |         alignleft aligncenter alignright alignjustify |         bullist numlst checklist outdent indent | removeformat | a11ycheck code table help"},height:{type:[Number,Boolean],default:400},disabled:{type:Boolean,default:!1}},watch:{toolbarHide(e){this.toggleToolbar(e)}},computed:{initObject(){let e={skin:!1,content_css:!1,height:this.height,menubar:this.menubar,plugins:this.plugins,toolbar:"undo redo | casechange blocks | bold italic backcolor |         alignleft aligncenter alignright alignjustify |         bullist numlst checklist outdent indent | removeformat | a11ycheck code table help"};return e}},methods:{onInput(e){this.$emit("changeValue",{html:e,raw:this.rawValue(e)})},rawValue(e){let t=e.replace(/&nbsp;/gi," ");return t=t.match(/>([A-zА-я\s\d]+)/g),t?t.map((e=>e.replace(">",""))).join(""):""},toggleToolbar(e){let t=document.querySelector(".tox-toolbar-overlord");t&&(t.style.display=e?"none":"block")}}},r=n(40089);const l=(0,r.Z)(i,[["render",o]]);var d=l},82560:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var a=n(73396),o=n(87139);const s={class:"text-bold"},i={class:"text-bold"},r=["innerHTML"],l={class:"text-bold"},d={class:"text-bold"};function c(e,t,n,c,u,m){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("p",null,[(0,a._)("span",s,(0,o.zw)(e.DOAPP.utils.translate("LBL_TOOL_TIP_TITLE","Cases")),1),(0,a.Uk)(" "+(0,o.zw)(n.response.title),1)]),(0,a._)("p",i,(0,o.zw)(e.DOAPP.utils.translate("LBL_TOOL_TIP_BODY","Cases")),1),(0,a._)("div",{innerHTML:n.response.description},null,8,r),Object.hasOwn(n.response,"additional_info")?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a._)("p",l,(0,o.zw)(e.DOAPP.utils.translate("LBL_TOOL_TIP_INFO","Cases")),1),(0,a._)("p",null,(0,o.zw)(n.response.additional_info),1),(0,a._)("p",d,(0,o.zw)(e.DOAPP.utils.translate("LBL_TOOL_TIP_USE","Cases")),1),(0,a._)("button",{type:"button",class:"btn btn-info",onClick:t[0]||(t[0]=(...e)=>m.setCaseResolution&&m.setCaseResolution(...e))},(0,o.zw)(e.DOAPP.utils.translate("LBL_RESOLUTION_BUTTON","Cases")),1)],64)):(0,a.kq)("",!0)])}var u={name:"CasePopoverContent",props:{response:Object},methods:{setCaseResolution(){this.$store.dispatch("focus/updateModelValue",{name:"resolution",value:this.response.additional_info})}}},m=n(40089);const p=(0,m.Z)(u,[["render",c]]);var h=p},78928:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var a=n(73396),o=n(87139);const s=e=>((0,a.dD)("data-v-169370c4"),e=e(),(0,a.Cn)(),e),i=["onClick"],r=s((()=>(0,a._)("i",{class:"bi bi-x-square"},null,-1))),l=[r],d=["innerHTML"];function c(e,t,n,s,r,c){const u=(0,a.up)("case-popover-content"),m=(0,a.up)("Popper");return(0,a.wg)(),(0,a.j4)(m,{placement:"auto-start",class:(0,o.C_)(c.getTheme),hover:n.hover,arrow:n.arrow,"open-delay":n.openDelay,zIndex:"999",onOnClose:t[0]||(t[0]=e=>r.popoverData="")},{content:(0,a.w5)((({close:e})=>[n.hover?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("button",{key:0,class:"btn btn-outline-danger",type:"button",id:"close",onClick:e},l,8,i)),"casePopover"===r.popoverResponse.type?((0,a.wg)(),(0,a.j4)(u,{key:1,response:r.popoverResponse},null,8,["response"])):((0,a.wg)(),(0,a.iD)("div",{key:2,innerHTML:r.popoverData},null,8,d))])),default:(0,a.w5)((()=>[(0,a.WI)(e.$slots,"target",{getData:c.getPopoverData,hover:n.hover},void 0,!0)])),_:3},8,["class","hover","arrow","open-delay"])}var u=n(3758),m=n(82560),p={name:"daPopover",components:{CasePopoverContent:m["default"],Popper:u.Z},data(){return{popoverData:"",popoverResponse:""}},props:{hover:Boolean,arrow:Boolean,module:String,popoverTemplate:String,popoverGetParams:Object,openDelay:[Number,String]},computed:{getTheme(){return this.$store.getters["app/getTheme"]}},methods:{async getPopoverData(){if(!this.popoverData)if(this.$props.popoverGetParams){let e=await this.$store.dispatch("ajaxGet",this.popoverGetParams);this.popoverResponse=e.data,e.data.body&&e.data.body.length?this.popoverData=e.data.body.replaceAll("<br />","").replaceAll('<a href="index.php?','<a href="?'):this.popoverData=`<p class="text-center text-muted">${this.DOAPP.utils.translate("MSG_LIST_VIEW_NO_RESULTS_BASIC")}</p>`}else this.$props.popoverTemplate&&(this.popoverData=this.$props.popoverTemplate)}}},h=n(40089);const f=(0,h.Z)(p,[["render",c],["__scopeId","data-v-169370c4"]]);var g=f},66321:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ae}});var a=n(73396),o=n(87139);const s=e=>((0,a.dD)("data-v-12dfdc6c"),e=e(),(0,a.Cn)(),e),i={key:0,class:"table-quickviewlinks"},r=["title","checked","disabled"],l={key:1,class:"table-quickviewlinks"},d={key:1},c=["onClick"],u={class:"ml-1 align-self-end"},m=["title"],p={key:1,class:"d-inline-flex"},h=s((()=>(0,a._)("div",null,null,-1))),f=[h],g={key:2,class:"d-inline-flex"},v={key:2},b=["title"],w={key:3,"data-col":"action_button"},y=s((()=>(0,a._)("div",{class:"d-inline-flex"},null,-1))),_=[y],C={key:4,class:"sorting_disabled","data-col":"action_button"},D=s((()=>(0,a._)("div",{class:"d-inline-flex"},null,-1))),x=[D],k={key:0},E=["role","onClick"],S={key:0,"data-widget":"checkbox"},A=["value","checked"],T={key:0,"data-widget":"checkbox"},O=["title","name","value","data-count","checked","disabled"],L={key:1,"data-widget":"icon"},P=s((()=>(0,a._)("i",{class:"bi bi-pencil-square"},null,-1))),M=["data-type","data-field","data-widget"],B={class:"text-nowrap"},I={key:2},R={class:"text-nowrap"},F=["onMouseenter","id"],N=["title"],V=["onClick","id"],U=["title"],H={key:3},z=s((()=>(0,a._)("i",{class:"bi bi-pencil-square"},null,-1))),j=s((()=>(0,a._)("i",{class:"bi bi-eye"},null,-1))),Z={key:4},q={class:"d-flex justify-content-between"},$={class:"text-nowrap"},W={key:1,class:"container"},K={class:"text-center py-3 text-muted"};function G(e,t,n,s,h,y){const D=(0,a.up)("router-link"),G=(0,a.up)("DaPopover"),Y=(0,a.up)("DaHideTable");return(0,a.wg)(),(0,a.iD)("div",null,[h.tableRun?((0,a.wg)(),(0,a.j4)(Y,{key:0,class:"table table-hover m-0 no-footer",excludedTypes:["checkbox","icon","setComplete_button","SubPanelIcon"]},{default:(0,a.w5)((()=>[(0,a._)("thead",null,[(0,a._)("tr",null,[n.viewOptions.listViewData?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[n.viewOptions.listViewData.selectRecordsEnable?((0,a.wg)(),(0,a.iD)("th",i,[(0,a._)("input",{type:"checkbox",title:e.DOAPP.utils.translate("LBL_LISTVIEW_OPTION_CURRENT"),value:"",onClick:t[0]||(t[0]=(...e)=>y.setMassItem&&y.setMassItem(...e)),class:"checkbox",name:"massall",checked:y.getMassItem("massAll"),disabled:y.selectedAll},null,8,r)])):(0,a.kq)("",!0),n.viewOptions.listViewData.editViewLinksEnable?((0,a.wg)(),(0,a.iD)("th",l)):(0,a.kq)("",!0)],64)):(0,a.kq)("",!0),y.isMultiSelect?((0,a.wg)(),(0,a.iD)("th",d)):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.viewData.displayColumns,((t,n)=>((0,a.wg)(),(0,a.iD)("th",{key:n},[y.orderOptions[n]?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"d-inline-flex",role:"button",onClick:n=>e.$emit("sortHandler",t.name)},[(0,a._)("div",null,(0,o.zw)(y.getTranslation(t)),1),(0,a._)("div",u,[(0,a._)("i",{class:(0,o.C_)(y.orderOptions[n].class),title:e.DOAPP.utils.translate(y.orderOptions[n].title)},null,10,m)])],8,c)):"object_image"===t.name?((0,a.wg)(),(0,a.iD)("div",p,f)):((0,a.wg)(),(0,a.iD)("div",g,[(0,a._)("div",null,(0,o.zw)(y.getTranslation(t)),1)]))])))),128)),n.viewOptions.addInfo?((0,a.wg)(),(0,a.iD)("th",v,[(0,a._)("i",{class:"bi bi-info-square pr-1",title:e.DOAPP.utils.translate("LBL_ADDITIONAL_DETAILS")},null,8,b)])):(0,a.kq)("",!0),n.viewOptions.editViewLinksEnable?((0,a.wg)(),(0,a.iD)("th",w,_)):(0,a.kq)("",!0),n.pageData.rowButtons?((0,a.wg)(),(0,a.iD)("th",C,x)):(0,a.kq)("",!0)])]),y.dataIsEmpty?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("tbody",k,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.viewData.data,((o,s)=>((0,a.wg)(),(0,a.iD)("tr",{key:s,role:y.getCssRole(),onClick:e=>y.rowClickHandler(o)},[y.isMultiSelect?((0,a.wg)(),(0,a.iD)("td",S,[(0,a._)("input",{type:"checkbox",value:o["ID"],checked:y.getMassItem(o["ID"]),onClick:t[1]||(t[1]=(...e)=>y.setMassItem&&y.setMassItem(...e))},null,8,A)])):(0,a.kq)("",!0),n.viewOptions.listViewData?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[n.viewOptions.listViewData.selectRecordsEnable?((0,a.wg)(),(0,a.iD)("td",T,[(0,a._)("input",{title:e.DOAPP.utils.translate("LBL_SELECT_THIS_ROW_TITLE"),type:"checkbox",class:"checkbox",name:"mass["+o["ID"]+"]",value:o["ID"],"data-count":s,onClick:t[2]||(t[2]=(...e)=>y.setMassItem&&y.setMassItem(...e)),checked:y.getMassItem(o["ID"]),disabled:y.selectedAll},null,8,O)])):(0,a.kq)("",!0),n.viewOptions.listViewData.editViewLinksEnable?((0,a.wg)(),(0,a.iD)("td",L,[n.pageData.rowAccess[s].edit?((0,a.wg)(),(0,a.j4)(D,{key:0,to:y.getLink(s,o["ID"],"EditView"),title:e.DOAPP.utils.translate("LBL_EDIT_BUTTON"),id:"edit-"+o["ID"]},{default:(0,a.w5)((()=>[P])),_:2},1032,["to","title","id"])):(0,a.kq)("",!0)])):(0,a.kq)("",!0)],64)):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.viewData.displayColumns,((e,t)=>((0,a.wg)(),(0,a.iD)("td",{key:t,"data-type":e.type,"data-field":e.name,"data-widget":e.widget_class},[(0,a._)("div",B,[((0,a.wg)(),(0,a.j4)((0,a.LL)(y.fieldTemplate(e)),{name:t,module:n.module,metadata:e,beanData:o,pageData:n.pageData,viewOptions:n.viewOptions},null,8,["name","module","metadata","beanData","pageData","viewOptions"]))])],8,M)))),128)),n.viewOptions.addInfo?((0,a.wg)(),(0,a.iD)("td",I,[(0,a._)("div",R,[(0,a.Wm)(G,{popoverGetParams:y.popoverGetParams(o["ID"]),arrow:!0,hover:!1,"open-delay":100,module:n.module},{target:(0,a.w5)((({getData:t,hover:n})=>[n?((0,a.wg)(),(0,a.iD)("span",{key:0,onMouseenter:e=>t(o["ID"]),role:"button",id:"adspan_"+o["ID"]},[(0,a._)("span",{class:"suitepicon suitepicon-action-info",title:e.DOAPP.utils.translate("LBL_ADDITIONAL_DETAILS")},null,8,N)],40,F)):((0,a.wg)(),(0,a.iD)("span",{key:1,onClick:e=>t(o["ID"]),role:"button",id:"adspan_"+o["ID"]},[(0,a._)("span",{class:"suitepicon suitepicon-action-info",title:e.DOAPP.utils.translate("LBL_ADDITIONAL_DETAILS")},null,8,U)],8,V))])),_:2},1032,["popoverGetParams","module"])])])):(0,a.kq)("",!0),n.viewOptions.editViewLinksEnable?((0,a.wg)(),(0,a.iD)("td",H,[n.pageData.rowAccess[s].edit?((0,a.wg)(),(0,a.j4)(D,{key:0,to:y.getLink(s,o["ID"],"EditView"),title:e.DOAPP.utils.translate("LBL_EDIT_BUTTON"),id:"edit-"+o["ID"]},{default:(0,a.w5)((()=>[z])),_:2},1032,["to","title","id"])):(0,a.kq)("",!0),n.pageData.rowAccess[s].view?((0,a.wg)(),(0,a.j4)(D,{key:1,to:y.getLink(s,o["ID"],"DetailView"),title:e.DOAPP.utils.translate("LBL_VIEW_BUTTON"),id:"edit-"+o["ID"],class:"pl-2"},{default:(0,a.w5)((()=>[j])),_:2},1032,["to","title","id"])):(0,a.kq)("",!0)])):(0,a.kq)("",!0),n.pageData.rowButtons?((0,a.wg)(),(0,a.iD)("td",Z,[(0,a._)("div",q,[(0,a._)("div",$,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.pageData.rowButtons[s],((e,t)=>((0,a.wg)(),(0,a.j4)((0,a.LL)(y.fieldTemplate(e)),{key:t,name:t,module:n.module,beanData:o,pageData:n.pageData,viewOptions:n.viewOptions},null,8,["name","module","beanData","pageData","viewOptions"])))),128))])])])):(0,a.kq)("",!0)],8,E)))),128))]))])),_:1})):(0,a.kq)("",!0),y.dataIsEmpty?((0,a.wg)(),(0,a.iD)("div",W,[(0,a._)("p",K,(0,o.zw)(y.emptyMessage),1)])):(0,a.kq)("",!0)])}var Y=n(48922),X=n(67883),Q=n(4934),J=n(78928),ee={name:"daTable",components:{DaPopover:J["default"],DaHideTable:Y["default"]},props:{tableId:{type:String},name:{type:String},module:{type:String},viewData:{type:Object},pageData:{type:Object},viewOptions:{type:Object}},data(){return{tableRun:!1,popoverData:"",hover:!1}},computed:{getTheme(){return this.$store.getters["app/getTheme"]},dataIsEmpty(){return!!this.DOAPP.utils.isEmpty(this.viewData.data)},emptyMessage(){let e="MSG_LIST_VIEW_NO_RESULTS_BASIC";return"dashlet"===this.viewOptions.view&&(e="LBL_NO_DATA"),"listview"===this.viewOptions.view&&(e="MSG_LIST_VIEW_NO_RESULTS_CHANGE_CRITERIA"),this.DOAPP.utils.translate(e)},orderOptions(){let e={},t=this.viewData.displayColumns;for(let n in t)this.sortable(t[n])?e[n]=this.sortViewOpt(t[n]):e[n]=!1;return e},isMultiSelect(){let e=!1;return"relate"===this.viewOptions.view&&(e="MultiSelect"===this.pageData.queries.baseURL.mode),e},selectedAll(){return this.$store.state.mass_actions.all},parentTab(){return this.viewOptions.listViewData&&this.viewOptions.listViewData.parentTab?this.viewOptions.listViewData.parentTab:this.$store.state.focus.get.parentTab}},mounted(){this.tableRun=!0},beforeUnmount(){this.tableRun=!1},methods:{popoverGetParams(e){return{get:{VueAjax:1,method:"getAdditionalDetails",arg:{bean:this.module,id:e}}}},rowClickHandler(e){"relate"===this.viewOptions.view&&this.isMultiSelect||this.$attrs.onReturnHandler&&this.$emit("returnHandler",e)},getCssRole(){return("relate"===this.viewOptions.view||"invite"===this.viewOptions.view)&&"button"},setMassItem(e){let t;if("massall"===e.target.name){t={id:"pages",value:e.target.checked,current:this.pageData.offsets.current},this.$store.commit("mass_actions/SET_MASS_ACTION_ITEM",t);for(let n in this.pageData.idIndex)t={id:n,value:e.target.checked},this.$store.commit("mass_actions/SET_MASS_ACTION_ITEM",t)}else t={id:e.target.value,value:e.target.checked},this.$store.commit("mass_actions/SET_MASS_ACTION_ITEM",t)},getMassItem(e){return"massAll"===e&&this.$store.state.mass_actions.pages[this.pageData.offsets.current]?this.$store.state.mass_actions.pages[this.pageData.offsets.current]:!!this.$store.state.mass_actions.all||!!this.$store.state.mass_actions.uids[e]&&this.$store.state.mass_actions.uids[e]},getLink(e,t,n){let a=this.pageData.offsets.current+1+e,o=this.module;this.viewOptions.dashletId&&(o="Home&return_action=ListView");let s="?module="+this.module+"&offset="+a+"&stamp="+this.pageData.stamp+"&return_module="+o+"&action="+n+"&record="+t+"&parentTab="+this.parentTab;return s},fieldTemplate(e){if(this.DOAPP.utils.isEmpty(e))return!1;let t=this.fieldType(e);return"SugarWidget"===t?Q["default"][e.widget_class]:X["default"][t]},fieldType(e){if(Object.hasOwn(e,"widget_class"))return"SugarWidget";if(Object.hasOwn(e,"function")&&Object.hasOwn(e.function,"name")){if(X["default"][e.function.name])return e.function.name;console.log("!!! WARNING !!! Field with function "+e.function.name+"IS NOT DEFINED")}return Object.hasOwn(e,"type")?e.type:"text"},getTranslation(e){return"subpanel"!==this.viewOptions.view?e.label?this.DOAPP.utils.translate(e.label,this.module):this.DOAPP.utils.translate(e.vname,this.module):this.viewOptions.tabsProperties.collection_list?this.DOAPP.utils.translate(e.vname,Object.values(this.viewOptions.tabsProperties.collection_list)[0].module):this.DOAPP.utils.translate(e.vname,this.viewOptions.tabsProperties.module)},sortable(e){return!(!1===e.sortable||"object_image"===e.name||!e.vname)},sortViewOpt(e){let t={class:"bi bi-filter",title:"LBL_ALT_SORT"},n=this.getOrdering();return e.name!==n.orderBy||(t="asc"===n.sortOrder?{class:"bi bi-sort-down",title:"LBL_ALT_SORT_DESC"}:{class:"bi bi-sort-down-alt",title:"LBL_ALT_SORT_ASC"}),t},getOrdering(){let e={orderBy:"",sortOrder:""};if("subpanel"===this.viewOptions.view){let t=this.pageData.sortBy;t.includes("first_name")&&t.includes("last_name")&&(t="name"),e={orderBy:t,sortOrder:this.pageData.sortOrder}}return"dashlet"!==this.viewOptions.view&&"listview"!==this.viewOptions.view&&"relate"!==this.viewOptions.view||(e={orderBy:this.pageData.ordering.orderBy,sortOrder:this.pageData.ordering.sortOrder.toLowerCase()}),e}}},te=n(40089);const ne=(0,te.Z)(ee,[["render",G],["__scopeId","data-v-12dfdc6c"]]);var ae=ne},64025:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d=["id","name","title"];function c(e,t,n,c,u,m){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":n.fieldData.type,"data-field":n.fieldData.name},[(0,a._)("div",r,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(n.fieldData.label,e.module)),9,l)]),(0,a.wy)((0,a._)("input",{class:"form-control",type:"text",id:n.fieldData.name,name:n.fieldData.name,title:e.DOAPP.utils.translate(n.fieldData.label,e.module),"onUpdate:modelValue":t[0]||(t[0]=e=>m.value=e)},null,8,d),[[s.nr,m.value]])],10,i)}var u=n(26754),m={name:"AbstractField",extends:u["default"],data(){return{widgetCols:2}},props:{fieldData:{type:Object,required:!0}},computed:{value:{get(){return this.fieldData.value},set(e){this.$store.dispatch("popup/updateDashletSettingValue",{name:this.fieldData.name,value:e})}}},methods:{addToValidate(){}}},p=n(40089);const h=(0,p.Z)(m,[["render",c]]);var f=h},71354:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"custom-control custom-switch"},l=["name"],d={class:"custom-control-label",for:"customSwitch1"};function c(e,t,n,c,u,m){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldData.type,"data-field":e.fieldData.name},[(0,a._)("div",r,[(0,a.wy)((0,a._)("input",{name:e.fieldData.name,type:"checkbox",class:"custom-control-input",id:"customSwitch1","true-value":"1","false-value":"0","onUpdate:modelValue":t[0]||(t[0]=e=>m.value=e)},null,8,l),[[s.e8,m.value]]),(0,a._)("label",d,(0,o.zw)(e.DOAPP.utils.translate(e.fieldData.label,e.module)),1)])],10,i)}var u=n(64025),m={name:"BoolField",extends:u["default"],computed:{fieldDef(){return this.fieldData},value:{get(){return"on"===this.fieldDef.value?1:this.fieldDef.value?this.fieldDef.value:0},set(e){this.$store.dispatch("popup/updateDashletSettingValue",{name:this.fieldDef.name,value:e})}}}},p=n(40089);const h=(0,p.Z)(m,[["render",c]]);var f=h},71981:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var a=n(73396),o=n(87139);const s=["data-type","data-field"],i=["for"],r={class:"input-group position-relative",style:{"flex-wrap":"nowrap"}},l={class:"input-group-append"},d=["onClick"],c=(0,a._)("i",{class:"fa fa-calendar"},null,-1),u=[c],m=["onClick"],p=(0,a._)("i",{class:"fa fa-times"},null,-1),h=[p];function f(e,t,n,c,p,f){const g=(0,a.up)("daDateTimePicker");return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldData.type,"data-field":e.name},[(0,a._)("label",{for:e.name},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.fieldData.label),e.module)),9,i),(0,a._)("div",r,[(0,a.Wm)(g,{title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.fieldData.label),e.module),name:e.name,state:e.state,date:f.getDate,enableTimePicker:!1,onChangeDate:f.setDate},{buttons:(0,a.w5)((({openMenu:e,cleanMenu:t})=>[(0,a._)("div",l,[(0,a._)("button",{type:"button",class:"btn btn-info",onClick:e},u,8,d),(0,a._)("button",{type:"button",class:"btn btn-danger",onClick:t},h,8,m)])])),_:1},8,["title","name","state","date","onChangeDate"])])],10,s)}var g=n(64025),v=n(79298),b={name:"DateField",extends:g["default"],components:{DaDateTimePicker:v["default"]},computed:{getDate(){return this.DOAPP.dateTime.formatDateTimeToVueCal(this.value)}},methods:{setDate(e){void 0===e&&Number.isNaN(e)||this.$store.dispatch("popup/updateDashletSettingValue",{name:this.name,value:this.DOAPP.dateTime.formatDateToUser(e)})}}},w=n(40089);const y=(0,w.Z)(b,[["render",f]]);var _=y},77234:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(92789),o={name:"DateTimeComboField",extends:a["default"]};const s=o;var i=s},44403:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(92789),o={name:"DateTimeField",extends:a["default"]};const s=o;var i=s},92789:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d=["id","name","title"],c=["label","value"];function u(e,t,n,u,m,p){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldData.type,"data-field":e.fieldData.name},[(0,a._)("div",r,[(0,a._)("label",{for:e.fieldData.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.fieldData.label,e.module)),9,l)]),(0,a.wy)((0,a._)("select",{class:"custom-select",id:e.fieldData.name,name:e.fieldData.name,title:e.DOAPP.utils.translate(e.fieldData.label,e.module),"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.fieldData.options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,label:e,value:t},(0,o.zw)(e),9,c)))),128))],8,d),[[s.bM,e.value]])],10,i)}var m=n(64025),p={name:"EnumField",extends:m["default"]},h=n(40089);const f=(0,h.Z)(p,[["render",u]]);var g=f},4296:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}});var a=n(73396),o=n(87139),s=n(49242);const i=e=>((0,a.dD)("data-v-cda97894"),e=e(),(0,a.Cn)(),e),r=["data-type","data-field"],l=["for"],d=["id","name"],c=["id","name","title","value"],u={class:"form-control","data-toggle":"dropdown"},m={class:"d-flex flex-row flex-wrap"},p={class:"text-sm"},h=["onClick"],f={class:"dropdown-menu dropdown-menu-custom-scroll thin-scroll"},g=["id","disabled","onMousedown"],v=i((()=>(0,a._)("div",{class:"dropdown-divider"},null,-1)));function b(e,t,n,i,b,w){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldData.type,"data-field":e.fieldData.name},[(0,a._)("label",{for:e.fieldData.name},(0,o.zw)(e.DOAPP.utils.translate(e.fieldData.label,e.module)),9,l),(0,a._)("input",{type:"hidden",id:e.fieldData.name,name:e.fieldData.name,value:""},null,8,d),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(w.value,((t,n)=>((0,a.wg)(),(0,a.iD)("input",{key:n,type:"hidden",id:e.fieldData.name,name:e.fieldData.name+"[]",title:e.DOAPP.utils.translate(e.fieldData.label,e.module),value:t},null,8,c)))),128)),(0,a._)("div",u,[(0,a._)("div",m,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(w.value,((t,n)=>((0,a.wg)(),(0,a.iD)("div",{key:n,class:"selected_panel"},[(0,a._)("span",p,(0,o.zw)(e.fieldData.options[t]),1),(0,a._)("button",{class:"custom_delete_button",type:"button",onClick:(0,s.iM)((e=>w.removeValue(n)),["stop"])},"⨯",8,h)])))),128))])]),(0,a._)("div",f,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.fieldData.options,((e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:t},[(0,a._)("button",{id:"dropdown-item_"+t,tabindex:"-1",type:"button",class:(0,o.C_)(["dropdown-item text-sm",w.itemStatus(t).class]),disabled:w.itemStatus(t).disabled,onMousedown:e=>w.addValue(t)},(0,o.zw)(e),43,g),v],64)))),128))])],10,r)}n(57658);var w=n(64025),y={name:"MultiEnumField",extends:w["default"],computed:{value:{get(){return this.fieldData.value?this.fieldData.value:[]},set(e){let t={name:this.name,value:e};this.$store.dispatch("popup/updateDashletSettingValue",t)}}},methods:{itemStatus(e){for(let t in this.value)if(e===this.value[t])return{class:"text-muted",disabled:!0};return{class:"",disabled:!1}},removeValue(e){let t=this.value;this.value=t.filter(((t,n)=>n!==e))},addValue(e){let t=this.value;t.push(e),this.value=t}}},_=n(40089);const C=(0,_.Z)(y,[["render",b],["__scopeId","data-v-cda97894"]]);var D=C},26412:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(64025),o={name:"VarcharField",extends:a["default"]};const s=o;var i=s},41316:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var a=n(87139);function o(e,t,n,o,s,i){return(0,a.zw)(i.value)}var s={name:"AbstractWidget",props:{module:{type:String},name:{},metadata:{type:Object},beanData:{type:Object},pageData:{type:Object},viewOptions:{type:Object}},computed:{fieldDef(){return this.metadata[this.name]},value(){return Object.hasOwn(this.rowProperties,"widget_class")?this.rowProperties.widget_class:""},rowProperties(){let e={};if(Object.hasOwn(this.pageData,"rowProperties")&&Object.hasOwn(this.pageData.rowProperties,this.beanData["ID"])){let t=this.pageData.rowProperties[this.beanData["ID"]];e=t[`${this.name}`.toLowerCase()]}return e}}},i=n(40089);const r=(0,i.Z)(s,[["render",o]]);var l=r},44597:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var a=n(87139);function o(e,t,n,o,s,i){return(0,a.zw)(i.value)}var s=n(41316),i={name:"SubPanelActivitiesStatusField",extends:s["default"],computed:{value(){return this.beanData[this.name]}}},r=n(40089);const l=(0,r.Z)(i,[["render",o]]);var d=l},91528:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var a=n(73396),o=n(87139);function s(e,t,n,s,i,r){const l=(0,a.up)("router-link");return r.link?((0,a.wg)(),(0,a.j4)(l,{key:0,to:r.link,class:(0,o.C_)({"text-bold":r.isName})},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(r.value),1)])),_:1},8,["to","class"])):((0,a.wg)(),(0,a.iD)("span",{key:1,class:(0,o.C_)({"text-bold":r.isName})},(0,o.zw)(r.value),3))}var i=n(41316),r={name:"SubPanelDetailViewLink",extends:i["default"],computed:{value(){return this.beanData[this.name]},link(){let e,t,n=!1;return t=this.rowProperties.target_record_key?this.beanData[`${this.rowProperties.target_record_key}`.toUpperCase()]:this.beanData["ID"],e=this.rowProperties.target_module_key?this.rowProperties.target_module_key:this.rowProperties.target_module?this.rowProperties.target_module:this.rowProperties.module,e&&t&&this.checkACL()?(n="?module="+e+"&action=DetailView&record="+t,n):n},isName(){return"name"===this.rowProperties.name}},methods:{checkACL(){let e=this.$store.state.user.data;return!!e.is_admin||(!!this.rowProperties.acl_Detail||(!(this.rowProperties.owner_module||!this.rowProperties.DetailView)||!(!this.rowProperties.owner_module||this.rowProperties.owner_id!==e.id)))}}},l=n(40089);const d=(0,l.Z)(r,[["render",s]]);var c=d},35578:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var a=n(73396);const o=["title"];function s(e,t,n,s,i,r){return(0,a.wg)(),(0,a.iD)("i",{class:"bi bi-pencil-square bg-info subpanel-row-button",role:"button",onClick:t[0]||(t[0]=e=>r.editViewHandler()),title:e.DOAPP.utils.translate(this.rowProperties.vname)},null,8,o)}n(57658);var i=n(41316),r={name:"SubPanelEditButton",extends:i["default"],computed:{rowProperties(){let e={};return Object.hasOwn(this.pageData,"rowButtons")&&Object.hasOwn(this.pageData.rowButtons,this.beanData["ID"])&&(e=this.pageData.rowButtons[this.beanData["ID"]][this.name]),e},params(){return{action:"EditView",record:this.beanData["ID"],module:this.rowProperties.module,return_module:this.module,return_id:this.$route.query.record,return_action:"DetailView",return_relationship:this.rowProperties.linked_field}}},methods:{editViewHandler(){this.$router.push({path:"/",query:this.params})}}},l=n(40089);const d=(0,l.Z)(r,[["render",s]]);var c=d},69032:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var a=n(73396),o=n(87139);function s(e,t,n,s,i,r){return(0,a.wg)(),(0,a.iD)("a",{href:"#",onClick:t[0]||(t[0]=(...e)=>r.openPopup&&r.openPopup(...e))},(0,o.zw)(r.value),1)}var i=n(41316),r={name:"SubPanelEmailLink",extends:i["default"],computed:{value(){return this.beanData[this.name]}},methods:{openPopup(){let e={get:{VueAjax:1,method:"getSendEmailForm",arg:{targetModule:this.viewOptions.tabsProperties.module,ids:this.beanData.ID}}};this.$store.dispatch("popup/getComposeView",e)}}},l=n(40089);const d=(0,l.Z)(r,[["render",s]]);var c=d},33046:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var a=n(73396),o=n(87139);function s(e,t,n,s,i,r){return(0,a.wg)(),(0,a.iD)("i",{class:(0,o.C_)(["suitepicon px-1",r.value])},null,2)}var i=n(41316),r={name:"SubPanelIcon",extends:i["default"],computed:{value(){let e=`${this.rowProperties.module}`.replaceAll("_","-").toLowerCase();return"suitepicon-module-"+e}}},l=n(40089);const d=(0,l.Z)(r,[["render",s]]);var c=d},65709:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var a=n(73396);const o=["title"];function s(e,t,n,s,i,r){return(0,a.wg)(),(0,a.iD)("i",{class:"bi bi-trash bg-danger subpanel-row-button",role:"button",onClick:t[0]||(t[0]=e=>r.deleteRelationship()),title:e.DOAPP.utils.translate(this.rowProperties.vname)},null,8,o)}var i=n(41316),r={name:"SubPanelRemoveButton",extends:i["default"],computed:{rowProperties(){let e={};return Object.hasOwn(this.pageData,"rowButtons")&&Object.hasOwn(this.pageData.rowButtons,this.beanData["ID"])&&(e=this.pageData.rowButtons[this.beanData["ID"]][this.name]),e}},methods:{deleteRelationship(){this.$store.dispatch("popup/setSize"),this.$store.dispatch("popup/fill",{type:"confirm",header:{show:!1,data:{}},body:{show:!0,data:{pageData:{bean:{moduleName:this.module}},content:{text:this.DOAPP.utils.translate("NTC_REMOVE_CONFIRMATION")}}},footer:{show:!0,data:{onConfirm:this.confirmRelationshipDeletion}}}),this.$store.dispatch("popup/show")},async confirmRelationshipDeletion(){let e,t={module:this.module,action:"DeleteRelationship",record:this.$route.query.record,linked_field:this.pageData.rowButtons[this.beanData["ID"]][this.name].linked_field,linked_id:this.beanData["ID"]};await this.$store.dispatch("ajaxGet",{get:t,sanitize:!1}),e=this.viewOptions.tabsProperties.get_subpanel_data?this.viewOptions.tabsProperties.get_subpanel_data:this.viewOptions.tabsProperties.subpanel_name,this.$store.dispatch("focus/getSubpanelData",{name:e,order:this.viewOptions.tabsProperties.order}),this.$store.dispatch("popup/hide")}}},l=n(40089);const d=(0,l.Z)(r,[["render",s]]);var c=d},79463:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var a=n(73396),o=n(87139);function s(e,t,n,s,i,r){return e.show()?((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",class:(0,o.C_)(["bg-danger",e.displayClass()]),onClick:t[0]||(t[0]=(...e)=>r.cancelForm&&r.cancelForm(...e))},(0,o.zw)(e.labelResolve()),3)):(0,a.kq)("",!0)}n(57658);var i=n(38556),r={name:"CancelButton",extends:i["default"],data(){return{forType:{main:!1,other:!1,separate:!0},label:"LBL_CANCEL_BUTTON_LABEL"}},methods:{cancelForm(){if("popup"===this.state)this.$store.dispatch("popup/hide");else if("mass_actions"===this.state)this.$store.commit("mass_actions/HIDE");else{let e={},t=this.$route.query;t.return_module?e["module"]=t.return_module:e["module"]=t.module,t.return_action&&("DetailView"!==t.return_action||t.return_id||t.record?e["action"]=t.return_action:e["action"]="ListView"),t.return_id&&(e["record"]=t.return_id),e["action"]&&t.return_id?e["record"]=t.return_id:e["action"]&&t.record&&"ListView"!==e["action"]&&(e["record"]=t.record),t.return_subAction&&(e["subAction"]=t.return_subAction),t.parentTab?e["parentTab"]=t.parentTab:e["parentTab"]="",this.$router.push({path:"/",query:e})}}}},l=n(40089);const d=(0,l.Z)(r,[["render",s]]);var c=d},88738:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var a=n(73396),o=n(87139);const s=["form"];function i(e,t,n,i,r,l){return e.show()?((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",class:(0,o.C_)(["bg-success",e.displayClass()]),form:e.setForm,onClick:t[0]||(t[0]=(...e)=>l.customMethod&&l.customMethod(...e))},(0,o.zw)(e.labelResolve()),11,s)):(0,a.kq)("",!0)}n(57658);var r=n(38556),l={name:"SaveButton",extends:r["default"],data(){return{forType:{main:!0,other:!1,separate:!1},label:"LBL_SAVE_BUTTON_LABEL"}},methods:{async customMethod(e){let t=new FormData(e.target.form);if("EmailTemplates"===this.pageData.module&&(t=this.setEmailTemplatesFiles(t)),!this.validationForm(t))return void this.DOAPP.swal.getErrorToast(this.DOAPP.utils.translate("LBL_DA_INVALID_FORM").toUpperCase());let n=await this.checkForDuplicates(t);n?this.resolveDuplicates(t,n):this.saveForm(t),console.log("TODO: CustomLogic")},async saveForm(e,t=!1){if(t){let t=Array.from(e.keys()),n=this.pageData.module;for(const a of t){let t=n+a;e.set(t,e.get(a))}e.set("dup_checked",1)}e.append("action","Save"),this.$store.commit("app/SET_CONTENT_READY",!1);let n=await this.$store.dispatch("ajaxPost",{data:e,sanitize:!0});Object.hasOwn(this.getData,"parentTab")&&(n.focus.get["parentTab"]=this.getData.parentTab),"focus"===this.state?"Calendar"===this.getData.return_module&&"ListView"===this.getData.return_action&&["Calls","Meetings"].includes(this.getData.module)?await this.$router.push({path:"/",query:{module:"Calendar",action:"ListView"}}):(this.$store.dispatch("focus/setFocus",n),this.$store.commit("app/setAjaxOff"),this.getData.return_subAction&&(n.focus.get.subAction=this.getData.return_subAction),await this.$router.push({path:"/",query:n.focus.get}),this.$store.commit("app/SET_CONTENT_READY",!0)):("Calendar"===this.$route.query.module&&this.$store.dispatch("focus/retrieveCalendarActivities"),this.$store.commit("app/SET_CONTENT_READY",!0),this.$store.dispatch("popup/hide"))},async checkForDuplicates(e){console.log("checkForDuplicates");let t=["Accounts","Contacts","Leads"],n=this.pageData.id,a=this.pageData.module;if(!n&&t.includes(a)){let t=await this.$store.dispatch("ajaxPost",{data:e,get:{VueAjax:1,method:"checkForDuplicates","arg[module]":a}});return t.data}},resolveDuplicates(e,t){this.$store.dispatch("popup/setSize","lg");let n=this.pageData.module,a=this.DOAPP.utils.translate("LBL_SAVE");"Accounts"===n?a=this.DOAPP.utils.translate("LBL_SAVE_ACCOUNT",n):"Contacts"===n?a=this.DOAPP.utils.translate("LBL_SAVE_CONTACT",n):"Leads"===n&&(a=this.DOAPP.utils.translate("LBL_SAVE_OBJECT",n).replace("{0}","")),this.$store.dispatch("popup/fill",{type:"ShowDuplicates",header:{show:!0,data:{title:a}},body:{show:!0,data:{beanData:this.beanData,pageData:{bean:{moduleName:n}},viewData:{displayColumns:this.getDisplayColumns(t),data:t}}},footer:{show:!0,data:{onConfirm:()=>{this.saveForm(e,!0),this.$store.dispatch("popup/hide")},onRefuse:()=>{this.refuseDuplicate(e,n)},lblConfirm:this.DOAPP.utils.translate("LBL_SAVE_BUTTON_LABEL",n),lblRefuse:this.DOAPP.utils.translate("LBL_CANCEL_BUTTON_LABEL",n)}}}),this.$store.dispatch("popup/show")},validationForm(e){console.log("validateForm");let t=!0;for(let n of e.entries())if("duration_hours"===n[0]){let e=this.$store.getters[this.state+"/getValidation"](n[0]);for(let n in e)e[n].valid||(t=!1)}else!1===this.DOAPP.validate.validateHandler(n[0],n[1],this.beanData[n[0]],this.state)&&(t=!1);return t},getDisplayColumns(e){let t=Object.keys(e),n=Object.keys(e[t[0]]),a={};for(const o of n)"id"!==o&&(a[o]=Object.assign({},this.beanData[o]),a[o]["type"]="showDuplicateField",a[o]["sortable"]=!1);return a},async refuseDuplicate(e,t){if(t===this.$route.query.module)return void this.$store.dispatch("popup/hide");let n={module:t,action:"EditView",return_module:this.getData.module,return_action:this.getData.action,return_id:this.getData.record};e.append("action","EditView"),e.append("full_form","full_form"),e.append("isSaveAndNew",!1),e.append("is_ajax_call",1),this.$store.commit("app/SET_CONTENT_READY",!1),await this.$store.dispatch("focus/postFocus",{get:n,data:e,sanitize:!0}),this.$store.commit("app/setAjaxOff"),await this.$router.push({path:"/",query:n}),this.$store.commit("app/SET_CONTENT_READY",!0),this.$store.dispatch("popup/hide")},setEmailTemplatesFiles(e){if(Object.hasOwn(this.beanData,"fileAttachment")&&this.beanData.fileAttachment.value)for(let t=0;t<this.beanData.fileAttachment.value.length;t++)e.set("email_attachment"+t,this.beanData.fileAttachment.value[t]);return e}}},d=n(40089);const c=(0,d.Z)(l,[["render",i]]);var u=c},86662:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(88738),o={name:"SaveCalendarActivityButton",extends:a["default"],methods:{async customMethod(e){let t=new FormData(e.target.form);if(!this.validationForm(t))return void this.DOAPP.swal.getErrorToast(this.DOAPP.utils.translate("LBL_DA_INVALID_FORM").toUpperCase());t.set("return_module","Calendar");let n={};for(let[s,i]of t.entries())n[s]=i;let a={get:{module:t.get("module"),VueAjax:1,method:"saveActivity",arg:n}},o=await this.$store.dispatch("ajaxGet",a,{root:!0});this.$store.commit("focus/SAVE_CALENDAR_ACTIVITY",{dashletId:this.$store.getters["app/getCalendarDashletId"],newEvent:o.data}),this.$store.dispatch("popup/hide")}}};const s=o;var i=s},33248:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var a=n(73396),o=n(87139);const s=["form"];function i(e,t,n,i,r,l){return e.show()?((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",class:(0,o.C_)(["bg-info",e.displayClass()]),form:e.setForm,onClick:t[0]||(t[0]=(...e)=>l.toFullForm&&l.toFullForm(...e))},(0,o.zw)(e.labelResolve()),11,s)):(0,a.kq)("",!0)}n(57658);var r=n(38556),l={name:"ShowAllFieldsButton",extends:r["default"],data(){return{forType:{main:!1,other:!1,separate:!0},label:"LBL_FULL_FORM_BUTTON_LABEL"}},methods:{async toFullForm(e){let t={module:this.$store.getters["popup/getPopupModule"],action:"EditView",return_module:this.getData.module,return_action:this.getData.action,return_id:this.getData.record};this.pageData.id&&(t.record=this.pageData.id),this.getData.subAction&&(t.return_subAction=this.getData.subAction);let n=new FormData(e.target.form);n.append("action","EditView"),n.append("full_form","full_form"),n.append("isSaveAndNew",!1),n.append("is_ajax_call",1),this.$store.commit("app/SET_CONTENT_READY",!1),await this.$store.dispatch("focus/postFocus",{get:t,data:n,sanitize:!0}),this.$store.commit("app/setAjaxOff"),await this.$router.push({path:"/",query:t}),this.$store.commit("app/SET_CONTENT_READY",!0),this.$store.dispatch("popup/hide")}}},d=n(40089);const c=(0,d.Z)(l,[["render",i]]);var u=c},7896:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var a=n(73396),o=n(87139);const s=["form"];function i(e,t,n,i,r,l){return e.show()?((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",class:(0,o.C_)(["bg-success",e.displayClass()]),form:e.setForm,onClick:t[0]||(t[0]=e=>l.popupHandler())},(0,o.zw)(e.labelResolve()),11,s)):(0,a.kq)("",!0)}n(57658);var r=n(38556),l={name:"UpdateButton",extends:r["default"],data(){return{forType:{main:!0,other:!1,separate:!1},label:"LBL_UPDATE"}},computed:{uids(){if(this.pageData.all)return"";let e=[];for(const t in this.pageData.uids)this.pageData.uids[t]&&e.push(t);return e.join()},countSelected(){if(this.pageData.all)return this.pageData.total;let e=0;for(const t in this.pageData.uids)this.pageData.uids[t]&&e++;return e},queryByPage(){let e=document.getElementById(this.$store.state.focus.data.searchData.viewTab+"_search_form"),t=new FormData(e);return JSON.stringify(Object.fromEntries(t))}},methods:{async updateByMassActions(){let e=document.getElementById("MassUpdateForm"),t=new FormData(e);t.set("massupdate",!0),t.set("module",this.pageData.module),t.set("return_module",this.pageData.module),t.set("return_action","ListView"),t.set("action","MassUpdate"),t.set("uid",this.uids),t.set("current_query_by_page",this.queryByPage),this.uids||(t.set("all",this.uids),t.set("entire","index")),this.hideMassPopup(),await this.$store.dispatch("focus/postFocus",{data:t,sanitize:!0},{root:!0}),this.$store.commit("mass_actions/RESET_MASS_ACTION")},hideMassPopup(){this.$store.commit("mass_actions/HIDE")},popupHandler(){let e=this.DOAPP.utils.translate("NTC_UPDATE_CONFIRMATION_NUM")+""+this.countSelected+this.DOAPP.utils.translate("NTC_DELETE_SELECTED_RECORDS");this.DOAPP.swal.getConfirmToast({title:"",text:e,onConfirmed:this.updateByMassActions})}}},d=n(40089);const c=(0,d.Z)(l,[["render",i]]);var u=c},38556:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var a=n(73396),o=n(87139);function s(e,t,n,s,i,r){return r.show()?((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",class:(0,o.C_)(["bg-success",r.displayClass()])},(0,o.zw)(r.labelResolve()),3)):(0,a.kq)("",!0)}var i={name:"abstractButton",inject:["view","state"],data(){return{forType:{main:!1,other:!0,separate:!1},label:""}},props:{name:{type:[String,Object],required:!0},displayType:{type:String,required:!0},pageData:{type:Object,required:!0},getData:{type:Object},beanData:{type:Object},displayOpt:{type:Object}},computed:{setForm(){let e="EditView";return"popup"===this.state?e="QuickCreate":"mass_actions"===this.state&&(e="MassUpdateForm"),e}},methods:{show(){let e=!1;return Object.hasOwn(this.forType,this.displayType)&&this.forType[this.displayType]&&(e=!0),this.$emit("have-button",e),e},displayClass(){let e="btn btn-flat";return!this.DOAPP.utils.isEmpty(this.displayOpt)&&Object.hasOwn(this.displayOpt,"mainGroupClass")&&(e=e+" "+this.displayOpt.mainGroupClass),"other"===this.displayType&&(e="dropdown-item",!this.DOAPP.utils.isEmpty(this.displayOpt)&&Object.hasOwn(this.actionBtnClass,"addGroupClass")&&(e=e+" "+this.displayOpt.addGroupClass)),e},labelResolve(){let e;if(0!==this.label.length)e=this.label;else{let t=this.name;"object"===typeof this.name&&(t=this.name.name),e="LBL_"+t}return this.DOAPP.utils.translate(e,this.pageData.module)}}},r=n(40089);const l=(0,r.Z)(i,[["render",s]]);var d=l},88524:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d={key:0,class:"text-danger text-bold"},c=["id","name","title","required"],u=["title"];function m(e,t,n,m,p,h){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",h.widthClass]),"data-type":h.fieldDef.type,"data-field":n.name},[(0,a._)("div",r,[(0,a._)("label",{for:n.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(h.resolveFieldLBL(n.metadata.field.label),n.module)),9,l),h.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",d,"*")):(0,a.kq)("",!0)]),(0,a.wy)((0,a._)("input",{class:(0,o.C_)(["form-control",h.validation.class]),type:"text",id:n.name,name:n.name,title:e.DOAPP.utils.translate(h.resolveFieldLBL(n.metadata.field.label),n.module),"onUpdate:modelValue":t[0]||(t[0]=e=>h.value=e),required:!!h.fieldDef.required||null},null,10,c),[[s.nr,h.value]]),h.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate",title:h.validation.errorMessage},(0,o.zw)(h.validation.errorMessage),9,u)):(0,a.kq)("",!0)],10,i)}var p={name:"FieldName",inject:["view","state"],widgetCols:1,props:{name:{type:String},module:{type:String},record:{type:String},metadata:{type:Object},beanData:{type:Object}},mounted(){this.addToValidate()},computed:{fieldDef(){return this.beanData[this.name]},displayParams(){let e={};return Object.hasOwn(this.metadata.field,"displayParams")&&(e=this.metadata.field.displayParams),e},widthClass(){let e=this.$options.widgetCols;return"col-md-"+6*e+" col-lg-"+3*e},value:{get(){return this.DOAPP.utils.htmlDecode(this.fieldDef.value)},set(e){this.fieldValidate(e),this.$store.dispatch(this.state+"/updateModelValue",{name:this.fieldDef.name,value:e})}},validation(){let e=this.$store.getters[this.state+"/getValidation"](this.name),t={error:!1,class:"",errorMessage:""};if(e)for(let n in e)e[n].valid||(t["error"]=!0,t["class"]="is-invalid",t["errorMessage"]=e[n].message);return t}},methods:{addToValidate(){let e={};this.fieldDef.required&&(e.required={valid:!0,message:this.DOAPP.utils.translate("COLUMN_TITLE_REQUIRED_OPTION","DynamicFields").toLowerCase()}),"duration_hours"===this.fieldDef.name&&(e.moreThenZero={valid:!0,message:this.DOAPP.utils.translate("NOTICE_DURATION_TIME","Calls").toLowerCase()}),"phone"===this.fieldDef.type&&(e.phoneValidate={valid:!0,message:this.DOAPP.utils.translate("ERR_INVALID_VALUE").toLowerCase()}),"currency"===this.fieldDef.type&&(e.currencyValidate={valid:!0,message:this.DOAPP.utils.translate("ERR_INVALID_VALUE").toLowerCase()}),"int"===this.fieldDef.type&&(e.intValidate={valid:!0,message:this.DOAPP.utils.translate("ERR_INVALID_VALUE").toLowerCase()}),this.fieldDef.function&&"getEmailAddressWidget"===this.fieldDef.function.name&&this.view&&"listview"===this.view&&(e.emailValidate={valid:!0,message:this.DOAPP.utils.translate("ERR_INVALID_VALUE").toLowerCase()}),Object.hasOwn(this.fieldDef,"validation")&&"range"===this.fieldDef.validation.type&&(e.rangeValidate={valid:!0,message:this.DOAPP.utils.translate("LBL_VALIDATE_RANGE").toLowerCase()+" ("+this.fieldDef.validation.min+"-"+this.fieldDef.validation.max+")"}),"password"===this.fieldDef.type&&(Object.hasOwn(this.fieldDef,"REGEX")&&(e.pwdRegexValidate={valid:!0,message:this.DOAPP.utils.translate("ERR_INVALID_VALUE").toLowerCase()}),Object.hasOwn(this.fieldDef,"pwd_settings")&&((Object.hasOwn(this.fieldDef.pwd_settings,"minpwdlength")&&"0"!==this.fieldDef.pwd_settings.minpwdlength||Object.hasOwn(this.fieldDef.pwd_settings,"maxpwdlength")&&"0"!==this.fieldDef.pwd_settings.maxpwdlength)&&(e.pwdLengthValidate={valid:!0,message:this.DOAPP.utils.translate("ERR_INVALID_VALUE").toLowerCase()}),Object.hasOwn(this.fieldDef.pwd_settings,"oneupper")&&"0"!==this.fieldDef.pwd_settings.oneupper&&(e.pwdUpperValidate={valid:!0,message:this.DOAPP.utils.translate("ERR_INVALID_VALUE").toLowerCase()}),Object.hasOwn(this.fieldDef.pwd_settings,"onelower")&&"0"!==this.fieldDef.pwd_settings.onelower&&(e.pwdLowerValidate={valid:!0,message:this.DOAPP.utils.translate("ERR_INVALID_VALUE").toLowerCase()}),Object.hasOwn(this.fieldDef.pwd_settings,"onenummber")&&"0"!==this.fieldDef.pwd_settings.onenummber&&(e.pwdNumberValidate={valid:!0,message:this.DOAPP.utils.translate("ERR_INVALID_VALUE").toLowerCase()}),Object.hasOwn(this.fieldDef.pwd_settings,"onespecial")&&"0"!==this.fieldDef.pwd_settings.onespecial&&(e.pwdSpecialValidate={valid:!0,message:this.DOAPP.utils.translate("ERR_INVALID_VALUE").toLowerCase()}))),"Emails-ComposeView-to_addrs_names"===this.fieldDef.type&&(e.toEmailValidate={valid:!0,message:this.DOAPP.utils.translate("LBL_HAS_INVALID_EMAIL_TO","Emails").toLowerCase()}),"Emails-ComposeView-bcc_addrs_names"===this.fieldDef.type&&(e.copyEmailValidate={valid:!0,message:this.DOAPP.utils.translate("LBL_HAS_INVALID_EMAIL_BCC","Emails").toLowerCase()}),"Emails-ComposeView-cc_addrs_names"===this.fieldDef.type&&(e.copyEmailValidate={valid:!0,message:this.DOAPP.utils.translate("LBL_HAS_INVALID_EMAIL_CC","Emails").toLowerCase()}),this.DOAPP.utils.isEmpty(e)||this.$store.dispatch(this.state+"/setValidate",{name:this.name,data:e})},fieldValidate(e){let t=this.name;this.DOAPP.validate.validateHandler(t,e,this.fieldDef,this.state)},resolveFieldLBL(e){return void 0===e&&(e=this.fieldDef.vname),e}}},h=n(40089);const f=(0,h.Z)(p,[["render",m]]);var g=f},24856:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return G}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"row justify-content-around m-0"},l={class:"font-weight-bold m-0"},d={key:0,class:"form-check form-check-inline m-0"},c=["for"],u=["id","name"],m={class:"form-group mb-0"},p={class:"text-truncate m-0"},h=["for"],f={key:0,class:"text-danger text-bold"},g=["id","name","disabled"],v=["title"],b={class:"form-row"},w={class:"form-group col-md-6 mb-0"},y={class:"text-truncate m-0"},_=["for"],C={key:0,class:"text-danger text-bold"},D=["id","name","disabled"],x=["title"],k={class:"form-group col-md-6 mb-0"},E={class:"text-truncate m-0"},S=["for"],A={key:0,class:"text-danger text-bold"},T=["id","name","disabled"],O=["title"],L={class:"form-row"},P={class:"form-group col-md-8"},M={class:"text-truncate m-0"},B=["for"],I={key:0,class:"text-danger text-bold"},R=["id","name","disabled"],F=["title"],N={class:"form-group col-md-4"},V={class:"text-truncate m-0"},U=["for"],H={key:0,class:"text-danger text-bold"},z=["id","name","disabled"],j=["title"];function Z(e,t,n,Z,q,$){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(e.widthClass)},[(0,a._)("fieldset",{class:"border rounded pt-2 px-3 mb-3","data-type":e.name,"data-field":e.name},[(0,a._)("div",r,[(0,a._)("h6",l,(0,o.zw)(e.DOAPP.utils.translate("LBL_"+$.key.toUpperCase()+"_ADDRESS",e.module)),1),e.displayParams.copy?((0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("label",{class:"form-check-label text-lowercase text-xs",for:e.name},(0,o.zw)(e.DOAPP.utils.translate("LBL_COPY_ADDRESS_FROM_LEFT")),9,c),(0,a._)("input",{type:"checkbox",id:$.key+"_checkbox",name:$.key+"_checkbox",onClick:t[0]||(t[0]=(...e)=>$.copyValue&&$.copyValue(...e)),class:"form-check-input ml-1"},null,8,u)])):(0,a.kq)("",!0)]),(0,a._)("div",m,[(0,a._)("div",p,[(0,a._)("label",{class:"text-sm m-0 truncate-label",for:$.key+"_address_street"},(0,o.zw)(e.DOAPP.utils.translate("LBL_STREET",e.module))+":",9,h),e.beanData[$.key+"_address_street"].required?((0,a.wg)(),(0,a.iD)("span",f,"*")):(0,a.kq)("",!0)]),(0,a.wy)((0,a._)("input",{type:"text",class:(0,o.C_)(["form-control",$.validation[$.key+"_address_street"].class]),id:$.key+"_address_street",name:$.key+"_address_street","onUpdate:modelValue":t[1]||(t[1]=e=>$.address_street=e),disabled:q.disabled},null,10,g),[[s.nr,$.address_street]]),$.validation[$.key+"_address_street"].errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,title:$.validation[$.key+"_address_street"].errorMessage,class:"error invalid-feedback mt-0 position-absolute text-truncate"},(0,o.zw)($.validation[$.key+"_address_street"].errorMessage),9,v)):(0,a.kq)("",!0)]),(0,a._)("div",b,[(0,a._)("div",w,[(0,a._)("div",y,[(0,a._)("label",{class:"text-sm m-0 truncate-label",for:$.key+"_address_city"},(0,o.zw)(e.DOAPP.utils.translate("LBL_CITY",e.module)),9,_),e.beanData[$.key+"_address_city"].required?((0,a.wg)(),(0,a.iD)("span",C,"*")):(0,a.kq)("",!0)]),(0,a.wy)((0,a._)("input",{type:"text",class:(0,o.C_)(["form-control",$.validation[$.key+"_address_city"].class]),id:$.key+"_address_city",name:$.key+"_address_city","onUpdate:modelValue":t[2]||(t[2]=e=>$.address_city=e),disabled:q.disabled},null,10,D),[[s.nr,$.address_city]]),$.validation[$.key+"_address_city"].errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,title:$.validation[$.key+"_address_city"].errorMessage,class:"error invalid-feedback mt-0 position-absolute text-truncate"},(0,o.zw)($.validation[$.key+"_address_city"].errorMessage),9,x)):(0,a.kq)("",!0)]),(0,a._)("div",k,[(0,a._)("div",E,[(0,a._)("label",{class:"text-sm m-0 truncate-label",for:$.key+"_address_state"},(0,o.zw)(e.DOAPP.utils.translate("LBL_STATE",e.module)),9,S),e.beanData[$.key+"_address_state"].required?((0,a.wg)(),(0,a.iD)("span",A,"*")):(0,a.kq)("",!0)]),(0,a.wy)((0,a._)("input",{type:"text",class:(0,o.C_)(["form-control",$.validation[$.key+"_address_state"].class]),id:$.key+"_address_state",name:$.key+"_address_state","onUpdate:modelValue":t[3]||(t[3]=e=>$.address_state=e),disabled:q.disabled},null,10,T),[[s.nr,$.address_state]]),$.validation[$.key+"_address_state"].errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,title:$.validation[$.key+"_address_state"].errorMessage,class:"error invalid-feedback mt-0 position-absolute text-truncate"},(0,o.zw)($.validation[$.key+"_address_state"].errorMessage),9,O)):(0,a.kq)("",!0)])]),(0,a._)("div",L,[(0,a._)("div",P,[(0,a._)("div",M,[(0,a._)("label",{class:"text-sm m-0 truncate-label",for:$.key+"_address_country"},(0,o.zw)(e.DOAPP.utils.translate("LBL_COUNTRY",e.module)),9,B),e.beanData[$.key+"_address_country"].required?((0,a.wg)(),(0,a.iD)("span",I,"*")):(0,a.kq)("",!0)]),(0,a.wy)((0,a._)("input",{type:"text",class:(0,o.C_)(["form-control",$.validation[$.key+"_address_country"].class]),id:$.key+"_address_country",name:$.key+"_address_country","onUpdate:modelValue":t[4]||(t[4]=e=>$.address_country=e),disabled:q.disabled},null,10,R),[[s.nr,$.address_country]]),$.validation[$.key+"_address_country"].errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,title:$.validation[$.key+"_address_country"].errorMessage,class:"error invalid-feedback mt-0 position-absolute text-truncate"},(0,o.zw)($.validation[$.key+"_address_country"].errorMessage),9,F)):(0,a.kq)("",!0)]),(0,a._)("div",N,[(0,a._)("div",V,[(0,a._)("label",{class:"text-sm m-0 truncate-label",for:$.key+"_address_postalcode"},(0,o.zw)(e.DOAPP.utils.translate("LBL_POSTAL_CODE",e.module)),9,U),e.beanData[$.key+"_address_postalcode"].required?((0,a.wg)(),(0,a.iD)("span",H,"*")):(0,a.kq)("",!0)]),(0,a.wy)((0,a._)("input",{type:"text",class:(0,o.C_)(["form-control",$.validation[$.key+"_address_postalcode"].class]),id:$.key+"_address_postalcode",name:$.key+"_address_postalcode","onUpdate:modelValue":t[5]||(t[5]=e=>$.address_postalcode=e),disabled:q.disabled},null,10,z),[[s.nr,$.address_postalcode]]),$.validation[$.key+"_address_postalcode"].errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,title:$.validation[$.key+"_address_postalcode"].errorMessage,class:"error invalid-feedback mt-0 position-absolute text-truncate"},(0,o.zw)($.validation[$.key+"_address_postalcode"].errorMessage),9,j)):(0,a.kq)("",!0)])])],8,i)],2)}var q=n(88524),$={name:"AddressField",extends:q["default"],widgetCols:2,data(){return{disabled:!1,addressFields:["_address_street","_address_city","_address_state","_address_country","_address_postalcode"]}},computed:{key(){return this.displayParams.key},address_street:{get(){return this.beanData[this.key+"_address_street"].value},set(e){this.fieldValidate(this.key+"_address_street",e),this.$store.dispatch(this.state+"/updateModelValue",{name:this.key+"_address_street",value:e})}},address_city:{get(){return this.beanData[this.key+"_address_city"].value},set(e){this.fieldValidate(this.key+"_address_city",e),this.$store.dispatch(this.state+"/updateModelValue",{name:this.key+"_address_city",value:e})}},address_state:{get(){return this.beanData[this.key+"_address_state"].value},set(e){this.fieldValidate(this.key+"_address_state",e),this.$store.dispatch(this.state+"/updateModelValue",{name:this.key+"_address_state",value:e})}},address_country:{get(){return this.beanData[this.key+"_address_country"].value},set(e){this.fieldValidate(this.key+"_address_country",e),this.$store.dispatch(this.state+"/updateModelValue",{name:this.key+"_address_country",value:e})}},address_postalcode:{get(){return this.beanData[this.key+"_address_postalcode"].value},set(e){this.fieldValidate(this.key+"_address_postalcode",e),this.$store.dispatch(this.state+"/updateModelValue",{name:this.key+"_address_postalcode",value:e})}},validation(){let e={};for(const t of this.addressFields){let n=this.$store.state[this.state].validate[this.key+t],a={class:"",errorMessage:""};if(n)for(let e in n)n[e].valid||(a["class"]="is-invalid",a["errorMessage"]=n[e].message);e[this.key+t]=a}return e}},methods:{copyValue(e){if(e.target.checked){for(const e of this.addressFields)this.$store.dispatch(this.state+"/updateModelValue",{name:this.key+e,value:this.beanData[this.displayParams.copy+e].value});this.disabled=!0}else this.disabled=!1},addToValidate(){for(const e of this.addressFields){let t={};this.beanData[this.key+e].required&&(t.required={valid:!0,message:this.DOAPP.utils.translate("COLUMN_TITLE_REQUIRED_OPTION","DynamicFields").toLowerCase()}),this.DOAPP.utils.isEmpty(t)||this.$store.dispatch(this.state+"/setValidate",{name:this.key+e,data:t})}},fieldValidate(e,t){this.DOAPP.validate.validateHandler(e,t)}}},W=n(40089);const K=(0,W.Z)($,[["render",Z]]);var G=K},80779:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r=["for"],l={class:"custom-control custom-switch"},d=["id","name"],c=["for"];function u(e,t,n,u,m,p){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,r),(0,a._)("div",l,[(0,a.wy)((0,a._)("input",{type:"checkbox",class:"custom-control-input",id:e.name,name:e.name,"onUpdate:modelValue":t[0]||(t[0]=e=>p.value=e)},null,8,d),[[s.e8,p.value]]),(0,a._)("label",{for:e.name,class:"custom-control-label"},null,8,c)])],10,i)}var m=n(88524),p={name:"BoolField",extends:m["default"],computed:{value:{get(){return"1"===this.fieldDef.value||"0"!==this.fieldDef.value&&""!==this.fieldDef.value&&this.fieldDef.value},set(e){this.fieldValidate(e),this.$store.dispatch(this.state+"/updateModelValue",{name:this.fieldDef.name,value:e})}}}},h=n(40089);const f=(0,h.Z)(p,[["render",u]]);var g=f},9670:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d={key:0,class:"text-danger text-bold"},c={class:"input-group"},u=["id","name","required","title"],m={class:"mt-auto"},p=["title"],h=["label","value"],f={class:"mt-auto"},g=["title"];function v(e,t,n,v,b,w){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",r,[(0,a._)("label",{class:"truncate-label",for:e.name},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,l),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",d,"*")):(0,a.kq)("",!0)]),(0,a._)("div",c,[(0,a.wy)((0,a._)("input",{class:(0,o.C_)(["form-control form-control-border",e.validation.class]),min:"0",type:"number",id:e.name,name:e.name,required:!!e.fieldDef.required||null,title:e.DOAPP.utils.translate(e.resolveFieldLBL("LBL_DURATION_HOURS"),e.module),"onUpdate:modelValue":t[0]||(t[0]=e=>w.value=e)},null,10,u),[[s.nr,w.value]]),(0,a._)("div",m,(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL("LBL_HOURS_ABBREV"),e.module)),1),(0,a.wy)((0,a._)("select",{class:"form-control form-control-border",id:"duration_minutes",name:"duration_minutes",title:e.DOAPP.utils.translate(e.resolveFieldLBL("LBL_DURATION_MINUTES"),e.module),"onUpdate:modelValue":t[1]||(t[1]=e=>w.minutes=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.beanData.duration_minutes.options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,label:e,value:t},(0,o.zw)(e),9,h)))),128))],8,p),[[s.bM,w.minutes]]),(0,a._)("div",f,(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL("LBL_MINSS_ABBREV"),e.module)),1),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-5 position-absolute text-truncate",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,g)):(0,a.kq)("",!0)])],10,i)}var b=n(88524),w={name:"CallsEditViewDurationHours",extends:b["default"],mounted(){this.customValidation()},computed:{value:{get(){return this.fieldDef.value},set(e){this.fieldValidate(e),this.$store.dispatch(this.state+"/updateModelValue",{name:this.fieldDef.name,value:e}),this.customValidation()}},minutes:{get(){return this.beanData.duration_minutes.value},set(e){this.$store.dispatch(this.state+"/updateModelValue",{name:"duration_minutes",value:e}),this.customValidation()}}},methods:{customValidation(){let e=this.$store.getters[this.state+"/getValidation"](this.name);e.moreThenZero={valid:!0,message:this.DOAPP.utils.translate("NOTICE_DURATION_TIME","Calls").toLowerCase()};let t=0;""!==this.value&&(t=Number(this.minutes)/60+Number(this.value)),e.moreThenZero.valid=""===t||"number"===typeof t&&t>0,this.$store.dispatch(this.state+"/setValidate",{name:this.name,data:e})}}},y=n(40089);const _=(0,y.Z)(w,[["render",v]]);var C=_},74873:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d={key:0,class:"text-danger text-bold"},c=["id","name","title"],u=["title"];function m(e,t,n,m,p,h){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",r,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,l),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",d,"*")):(0,a.kq)("",!0)]),(0,a.wy)((0,a._)("input",{class:(0,o.C_)(["form-control",e.validation.class]),type:"text",id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t),onKeyup:t[1]||(t[1]=(...e)=>h.getKbArticles&&h.getKbArticles(...e))},null,42,c),[[s.nr,e.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,title:e.validation.errorMessage,class:"error invalid-feedback mt-0 position-absolute text-truncate"},(0,o.zw)(e.validation.errorMessage),9,u)):(0,a.kq)("",!0)],10,i)}var p=n(88524),h={name:"CasesEditViewNameField",extends:p["default"],methods:{async getKbArticles(){let e=this.value.trim(),t=[];if(e.length){let e={get:{VueAjax:1,method:"getKbArticles",arg:{search:this.value}}},n=await this.$store.dispatch("ajaxGet",e,{root:!0});t=n.data}this.$store.dispatch(this.state+"/updateModelValue",{name:"suggestion_options",value:t})}}},f=n(40089);const g=(0,f.Z)(h,[["render",m]]);var v=g},63302:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var a=n(73396),o=n(87139);const s=["data-type","data-field"],i=["for"],r={key:0,class:"text-danger text-bold"},l={key:1,class:"dropdown-menu show"},d={class:"row dropdown-item text-muted"},c={class:"w-25 text-truncate text-center"},u={class:"w-50 text-truncate text-center"},m={class:"w-25 text-truncate text-center"},p=["onMouseenter"],h={class:"w-25 text-truncate text-center"},f={class:"w-50 text-truncate"},g={class:"w-25 text-truncate text-center"},v=["onClick"],b={class:"w-25 text-truncate text-center"},w={class:"w-50 text-truncate"},y={class:"w-25 text-truncate text-center"},_={key:2,class:"text-muted"};function C(e,t,n,C,D,x){const k=(0,a.up)("DaPopover");return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group case-edit-suggestion-field",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name,onKeydown:t[0]||(t[0]=(...t)=>e.keyMove&&e.keyMove(...t))},[(0,a._)("label",{for:e.name},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata["field"].label),e.module)),9,i),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",r,"*")):(0,a.kq)("",!0),x.qsResults.length?((0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("div",d,[(0,a._)("div",c,(0,o.zw)(e.DOAPP.utils.translate("LBL_SUGGESTION_BOX_REL","Cases")),1),(0,a._)("div",u,(0,o.zw)(e.DOAPP.utils.translate("LBL_SUGGESTION_BOX_TITLE","Cases")),1),(0,a._)("div",m,(0,o.zw)(e.DOAPP.utils.translate("LBL_SUGGESTION_BOX_STATUS","Cases")),1)]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(x.qsResults,((t,n)=>((0,a.wg)(),(0,a.j4)(k,{key:t.id,popoverGetParams:x.popoverGetParams(t.id),arrow:!0,hover:!1,"open-delay":100,module:"Cases"},{target:(0,a.w5)((({getData:s,hover:i})=>[i?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"row dropdown-item",onMouseenter:t=>s(e.record.id)},[(0,a._)("div",h,(0,o.zw)(n+1),1),(0,a._)("div",f,(0,o.zw)(t.name),1),(0,a._)("div",g,(0,o.zw)(t.status),1)],40,p)):((0,a.wg)(),(0,a.iD)("div",{key:1,class:"row dropdown-item",onClick:e=>s(t.id)},[(0,a._)("div",b,(0,o.zw)(n+1),1),(0,a._)("div",w,(0,o.zw)(t.name),1),(0,a._)("div",y,(0,o.zw)(t.status),1)],8,v))])),_:2},1032,["popoverGetParams"])))),128))])):((0,a.wg)(),(0,a.iD)("p",_,(0,o.zw)(e.DOAPP.utils.translate("LBL_NO_SUGGESTIONS","Cases")),1))],42,s)}var D=n(88524),x=n(78928),k={name:"CasesEditViewSuggestionBox",components:{DaPopover:x["default"]},extends:D["default"],computed:{qsResults(){return this.beanData.suggestion_options?this.beanData.suggestion_options.value:[]},value:{get(){return this.fieldDef.value},set(e){this.$store.dispatch(this.state+"/updateModelValue",{name:this.fieldDef.name,value:e})}}},methods:{popoverGetParams(e){return{get:{VueAjax:1,method:"getKbArticle",arg:{article:e}}}}}},E=n(40089);const S=(0,E.Z)(k,[["render",C]]);var A=S},72:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d={key:0,class:"text-danger text-bold"},c={class:"input-group col-lg-12 p-0"},u=["title"],m=["label","value"],p=["id","name","title"],h=["title"];function f(e,t,n,f,g,v){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",r,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,l),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",d,"*")):(0,a.kq)("",!0)]),(0,a._)("div",c,[(0,a.wy)((0,a._)("select",{class:"custom-select col-lg-4",id:"salutation",name:"salutation",title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.beanData.salutation.vname),e.module),"onUpdate:modelValue":t[0]||(t[0]=e=>v.optionValue=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(v.options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,label:e,value:t},(0,o.zw)(e),9,m)))),128))],8,u),[[s.bM,v.optionValue]]),(0,a.wy)((0,a._)("input",{class:(0,o.C_)(["form-control col-lg-8 ml-2",e.validation.class]),type:"text",id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[1]||(t[1]=t=>e.value=t)},null,10,p),[[s.nr,e.value]])]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,h)):(0,a.kq)("",!0)],10,i)}var g=n(88524),v={name:"CasesQuickCreateFirstName",extends:g["default"],computed:{options(){return this.$store.state.app.list_strings.salutation_dom},optionValue:{get(){return this.beanData.salutation.value},set(e){this.fieldValidate(e),this.$store.dispatch(this.state+"/updateModelValue",{name:"salutation",value:e})}}}},b=n(40089);const w=(0,b.Z)(v,[["render",f]]);var y=w},89210:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d={key:0,class:"text-danger text-bold"},c={class:"input-group col-lg-12 p-0"},u=["title"],m=["label","value"],p=["id","name","title"],h=["title"];function f(e,t,n,f,g,v){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",r,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,l),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",d,"*")):(0,a.kq)("",!0)]),(0,a._)("div",c,[(0,a.wy)((0,a._)("select",{class:"custom-select col-lg-4",id:"salutation",name:"salutation",title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.beanData.salutation.vname),e.module),"onUpdate:modelValue":t[0]||(t[0]=e=>v.optionValue=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(v.options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,label:e,value:t},(0,o.zw)(e),9,m)))),128))],8,u),[[s.bM,v.optionValue]]),(0,a.wy)((0,a._)("input",{class:(0,o.C_)(["form-control col-lg-8 ml-2",e.validation.class]),type:"text",id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[1]||(t[1]=t=>e.value=t)},null,10,p),[[s.nr,e.value]])]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,h)):(0,a.kq)("",!0)],10,i)}var g=n(88524),v={name:"ContactsEditViewFirstName",extends:g["default"],computed:{options(){return this.$store.state.app.list_strings.salutation_dom},optionValue:{get(){return this.beanData.salutation.value},set(e){this.fieldValidate(e),this.$store.dispatch(this.state+"/updateModelValue",{name:"salutation",value:e})}}}},b=n(40089);const w=(0,b.Z)(v,[["render",f]]);var y=w},84058:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d={key:0,class:"text-danger text-bold"},c=["id","name","title","required"],u=["title"];function m(e,t,n,m,p,h){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",r,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,l),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",d,"*")):(0,a.kq)("",!0)]),(0,a.wy)((0,a._)("input",{class:(0,o.C_)(["form-control",e.validation.class]),type:"text",id:e.name,name:e.name,title:h.title,"onUpdate:modelValue":t[0]||(t[0]=e=>h.value=e),required:!!e.fieldDef.required||null},null,10,c),[[s.nr,h.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,u)):(0,a.kq)("",!0)],10,i)}var p=n(88524),h={name:"CurrencyField",extends:p["default"],data(){return{notChanged:!0}},computed:{title(){return this.fieldDef.help?this.fieldDef.help:this.DOAPP.utils.translate(this.resolveFieldLBL(this.metadata.field.label),this.module)},separator(){return this.$store.state.user.data["1000sSeparator"]},decimalSymbol(){return this.$store.state.user.data["decimalSymbol"]},precision(){return this.$store.state.user.data["currencySignificantDigits"]?this.$store.state.user.data["currencySignificantDigits"]:this.$store.state.app.config["default_currency_significant_digits"]},value:{get(){if(""!==this.fieldDef.value&&this.notChanged&&Number(this.fieldDef.value)){let e,t,n;e=Number(this.fieldDef.value).toFixed(this.precision);let a=e.split(".");return t=Number(a[0]).toLocaleString(),n=[t.split(" ").join(this.separator),a[1]].join(this.decimalSymbol),n}return this.fieldDef.value},set(e){this.notChanged=!1,this.fieldValidate(e),this.$store.dispatch(this.state+"/updateModelValue",{name:this.fieldDef.name,value:e})}}}},f=n(40089);const g=(0,f.Z)(h,[["render",m]]);var v=g},76183:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}});var a=n(73396),o=n(87139);const s=["data-type","data-field"],i={class:"text-truncate mb-2"},r=["for"],l={key:0,class:"text-danger text-bold"},d={class:"input-group position-relative",style:{"flex-wrap":"nowrap"}},c={class:"input-group-append"},u=["onClick"],m=(0,a._)("i",{class:"fa fa-calendar"},null,-1),p=[m],h=["onClick"],f=(0,a._)("i",{class:"fa fa-times"},null,-1),g=[f],v=["title"];function b(e,t,n,m,f,b){const w=(0,a.up)("daDateTimePicker");return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",i,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,r),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",l,"*")):(0,a.kq)("",!0)]),(0,a._)("div",d,[(0,a.Wm)(w,{title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),name:e.name,state:e.state,date:b.getDate,enableTimePicker:!1,onChangeDate:b.setDate},{buttons:(0,a.w5)((({openMenu:e,cleanMenu:t})=>[(0,a._)("div",c,[(0,a._)("button",{type:"button",class:"btn btn-info",onClick:e},p,8,u),(0,a._)("button",{type:"button",class:"btn btn-danger",onClick:t},g,8,h)])])),_:1},8,["title","name","state","date","onChangeDate"])]),(0,a._)("input",{class:(0,o.C_)(["form-control",e.validation.class]),type:"text",hidden:"true"},null,2),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,v)):(0,a.kq)("",!0)],10,s)}var w=n(78275),y={name:"DateField",extends:w["default"],computed:{getDate(){return this.DOAPP.dateTime.formatDateTimeToVueCal(this.value)}},methods:{setDate(e){void 0===e&&Number.isNaN(e)||this.$store.dispatch(this.state+"/updateModelValue",{name:this.name,value:this.DOAPP.dateTime.formatDateToUser(e)}),this.fieldValidate(e)}}},_=n(40089);const C=(0,_.Z)(y,[["render",b]]);var D=C},78275:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}});var a=n(73396),o=n(87139);const s=["data-type","data-field"],i=["for"],r={key:0,class:"text-danger text-bold"},l={class:"input-group mb-3",style:{"flex-wrap":"nowrap"}},d={class:"input-group-append"},c=["onClick"],u=(0,a._)("i",{class:"fa fa-calendar"},null,-1),m=[u],p=["onClick"],h=(0,a._)("i",{class:"fa fa-times"},null,-1),f=[h],g={id:"invalid_input",class:"invalid-feedback"};function v(e,t,n,u,h,v){const b=(0,a.up)("daDateTimePicker");return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("label",{for:e.name},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,i),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",r,"*")):(0,a.kq)("",!0),(0,a._)("div",l,[(0,a.Wm)(b,{date:v.getDate,state:e.state,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),name:e.name,onChangeDate:v.setDate},{buttons:(0,a.w5)((({openMenu:e,cleanMenu:t})=>[(0,a._)("div",d,[(0,a._)("button",{type:"button",class:"btn btn-info",onClick:e},m,8,c),(0,a._)("button",{type:"button",class:"btn btn-danger",onClick:t},f,8,p)])])),_:1},8,["date","state","title","name","onChangeDate"])]),(0,a._)("div",g,(0,o.zw)(h.warningMessage+" "+e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),1)],10,s)}var b=n(88524),w=n(79298),y={name:"DateTimeComboField",extends:b["default"],components:{daDateTimePicker:w["default"]},data(){return{warningMessage:this.$store.state.app.lang.ERR_INVALID_VALUE}},computed:{getDate(){let e=this.value;if("date_end"===this.name){let t=this.DOAPP.dateTime.formatDateTimeToVueCal(this.beanData.date_start.value),n=Date.parse(t)+1e3*this.duration,a=new Date(n);e=this.DOAPP.dateTime.toUserFormat(a)}return this.DOAPP.dateTime.formatDateTimeToVueCal(e)},duration(){let e=this.beanData?.duration.value;return""===e&&(e=0),Number(e)}},methods:{setDate(e){void 0===e&&Number.isNaN(e)||this.$store.dispatch(this.state+"/updateModelValue",{name:this.name,value:this.DOAPP.dateTime.toUserFormat(e)}),this.fieldValidate(e)}}},_=n(40089);const C=(0,_.Z)(y,[["render",v]]);var D=C},31469:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var a=n(73396),o=n(87139),s=n(49242);const i=e=>((0,a.dD)("data-v-07a14f1a"),e=e(),(0,a.Cn)(),e),r=["data-type","data-field"],l=["for"],d={class:"col-md-12 col-lg-6"},c=["id","name","onUpdate:modelValue","onChange"],u=["label","value"],m={class:"col-md-12 col-lg-6 mt-2 mt-lg-0"},p={key:0,class:"input-group"},h=["id","name","onUpdate:modelValue"],f=i((()=>(0,a._)("input",{type:"hidden",id:"internal",name:"internal",value:"0"},null,-1))),g={class:"input-group-append"},v=["onClick"],b=i((()=>(0,a._)("i",{class:"fas fa-mouse-pointer"},null,-1))),w=[b],y=["onClick"],_=i((()=>(0,a._)("i",{class:"fas fa-times"},null,-1))),C=[_],D=["onClick"],x=i((()=>(0,a._)("i",{class:"fas fa-minus"},null,-1))),k=[x],E={key:1,class:"input-group"},S={class:"custom-file"},A=["title","onChange","required"],T={class:"custom-file-label",for:"customFile"},O={class:"input-group-append"},L=["onClick"],P={class:"input-group-append"},M=["onClick"],B=i((()=>(0,a._)("i",{class:"fas fa-minus"},null,-1))),I=[B],R=i((()=>(0,a._)("i",{class:"fas fa-plus"},null,-1))),F=[R];function N(e,t,n,i,b,_){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("label",{for:e.name},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata["field"].label),e.module)),9,l),(0,a._)("input",{class:(0,o.C_)(["custom-file-input",e.validation.class]),ref:"file",name:"case_update_file[]",type:"file",id:"case_update_file[]",hidden:"true"},null,2),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(b.linkedData,((t,n)=>((0,a.wg)(),(0,a.iD)("div",{class:"row mb-2",key:n},[(0,a._)("div",d,[(0,a.wy)((0,a._)("select",{class:"custom-select",id:e.name,name:e.name,"onUpdate:modelValue":e=>t.type=e,onChange:e=>_.onSelectChange(t.type,n)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(_.documentType,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,label:e,value:t},(0,o.zw)(e),9,u)))),128))],40,c),[[s.bM,t.type]])]),(0,a._)("div",m,["internal"===t.type?((0,a.wg)(),(0,a.iD)("div",p,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:t.name,name:t.name,"onUpdate:modelValue":e=>_.value[t.name]=e},null,8,h),[[s.nr,_.value[t.name]]]),f,(0,a._)("div",g,[(0,a._)("button",{type:"button",class:"btn btn-info",onClick:e=>_.open_popup(t.index)},w,8,v),(0,a._)("button",{type:"button",class:"btn btn-warning",onClick:e=>_.cleanRelate(t.name)},C,8,y),(0,a._)("button",{type:"button",onClick:e=>_.removeField(n),class:"btn btn-danger"},k,8,D)])])):((0,a.wg)(),(0,a.iD)("div",E,[(0,a._)("div",S,[(0,a._)("input",{class:(0,o.C_)(["custom-file-input",e.validation.class]),ref_for:!0,ref:"file",name:"case_update_file[]",type:"file",id:"case_update_file[]",title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),onChange:e=>_.onFileChange(t.indexFile,n),required:!!e.fieldDef.required||null},null,42,A),(0,a._)("label",T,(0,o.zw)(t.filename),1)]),(0,a._)("div",O,[(0,a._)("button",{type:"button",class:"btn btn-info",onClick:e=>_.showUpload(t.indexFile)},(0,o.zw)(b.lang.LBL_SELECT_BUTTON_LABEL),9,L)]),(0,a._)("div",P,[(0,a._)("button",{type:"button",class:"btn btn-danger",id:"remove_button",onClick:e=>_.removeField(n,t.type)},I,8,M)])]))])])))),128)),(0,a._)("div",null,[(0,a._)("button",{type:"button",onClick:t[0]||(t[0]=(...e)=>_.addField&&_.addField(...e)),class:"btn btn-info btn-sm"},F)])],10,r)}n(57658);var V=n(88524),U={name:"DisplayUpdateForm",extends:V["default"],widgetCols:2,data(){return{rFields:{},id_name:"case_document_id",fieldName:"case_document_name",rname:"name",indexField:-1,indexFile:-1,linkedData:[],lang:this.$store.state.app.lang}},computed:{relateID(){let e={};return this.linkedData.forEach((t=>{this.beanData[t.id.replace("update","document")]?e[t.id]=this.beanData[t.id.replace("update","document")].value:e[t.id]=""})),e},value:{get(){let e={};return this.linkedData.forEach((t=>{this.beanData[t.name.replace("update","document")]?e[t.name]=this.beanData[t.name.replace("update","document")].value:e[t.name]=""})),e},set(e){this.$store.dispatch("focus/updateModelValue",{name:this.fieldName,value:e})}},documentType(){return{internal:this.DOAPP.utils.translate("LBL_SELECT_INTERNAL_CASE_DOCUMENT",this.module),external:this.DOAPP.utils.translate("LBL_SELECT_EXTERNAL_CASE_DOCUMENT",this.module)}}},methods:{setRelateValue(e){for(let t in this.rFields)"id"!==this.rFields[t]&&this.$store.dispatch(this.state+"/updateModelValue",{name:t,value:e[this.rFields[t]]})},open_popup(e){let t={get:{module:"Documents",action:"Popup",mode:"single",create:!0,field_to_name:this.relateMapFields(e)},sanitize:!0};this.$store.dispatch("popup/addNewPopup"),this.$store.dispatch("popup/setSize","xl"),this.$store.dispatch("popup/getContent",{params:t})},relateMapFields(e){let t={};return t[this.id_name+"_"+e]="id",t[this.fieldName+"_"+e]=this.rname,t},cleanRelate(e){clearTimeout(this.timeout2),clearTimeout(this.timeout1),this.$store.dispatch(this.state+"/updateModelValue",{name:e.replace("update","document"),value:""})},addField(){this.indexField++,this.linkedData.push({index:this.indexField,name:"case_update_name_"+this.indexField,id:"case_update_id_"+this.indexField,type:"internal",filename:"",indexFile:""})},removeField(e,t){this.linkedData.splice(e,1),"external"===t&&(this.indexFile--,this.linkedData.forEach((e=>{"external"===e.type&&e.indexFile--})))},showUpload(e){this.$refs.file[e].click()},onSelectChange(e,t){"external"===e&&(this.indexFile++,this.linkedData[t].indexFile=this.indexFile)},onFileChange(e,t){this.linkedData[t].filename=this.$refs.file[e].files[0].name}}},H=n(40089);const z=(0,H.Z)(U,[["render",N],["__scopeId","data-v-07a14f1a"]]);var j=z},40971:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var a=n(73396),o=n(87139),s=n(49242);const i=e=>((0,a.dD)("data-v-1d0d64d6"),e=e(),(0,a.Cn)(),e),r=["data-type","data-field"],l=["for"],d={class:"input-group"},c=["id","name","title"],u=["id","name"],m={class:"input-group-append"},p=i((()=>(0,a._)("i",{class:"fas fa-mouse-pointer"},null,-1))),h=[p],f=i((()=>(0,a._)("i",{class:"fas fa-times"},null,-1))),g=[f];function v(e,t,n,i,p,f){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("label",{for:e.name},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata["field"].label),e.module)),9,l),(0,a._)("div",d,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata["field"].label),e.module),"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t),readonly:""},null,8,c),[[s.nr,e.value]]),(0,a.wy)((0,a._)("input",{type:"hidden",id:e.fieldDef.id_name,name:e.fieldDef.id_name,"onUpdate:modelValue":t[1]||(t[1]=e=>f.relateID=e)},null,8,u),[[s.nr,f.relateID]]),(0,a._)("div",m,[(0,a._)("button",{type:"button",class:"btn btn-info",onClick:t[2]||(t[2]=e=>f.popupHandler())},h),(0,a._)("button",{type:"button",class:"btn btn-danger",onClick:t[3]||(t[3]=e=>f.cleanRelate())},g)])])],10,r)}var b=n(88524),w={name:"DocumentsEditViewRelatedDocName",extends:b["default"],data(){return{rFields:{}}},mounted(){this.rFields=this.relateMapFields()},computed:{relateID(){return this.beanData[this.fieldDef.id_name].value},linkParams(){return{get:{module:this.fieldDef.module,action:"Popup",mode:"single",create:!0,field_to_name:this.relateMapFields()},sanitize:!0}}},methods:{setRelateValue(e){for(let t in this.rFields)this.$store.dispatch("focus/updateModelValue",{name:t,value:e[this.rFields[t]]})},popupHandler(){this.$store.dispatch("popup/setSize","xl"),this.$store.dispatch("popup/getContent",{params:this.linkParams})},relateMapFields(){let e={};return e[this.fieldDef.id_name]="id",e[this.fieldDef.name]="name",e},cleanRelate(){this.$store.dispatch("focus/updateModelValue",{name:this.fieldDef.name,value:""})}}},y=n(40089);const _=(0,y.Z)(w,[["render",v],["__scopeId","data-v-1d0d64d6"]]);var C=_},45225:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d={key:0,class:"text-danger text-bold"},c=["id","name","title","disabled"],u=["label","value"],m=["title"];function p(e,t,n,p,h,f){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",r,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,l),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",d,"*")):(0,a.kq)("",!0)]),(0,a.wy)((0,a._)("select",{class:(0,o.C_)(["custom-select",e.validation.class]),id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t),disabled:f.isDisabled},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.fieldDef.options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,label:e,value:t},(0,o.zw)(e),9,u)))),128))],10,c),[[s.bM,e.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,m)):(0,a.kq)("",!0)],10,i)}var h=n(88524),f={name:"RelatedDocRevNumberField",extends:h["default"],computed:{relatedDocName(){return this.beanData.related_doc_name.value},isDisabled(){return""===this.relatedDocName}},methods:{async getRevNum(){this.fieldDef.options={},this.value="";let e={get:{entryPoint:"json_server"},data:{method:"query",id:1,params:[{conditions:[{name:"document_id",op:"starts_with",value:this.beanData.related_doc_id.value}],module:"DocumentRevisions",field_list:["id","revision","date_entered"]}]}},t=await this.$store.dispatch("ajaxPost",e);for(let n=0;n<t.result.list.length;n++)this.fieldDef.options[t.result.list[n].fields.id]=t.result.list[n].fields.revision,this.value||(this.value=t.result.list[n].fields.id)}},watch:{relatedDocName(){this.relatedDocName?this.getRevNum():this.value=""}}},g=n(40089);const v=(0,g.Z)(f,[["render",p]]);var b=v},75676:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d={key:0,class:"text-danger text-bold"},c=["id","name","title","disabled"],u=["title"];function m(e,t,n,m,p,h){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",r,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,l),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",d,"*")):(0,a.kq)("",!0)]),(0,a.wy)((0,a._)("input",{class:(0,o.C_)(["form-control",e.validation.class]),type:"text",id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t),disabled:h.isDisabled},null,10,c),[[s.nr,e.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,u)):(0,a.kq)("",!0)],10,i)}var p=n(88524),h={name:"DocumentsEditViewRevision",extends:p["default"],computed:{isDisabled(){let e=this.$store.state[this.state].data.pageData.isDuplicate;return!(!this.record||e)}}},f=n(40089);const g=(0,f.Z)(h,[["render",m]]);var v=g},12865:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d={key:0,class:"text-danger text-bold"},c=["id","name","title"],u=["label","value"],m=["title"];function p(e,t,n,p,h,f){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",r,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,l),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",d,"*")):(0,a.kq)("",!0)]),(0,a.wy)((0,a._)("select",{class:"custom-select",id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=e=>f.value=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(f.filterOptions[f.linkedValue],((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,label:e,value:t},(0,o.zw)(e),9,u)))),128))],8,c),[[s.bM,f.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,m)):(0,a.kq)("",!0)],10,i)}var h=n(88524),f={name:"DynamicEnumField",extends:h["default"],computed:{value:{get(){return this.record?this.fieldDef.value:Object.keys(this.filterOptions[this.linkedValue])[0]},set(e){this.fieldValidate(e),this.$store.dispatch(this.state+"/updateModelValue",{name:this.fieldDef.name,value:e})}},title(){return this.fieldDef.help?this.fieldDef.help:this.DOAPP.utils.translate(this.resolveFieldLBL(this.metadata.field.label),this.module)},linkedValue(){return!!this.fieldDef.parentenum&&this.beanData[this.fieldDef.parentenum].value},filterOptions(){let e={};for(const t in this.beanData[this.fieldDef.parentenum].options){e[t]={};for(const n in this.fieldDef.options)n.split("_")[0]===t&&(e[t][n]=this.fieldDef.options[n])}return e}},watch:{linkedValue(){this.value=Object.keys(this.filterOptions[this.linkedValue])[0]}}},g=n(40089);const v=(0,g.Z)(f,[["render",p]]);var b=v},18338:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r=["for"],l=["id","name","title","required"];function d(e,t,n,d,c,u){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("label",{for:e.name},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,r),(0,a.wy)((0,a._)("input",{class:"form-control",type:"text",id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t),required:!!e.fieldDef.required||null},null,8,l),[[s.nr,e.value]])],10,i)}var c=n(88524),u={name:"EmailField",extends:c["default"]},m=n(40089);const p=(0,m.Z)(u,[["render",d]]);var h=p},93297:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var a=n(73396),o=n(87139),s=n(49242);const i=e=>((0,a.dD)("data-v-4523d4a0"),e=e(),(0,a.Cn)(),e),r=["data-type","data-field"],l={class:"text-truncate mb-2"},d=["for"],c={key:0,class:"text-danger text-bold"},u={key:0,class:"mb-2"},m=["onClick"],p=["href"],h={key:1,class:"strike"},f=["value","checked"],g={key:1,class:"row"},v={class:"mt-2 col-md-2"},b={class:"form-control height_unset border_unset col-md-10"},w={class:"d-flex flex-row flex-wrap"},y={class:"selected_panel"},_={class:"text-sm pl-1"},C=["onClick"],D=["name"],x=i((()=>(0,a._)("i",{class:"bi bi-paperclip"},null,-1)));function k(e,t,n,i,k,E){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",l,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,d),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",c,"*")):(0,a.kq)("",!0)]),Object.keys(e.value).length?((0,a.wg)(),(0,a.iD)("div",u,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.value,((t,n,s)=>((0,a.wg)(),(0,a.iD)("span",{key:n},[(0,a._)("button",{type:"button",class:"btn btn-tool collapsed",onClick:e=>E.toggleDelete(n)},[(0,a._)("i",{class:(0,o.C_)({"bi bi-arrow-90deg-left":k.checkedValue[n],"bi bi-x-lg":!k.checkedValue[n]})},null,2)],8,m),k.checkedValue[n]?((0,a.wg)(),(0,a.iD)("span",h,(0,o.zw)(t),1)):((0,a.wg)(),(0,a.iD)("a",{key:0,href:"../index.php?entryPoint=download&id="+n+"&type=Notes",class:"tabDetailViewDFLink"},[(0,a.Uk)((0,o.zw)(t)+" ",1),s<Object.keys(e.value).length-1?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a.Uk)(",")],64)):(0,a.kq)("",!0)],8,p)),(0,a._)("input",{type:"checkbox",name:"remove_attachment[]",value:n,checked:k.checkedValue[n],hidden:"hidden"},null,8,f)])))),128))])):(0,a.kq)("",!0),E.attachment.length?((0,a.wg)(),(0,a.iD)("div",g,[(0,a._)("p",v,(0,o.zw)(e.DOAPP.utils.translate("LBL_DA_FILES")),1),(0,a._)("div",b,[(0,a._)("div",w,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(E.attachment,((e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:t},[(0,a._)("div",y,[(0,a._)("i",{class:(0,o.C_)(E.getAttachmentClass(e))},null,2),(0,a._)("span",_,(0,o.zw)(e.name),1),(0,a._)("button",{class:"custom_delete_button",type:"button",onClick:(0,s.iM)((e=>E.removeAttachment(t)),["stop"])},"⨯",8,C)]),(0,a._)("input",{name:"embedded"+t,type:"hidden",value:"false"},null,8,D)],64)))),128))])])])):(0,a.kq)("",!0),(0,a._)("input",{class:"custom-file-input",ref:"file",name:"file",type:"file",id:"attach",onChange:t[0]||(t[0]=(...e)=>E.onFileChange&&E.onFileChange(...e)),multiple:"",hidden:""},null,544),(0,a._)("button",{class:"bg-primary btn btn-flat",type:"button",onClick:t[1]||(t[1]=(...e)=>E.attachFile&&E.attachFile(...e))},(0,o.zw)(e.DOAPP.utils.translate("LBL_DA_SELECT_FILE")),1),(0,a._)("button",{class:"bg-primary btn btn-flat ml-2",type:"button",onClick:t[2]||(t[2]=(...e)=>E.chooseDocument&&E.chooseDocument(...e))},[x,(0,a.Uk)(" "+(0,o.zw)(e.DOAPP.utils.translate("LBL_SUITE_DOCUMENT",this.module)),1)])],10,r)}n(82801),n(61295),n(57658);var E=n(88524),S={name:"EmailTemplatesAttachmentsJavascriptField",extends:E["default"],widgetCols:4,data(){return{checkedValue:{},linkParams:{get:{module:"EmailTemplates",action:"PopupDocumentsCampaignTemplate",target:"",to_pdf:!0},sanitize:!0}}},computed:{attachment(){return this.beanData.fileAttachment?this.beanData.fileAttachment.value:[]}},methods:{toggleDelete(e){Object.hasOwn(this.checkedValue,e)&&this.checkedValue[e]?this.checkedValue[e]=!1:this.checkedValue[e]=!0},attachFile(){this.$refs.file.click()},async onFileChange(e){const t=e.target.files[0];let n=structuredClone(this.attachment);n.push(t),this.$store.dispatch("focus/updateModelValue",{name:"fileAttachment",value:n});let a=new FormData;a.set("to_pdf",1),a.set("action","AttachFiles"),a.set("module","EmailTemplates");let o=0;for(const s of n)a.set("email_attachment"+o,s),o++;await this.$store.dispatch("ajaxPost",{data:a},{root:!0})},removeAttachment(e){this.attachment.splice(e,1),this.$store.dispatch("focus/updateModelValue",{name:"fileAttachment",value:this.attachment})},chooseDocument(){this.$store.dispatch("popup/addNewPopup"),this.$store.dispatch("popup/setSize","xl"),this.$store.dispatch("popup/getContent",{params:this.linkParams})},getAttachmentClass(e){let t=e.type;return-1!==t.indexOf("image")?"bi bi-image":-1!==t.indexOf("audio")?"bi bi-music-note-beamed":-1!==t.indexOf("video")?"bi bi-film":-1!==t.indexOf("zip")?"bi bi-file-earmark-zip":"bi bi-file-earmark"}},beforeMount(){Object.keys(this.value).forEach((e=>this.checkedValue[e]=!1))}},A=n(40089);const T=(0,A.Z)(S,[["render",k],["__scopeId","data-v-4523d4a0"]]);var O=T},73188:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d={key:0,class:"text-danger text-bold"},c=["id","name"],u=["title"];function m(e,t,n,m,p,h){const f=(0,a.up)("da-editor");return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",r,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,l),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",d,"*")):(0,a.kq)("",!0)]),(0,a.Wm)(f,{"inserted-value":e.starthtml,toolbar:e.toolbar,plugins:e.plugins,height:e.height,onChangeValue:t[0]||(t[0]=t=>e.setValue(t)),class:(0,o.C_)(e.validation.class)},null,8,["inserted-value","toolbar","plugins","height","class"]),(0,a.wy)((0,a._)("input",{type:"text",id:e.name,name:e.name,"onUpdate:modelValue":t[1]||(t[1]=t=>e.value=t),hidden:"hidden"},null,8,c),[[s.nr,e.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,title:e.validation.errorMessage,class:"error invalid-feedback mt-0 position-absolute text-truncate"},(0,o.zw)(e.validation.errorMessage),9,u)):(0,a.kq)("",!0),h.textOnly?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("button",{key:1,type:"button",class:"bg-primary btn btn-flat mt-3",onClick:t[2]||(t[2]=e=>h.toggle())},(0,o.zw)(this.DOAPP.utils.translate(h.lbl,this.module)),1)),p.show||h.textOnly?(0,a.wy)(((0,a.wg)(),(0,a.iD)("textarea",{key:2,class:"form-control mt-3",id:"body_text_plain",name:"body","onUpdate:modelValue":t[3]||(t[3]=e=>h.bodyValue=e),rows:"6"},null,512)),[[s.nr,h.bodyValue]]):(0,a.kq)("",!0)],10,i)}var p=n(51452),h={name:"EmailTemplatesBodyHtmlField",extends:p["default"],widgetCols:4,data(){return{show:!1,bookmark:""}},computed:{lbl(){return this.textOnly&&!this.show||!this.show?"LBL_EDIT_ALT_TEXT":"LBL_HIDE_ALT_TEXT"},bodyValue:{get(){return this.beanData.body.value},set(e){this.fieldValidate(e),this.$store.dispatch(this.state+"/updateModelValue",{name:"body",value:e})}},textOnly(){return Number(this.beanData.text_only.value)}},methods:{toggle(){this.show?this.show=!1:this.show=!0}}},f=n(40089);const g=(0,f.Z)(h,[["render",m]]);var v=g},47277:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d={key:0,class:"text-danger text-bold"},c={class:"row"},u={class:"form-group col-lg-3"},m=["title"],p=["label","value"],h={class:"form-group col-lg-3"},f=["title"],g=["label","value"],v={class:"form-group col-lg-3"},b={class:"form-group col-lg-3"},w=["title"];function y(e,t,n,y,_,C){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",r,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,l),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",d,"*")):(0,a.kq)("",!0)]),(0,a._)("div",c,[(0,a._)("div",u,[(0,a.wy)((0,a._)("select",{class:(0,o.C_)(["custom-select",e.validation.class]),id:"variable_module",name:"variable_module",onChange:t[0]||(t[0]=(...e)=>C.changeOption&&C.changeOption(...e)),title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[1]||(t[1]=e=>_.variableModule=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(C.options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,label:e,value:t},(0,o.zw)(e),9,p)))),128))],42,m),[[s.bM,_.variableModule]])]),(0,a._)("div",h,[(0,a.wy)((0,a._)("select",{class:(0,o.C_)(["custom-select",e.validation.class]),id:"variable_name",name:"variable_name",title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[2]||(t[2]=e=>_.variableName=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(C.field_Defs[_.variableModule],((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,label:e.value,value:e.name},(0,o.zw)(e.value),9,g)))),128))],10,f),[[s.bM,_.variableName]])]),(0,a._)("div",v,[(0,a.wy)((0,a._)("input",{class:"form-control",type:"text",id:"variable_text",name:"variable_text","onUpdate:modelValue":t[3]||(t[3]=e=>C.variableText=e)},null,512),[[s.nr,C.variableText]])]),(0,a._)("div",b,[(0,a._)("button",{class:"bg-primary btn btn-flat",type:"button",onClick:t[4]||(t[4]=(...e)=>C.addVariableText&&C.addVariableText(...e))},(0,o.zw)(e.DOAPP.utils.translate("LBL_INSERT",this.module)),1)])]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,w)):(0,a.kq)("",!0)],10,i)}var _=n(88524),C={name:"EmailTemplatesVariableModuleField",extends:_["default"],widgetCols:4,data(){return{variableModule:"",variableName:""}},computed:{options(){return this.metadata.field.options},field_Defs(){return JSON.parse(this.metadata.field.fieldDefs)},variableText(){return"$"+this.variableName}},methods:{changeOption(){console.log("changeOption"),this.variableName=this.field_Defs[this.variableModule][0]["name"]},addVariableText(){window.tinymce.execCommand("mceInsertContent",!1,this.variableText)}},beforeMount(){this.variableModule=this.metadata.field.defaultModule,this.variableName=this.field_Defs[this.variableModule][0]["name"]}},D=n(40089);const x=(0,D.Z)(C,[["render",y]]);var k=x},10741:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d={key:0,class:"text-danger text-bold"},c={class:"d-flex"},u={class:"w-100"},m=["id","name","title","required"],p=["title"],h={class:"ml-auto d-flex align-self-center",style:{width:"fit-content"}},f=["title"],g=(0,a._)("i",{class:"nav-icon far suitepicon suitepicon-module-contacts"},null,-1),v=[g],b=["title"],w=(0,a._)("i",{class:"nav-icon far suitepicon suitepicon-module-accounts"},null,-1),y=[w],_=["title"],C=(0,a._)("i",{class:"nav-icon far suitepicon suitepicon-module-prospects"},null,-1),D=[C],x=["title"],k=(0,a._)("i",{class:"nav-icon far suitepicon suitepicon-module-users"},null,-1),E=[k],S=["title"],A=(0,a._)("i",{class:"nav-icon far suitepicon suitepicon-module-leads"},null,-1),T=[A];function O(e,t,n,g,w,C){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",r,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,l),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",d,"*")):(0,a.kq)("",!0)]),(0,a._)("div",c,[(0,a._)("div",u,[(0,a.wy)((0,a._)("input",{class:(0,o.C_)(["form-control",e.validation.class]),type:"text",id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t),required:!!e.fieldDef.required||null},null,10,m),[[s.nr,e.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,p)):(0,a.kq)("",!0)]),(0,a._)("div",h,[(0,a._)("button",{class:"btn btn-sm btn-outline-info w-100 mr-2 ml-2",type:"button",title:this.DOAPP.utils.translate("LBL_INSERT_CONTACT_EMAIL","Emails"),onClick:t[1]||(t[1]=e=>C.popupHandler("Contacts"))},v,8,f),(0,a._)("button",{class:"btn btn-sm btn-outline-info w-100 mr-2",type:"button",title:this.DOAPP.utils.translate("LBL_INSERT_ACCOUNT_EMAIL","Emails"),onClick:t[2]||(t[2]=e=>C.popupHandler("Accounts"))},y,8,b),(0,a._)("button",{class:"btn btn-sm btn-outline-info w-100 mr-2",type:"button",title:this.DOAPP.utils.translate("LBL_INSERT_TARGET_EMAIL","Emails"),onClick:t[3]||(t[3]=e=>C.popupHandler("Prospects"))},D,8,_),(0,a._)("button",{class:"btn btn-sm btn-outline-info w-100 mr-2",type:"button",title:this.DOAPP.utils.translate("LBL_INSERT_USER_EMAIL","Emails"),onClick:t[4]||(t[4]=e=>C.popupHandler("Users"))},E,8,x),(0,a._)("button",{class:"btn btn-sm btn-outline-info w-100 mr-2",type:"button",title:this.DOAPP.utils.translate("LBL_INSERT_LEAD_EMAIL","Emails"),onClick:t[5]||(t[5]=e=>C.popupHandler("Leads"))},T,8,S)])])],10,i)}var L=n(88524),P={name:"AddrsNamesAbstractField.vue",extends:L["default"],widgetCols:4,data(){return{emailModules:[]}},methods:{fillString(){this.emailModules.forEach((e=>{this.addEmail(e),this.deleteFromStore(e)}))},addEmail(e){let t=this.value,n=this.beanData[e+"name"],a=this.beanData[e+"email"];if(n&&n.value&&a&&a.value){let e=n.value+" <"+a.value+">";t.includes(e)||(t=t?t+", "+e:e),this.$store.dispatch(this.state+"/updateModelValue",{name:this.name,value:t})}},deleteFromStore(e){this.beanData[e+"name"]&&this.$store.dispatch(this.state+"/updateModelValue",{name:e+"name",value:""}),this.beanData[e+"email"]&&this.$store.dispatch(this.state+"/updateModelValue",{name:e+"email",value:""})},popupHandler(e){this.$store.dispatch("popup/addNewPopup"),this.$store.dispatch("popup/setSize","xl"),this.$store.dispatch("popup/getContent",{params:this.linkParams(e)})},relateMapFields(e){let t={};return t[e+"_"+this.name+"_name"]="name",t[e+"_"+this.name+"_email"]="email1",t},linkParams(e){return{get:{module:e,action:"Popup",mode:"single",create:!0,field_to_name:this.relateMapFields(e)},sanitize:!0}}}},M=n(40089);const B=(0,M.Z)(P,[["render",O]]);var I=B},42143:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(10741),o={name:"BcсAddrsNamesField",extends:a["default"],widgetCols:4,data(){return{emailModules:["Contacts_bcc_addrs_names_","Accounts_bcc_addrs_names_","Prospects_bcc_addrs_names_","Leads_bcc_addrs_names_","Users_bcc_addrs_names_"]}},mounted(){this.fillString()}};const s=o;var i=s},53696:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(10741),o={name:"CcAddrsNamesField",extends:a["default"],widgetCols:4,data(){return{emailModules:["Contacts_cc_addrs_names_","Accounts_cc_addrs_names_","Prospects_cc_addrs_names_","Leads_cc_addrs_names_","Users_cc_addrs_names_"]}},mounted(){this.fillString()}};const s=o;var i=s},73010:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d={key:0,class:"text-danger text-bold"},c=["title"],u=["id","name","title","required"],m=["title"];function p(e,t,n,p,h,f){const g=(0,a.up)("da-editor");return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",r,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,l),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",d,"*")):(0,a.kq)("",!0)]),f.toolbarHide?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a.wy)((0,a._)("textarea",{class:(0,o.C_)(["form-control",e.validation.class]),id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[3]||(t[3]=e=>f.value=e),required:!!e.fieldDef.required||null,rows:"3"},null,10,u),[[s.nr,f.value]]),(0,a.wy)((0,a._)("input",{class:"form-control",type:"text",name:"description_html","onUpdate:modelValue":t[4]||(t[4]=e=>f.htmlValue=e),hidden:"hidden"},null,512),[[s.nr,f.htmlValue]]),(0,a._)("span",{title:e.validation.errorMessage,class:"error invalid-feedback mt-0 position-absolute text-truncate"},(0,o.zw)(e.validation.errorMessage),9,m)],64)):((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a.wy)((0,a._)("input",{class:"form-control",type:"text",id:"description_html",name:"description_html","onUpdate:modelValue":t[0]||(t[0]=e=>f.htmlValue=e),hidden:"hidden"},null,512),[[s.nr,f.htmlValue]]),(0,a.wy)((0,a._)("input",{class:"form-control",type:"text",id:"description",name:"description","onUpdate:modelValue":t[1]||(t[1]=e=>f.value=e),hidden:"hidden"},null,512),[[s.nr,f.value]]),(0,a.Wm)(g,{"inserted-value":f.htmlValue,toolbar:h.toolbar,onChangeValue:t[2]||(t[2]=e=>f.setValue(e)),class:(0,o.C_)(e.validation.class)},null,8,["inserted-value","toolbar","class"]),(0,a._)("span",{title:e.validation.errorMessage,class:"error invalid-feedback mt-0 position-absolute text-truncate"},(0,o.zw)(e.validation.errorMessage),9,c)],64))],10,i)}var h=n(53457),f=n(88524),g={name:"EmailsComposeViewDescriptionField",extends:f["default"],components:{daEditor:h["default"]},widgetCols:4,data(){return{toolbar:"undo redo | fontfamily | fontsize | bold italic underline forecolor backcolor |         casechange blocks | help"}},mounted(){this.setTemplate()},computed:{value:{get(){return this.fieldDef.value},set(e){this.fieldValidate(e),this.$store.dispatch(this.state+"/updateModelValue",{name:this.fieldDef.name,value:e}),this.addTag(e)}},htmlValue(){return this.beanData.description_html.value},toolbarHide(){return""!==this.beanData.is_only_plain_text.value&&this.beanData.is_only_plain_text.value}},methods:{setTemplate(){let e=this.beanData.emails_email_templates_idb;e&&e.value&&this.$store.dispatch("popup/setTemplate",e.value)},setValue(e){this.$store.dispatch(this.state+"/updateModelValue",{name:"description_html",value:e.html}),this.$store.dispatch(this.state+"/updateModelValue",{name:"description",value:e.raw})},addTag(e){let t="",n=e.split("\n");for(const a of n)t+="<p>"+a+"</p>";this.$store.dispatch("popup/updateModelValue",{name:"description_html",value:t})}}},v=n(40089);const b=(0,v.Z)(g,[["render",p]]);var w=b},42932:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(84724),o={name:"EmailTemplatesNameField",extends:a["default"],methods:{async open_popup(){this.$store.dispatch("popup/addNewPopup"),this.$store.dispatch("popup/setSize","xl"),this.$store.dispatch("popup/getContent",{params:this.linkParams,needConfirm:!0})}}};const s=o;var i=s},60203:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d={key:0,class:"text-danger text-bold"},c={class:"row"},u={class:"form-group col-lg-4 mb-0"},m=["id","title"],p=["label","value"],h={class:"form-group col-lg-8 mb-0 align-self-center"},f=["innerHTML"],g=["title"];function v(e,t,n,v,b,w){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",r,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,l),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",d,"*")):(0,a.kq)("",!0)]),(0,a._)("div",c,[(0,a._)("div",u,[(0,a.wy)((0,a._)("select",{class:(0,o.C_)(["custom-select",e.validation.class]),id:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.fieldDef.options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,label:e.name,value:t},(0,o.zw)(e.name),9,p)))),128))],10,m),[[s.bM,e.value]])]),(0,a._)("div",h,[(0,a._)("span",{innerHTML:w.infosHtml},null,8,f)])]),(0,a.wy)((0,a._)("input",{type:"text",hidden:"hidden",name:"inbound_email_id","onUpdate:modelValue":t[1]||(t[1]=t=>e.value=t)},null,512),[[s.nr,e.value]]),(0,a.wy)((0,a._)("input",{type:"text",hidden:"hidden",name:"from_addr","onUpdate:modelValue":t[2]||(t[2]=t=>w.fieldDefOptions(e.value).from=t)},null,512),[[s.nr,w.fieldDefOptions(e.value).from]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,g)):(0,a.kq)("",!0)],10,i)}var b=n(75109),w={name:"EmailsComposeViewFromAddrNameField",extends:b["default"],widgetCols:4,computed:{infosHtml(){return this.value?"<b>"+this.DOAPP.utils.translate("LBL_EMAIL_REPLY_TO","Emails")+":</b> "+this.fieldDefOptions(this.value).reply_to+", <b>"+this.DOAPP.utils.translate("LBL_EMAIL_FROM","Emails")+":</b> "+this.fieldDefOptions(this.value).from:""}},methods:{fieldDefOptions(e){return this.fieldDef.options[e]?this.fieldDef.options[e]:{from:"",reply_to:""}}}},y=n(40089);const _=(0,y.Z)(w,[["render",v]]);var C=_},72977:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(27885),o={name:"EmailsComposeViewNameField",extends:a["default"],widgetCols:4};const s=o;var i=s},35802:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(23330),o={name:"EmailsComposeViewParentNameField",extends:a["default"],computed:{options(){return this.fieldDef.options},value:{get(){return this.fieldDef.value},set(e){this.fieldValidate(e),this.$store.dispatch(this.state+"/updateModelValue",{name:this.fieldDef.name,value:e})}},toAddress(){return this.beanData["to_addrs_names"].value}},methods:{relateMapFields(){let e={};return e[this.fieldDef.id_name]="id",e[this.fieldDef.name]="name",e["email1"]="email1",e}},watch:{"beanData.email1.value":{handler(e){e&&this.$store.dispatch(this.state+"/updateModelValue",{name:"to_addrs_names",value:this.toAddress+", "+e})}}}};const s=o;var i=s},40967:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(10741),o={name:"ToAddrsNamesField",extends:a["default"],widgetCols:4,data(){return{emailModules:["Contacts_to_addrs_names_","Accounts_to_addrs_names_","Prospects_to_addrs_names_","Leads_to_addrs_names_","Users_to_addrs_names_"]}},mounted(){this.fillString()}};const s=o;var i=s},75109:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d={key:0,class:"text-danger text-bold"},c=["id","name","title"],u=["label","value"],m=["title"];function p(e,t,n,p,h,f){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",r,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,l),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",d,"*")):(0,a.kq)("",!0)]),(0,a.wy)((0,a._)("select",{class:(0,o.C_)(["custom-select",e.validation.class]),id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=e=>f.value=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.fieldDef.options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,label:e,value:t},(0,o.zw)(e),9,u)))),128))],10,c),[[s.bM,f.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,m)):(0,a.kq)("",!0)],10,i)}var h=n(88524),f={name:"EnumField",extends:h["default"],computed:{value:{get(){return Object.hasOwn(this.fieldDef,"value")&&Object.hasOwn(this.fieldDef.options,this.fieldDef.value)?this.fieldDef.value:Object.keys(this.fieldDef.options)[0]},set(e){this.fieldValidate(e),this.$store.dispatch(this.state+"/updateModelValue",{name:this.fieldDef.name,value:e})}}}},g=n(40089);const v=(0,g.Z)(f,[["render",p]]);var b=v},10051:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return T}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r=(0,a._)("input",{type:"hidden",name:"filename_escaped",value:""},null,-1),l=["name"],d={class:"text-truncate mb-2"},c=["for"],u={key:0,class:"text-danger text-bold"},m={key:0,class:"input-group"},p={class:"custom-file"},h=["id","title","required"],f=["title"],g={class:"custom-file-label",for:"customFile"},v={class:"input-group-append"},b={key:1,class:"input-group"},w={class:"form-control form-control-border"},y=["href"],_={key:0,class:"input-group-append"},C=(0,a._)("i",{class:"fas fa-times"},null,-1),D=[C];function x(e,t,n,C,x,k){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group file-field",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a.wy)((0,a._)("input",{type:"hidden",name:"deleteAttachment","onUpdate:modelValue":t[0]||(t[0]=e=>x.deleteAttachment=e)},null,512),[[s.nr,x.deleteAttachment]]),r,(0,a.wy)((0,a._)("input",{type:"hidden",name:e.name,"onUpdate:modelValue":t[1]||(t[1]=e=>x.filename=e)},null,8,l),[[s.nr,x.filename]]),(0,a._)("div",d,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,c),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",u,"*")):(0,a.kq)("",!0)]),e.value?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",m,[(0,a._)("div",p,[(0,a._)("input",{class:(0,o.C_)(["custom-file-input",e.validation.class]),ref:"file",name:"filename_file",type:"file",id:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),onChange:t[2]||(t[2]=(...e)=>k.onFileChange&&k.onFileChange(...e)),required:!!e.fieldDef.required||null},null,42,h),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate daTop-100",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,f)):(0,a.kq)("",!0),(0,a._)("label",g,(0,o.zw)(x.filename),1)]),(0,a._)("div",v,[(0,a._)("button",{type:"button",class:"btn btn-info",onClick:t[3]||(t[3]=(...e)=>k.showUpload&&k.showUpload(...e))},(0,o.zw)(x.lang.LBL_SELECT_BUTTON_LABEL),1)])])),e.value?((0,a.wg)(),(0,a.iD)("div",b,[(0,a._)("div",w,[(0,a._)("a",{href:"../index.php?entryPoint=download&id="+e.record+"&type="+e.module,class:"tabDetailViewDFLink"},(0,o.zw)(x.filename),9,y)]),k.showDelete?((0,a.wg)(),(0,a.iD)("div",_,[(0,a._)("button",{type:"button",class:"btn btn-danger",id:"remove_button",onClick:t[4]||(t[4]=(...e)=>k.deleteFile&&k.deleteFile(...e))},D)])):(0,a.kq)("",!0)])):(0,a.kq)("",!0)],10,i)}var k=n(88524),E={name:"FileField",extends:k["default"],data(){return{label:"Choose file",filename:"",deleteAttachment:0,lang:this.$store.state.app.lang}},computed:{showDelete(){let e=!0;return Object.hasOwn(this.fieldDef,"noChange")&&this.fieldDef.noChange&&this.filename&&(e=!1),e}},beforeMount(){this.value&&(this.filename=this.value)},methods:{async deleteFile(){this.deleteAttachment=1;let e={get:this.$store.state.focus.get};e.get.action="deleteattachment";let t=await this.$store.dispatch("ajaxPost",e);t&&(this.value="",this.filename="")},onFileChange(){this.deleteAttachment=0,this.filename=this.$refs.file.files[0].name,this.fieldValidate(this.filename),this.displayParams&&this.displayParams.onchangeSetFileNameTo&&this.setFileName(this.displayParams.onchangeSetFileNameTo)},showUpload(){this.$refs.file.click()},setFileName(e){if(!this.beanData[e].value){let t=this.filename.lastIndexOf("/");-1===t&&(t=this.filename.lastIndexOf("\\"));let n=this.filename.slice(++t,this.filename.length);this.DOAPP.validate.validateHandler(e,n),this.$store.dispatch(this.state+"/updateModelValue",{name:e,value:n})}}}},S=n(40089);const A=(0,S.Z)(E,[["render",x]]);var T=A},52623:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d={key:0,class:"text-danger text-bold"},c=["id","name","title","required"],u=["title"];function m(e,t,n,m,p,h){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",r,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,l),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",d,"*")):(0,a.kq)("",!0)]),(0,a.wy)((0,a._)("input",{class:"form-control",type:"text",id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t),required:!!e.fieldDef.required||null,onInput:t[1]||(t[1]=(...e)=>h.validate&&h.validate(...e))},null,40,c),[[s.nr,e.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,u)):(0,a.kq)("",!0)],10,i)}var p=n(88524),h={name:"FloatField",extends:p["default"],watch:{},methods:{validate(e){console.log(e.target.value)}}},f=n(40089);const g=(0,f.Z)(h,[["render",m]]);var v=g},51452:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d={key:0,class:"text-danger text-bold"},c=["id","name"],u=["title"];function m(e,t,n,m,p,h){const f=(0,a.up)("da-editor");return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",r,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,l),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",d,"*")):(0,a.kq)("",!0)]),(0,a.Wm)(f,{"inserted-value":p.starthtml,toolbar:h.toolbar,plugins:h.plugins,height:h.height,onChangeValue:t[0]||(t[0]=e=>h.setValue(e)),class:(0,o.C_)(e.validation.class)},null,8,["inserted-value","toolbar","plugins","height","class"]),(0,a.wy)((0,a._)("input",{type:"text",id:e.name,name:e.name,"onUpdate:modelValue":t[1]||(t[1]=t=>e.value=t),hidden:"hidden"},null,8,c),[[s.nr,e.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,title:e.validation.errorMessage,class:"error invalid-feedback mt-0 position-absolute text-truncate"},(0,o.zw)(e.validation.errorMessage),9,u)):(0,a.kq)("",!0)],10,i)}var p=n(88524),h=n(53457),f={name:"HtmlField",extends:p["default"],components:{daEditor:h["default"]},widgetCols:4,data(){return{defaultToolbar:"undo redo | casechange blocks | bold italic backcolor |         alignleft aligncenter alignright alignjustify |         bullist numlst checklist outdent indent | removeformat | a11ycheck code table help",defaultPlugins:["lists","link","image","table","code","help","wordcount"],defaultHeight:400,starthtml:""}},computed:{height(){return Number(this.fieldDef.rows)<6?200:this.defaultHeight},toolbar(){return"AOS_PDF_Templates"===this.module&&"description"===this.fieldDef.name?"code help | undo redo | bold italic underline strikethrough |         alignleft aligncenter alignright alignjustify | forecolor backcolor |         casechange blocks| fontfamily | fontsize |         cut copy paste pastetext find search searchreplace selectall| bullist numlst checklist outdent indent |         ltr rtl | link unlink anchor image | subscript superscript | charmap | removeformat | a11ycheck table |         insertdatetime pagebreak":"AOS_PDF_Templates"!==this.module||"pdfheader"!==this.fieldDef.name&&"pdffooter"!==this.fieldDef.name?this.defaultToolbar:"code | undo redo | bold italic underline strikethrough |         alignleft aligncenter alignright alignjustify | forecolor backcolor |         casechange blocks| fontfamily | fontsize | insertdatetime "},plugins(){return"AOS_PDF_Templates"===this.module?["lists","link","image","table","code","help","wordcount","searchreplace","directionality","link","anchor","image","charmap","insertdatetime","pagebreak"]:this.defaultPlugins}},beforeMount(){this.starthtml=this.decodeHTML(this.fieldDef.value)},methods:{setValue(e){this.$store.dispatch(this.state+"/updateModelValue",{name:this.fieldDef.name,value:e.html})},decodeHTML(e){let t=document.createElement("textarea");return t.innerHTML=e,t.value}}},g=n(40089);const v=(0,g.Z)(f,[["render",m]]);var b=v},31105:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r=["for"],l=["id","name","title","required"];function d(e,t,n,d,c,u){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("label",{for:e.name},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,r),(0,a.wy)((0,a._)("input",{class:"form-control",type:"text",id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t),required:!!e.fieldDef.required||null,readonly:""},null,8,l),[[s.nr,e.value]])],10,i)}var c=n(88524),u={name:"IdField",extends:c["default"]},m=n(40089);const p=(0,m.Z)(u,[["render",d]]);var h=p},66955:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return T}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r=(0,a._)("input",{type:"hidden",name:"photo_escaped",value:""},null,-1),l=["name"],d={class:"text-truncate mb-2"},c=["for"],u={key:0,class:"text-danger text-bold"},m={key:0,class:"input-group"},p={class:"custom-file"},h=["id","title","required"],f=["title"],g={class:"custom-file-label",for:"customFile"},v={class:"input-group-append"},b={key:1,class:"input-group"},w={class:"form-control form-control-border"},y=["href"],_={key:0,class:"input-group-append"},C=(0,a._)("i",{class:"fas fa-times"},null,-1),D=[C];function x(e,t,n,C,x,k){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group image-field",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a.wy)((0,a._)("input",{type:"hidden",name:"deleteAttachment","onUpdate:modelValue":t[0]||(t[0]=t=>e.deleteAttachment=t)},null,512),[[s.nr,e.deleteAttachment]]),r,(0,a.wy)((0,a._)("input",{type:"hidden",name:e.name,"onUpdate:modelValue":t[1]||(t[1]=t=>e.filename=t)},null,8,l),[[s.nr,e.filename]]),(0,a.wy)((0,a._)("input",{type:"hidden",name:"photo_record_id","onUpdate:modelValue":t[2]||(t[2]=t=>e.record=t)},null,512),[[s.nr,e.record]]),(0,a._)("div",d,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,c),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",u,"*")):(0,a.kq)("",!0)]),e.value?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",m,[(0,a._)("div",p,[(0,a._)("input",{class:(0,o.C_)(["custom-file-input",e.validation.class]),ref:"file",name:"photo_file",type:"file",id:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),onChange:t[3]||(t[3]=(...t)=>e.onFileChange&&e.onFileChange(...t)),required:!!e.fieldDef.required||null},null,42,h),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate daTop-100",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,f)):(0,a.kq)("",!0),(0,a._)("label",g,(0,o.zw)(e.filename),1)]),(0,a._)("div",v,[(0,a._)("button",{type:"button",class:"btn btn-info",onClick:t[4]||(t[4]=(...t)=>e.showUpload&&e.showUpload(...t))},(0,o.zw)(e.lang.LBL_SELECT_BUTTON_LABEL),1)])])),e.value?((0,a.wg)(),(0,a.iD)("div",b,[(0,a._)("div",w,[(0,a._)("a",{href:"../index.php?entryPoint=download&id="+e.record+"&type="+e.module,class:"tabDetailViewDFLink"},(0,o.zw)(e.filename),9,y)]),e.showDelete?((0,a.wg)(),(0,a.iD)("div",_,[(0,a._)("button",{type:"button",class:"btn btn-danger",id:"remove_button",onClick:t[5]||(t[5]=(...e)=>k.deleteFile&&k.deleteFile(...e))},D)])):(0,a.kq)("",!0)])):(0,a.kq)("",!0)],10,i)}var k=n(10051),E={name:"ImageField",extends:k["default"],methods:{async deleteFile(){this.deleteAttachment=1;let e={get:{entryPoint:"deleteAttachment",field:this.name,module:this.$route.query.module}};e.get[this.name+"_record_id"]=this.$route.query.record;let t=await this.$store.dispatch("ajaxPost",e);t.includes("true")&&(this.value="",this.filename="")}}},S=n(40089);const A=(0,S.Z)(E,[["render",x]]);var T=A},56118:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r=["for"],l={key:0,class:"text-danger text-bold"},d=["id","name","title","required"],c={key:1,class:"error invalid-feedback mt-0 position-absolute"};function u(e,t,n,u,m,p){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("label",{for:e.name},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,r),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",l,"*")):(0,a.kq)("",!0),(0,a.wy)((0,a._)("input",{class:(0,o.C_)(["form-control",e.validation.class]),type:"text",id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=e=>p.value=e),required:!!e.fieldDef.required||null},null,10,d),[[s.nr,p.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",c,(0,o.zw)(e.validation.errorMessage),1)):(0,a.kq)("",!0)],10,i)}var m=n(88524),p={name:"IntField",extends:m["default"],data(){return{notChanged:!0}},computed:{value:{get(){if(""!==this.fieldDef.value&&this.notChanged&&Number(this.fieldDef.value)){let e,t,n,a,o=0,s=this.$store.state.user.data["1000sSeparator"],i=this.$store.state.user.data["decimalSymbol"];a=this.fieldDef.value.replaceAll(s,"").replace(i,"."),e=Number(a).toFixed(o);let r=e.split(".");return t=Number(r[0]).toLocaleString(),n=t.split(" ").join(s),n}return this.fieldDef.value},set(e){this.notChanged=!1;let t=this.$store.state.user.data["1000sSeparator"],n=this.$store.state.user.data["decimalSymbol"],a=Number(e.replaceAll(t,"").replace(n,"."));this.fieldValidate(a),this.$store.dispatch(this.state+"/updateModelValue",{name:this.fieldDef.name,value:e})}}}},h=n(40089);const f=(0,h.Z)(p,[["render",u]]);var g=f},26950:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r=["for"],l={key:0,class:"text-danger text-bold"},d=["title","disabled","required"],c={key:1,class:"error invalid-feedback mt-0 position-absolute"};function u(e,t,n,u,m,p){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("label",{for:e.name},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,r),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",l,"*")):(0,a.kq)("",!0),(0,a.wy)((0,a._)("input",{class:(0,o.C_)(["form-control",e.validation.class]),name:"account_name",id:"EditView_account_name",type:"text",title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t),disabled:p.isDisabled,required:!!e.fieldDef.required||null},null,10,d),[[s.nr,e.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",c,(0,o.zw)(e.validation.errorMessage),1)):(0,a.kq)("",!0)],10,i)}var m=n(88524),p={name:"LeadsEditViewAccountName",extends:m["default"],computed:{isDisabled(){return!(!this.beanData.converted||1!==this.beanData.converted.value)}}},h=n(40089);const f=(0,h.Z)(p,[["render",u]]);var g=f},4354:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d={key:0,class:"text-danger text-bold"},c={class:"input-group col-lg-12 p-0"},u=["title"],m=["label","value"],p=["id","name","title"],h=["title"];function f(e,t,n,f,g,v){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",r,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,l),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",d,"*")):(0,a.kq)("",!0)]),(0,a._)("div",c,[(0,a.wy)((0,a._)("select",{class:"custom-select col-lg-4",id:"salutation",name:"salutation",title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.beanData.salutation.vname),e.module),"onUpdate:modelValue":t[0]||(t[0]=e=>v.optionValue=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(v.options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,label:e,value:t},(0,o.zw)(e),9,m)))),128))],8,u),[[s.bM,v.optionValue]]),(0,a.wy)((0,a._)("input",{class:(0,o.C_)(["form-control col-lg-8 ml-2",e.validation.class]),type:"text",id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[1]||(t[1]=t=>e.value=t)},null,10,p),[[s.nr,e.value]])]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,h)):(0,a.kq)("",!0)],10,i)}var g=n(88524),v={name:"LeadsEditViewFirstName",extends:g["default"],computed:{options(){return this.$store.state.app.list_strings.salutation_dom},optionValue:{get(){return this.beanData.salutation.value},set(e){this.fieldValidate(e),this.$store.dispatch(this.state+"/updateModelValue",{name:"salutation",value:e})}}}},b=n(40089);const w=(0,b.Z)(v,[["render",f]]);var y=w},54292:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d={key:0,class:"text-danger text-bold"},c=["id","name","title"],u=["label","value"],m=["title"];function p(e,t,n,p,h,f){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a.wy)((0,a._)("input",{type:"hidden",name:"duration_hours","onUpdate:modelValue":t[0]||(t[0]=e=>h.hours=e)},null,512),[[s.nr,h.hours]]),(0,a.wy)((0,a._)("input",{type:"hidden",name:"duration_minutes","onUpdate:modelValue":t[1]||(t[1]=e=>h.minutes=e)},null,512),[[s.nr,h.minutes]]),(0,a._)("div",r,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,l),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",d,"*")):(0,a.kq)("",!0)]),(0,a.wy)((0,a._)("select",{class:"custom-select",id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[2]||(t[2]=t=>e.value=t)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.fieldDef.options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,label:e,value:t},(0,o.zw)(e),9,u)))),128))],8,c),[[s.bM,e.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,m)):(0,a.kq)("",!0)],10,i)}var h=n(88524),f={name:"MeetingsEditViewDuration",extends:h["default"],data(){return{hours:this.beanData.duration_hours.value,minutes:this.beanData.duration_minutes.value}},beforeMount(){"0"===this.hours&&"0"===this.minutes||(this.value=3600*Number(this.hours)+60*Number(this.minutes))},watch:{value(e){let t=Number(e);switch(t%3600){case 0:this.hours=t/3600,this.minutes=0;break;case t:this.hours=0,this.minutes=t/60;break;default:this.hours=Math.floor(t/3600),this.minutes=t%3600/60}this.$store.dispatch(this.state+"/updateModelValue",{name:"duration_hours",value:this.hours}),this.$store.dispatch(this.state+"/updateModelValue",{name:"duration_minutes",value:this.minutes})}}},g=n(40089);const v=(0,g.Z)(f,[["render",p]]);var b=v},65984:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var a=n(73396);function o(e,t,n,o,s,i){return(0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.metadata.field.fields,((t,n)=>((0,a.wg)(),(0,a.j4)((0,a.LL)(i.fieldTemplate(e.beanData[t.name])),{key:n,name:t.name,module:e.module,record:e.record,metadata:{field:e.beanData[t.name]},beanData:e.beanData},null,8,["name","module","record","metadata","beanData"])))),128)}var s=n(88524),i=n(64479),r={name:"MultiField",extends:s["default"],methods:{fieldType(e){let t="";return t=Object.hasOwn(e,"function")?e.function.name:e.type,t},fieldTemplate(e){let t=this.fieldType(e);return i["default"][t]}}},l=n(40089);const d=(0,l.Z)(r,[["render",o]]);var c=d},27885:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d={key:0,class:"text-danger text-bold"},c=["id","name","title"],u=["title"];function m(e,t,n,m,p,h){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",r,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,l),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",d,"*")):(0,a.kq)("",!0)]),(0,a.wy)((0,a._)("input",{class:(0,o.C_)(["form-control",e.validation.class]),type:"text",id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t)},null,10,c),[[s.nr,e.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,title:e.validation.errorMessage,class:"error invalid-feedback mt-0 position-absolute text-truncate"},(0,o.zw)(e.validation.errorMessage),9,u)):(0,a.kq)("",!0)],10,i)}var p=n(88524),h={name:"NameField",extends:p["default"]},f=n(40089);const g=(0,f.Z)(h,[["render",m]]);var v=g},67998:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d={key:0,class:"text-danger text-bold"},c=["id","name","title"],u=["label","value"],m=["title"];function p(e,t,n,p,h,f){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",r,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,l),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",d,"*")):(0,a.kq)("",!0)]),(0,a.wy)((0,a._)("select",{class:(0,o.C_)(["custom-select",e.validation.class]),id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=e=>f.value=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.metadata.options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,label:e,value:t},(0,o.zw)(e),9,u)))),128))],10,c),[[s.bM,f.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,m)):(0,a.kq)("",!0)],10,i)}var h=n(75109),f={name:"PDFTemplatesEditViewSample",extends:h["default"],computed:{value:{get(){return Object.hasOwn(this.fieldDef,"value")&&Object.hasOwn(this.metadata.options,this.fieldDef.value)?this.fieldDef.value:Object.keys(this.metadata.options)[0]},set(e){this.fieldValidate(e),this.$store.dispatch(this.state+"/updateModelValue",{name:this.fieldDef.name,value:e}),this.DOAPP.swal.getConfirmToast({text:this.DOAPP.utils.translate("LBL_WARNING_OVERWRITE","AOS_PDF_Templates"),onConfirmed:()=>this.setSampleValues()})}}},methods:{setType(){this.$store.dispatch(this.state+"/updateModelValue",{name:"type",value:this.metadata.sampleData[this.value][0]})},setBody(){let e=document.querySelector("[data-field='description']").getElementsByTagName("textarea")[0].getAttribute("id");window.tinymce.get(e).setContent(this.metadata.sampleData[this.value][1]),this.$store.dispatch(this.state+"/updateModelValue",{name:"description",value:this.metadata.sampleData[this.value][1]})},setHeader(){let e=document.querySelector("[data-field='pdfheader']").getElementsByTagName("textarea")[0].getAttribute("id");window.tinymce.get(e).setContent(this.metadata.sampleData[this.value][2]),this.$store.dispatch(this.state+"/updateModelValue",{name:"pdfheader",value:this.metadata.sampleData[this.value][2]})},setFooter(){let e=document.querySelector("[data-field='pdffooter']").getElementsByTagName("textarea")[0].getAttribute("id");window.tinymce.get(e).setContent(this.metadata.sampleData[this.value][3]),this.$store.dispatch(this.state+"/updateModelValue",{name:"pdffooter",value:this.metadata.sampleData[this.value][3]})},setSampleValues(){this.setType(),this.setBody(),this.setHeader(),this.setFooter()}}},g=n(40089);const v=(0,g.Z)(f,[["render",p]]);var b=v},31064:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d={key:0,class:"text-danger text-bold"},c={class:"row"},u={class:"form-group col-lg-3"},m=["title"],p=["label","value"],h={class:"form-group col-lg-3"},f=["title"],g=["label","value"],v={class:"form-group col-lg-3"},b={class:"form-group col-lg-3"},w=["title"];function y(e,t,n,y,_,C){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",r,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,l),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",d,"*")):(0,a.kq)("",!0)]),(0,a._)("div",c,[(0,a._)("div",u,[(0,a.wy)((0,a._)("select",{class:(0,o.C_)(["custom-select",e.validation.class]),id:"variable_module",name:"variable_module",onChange:t[0]||(t[0]=(...e)=>C.changeVariableModule&&C.changeVariableModule(...e)),title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[1]||(t[1]=e=>_.variableModule=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(C.options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,label:e,value:t},(0,o.zw)(e),9,p)))),128))],42,m),[[s.bM,_.variableModule]])]),(0,a._)("div",h,[(0,a.wy)((0,a._)("select",{class:(0,o.C_)(["custom-select",e.validation.class]),id:"variable_name",name:"variable_name",onChange:t[2]||(t[2]=(...e)=>C.changeVariableName&&C.changeVariableName(...e)),title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[3]||(t[3]=e=>_.variableName=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(C.regularOptions[C.type][_.variableModule],((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,label:e,value:t},(0,o.zw)(e),9,g)))),128))],42,f),[[s.bM,_.variableName]])]),(0,a._)("div",v,[(0,a.wy)((0,a._)("input",{class:"form-control",type:"text",id:"variable_text",name:"variable_text","onUpdate:modelValue":t[4]||(t[4]=e=>_.variableText=e)},null,512),[[s.nr,_.variableText]])]),(0,a._)("div",b,[(0,a._)("button",{class:"bg-primary btn btn-flat",type:"button",onClick:t[5]||(t[5]=(...e)=>C.addVariableText&&C.addVariableText(...e))},(0,o.zw)(e.DOAPP.utils.translate("LBL_BUTTON_INSERT",this.module)),1)])]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,w)):(0,a.kq)("",!0)],10,i)}var _=n(88524),C={name:"PDFTemplatesEditViewInsertFields",extends:_["default"],widgetCols:4,data(){return{variableModule:"",variableName:"",variableText:""}},computed:{type(){return this.beanData.type.value},options(){return this.metadata.moduleOptions[this.type]},insertOptions(){return this.metadata.regularOptions[this.type][this.variableModule]},regularOptions(){return this.metadata.regularOptions}},methods:{changeVariableModule(){this.variableName=Object.keys(this.insertOptions)[0],this.changeVariableName()},changeVariableName(){this.variableText=this.variableName},addVariableText(){window.tinymce.execCommand("mceInsertContent",!1,this.variableText)}},beforeMount(){this.variableModule=Object.keys(this.metadata.moduleOptions[this.beanData.type.value])[0]},watch:{type(){this.variableModule=Object.keys(this.metadata.moduleOptions[this.type])[0],this.variableText=""}}},D=n(40089);const x=(0,D.Z)(C,[["render",y]]);var k=x},23330:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return T}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r=["for"],l={class:"row"},d=["data-type","data-field"],c=["id","name","title"],u=["label","value"],m=["title"],p=["data-type","data-field"],h={class:"input-group"},f=["id","name","title"],g=["id","name"],v=["id","onMousedown"],b=(0,a._)("div",{class:"dropdown-divider"},null,-1),w={class:"input-group-append"},y=(0,a._)("i",{class:"fas fa-mouse-pointer"},null,-1),_=[y],C=(0,a._)("i",{class:"fas fa-times"},null,-1),D=[C];function x(e,t,n,y,C,x){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group parent-field",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("label",{for:e.name},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata["field"].label),e.module)),9,r),(0,a._)("div",l,[(0,a._)("div",{class:"form-group col-lg-6","data-type":e.fieldDef.type_name,"data-field":e.fieldDef.type_name},[(0,a.wy)((0,a._)("select",{class:"custom-select",id:e.fieldDef.type_name,name:e.fieldDef.type_name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=e=>x.selected=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(x.options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,label:e,value:t},(0,o.zw)(e),9,u)))),128))],8,c),[[s.bM,x.selected]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,m)):(0,a.kq)("",!0)],8,d),(0,a._)("div",{class:"form-group col-lg-6","data-type":e.fieldDef.type,"data-field":e.name,onKeydown:t[5]||(t[5]=(...t)=>e.keyMove&&e.keyMove(...t))},[(0,a._)("div",h,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata["field"].label),e.module),"onUpdate:modelValue":t[1]||(t[1]=e=>x.value=e)},null,8,f),[[s.nr,x.value]]),(0,a.wy)((0,a._)("input",{type:"hidden",id:e.fieldDef.id_name,name:e.fieldDef.id_name,"onUpdate:modelValue":t[2]||(t[2]=t=>e.relateID=t)},null,8,g),[[s.nr,e.relateID]]),(0,a._)("div",{class:(0,o.C_)(["dropdown-menu",{show:e.qsResults.length}])},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.qsResults,(t=>((0,a.wg)(),(0,a.iD)(a.HY,{key:t.id},[(0,a._)("button",{id:"dropdown-item_"+t.id,tabindex:"-1",type:"button",class:"dropdown-item text-sm",onMousedown:n=>e.setRelateValue(t)},(0,o.zw)(t["name"]),41,v),b],64)))),128))],2),(0,a._)("div",w,[(0,a._)("button",{type:"button",class:"btn btn-info",onClick:t[3]||(t[3]=(...t)=>e.open_popup&&e.open_popup(...t))},_),(0,a._)("button",{type:"button",class:"btn btn-danger",onClick:t[4]||(t[4]=(...t)=>e.cleanRelate&&e.cleanRelate(...t))},D)])])],40,p)])],10,i)}n(57658);var k=n(84724),E={name:"ParentField",extends:k["default"],widgetCols:2,methods:{relateMapFields(){let e={};if(e[this.fieldDef.id_name]="id",e[this.fieldDef.name]="name","Accounts"===this.fieldDef.module){if(Object.hasOwn(this.displayParams,"additionalFields")){let t=this.displayParams.additionalFields;for(let n in t)e[t[n]]=n}if(Object.hasOwn(this.displayParams,"key")&&Object.hasOwn(this.displayParams,"copy")){let t=this.displayParams["key"],n=this.displayParams["copy"],a=["_address_street","_address_city","_address_state","_address_postalcode","_address_country"];for(let o in a)e[n+a[o]]=t+a[o]}}return e}},watch:{relateModule(){this.cleanRelate()}},computed:{selected:{get(){return this.beanData[this.fieldDef.type_name].value},set(e){this.$store.dispatch(this.state+"/updateModelValue",{name:this.fieldDef.type_name,value:e})}},relateModule(){return this.beanData[this.fieldDef.type_name].value},linkParams(){return{get:{module:this.relateModule,action:"Popup",mode:"single",create:!0,field_to_name:this.rFields},sanitize:!0}},value:{get(){return this.fieldDef.value},set(e){this.fieldValidate(e);let t={form:"EditView",method:"query",modules:[this.relateModule],group:"or",field_list:[],populate_list:[],conditions:[{name:"name",op:"like_custom",end:"%",value:""}],required_list:[this.fieldDef.id_name],order:"name",limit:"30",no_match_text:"not selected"};for(let o in this.rFields)console.log(this.rFields[o]),t.field_list.push(this.rFields[o]),t.populate_list.push(o);let n=new FormData;n.append("query",e),n.append("to_pdf","true"),n.append("data",JSON.stringify(t));let a={get:{module:"Home",action:"quicksearchQuery"},data:n};clearTimeout(this.timeout2),clearTimeout(this.timeout1),e&&(this.timeout1=setTimeout((async()=>{let e=await this.$store.dispatch("ajaxPost",a,{root:!0});this.qsResults=e.fields,this.qsResults.length&&(setTimeout((()=>{this.index+=1,this.setFocus(this.index)})),this.timeout2=setTimeout((()=>{}),1500))}),500)),this.$store.dispatch(this.state+"/updateModelValue",{name:this.fieldDef.name,value:e})}},options(){return this.beanData[this.fieldDef.type_name].options}}},S=n(40089);const A=(0,S.Z)(E,[["render",x]]);var T=A},52491:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d={key:0,class:"text-danger text-bold"},c=["id","name","title","required"],u=["title"],m={key:1,class:"error invalid-feedback mt-0 position-absolute text-truncate"};function p(e,t,n,p,h,f){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",r,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,l),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",d,"*")):(0,a.kq)("",!0)]),(0,a.wy)((0,a._)("input",{class:(0,o.C_)(["form-control",f.errorClass]),id:e.name,name:e.name,type:"password",title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t),required:!!e.fieldDef.required||null,onKeyup:t[1]||(t[1]=e=>{f.passwordConfirmation()}),autocomplete:"new-password"},null,42,c),[[s.nr,e.value]]),(0,a.wy)((0,a._)("input",{type:"hidden",name:"password_change","onUpdate:modelValue":t[2]||(t[2]=e=>f.isPwdCanged=e)},null,512),[[s.nr,f.isPwdCanged]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,u)):(0,a.kq)("",!0),f.isError?((0,a.wg)(),(0,a.iD)("span",m,(0,o.zw)(e.DOAPP.utils.translate("ERR_PASSWORD_MISMATCH",this.module)),1)):(0,a.kq)("",!0)],10,i)}var h=n(88524),f={name:"PasswordField",extends:h["default"],data(){return{error:!1}},computed:{isError(){return!("confirm_new_password"!==this.name||!this.error)},errorClass(){return this.isError?"is-invalid":this.validation.class},isPwdCanged(){let e=this.beanData.new_password.value,t="",n=this.beanData.confirm_new_password.value;return Object.hasOwn(this.beanData,"old_password")&&(t=this.beanData.old_password.value),""!==e||""!==n||""!==t}},methods:{passwordConfirmation(){this.beanData.confirm_new_password.value===this.beanData.new_password.value?this.error=!1:this.error=!0}}},g=n(40089);const v=(0,g.Z)(f,[["render",p]]);var b=v},8817:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d={key:0,class:"text-danger text-bold"},c=["id","name","title","required"],u=["title"];function m(e,t,n,m,p,h){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",r,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,l),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",d,"*")):(0,a.kq)("",!0)]),(0,a.wy)((0,a._)("input",{class:(0,o.C_)(["form-control",e.validation.class]),type:"text",id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t),required:!!e.fieldDef.required||null},null,10,c),[[s.nr,e.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,u)):(0,a.kq)("",!0)],10,i)}var p=n(88524),h={name:"PhoneField",extends:p["default"]},f=n(40089);const g=(0,f.Z)(h,[["render",m]]);var v=g},51331:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d={key:0,class:"text-danger text-bold"},c=["title"],u=["title"];function m(e,t,n,m,p,h){return h.showDomain?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",r,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate("LBL_DOMAIN",e.module)),9,l),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",d,"*")):(0,a.kq)("",!0)]),(0,a.wy)((0,a._)("input",{class:(0,o.C_)(["form-control",e.validation.class]),type:"text",name:"domain_name",id:"domain_name",title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t)},null,10,c),[[s.nr,e.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,u)):(0,a.kq)("",!0)],10,i)):(0,a.kq)("",!0)}var p=n(88524),h={name:"ProspectListsEditViewDomainName",extends:p["default"],computed:{showDomain(){return"exempt_domain"===this.beanData.list_type.value}}},f=n(40089);const g=(0,f.Z)(h,[["render",m]]);var v=g},70052:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d={key:0,class:"text-danger text-bold"},c={class:"input-group col-lg-12 p-0"},u=["title"],m=["label","value"],p=["id","name","title"],h=["title"];function f(e,t,n,f,g,v){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",r,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,l),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",d,"*")):(0,a.kq)("",!0)]),(0,a._)("div",c,[(0,a.wy)((0,a._)("select",{class:"custom-select col-lg-4",id:"salutation",name:"salutation",title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.beanData.salutation.vname),e.module),"onUpdate:modelValue":t[0]||(t[0]=e=>v.optionValue=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(v.options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,label:e,value:t},(0,o.zw)(e),9,m)))),128))],8,u),[[s.bM,v.optionValue]]),(0,a.wy)((0,a._)("input",{class:(0,o.C_)(["form-control col-lg-8 ml-2",e.validation.class]),type:"text",id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[1]||(t[1]=t=>e.value=t)},null,10,p),[[s.nr,e.value]])]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,h)):(0,a.kq)("",!0)],10,i)}var g=n(88524),v={name:"ProspectsEditViewFirstName",extends:g["default"],computed:{options(){return this.$store.state.app.list_strings.salutation_dom},optionValue:{get(){return this.beanData.salutation.value},set(e){this.fieldValidate(e),this.$store.dispatch(this.state+"/updateModelValue",{name:"salutation",value:e})}}}},b=n(40089);const w=(0,b.Z)(v,[["render",f]]);var y=w},13685:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var a=n(73396),o=n(87139);const s=["data-type","data-field"],i=["for"],r=["name","checked"],l=["label","value"];function d(e,t,n,d,c,u){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("label",{for:e.name},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,i),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.fieldDef.options,((t,n)=>((0,a.wg)(),(0,a.iD)("div",{class:"form-check",key:n},[(0,a._)("input",{class:"form-check-input",type:"radio",name:e.name,checked:n==e.value},null,8,r),(0,a._)("label",{class:"form-check-label",label:t,value:n},(0,o.zw)(t),9,l)])))),128))],10,s)}var c=n(88524),u={name:"RadioenumField",extends:c["default"]},m=n(40089);const p=(0,m.Z)(u,[["render",d]]);var h=p},72536:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var a=n(73396),o=n(87139);const s=["data-type","data-field"],i={class:"text-truncate mb-2"},r=["for"],l={key:0,class:"text-danger text-bold"},d={class:"form-control form-control-border text-truncate"};function c(e,t,n,c,u,m){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",i,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,r),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",l,"*")):(0,a.kq)("",!0)]),(0,a._)("div",d,(0,o.zw)(m.value),1)],10,s)}var u=n(88524),m={name:"ReadonlyField",extends:u["default"],computed:{value(){return"enum"===this.fieldDef.type?this.fieldDef.options[this.fieldDef.value]:this.fieldDef.value}}},p=n(40089);const h=(0,p.Z)(m,[["render",c]]);var f=h},84724:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r=["for"],l={key:0,class:"text-danger text-bold"},d={class:"input-group"},c=["id","name","title"],u=["id","name"],m=["title"],p=["id","onMousedown"],h=(0,a._)("div",{class:"dropdown-divider"},null,-1),f={class:"input-group-append"},g=(0,a._)("i",{class:"fas fa-mouse-pointer"},null,-1),v=[g],b=(0,a._)("i",{class:"fas fa-times"},null,-1),w=[b];function y(e,t,n,g,b,y){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group relate-field",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name,onKeydown:t[4]||(t[4]=(...e)=>y.keyMove&&y.keyMove(...e))},[(0,a._)("label",{for:e.name},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata["field"].label),e.module)),9,r),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",l,"*")):(0,a.kq)("",!0),(0,a._)("div",d,[(0,a.wy)((0,a._)("input",{type:"text",class:(0,o.C_)(["form-control",e.validation.class]),id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata["field"].label),e.module),"onUpdate:modelValue":t[0]||(t[0]=e=>y.value=e)},null,10,c),[[s.nr,y.value]]),(0,a.wy)((0,a._)("input",{type:"hidden",id:e.fieldDef.id_name,name:e.fieldDef.id_name,"onUpdate:modelValue":t[1]||(t[1]=e=>y.relateID=e)},null,8,u),[[s.nr,y.relateID]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate daTop-100",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,m)):(0,a.kq)("",!0),(0,a._)("div",{class:(0,o.C_)(["dropdown-menu",{show:b.qsResults.length}])},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(b.qsResults,(t=>((0,a.wg)(),(0,a.iD)(a.HY,{key:t.id},[(0,a._)("button",{id:"dropdown-item_"+t.id,tabindex:"-1",type:"button",class:"dropdown-item text-sm",onMousedown:e=>y.setRelateValue(t)},(0,o.zw)(t[e.fieldDef.rname]),41,p),h],64)))),128))],2),(0,a._)("div",f,[(0,a._)("button",{type:"button",class:"btn btn-info",onClick:t[2]||(t[2]=(...e)=>y.open_popup&&y.open_popup(...e))},v),(0,a._)("button",{type:"button",class:"btn btn-danger",onClick:t[3]||(t[3]=e=>y.cleanRelate())},w)])])],42,i)}n(57658);var _=n(88524),C={name:"RelateField",extends:_["default"],data(){return{qsResults:[],rFields:{},index:-1}},mounted(){this.rFields=this.relateMapFields()},watch:{value(){this.fieldValidate(this.value)}},computed:{getQSMethod(){return"Users"===this.fieldDef.module?"get_user_array":"query"},relateID(){return this.beanData[this.fieldDef.id_name].value},linkParams(){return{get:{module:this.fieldDef.module,action:"Popup",mode:"single",create:!0,field_to_name:this.relateMapFields()},sanitize:!0}},value:{get(){return this.fieldDef.value},set(e){this.fieldValidate(e);let t={form:this.$route.query.action,method:this.getQSMethod,modules:[this.fieldDef.module],group:"or",field_list:[],populate_list:[],conditions:[{name:this.fieldDef.rname,op:"like_custom",end:"%",value:""}],required_list:[this.fieldDef.id_name],order:"name",limit:"30",no_match_text:"not selected"};for(let o in this.rFields)t.field_list.push(this.rFields[o]),t.populate_list.push(o);let n=new FormData;n.append("query",e),n.append("to_pdf","true"),n.append("data",JSON.stringify(t));let a={get:{module:"Home",action:"quicksearchQuery"},data:n};clearTimeout(this.timeout2),clearTimeout(this.timeout1),e&&(this.timeout1=setTimeout((async()=>{let e=await this.$store.dispatch("ajaxPost",a,{root:!0});this.qsResults=e.fields,this.qsResults.length&&(setTimeout((()=>{this.index+=1,this.setFocus(this.index)})),this.timeout2=setTimeout((()=>{}),1500))}),500)),this.$store.dispatch(this.state+"/updateModelValue",{name:this.fieldDef.name,value:e})}}},methods:{keyMove(e){clearTimeout(this.timeout2),clearTimeout(this.timeout1),this.qsResults.length&&(40!==e.which?38!==e.which?13!==e.which||-1===this.index?(27===e.which&&this.setRelateValue(this.qsResults[0]),window.$("#"+this.fieldDef.name).focus(),this.index=-1):this.setRelateValue(this.qsResults[this.index]):this.index>0&&(e.preventDefault(),this.index-=1,this.setFocus(this.index),this.$store.dispatch(this.state+"/updateModelValue",{name:this.fieldDef.name,value:this.qsResults[this.index][this.fieldDef.rname]})):this.index<this.qsResults.length-1&&(e.preventDefault(),this.index+=1,this.setFocus(this.index),this.$store.dispatch(this.state+"/updateModelValue",{name:this.fieldDef.name,value:this.qsResults[this.index][this.fieldDef.rname]})))},setRelateValue(e){clearTimeout(this.timeout2),clearTimeout(this.timeout1);for(let t in this.rFields)this.$store.dispatch(this.state+"/updateModelValue",{name:t,value:e[this.rFields[t]]});this.qsResults=[],this.index=-1},async open_popup(){this.$store.dispatch("popup/addNewPopup"),this.$store.dispatch("popup/setSize","xl"),this.$store.dispatch("popup/getContent",{params:this.linkParams})},relateMapFields(){let e={};if(e[this.fieldDef.id_name]="id",e[this.fieldDef.name]=this.fieldDef.rname,"Accounts"===this.fieldDef.module){if(Object.hasOwn(this.displayParams,"additionalFields")){let t=this.displayParams.additionalFields;for(let n in t)e[t[n]]=n}if(Object.hasOwn(this.displayParams,"key")&&Object.hasOwn(this.displayParams,"copy")){let t=this.displayParams["key"],n=this.displayParams["copy"],a=["_address_street","_address_city","_address_state","_address_postalcode","_address_country"];for(let o in a)e[n+a[o]]=t+a[o]}}return e},cleanRelate(){clearTimeout(this.timeout2),clearTimeout(this.timeout1),this.qsResults=[],this.index=-1,this.$store.dispatch(this.state+"/updateModelValue",{name:this.fieldDef.name,value:""})},setFocus(e){window.$("#dropdown-item_"+this.qsResults[e].id).focus()}}},D=n(40089);const x=(0,D.Z)(C,[["render",y]]);var k=x},51761:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d={key:0,class:"text-danger text-bold"},c=["id","name","title","required"],u=["title"];function m(e,t,n,m,p,h){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",r,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,l),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",d,"*")):(0,a.kq)("",!0)]),(0,a.wy)((0,a._)("textarea",{class:(0,o.C_)(["form-control",e.validation.class]),id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t),required:!!e.fieldDef.required||null,rows:"3"},null,10,c),[[s.nr,e.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,u)):(0,a.kq)("",!0)],10,i)}var p=n(88524),h={name:"TextField",extends:p["default"],widgetCols:4},f=n(40089);const g=(0,f.Z)(h,[["render",m]]);var v=g},66348:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var a=n(73396),o=n(87139);const s=["data-type","data-field"],i=["for"],r={class:"input-group mb-3",style:{"flex-wrap":"nowrap"}},l={class:"input-group-append"},d=(0,a._)("i",{class:"fa fa-calendar"},null,-1),c=[d],u=(0,a._)("i",{class:"fa fa-times"},null,-1),m=[u];function p(e,t,n,d,u,p){const h=(0,a.up)("VueDatePicker");return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("label",{for:e.name},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,i),(0,a._)("div",r,[(0,a.Wm)(h,{ref:"datepicker",modelValue:p.time,"onUpdate:modelValue":t[0]||(t[0]=e=>p.time=e),title:e.name,name:e.name,autocomplete:"off","action-row":{showPreview:!1},"keep-action-row":"","text-input":"","text-input-options":p.textInputOptions,locale:e.setLanguage,format:e.formatDateToUser,onFocus:e.unsetWarning,onInvalidSelect:e.setWarning,"input-class-name":"form-control","show-now-button":!0,"select-text":e.selectText,"now-button-label":e.nowButtonLabel,"cancel-text":e.cancelText,"hide-input-icon":"",required:"",clearable:!1,"is-24":!1,"enable-date-picker":!1},null,8,["modelValue","title","name","text-input-options","locale","format","onFocus","onInvalidSelect","select-text","now-button-label","cancel-text"]),(0,a._)("div",l,[(0,a._)("button",{class:"btn btn-info",onClick:t[1]||(t[1]=(...t)=>e.openMenu&&e.openMenu(...t))},c),(0,a._)("button",{class:"btn btn-danger",onClick:t[2]||(t[2]=(...t)=>e.cleanMenu&&e.cleanMenu(...t))},m)])])],10,s)}var h=n(78275),f={name:"DateField",extends:h["default"],computed:{time:{get:function(){return this.formatTimeToVueCal(this.value)},set:function(e){e&&this.$store.dispatch(this.state+"/updateModelValue",{name:this.name,value:this.toUserFormat(e)})}},textInputOptions(){let e=this.userTimeFormat;return e=this.userTimeFormat.split(" ").length==this.userTimeFormat.split().length?e.replace("A",""):e.replace(" A",""),e=e.replace("h","H").replace("i","mm"),{format:e,openMenu:!1,enterSubmit:!0}}}},g=n(40089);const v=(0,g.Z)(f,[["render",p]]);var b=v},28513:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d={key:0,class:"text-danger text-bold"},c=["id","name","title","required"],u=["title"];function m(e,t,n,m,p,h){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",r,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,l),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",d,"*")):(0,a.kq)("",!0)]),this.fieldDef.gen?(0,a.kq)("",!0):(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{key:0,class:"form-control",type:"text",id:e.name,name:e.name,title:h.title,"onUpdate:modelValue":t[0]||(t[0]=e=>h.value=e),required:!!e.fieldDef.required||null},null,8,c)),[[s.nr,h.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:1,class:"error invalid-feedback mt-0 position-absolute text-truncate",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,u)):(0,a.kq)("",!0)],10,i)}var p=n(88524),h={name:"UrlField",extends:p["default"],computed:{value:{get(){return Object.hasOwn(this.fieldDef,"value")?this.fieldDef.value:""},set(e){this.fieldValidate(e),this.$store.dispatch(this.state+"/updateModelValue",{name:this.fieldDef.name,value:e})}},title(){return this.fieldDef.help?this.fieldDef.help:this.DOAPP.utils.translate(this.resolveFieldLBL(this.metadata.field.label),this.module)}}},f=n(40089);const g=(0,f.Z)(h,[["render",m]]);var v=g},42581:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d={class:"row"},c={class:"form-group col-lg-6"},u={class:"custom-control custom-switch"},m={for:"reminder_checked",class:"custom-control-label",style:{"font-weight":"normal"}},p=["label","value"],h={class:"form-group col-lg-6"},f={class:"custom-control custom-switch"},g={for:"email_reminder_checked",class:"custom-control-label",style:{"font-weight":"normal"}},v=["label","value"];function b(e,t,n,b,w,y){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",r,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,l)]),(0,a._)("div",d,[(0,a._)("div",c,[(0,a._)("div",u,[(0,a.wy)((0,a._)("input",{type:"checkbox",class:"custom-control-input",id:"reminder_checked",name:"reminder_checked","onUpdate:modelValue":t[0]||(t[0]=t=>e.value.popup.isEnable=t)},null,512),[[s.e8,e.value.popup.isEnable]]),(0,a._)("label",m,(0,o.zw)(e.DOAPP.utils.translate("LBL_REMINDERS_POPUP",e.module)),1)]),(0,a.wy)((0,a._)("select",{class:(0,o.C_)(["custom-select",e.validation.class]),id:"reminder_time",name:"reminder_time","onUpdate:modelValue":t[1]||(t[1]=t=>e.value.popup.selectedTime=t)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.fieldDef.options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,label:e,value:t},(0,o.zw)(e),9,p)))),128))],2),[[s.bM,e.value.popup.selectedTime]])]),(0,a._)("div",h,[(0,a._)("div",f,[(0,a.wy)((0,a._)("input",{type:"checkbox",class:"custom-control-input",id:"email_reminder_checked",name:"email_reminder_checked","onUpdate:modelValue":t[2]||(t[2]=t=>e.value.emailInvitees.isEnable=t)},null,512),[[s.e8,e.value.emailInvitees.isEnable]]),(0,a._)("label",g,(0,o.zw)(e.DOAPP.utils.translate("LBL_REMINDERS_EMAIL",e.module)),1)]),(0,a.wy)((0,a._)("select",{class:(0,o.C_)(["custom-select",e.validation.class]),id:"email_reminder_time",name:"email_reminder_time","onUpdate:modelValue":t[3]||(t[3]=t=>e.value.emailInvitees.selectedTime=t)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.fieldDef.options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,label:e,value:t},(0,o.zw)(e),9,v)))),128))],2),[[s.bM,e.value.emailInvitees.selectedTime]])])])],10,i)}var w=n(88524),y={name:"UsersEditViewRemindersField",extends:w["default"],widgetCols:2},_=n(40089);const C=(0,_.Z)(y,[["render",b]]);var D=C},39660:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var a=n(73396),o=n(87139);const s=["data-type","data-field"],i={class:"text-truncate mb-2"},r=["for"],l={key:0,class:"text-danger text-bold"},d={class:"form-control form-control-border"};function c(e,t,n,c,u,m){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",i,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,r),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",l,"*")):(0,a.kq)("",!0)]),(0,a._)("div",d,(0,o.zw)(m.value),1)],10,s)}var u=n(88524),m={name:"SigDigitsExampleField",extends:u["default"],computed:{separator(){return this.beanData["num_grp_sep"].value},decimalSymbol(){return this.beanData["dec_sep"].value},precision(){return this.beanData["default_currency_significant_digits"].value},currencySymbol(){return this.beanData.currency.options[this.beanData.currency.value].split(":")[1]},value(){let e,t,n;e=this.fieldDef.value.toFixed(this.precision);let a=e.split(".");return t=Number(a[0]).toLocaleString(),n=this.precision?this.currencySymbol+[t.split(" ").join(this.separator),a[1]].join(this.decimalSymbol):this.currencySymbol+t.split(" ").join(this.separator),n}}},p=n(40089);const h=(0,p.Z)(m,[["render",c]]);var f=h},25626:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return B}});var a=n(73396),o=n(87139),s=n(49242);const i={class:"form-group col-lg-12"},r={id:"edit_tabs",class:"form-group"},l={class:"d-flex flex-nowrap"},d={class:"d-flex align-self-center mr-1"},c={class:"btn-group-vertical"},u=(0,a._)("i",{class:"fas fa-arrow-up"},null,-1),m=[u],p=(0,a._)("i",{class:"fas fa-arrow-down"},null,-1),h=[p],f={class:"d-flex flex-column align-self-end mr-2 w-50"},g={for:"display_tabs",class:"text-sm mb-0",id:"chooser_display_tabs_text"},v={id:"display_tabs_td"},b=["value"],w={class:"btn-group mt-1"},y=(0,a._)("i",{class:"fas fa-arrow-right"},null,-1),_=[y],C={class:"d-flex flex-column align-self-end mr-2 w-50"},D={for:"hide_tabs",class:"text-sm mb-0",id:"chooser_hide_tabs"},x={id:"hide_tabs_td"},k=["value"],E={class:"btn-group mt-1"},S=(0,a._)("i",{class:"fas fa-arrow-left"},null,-1),A=[S];function T(e,t,n,u,p,y){return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",r,[(0,a._)("label",null,(0,o.zw)(e.DOAPP.utils.translate("LBL_EDIT_TABS",n.module))+":",1),(0,a._)("div",l,[(0,a._)("div",d,[(0,a._)("div",c,[(0,a._)("button",{type:"button",class:"btn btn-sm btn-outline-secondary px-1 py-2",id:"chooser_display_tabs_up_arrow",onClick:t[0]||(t[0]=t=>e.switchOrderColumns(y.columnChooser.displayedFields,"up"))},m),(0,a._)("button",{type:"button",class:"btn btn-sm btn-outline-secondary px-1 py-2",id:"chooser_hide_tabs_down_arrow",onClick:t[1]||(t[1]=t=>e.switchOrderColumns(y.columnChooser.displayedFields,"down"))},h)])]),(0,a._)("div",f,[(0,a._)("label",g,(0,o.zw)(e.DOAPP.utils.translate("LBL_DISPLAY_TABS",n.module)),1),(0,a._)("div",v,[(0,a.wy)((0,a._)("select",{id:"display_tabs",size:"7",multiple:"multiple",class:"templateGroupChooser form-control thin-scroll","onUpdate:modelValue":t[2]||(t[2]=t=>e.selectedDisplayed=t)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(y.columnChooser.displayedFields,(t=>((0,a.wg)(),(0,a.iD)("option",{value:t,key:t[0]},(0,o.zw)(e.DOAPP.utils.translate(t[1],n.module)),9,b)))),128))],512),[[s.bM,e.selectedDisplayed]])]),(0,a._)("div",w,[(0,a._)("button",{type:"button",class:"btn btn-sm btn-outline-secondary p-0",id:"chooser_display_tabs_left_to_right",onClick:t[3]||(t[3]=t=>e.switchToHide(this.selectedDisplayed))},_)])]),(0,a._)("div",C,[(0,a._)("label",D,(0,o.zw)(e.DOAPP.utils.translate("LBL_HIDE_TABS",n.module)),1),(0,a._)("div",x,[(0,a.wy)((0,a._)("select",{id:"hide_tabs",size:"7",multiple:"multiple",class:"groupChooser form-control thin-scroll","onUpdate:modelValue":t[4]||(t[4]=t=>e.selectedHidden=t)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(y.columnChooser.hiddenFields,(t=>((0,a.wg)(),(0,a.iD)("option",{value:t,key:t[0]},(0,o.zw)(e.DOAPP.utils.translate(t[1],n.module)),9,k)))),128))],512),[[s.bM,e.selectedHidden]])]),(0,a._)("div",E,[(0,a._)("button",{type:"button",class:"btn btn-sm btn-outline-secondary p-0",id:"chooser_display_tabs_left_arrow",onClick:t[5]||(t[5]=t=>e.switchToDisplay(this.selectedHidden))},A)])])])]),(0,a.wy)((0,a._)("input",{id:"display_tabs_def",type:"hidden",name:"display_tabs_def","onUpdate:modelValue":t[6]||(t[6]=e=>y.displayedFields=e)},null,512),[[s.nr,y.displayedFields]]),(0,a.wy)((0,a._)("input",{id:"hide_tabs_def",type:"hidden",name:"hide_tabs_def","onUpdate:modelValue":t[7]||(t[7]=e=>y.hiddenFields=e)},null,512),[[s.nr,y.hiddenFields]]),(0,a.wy)((0,a._)("input",{id:"remove_tabs_td",type:"hidden",name:"remove_tabs_td","onUpdate:modelValue":t[8]||(t[8]=e=>y.removedFields=e)},null,512),[[s.nr,y.removedFields]])])}var O=n(77148),L={name:"UsersEditViewTabChooser",extends:O["default"],inject:["view","state"],props:{name:{type:String},module:{type:String},record:{type:String},metadata:{type:Object},beanData:{type:Object}},computed:{fieldDef(){return this.beanData[this.name]},columnChooser:{get(){return this.fieldDef.value},set(e){this.$store.dispatch(this.state+"/updateModelValue",{name:this.fieldDef.name,value:e})}},displayedFields(){let e="";return this.columnChooser.displayedFields.forEach((t=>{e+="display_tabs[]="+t[0]+"&"})),e},hiddenFields(){let e=[];return this.columnChooser.hiddenFields.forEach((t=>{e+="hide_tabs[]="+t[0]+"&"})),e},removedFields(){let e=[];return this.columnChooser.removedFields.forEach((t=>{e+="remove_tabs[][]="+t[0]+"&"})),e}}},P=n(40089);const M=(0,P.Z)(L,[["render",T]]);var B=M},31825:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r=["for"],l={class:"custom-control custom-switch"},d=["id"],c=["for"],u=["id","name"];function m(e,t,n,m,p,h){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,r),(0,a._)("div",l,[(0,a.wy)((0,a._)("input",{type:"checkbox",class:"custom-control-input",id:e.name+"_switch","onUpdate:modelValue":t[0]||(t[0]=e=>h.switchValue=e)},null,8,d),[[s.e8,h.switchValue]]),(0,a._)("label",{for:e.name+"_switch",class:"custom-control-label"},null,8,c)]),(0,a.wy)((0,a._)("input",{type:"hidden",id:e.name,name:e.name,"onUpdate:modelValue":t[1]||(t[1]=t=>e.value=t)},null,8,u),[[s.nr,e.value]])],10,i)}var p=n(88524),h={name:"UseGroupTabField",extends:p["default"],computed:{switchValue:{get(){return"gm"===this.fieldDef.value},set(e){let t="m";e&&(t="gm"),this.$store.dispatch(this.state+"/updateModelValue",{name:this.fieldDef.name,value:t})}}}},f=n(40089);const g=(0,f.Z)(h,[["render",m]]);var v=g},25771:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r=["for"],l={id:"edit_tabs",class:"form-group"},d={class:"d-flex flex-nowrap"},c={class:"d-flex flex-column align-self-end mr-2 w-50"},u=["id"],m=["value"],p={class:"d-flex flex-column align-self-center mr-2 w-50"},h=["alt","src"];function f(e,t,n,f,g,v){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("label",{for:e.name,class:"text-truncate truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,r),(0,a._)("div",l,[(0,a._)("div",d,[(0,a._)("div",c,[(0,a.wy)((0,a._)("select",{name:"user_theme",id:e.name,size:"15",class:"templateGroupChooser form-control thin-scroll","onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.beanData[e.name].options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{value:t,key:t},(0,o.zw)(e.label),9,m)))),128))],8,u),[[s.bM,e.value]])]),(0,a._)("div",p,[(0,a._)("img",{alt:e.name,src:v.link,class:"d-block"},null,8,h)])])])],10,i)}var g=n(88524),v={name:"UserThemePickerField",extends:g["default"],computed:{link(){let e="../index.php?entryPoint=getImage&themeName="+this.value+"&imageName=themePreview.png";return e}}},b=n(40089);const w=(0,b.Z)(v,[["render",f]]);var y=w},70851:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(88524),o={name:"VarcharField",extends:a["default"]};const s=o;var i=s},62325:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r={class:"text-truncate mb-2"},l=["for"],d={key:0,class:"text-danger text-bold"},c=["id","name","title"],u=["label","value"],m=["title"];function p(e,t,n,p,h,f){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("div",r,[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,l),e.fieldDef.required?((0,a.wg)(),(0,a.iD)("span",d,"*")):(0,a.kq)("",!0)]),(0,a.wy)((0,a._)("select",{class:"custom-select",id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t),onChange:t[1]||(t[1]=(...e)=>f.changeSelect&&f.changeSelect(...e))},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.fieldDef.options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,label:e,value:t},(0,o.zw)(e),9,u)))),128))],40,c),[[s.bM,e.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,m)):(0,a.kq)("",!0)],10,i)}var h=n(88524),f={name:"CurrencyDropDownField",extends:h["default"],data(){return{lastRate:""}},computed:{conversionRates(){return this.fieldDef.conversionRate},currencyFields(){return this.fieldDef.focusCurrencyFieldNames},rate(){return Number(this.conversionRates[this.value])},cleanCurrencyValues(){let e={};return this.currencyFields.forEach((t=>{e[t]=Number(this.beanData[t].value.replaceAll(this.separator,"").replace(this.decimalSymbol,"."))})),e},separator(){return this.$store.state.user.data["1000sSeparator"]},decimalSymbol(){return this.$store.state.user.data["decimalSymbol"]},precision(){return this.$store.state.user.data["currencySignificantDigits"]?this.$store.state.user.data["currencySignificantDigits"]:this.$store.state.app.config["default_currency_significant_digits"]}},methods:{changeSelect(){for(const e in this.cleanCurrencyValues){let t=this.cleanCurrencyValues[e]/this.lastRate*this.rate,n=t.toFixed(this.precision).split("."),a=Number(n[0]).toLocaleString();t=[a.split(" ").join(this.separator),n[1]].join(this.decimalSymbol),this.$store.dispatch(this.state+"/updateModelValue",{name:e,value:t}),this.lastRate=this.rate}}},beforeMount(){this.lastRate=Number(this.conversionRates[this.value])}},g=n(40089);const v=(0,g.Z)(f,[["render",p]]);var b=v},44349:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r=["for"],l=["name"],d=(0,a._)("input",{type:"hidden",name:"emailAddressWidget",value:"1"},null,-1),c=(0,a._)("input",{type:"hidden",name:"useEmailWidget",value:"true"},null,-1),u=["id"],m=["id","name"],p=["id"],h=["name","id"],f=["name","id"],g={class:"input-group col-lg-12 col-xl-6"},v=["name","id","title","onUpdate:modelValue"],b=["title"],w=["name","id","value"],y={class:"input-group-append"},_=["onClick"],C=(0,a._)("i",{class:"fas fa-minus"},null,-1),D=[C],x={class:"text-sm col-lg-12 col-xl-6"},k={class:"form-check form-check-inline"},E=["name","id","title","value"],S={class:"form-check-label"},A={class:"form-check form-check-inline"},T=["id","name","value"],O=["id","onUpdate:modelValue"],L={class:"form-check-label"},P={class:"form-check form-check-inline"},M=["id","name","value"],B=["id","onUpdate:modelValue"],I={class:"form-check-label"},R=(0,a._)("i",{class:"fas fa-plus"},null,-1),F=[R];function N(e,t,n,C,R,N){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group email-address-widget",e.widthClass]),"data-type":e.fieldDef.type,"data-field":e.name},[(0,a._)("label",{for:e.name},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module)),9,r),(0,a._)("input",{type:"hidden",name:e.module+"_email_widget_id",value:"0"},null,8,l),d,c,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(N.widgetData,((n,i)=>((0,a.wg)(),(0,a.iD)("div",{id:n.bean_module+"0emailAddressRow"+i,class:"row mb-3",key:i},[(0,a._)("input",{type:"hidden",id:e.module+"_email_widget_id",name:e.module+"_email_widget_id",value:"0"},null,8,m),(0,a._)("input",{type:"hidden",id:"emailAddressWidget"+i,name:"emailAddressWidget",value:"1"},null,8,p),(0,a._)("input",{type:"hidden",name:e.module+"0emailAddressVerifiedFlag",id:e.module+"0emailAddressVerifiedFlag"+i,value:"true"},null,8,h),(0,a._)("input",{type:"hidden",name:e.module+"0emailAddressVerifiedEmailValue",id:e.module+"0emailAddressVerifiedEmailValue"+i,value:"true"},null,8,f),(0,a._)("div",g,[(0,a.wy)((0,a._)("input",{type:"email",class:(0,o.C_)(["form-control",R.validationValue[i].class]),name:n.bean_module+"0emailAddress"+i,id:n.bean_module+"0emailAddress"+i,title:e.DOAPP.utils.translate("LBL_EMAIL_TITLE"),"onUpdate:modelValue":e=>n.email_address=e,onInput:t[0]||(t[0]=(...e)=>N.emailValidation&&N.emailValidation(...e))},null,42,v),[[s.nr,n.email_address]]),R.validationValue[i].errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error mt-0 invalid-feedback position-absolute daTop-100 text-truncate",title:R.validationValue[i].errorMessage},(0,o.zw)(R.validationValue[i].errorMessage),9,b)):(0,a.kq)("",!0),(0,a._)("input",{type:"hidden",name:n.bean_module+"0emailAddressId"+i,id:n.bean_module+"0emailAddressId"+i,value:n.id},null,8,w),(0,a._)("div",y,[(0,a._)("button",{type:"button",onClick:e=>N.removeField(n,i),class:"btn btn-danger"},D,8,_)])]),(0,a._)("div",x,[(0,a._)("div",k,[(0,a.wy)((0,a._)("input",{type:"radio",class:"form-check-input",name:n.bean_module+"0emailAddressPrimaryFlag",id:n.bean_module+"0emailAddressPrimaryFlag",title:e.DOAPP.utils.translate("LBL_EMAIL_PRIM_TITLE"),value:n.bean_module+"0emailAddress"+i,"onUpdate:modelValue":t[1]||(t[1]=e=>R.primary=e)},null,8,E),[[s.G2,R.primary]]),(0,a._)("label",S,(0,o.zw)(e.DOAPP.utils.translate("LBL_EMAIL_PRIMARY")),1)]),(0,a._)("div",A,[(0,a._)("input",{type:"hidden",class:"form-check-input",id:n.bean_module+"0emailAddressOptOutFlag"+i,name:n.bean_module+"0emailAddressOptOutFlag["+i+"]",value:"1"===n.opt_out?e.module+"0emailAddress"+i:""},null,8,T),(0,a.wy)((0,a._)("input",{type:"checkbox",class:"form-check-input",id:n.bean_module+"0emailAddressOptOutFlag"+i,"true-value":"1","onUpdate:modelValue":e=>n.opt_out=e},null,8,O),[[s.e8,n.opt_out]]),(0,a._)("label",L,(0,o.zw)(e.DOAPP.utils.translate("LBL_EMAIL_OPT_OUT")),1)]),(0,a._)("div",P,[(0,a._)("input",{type:"hidden",class:"form-check-input",id:n.bean_module+"0emailAddressInvalidFlag"+i,name:n.bean_module+"0emailAddressInvalidFlag["+i+"]",value:"1"===n.invalid_email?e.module+"0emailAddress"+i:""},null,8,M),(0,a.wy)((0,a._)("input",{type:"checkbox",class:"form-check-input",id:n.bean_module+"0emailAddressInvalidFlag["+i+"]","true-value":"1","onUpdate:modelValue":e=>n.invalid_email=e},null,8,B),[[s.e8,n.invalid_email]]),(0,a._)("label",I,(0,o.zw)(e.DOAPP.utils.translate("LBL_EMAIL_INVALID")),1)])])],8,u)))),128)),(0,a._)("div",null,[(0,a._)("button",{type:"button",onClick:t[2]||(t[2]=(...e)=>N.addField&&N.addField(...e)),class:"btn btn-info btn-sm"},F)])],10,i)}n(57658);var V=n(88524),U={name:"getEmailAddressWidget",extends:V["default"],widgetCols:2,beforeUpdate(){this.updateEmail()},data(){return{primary:"",validationValue:[]}},computed:{widgetData(){let e=[];return this.fieldDef.value.length&&(e=this.fieldDef.value),e}},methods:{removeField(e,t){let n=this.widgetData.filter((t=>t!==e));this.validationValue.splice(t,1),this.primary===e.bean_module+"0emailAddress"+t&&(this.primary=e.bean_module+"0emailAddress0");let a={name:this.fieldDef.name,value:n};n.length||(console.log("Empty value"),a["value"]=[]),this.$store.dispatch(this.state+"/updateModelValue",a)},addField(){this.validationValue.push({message:"",class:""});let e,t=this.widgetData,n="0";t.length<1&&(n="1",this.primary=this.module+"0emailAddress0");let a={bean_id:this.record,bean_module:this.module,confirm_opt_in:"not-opt-in",deleted:"0",email_address:"",email_address_caps:"",email_address_id:"",id:"",invalid_email:"0",opt_out:"0",primary_address:n,reply_to_address:"0"};e=[...t,a];let o={name:this.fieldDef.name,value:e};this.$store.dispatch(this.state+"/updateModelValue",o)},emailValidation(){let e=new RegExp("(?!(^[.-].*|[^@]*[.-]@|.*\\.{2,}.*)|^.{254}.)([a-zA-Z0-9!#$%&'*+\\/=?^_`{|}~.-]+@)(?!-.*|.*-\\.)([a-zA-Z0-9-]{1,63}\\.)+[a-zA-Z]{2,15}"),t=[];this.widgetData.forEach((n=>{""===n.email_address||e.test(n.email_address)?t.push({errorMessage:"",class:""}):t.push({errorMessage:this.DOAPP.utils.translate("ERR_INVALID_VALUE").toLowerCase(),class:"is-invalid"})})),this.validationValue=t},updateEmail(){this.widgetData.forEach((e=>{e.email_address.toUpperCase()!==e.email_address_caps&&(e.email_address_caps=e.email_address.toUpperCase())})),this.$store.dispatch(this.state+"/updateModelValue",{name:this.fieldDef.name,value:this.widgetData})}},beforeMount(){console.log(this.widgetData),this.widgetData.forEach(((e,t)=>{"1"===e.primary_address&&(this.primary=e.bean_module+"0emailAddress"+t),this.validationValue.push({message:"",class:""})}))}},H=n(40089);const z=(0,H.Z)(U,[["render",N]]);var j=z},71619:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var a=n(73396),o=n(87139),s=n(49242);const i={ref:"inlineEditForm"},r=["id","name","title"],l=["title"];function d(e,t,n,d,c,u){return(0,a.wg)(),(0,a.iD)("form",i,[(0,a.wy)((0,a._)("input",{class:(0,o.C_)(["form-control inline-edit",e.validation.class]),type:"text",id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t)},null,10,r),[[s.nr,e.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,title:e.validation.errorMessage,class:"error invalid-feedback mt-0 position-absolute text-truncate"},(0,o.zw)(e.validation.errorMessage),9,l)):(0,a.kq)("",!0)],512)}var c=n(24856),u={name:"AddressField",extends:c["default"],data(){return{localStorage:{temp:{}}}},mounted(){this.setInlineEditTemp()},methods:{setInlineEditTemp(){this.localStorage.temp={[this.name]:this.value}},inlineEditForm(){return new FormData(this.$refs.inlineEditForm)}}},m=n(40089);const p=(0,m.Z)(u,[["render",d]]);var h=p},30934:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var a=n(73396),o=n(87139),s=n(49242);const i={ref:"inlineEditForm"},r={class:"input-group mt-0 mb-0"},l=["id","name","required","title"],d={class:"mt-auto"},c=["title"],u=["label","value"],m={class:"mt-auto"},p=["title"];function h(e,t,n,h,f,g){return(0,a.wg)(),(0,a.iD)("form",i,[(0,a._)("div",r,[(0,a.wy)((0,a._)("input",{class:(0,o.C_)(["form-control form-control-border inline-edit",e.validation.class]),min:"0",type:"number",id:e.name,name:e.name,required:{true:e.fieldDef.required},title:e.DOAPP.utils.translate(e.resolveFieldLBL("LBL_DURATION_HOURS"),e.module),"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t)},null,10,l),[[s.nr,e.value]]),(0,a._)("div",d,(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL("LBL_HOURS_ABBREV"),e.module)),1),(0,a.wy)((0,a._)("select",{class:"form-control form-control-border inline-edit",id:"duration_minutes",name:"duration_minutes",title:e.DOAPP.utils.translate(e.resolveFieldLBL("LBL_DURATION_MINUTES"),e.module),"onUpdate:modelValue":t[1]||(t[1]=t=>e.minutes=t)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.beanData.duration_minutes.options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,label:e,value:t},(0,o.zw)(e),9,u)))),128))],8,c),[[s.bM,e.minutes]]),(0,a._)("div",m,(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL("LBL_MINSS_ABBREV"),e.module)),1),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-4 position-absolute text-truncate",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,p)):(0,a.kq)("",!0)])],512)}var f=n(9670),g={name:"CallsInlineEditDuration",extends:f["default"],data(){return{localStorage:{temp:{}}}},mounted(){this.setInlineEditTemp()},methods:{setInlineEditTemp(){this.localStorage.temp={[this.name]:this.value}},inlineEditForm(){return new FormData(this.$refs.inlineEditForm)}}},v=n(40089);const b=(0,v.Z)(g,[["render",h]]);var w=b},61372:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var a=n(73396),o=n(87139),s=n(49242);const i={ref:"inlineEditForm"},r=["id","name","title"],l=["title"];function d(e,t,n,d,c,u){return(0,a.wg)(),(0,a.iD)("form",i,[(0,a.wy)((0,a._)("input",{class:(0,o.C_)(["form-control inline-edit",e.validation.class]),type:"text",id:e.name,name:e.name,title:u.currencyLabel,"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e)},null,10,r),[[s.nr,u.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,title:e.validation.errorMessage,class:"error invalid-feedback mt-0 position-absolute text-truncate"},(0,o.zw)(e.validation.errorMessage),9,l)):(0,a.kq)("",!0)],512)}var c=n(84058),u={name:"CurrencyField",extends:c["default"],data(){return{localStorage:{temp:{}}}},mounted(){this.setInlineEditTemp()},computed:{currencyLabel(){return this.DOAPP.utils.translate(this.fieldDef.vname,this.module)},value:{get(){return""!==this.fieldDef.value&&this.notChanged?this.getFormattedValue(this.fieldDef.value):this.fieldDef.value},set(e){this.notChanged=!1,this.fieldValidate(e),this.$store.dispatch(this.state+"/updateModelValue",{name:this.fieldDef.name,value:e})}}},methods:{setInlineEditTemp(){this.localStorage.temp={[this.name]:this.value}},inlineEditForm(){return new FormData(this.$refs.inlineEditForm)},getFormattedValue(e){let t,n,a,o;o=e.replaceAll(this.separator,"").replace(this.decimalSymbol,"."),t=Number(o).toFixed(this.precision);let s=t.split(".");return n=Number(s[0]).toLocaleString(),a=[n.split(" ").join(this.separator),s[1]].join(this.decimalSymbol),a}}},m=n(40089);const p=(0,m.Z)(u,[["render",d]]);var h=p},58474:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(61372),o={name:"CurrencyListField",extends:a["default"],computed:{fieldDef(){return this.metadata.field},value:{get(){return this.beanData[this.name]},set(e){this.fieldValidate(e),this.$store.commit("focus/UPDATE_MODEL_LIST_VALUE",{row:this.metadata.rowIndex,name:this.name,value:e})}}},mounted(){this.inlineEditListInit()},methods:{inlineEditListInit(){this.$el.parentNode.classList.add("inline-edit-list")}}};const s=o;var i=s},96041:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var a=n(73396),o=n(87139);const s={ref:"inlineEditForm"},i={class:"input-group-append"},r=["onClick"],l=(0,a._)("i",{class:"fa fa-calendar"},null,-1),d=[l],c=["onClick"],u=(0,a._)("i",{class:"fa fa-times"},null,-1),m=[u],p=["title"];function h(e,t,n,l,u,h){const f=(0,a.up)("daDateTimePicker");return(0,a.wg)(),(0,a.iD)("form",s,[(0,a._)("div",{class:(0,o.C_)(["input-group inline-edit",e.validation.class]),style:{"flex-wrap":"nowrap"}},[(0,a.Wm)(f,{date:e.getDate,state:e.state,name:e.name,onChangeDate:e.setDate},{buttons:(0,a.w5)((({openMenu:e,cleanMenu:t})=>[(0,a._)("div",i,[(0,a._)("button",{type:"button",class:"btn btn-info",onClick:e},d,8,r),(0,a._)("button",{type:"button",class:"btn btn-danger",onClick:t},m,8,c)])])),_:1},8,["date","state","name","onChangeDate"])],2),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,title:e.validation.errorMessage,class:"error invalid-feedback mt-0 position-absolute text-truncate"},(0,o.zw)(e.validation.errorMessage),9,p)):(0,a.kq)("",!0)],512)}var f=n(78275),g={name:"DateTimeComboField",extends:f["default"],data(){return{localStorage:{temp:{}}}},mounted(){this.setInlineEditTemp()},watch:{value(){this.value&&this.fieldValidate(this.value)}},methods:{setInlineEditTemp(){this.localStorage.temp={[this.name]:this.value}},inlineEditForm(){return new FormData(this.$refs.inlineEditForm)}}},v=n(40089);const b=(0,v.Z)(g,[["render",h]]);var w=b},79939:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var a=n(73396),o=n(87139),s=n(49242);const i={ref:"inlineEditForm"},r=["id","name","title"],l=["label","value"],d=["title"];function c(e,t,n,c,u,m){return(0,a.wg)(),(0,a.iD)("form",i,[(0,a.wy)((0,a._)("select",{class:(0,o.C_)(["custom-select inline-edit",e.validation.class]),id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.fieldDef.options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,label:e,value:t},(0,o.zw)(e),9,l)))),128))],10,r),[[s.bM,e.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,d)):(0,a.kq)("",!0)],512)}var u=n(75109),m={name:"EnumField",extends:u["default"],data(){return{localStorage:{temp:{}}}},mounted(){this.inlineEditSetTemp()},methods:{inlineEditSetTemp(){this.localStorage.temp={[this.name]:this.fieldDef.value}},inlineEditForm(){return new FormData(this.$refs.inlineEditForm)}}},p=n(40089);const h=(0,p.Z)(m,[["render",c]]);var f=h},82033:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(79939),o={name:"EnumListField",extends:a["default"],computed:{fieldDef(){return this.localStorage.fields[this.name]},value:{get(){return this.localStorage.fields[this.name].value},set(e){this.fieldValidate(e),this.$store.commit("focus/UPDATE_MODEL_LIST_VALUE",{row:this.metadata.rowIndex,name:this.name,value:this.fieldDef.options[e]})}}},data(){return{localStorage:{temp:{},fields:{[this.name]:!1}}}},mounted(){this.inlineEditListInit()},methods:{async inlineEditListInit(){this.$el.parentNode.classList.add("inline-edit-preloader"),this.$el.style.display="none";let e=await this.$store.dispatch("ajaxGet",{get:{VueAjax:1,method:"getEditField",arg:{current_module:this.module,id:this.record,field:this.name.toLowerCase()}},sanitize:!1});this.localStorage.fields[this.name]=e.data.fields[this.name.toLowerCase()],this.localStorage.temp[this.name]=this.fieldDef.options[this.value],this.fieldDef.options[this.value]||(this.localStorage.fields[this.name].value=Object.keys(this.fieldDef.options)[0],this.$store.commit("focus/UPDATE_MODEL_LIST_VALUE",{row:this.metadata.rowIndex,name:this.name,value:this.fieldDef.options[Object.keys(this.fieldDef.options)[0]]})),this.$el.parentNode.classList.remove("inline-edit-preloader"),this.$el.style.display="",this.$el.parentNode.classList.add("inline-edit-list")}}};const s=o;var i=s},6981:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var a=n(73396),o=n(49242),s=n(87139);const i={ref:"inlineEditForm",class:"file-field"},r=(0,a._)("input",{type:"hidden",name:"filename_escaped",value:""},null,-1),l=["name"],d={key:0,class:"input-group"},c={class:"custom-file inline-edit"},u=["id","title","required"],m=["title"],p={class:"custom-file-label inline-edit h-100",for:"customFile"},h={class:"input-group-append"},f=(0,a._)("i",{class:"fas fa-mouse-pointer"},null,-1),g=[f],v={key:1,class:"input-group"},b={class:"form-control form-control-border inline-edit"},w=["href"],y={key:0,class:"input-group-append"},_=(0,a._)("i",{class:"fas fa-times"},null,-1),C=[_];function D(e,t,n,f,_,D){return(0,a.wg)(),(0,a.iD)("form",i,[(0,a.wy)((0,a._)("input",{type:"hidden",name:"deleteAttachment","onUpdate:modelValue":t[0]||(t[0]=t=>e.deleteAttachment=t)},null,512),[[o.nr,e.deleteAttachment]]),r,(0,a.wy)((0,a._)("input",{type:"hidden",name:e.name,"onUpdate:modelValue":t[1]||(t[1]=t=>e.filename=t)},null,8,l),[[o.nr,e.filename]]),e.value?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("div",c,[(0,a._)("input",{class:(0,s.C_)(["custom-file-input inline-edit",e.validation.class]),ref:"file",name:"filename_file",type:"file",id:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),onChange:t[2]||(t[2]=(...e)=>D.onFileChange&&D.onFileChange(...e)),required:{true:e.fieldDef.required}},null,42,u),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate daTop-100",title:e.validation.errorMessage},(0,s.zw)(e.validation.errorMessage),9,m)):(0,a.kq)("",!0),(0,a._)("label",p,(0,s.zw)(e.filename),1)]),(0,a._)("div",h,[(0,a._)("div",{class:"input-group-text bg-info",onClick:t[3]||(t[3]=t=>e.showUpload())},g)])])),e.value?((0,a.wg)(),(0,a.iD)("div",v,[(0,a._)("div",b,[(0,a._)("a",{href:"../index.php?entryPoint=download&id="+e.record+"&type="+e.module,class:"tabDetailViewDFLink"},(0,s.zw)(e.filename),9,w)]),e.showDelete?((0,a.wg)(),(0,a.iD)("div",y,[(0,a._)("div",{class:"input-group-text bg-danger",id:"remove_button",onClick:t[4]||(t[4]=(...t)=>e.deleteFile&&e.deleteFile(...t))},C)])):(0,a.kq)("",!0)])):(0,a.kq)("",!0)],512)}var x=n(10051),k={name:"FileField",extends:x["default"],data(){return{localStorage:{temp:{}}}},mounted(){this.setInlineEditTemp()},methods:{setInlineEditTemp(){this.localStorage.temp={[this.name]:this.value}},inlineEditForm(){return new FormData(this.$refs.inlineEditForm)},onFileChange(){this.deleteAttachment=0,this.filename=this.$refs.file.files[0].name,this.fieldValidate(this.filename),this.displayParams&&this.displayParams.onchangeSetFileNameTo?this.setFileName(this.displayParams.onchangeSetFileNameTo):this.setFileName(this.name)}}},E=n(40089);const S=(0,E.Z)(k,[["render",D]]);var A=S},84269:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(6981),o={name:"FileListField",extends:a["default"],computed:{fieldDef(){return this.metadata.field},value:{get(){return this.beanData[this.name]},set(e){this.fieldValidate(e),this.$store.commit("focus/UPDATE_MODEL_LIST_VALUE",{row:this.metadata.rowIndex,name:this.name,value:e})}}},mounted(){this.inlineEditListInit()},methods:{inlineEditListInit(){this.$el.parentNode.classList.add("inline-edit-list")},async deleteFile(){this.deleteAttachment=1;let e={get:{module:this.module,action:"deleteattachment",record:this.beanData["ID"]}},t=await this.$store.dispatch("ajaxPost",e);t&&(this.value="",this.filename="")},setFileName(e){if(!this.beanData[e].value){let t=this.filename.lastIndexOf("/");-1===t&&(t=this.filename.lastIndexOf("\\"));let n=this.filename.slice(++t,this.filename.length);this.DOAPP.validate.validateHandler(e,n),this.$store.commit("focus/UPDATE_MODEL_LIST_VALUE",{row:this.metadata.rowIndex,name:e,value:n})}}}};const s=o;var i=s},24025:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var a=n(73396),o=n(87139),s=n(49242);const i={ref:"inlineEditForm"},r=["id","name","title"],l=["title"];function d(e,t,n,d,c,u){return(0,a.wg)(),(0,a.iD)("form",i,[(0,a.wy)((0,a._)("input",{class:(0,o.C_)(["form-control inline-edit",e.validation.class]),type:"text",id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t)},null,10,r),[[s.nr,e.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,title:e.validation.errorMessage,class:"error invalid-feedback mt-0 position-absolute text-truncate"},(0,o.zw)(e.validation.errorMessage),9,l)):(0,a.kq)("",!0)],512)}var c=n(56118),u={name:"IntField",extends:c["default"],data(){return{localStorage:{temp:{}}}},mounted(){this.setInlineEditTemp()},methods:{setInlineEditTemp(){this.localStorage.temp={[this.name]:this.value}},inlineEditForm(){return new FormData(this.$refs.inlineEditForm)}}},m=n(40089);const p=(0,m.Z)(u,[["render",d]]);var h=p},44381:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(24025),o={name:"IntListField",extends:a["default"],computed:{fieldDef(){return this.metadata.field},value:{get(){if(""!==this.beanData[this.name]&&this.notChanged&&Number(this.beanData[this.name])){let e,t,n,a,o=0,s=this.$store.state.user.data["1000sSeparator"],i=this.$store.state.user.data["decimalSymbol"];a=this.beanData[this.name].replaceAll(s,"").replace(i,"."),e=Number(a).toFixed(o);let r=e.split(".");return t=Number(r[0]).toLocaleString(),n=t.split(" ").join(s),n}return this.beanData[this.name]},set(e){this.notChanged=!1;let t=this.$store.state.user.data["1000sSeparator"],n=this.$store.state.user.data["decimalSymbol"],a=Number(e.replaceAll(t,"").replace(n,"."));this.fieldValidate(a),this.$store.commit("focus/UPDATE_MODEL_LIST_VALUE",{row:this.metadata.rowIndex,name:this.name,value:e})}}},mounted(){this.inlineEditListInit()},methods:{inlineEditListInit(){this.$el.parentNode.classList.add("inline-edit-list")}}};const s=o;var i=s},21067:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var a=n(73396),o=n(87139),s=n(49242);const i={ref:"inlineEditForm"},r=["id","name","title"],l=["title"];function d(e,t,n,d,c,u){return(0,a.wg)(),(0,a.iD)("form",i,[(0,a.wy)((0,a._)("input",{class:(0,o.C_)(["form-control inline-edit",e.validation.class]),type:"text",id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t)},null,10,r),[[s.nr,e.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,title:e.validation.errorMessage,class:"error invalid-feedback mt-0 position-absolute text-truncate"},(0,o.zw)(e.validation.errorMessage),9,l)):(0,a.kq)("",!0)],512)}var c=n(27885),u={name:"NameField",extends:c["default"],data(){return{localStorage:{temp:{}}}},mounted(){this.setInlineEditTemp()},methods:{setInlineEditTemp(){this.localStorage.temp={[this.name]:this.value}},inlineEditForm(){return new FormData(this.$refs.inlineEditForm)}}},m=n(40089);const p=(0,m.Z)(u,[["render",d]]);var h=p},48544:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(21067),o={name:"NameListField",extends:a["default"],computed:{fieldDef(){return this.metadata.field},value:{get(){return this.beanData[this.name]},set(e){this.fieldValidate(e),this.$store.commit("focus/UPDATE_MODEL_LIST_VALUE",{row:this.metadata.rowIndex,name:this.name,value:e})}}},mounted(){this.inlineEditListInit()},methods:{inlineEditListInit(){this.$el.parentNode.classList.add("inline-edit-list")}}};const s=o;var i=s},53743:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var a=n(73396),o=n(87139),s=n(49242);const i={ref:"inlineEditForm"},r={class:"row m-0"},l=["id","name","title"],d=["label","value"],c=["title"],u={class:"input-group col-lg-6"},m=["id","name","title"],p=["id","name"],h=["id","name"],f=["id","onMousedown"],g=(0,a._)("div",{class:"dropdown-divider"},null,-1),v={class:"input-group-append"},b=(0,a._)("i",{class:"fas fa-mouse-pointer"},null,-1),w=[b],y=(0,a._)("i",{class:"fas fa-times"},null,-1),_=[y];function C(e,t,n,b,y,C){return(0,a.wg)(),(0,a.iD)("form",i,[(0,a._)("div",r,[(0,a.wy)((0,a._)("select",{class:"custom-select inline-edit col-lg-6",id:e.fieldDef.type_name,name:e.fieldDef.type_name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=t=>e.selected=t)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.beanData[e.fieldDef.type_name].options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,label:e,value:t},(0,o.zw)(e),9,d)))),128))],8,l),[[s.bM,e.selected]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,c)):(0,a.kq)("",!0),(0,a._)("span",u,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control inline-edit",id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata["field"].label),e.module),"onUpdate:modelValue":t[1]||(t[1]=t=>e.value=t)},null,8,m),[[s.nr,e.value]]),(0,a.wy)((0,a._)("input",{type:"hidden",id:e.fieldDef.id_name,name:e.fieldDef.id_name,"onUpdate:modelValue":t[2]||(t[2]=t=>e.relateID=t)},null,8,p),[[s.nr,e.relateID]]),(0,a.wy)((0,a._)("input",{type:"hidden",id:e.fieldDef.type_name,name:e.fieldDef.type_name,"onUpdate:modelValue":t[3]||(t[3]=t=>e.beanData[e.fieldDef.type_name].value=t)},null,8,h),[[s.nr,e.beanData[e.fieldDef.type_name].value]]),(0,a._)("div",{class:(0,o.C_)(["dropdown-menu",{show:e.qsResults.length}])},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.qsResults,(t=>((0,a.wg)(),(0,a.iD)(a.HY,{key:t.id},[(0,a._)("button",{id:"dropdown-item_"+t.id,tabindex:"-1",type:"button",class:"dropdown-item text-sm",onMousedown:n=>e.setRelateValue(t)},(0,o.zw)(t["name"]),41,f),g],64)))),128))],2),(0,a._)("div",v,[(0,a._)("div",{class:"input-group-text bg-info",onClick:t[4]||(t[4]=t=>e.open_popup())},w),(0,a._)("div",{class:"input-group-text bg-danger",onClick:t[5]||(t[5]=e=>C.cleanRelate())},_)])])])],512)}var D=n(23330),x={name:"ParentField",extends:D["default"],data(){return{localStorage:{temp:{}}}},mounted(){this.setInlineEditTemp()},methods:{setInlineEditTemp(){this.localStorage.temp={[this.name]:this.value,[this.fieldDef.type_name]:this.beanData[this.fieldDef.type_name].value,[this.fieldDef.id_name]:this.beanData[this.fieldDef.id_name].value}},inlineEditForm(){return new FormData(this.$refs.inlineEditForm)},cleanRelate(){clearTimeout(this.timeout2),clearTimeout(this.timeout1),this.qsResults=[],this.index=-1,this.$store.dispatch(this.state+"/updateModelValue",{name:this.fieldDef.name,value:""}),this.$store.dispatch(this.state+"/updateModelValue",{name:this.fieldDef.id_name,value:""})}}},k=n(40089);const E=(0,k.Z)(x,[["render",C]]);var S=E},63611:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var a=n(73396),o=n(87139),s=n(49242);const i={ref:"inlineEditForm"},r=["id","name","title"],l=["title"];function d(e,t,n,d,c,u){return(0,a.wg)(),(0,a.iD)("form",i,[(0,a.wy)((0,a._)("input",{class:(0,o.C_)(["form-control inline-edit",e.validation.class]),type:"text",id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t)},null,10,r),[[s.nr,e.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,title:e.validation.errorMessage,class:"error invalid-feedback mt-0 position-absolute text-truncate"},(0,o.zw)(e.validation.errorMessage),9,l)):(0,a.kq)("",!0)],512)}var c=n(8817),u={name:"PhoneField",extends:c["default"],data(){return{localStorage:{temp:{}}}},mounted(){this.setInlineEditTemp()},methods:{setInlineEditTemp(){this.localStorage.temp={[this.name]:this.value}},inlineEditForm(){return new FormData(this.$refs.inlineEditForm)}}},m=n(40089);const p=(0,m.Z)(u,[["render",d]]);var h=p},47138:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(63611),o={name:"PhoneListField",extends:a["default"],computed:{fieldDef(){return this.metadata.field},value:{get(){return this.beanData[this.name]},set(e){this.fieldValidate(e),this.$store.commit("focus/UPDATE_MODEL_LIST_VALUE",{row:this.metadata.rowIndex,name:this.name,value:e})}}},mounted(){this.inlineEditListInit()},methods:{inlineEditListInit(){this.$el.parentNode.classList.add("inline-edit-list")}}};const s=o;var i=s},5506:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}});var a=n(73396),o=n(87139),s=n(49242);const i={ref:"inlineEditForm"},r={class:"input-group"},l=["id","name","title"],d=["id","name"],c=["title"],u=["id","onMousedown"],m=(0,a._)("div",{class:"dropdown-divider"},null,-1),p={class:"input-group-append"},h=(0,a._)("i",{class:"fas fa-mouse-pointer"},null,-1),f=[h],g=(0,a._)("i",{class:"fas fa-times"},null,-1),v=[g];function b(e,t,n,h,g,b){return(0,a.wg)(),(0,a.iD)("form",i,[(0,a._)("div",r,[(0,a.wy)((0,a._)("input",{type:"text",class:(0,o.C_)(["form-control inline-edit",e.validation.class]),id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata["field"].label),e.module),"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t)},null,10,l),[[s.nr,e.value]]),(0,a.wy)((0,a._)("input",{type:"hidden",id:e.fieldDef.id_name,name:e.fieldDef.id_name,"onUpdate:modelValue":t[1]||(t[1]=t=>e.relateID=t)},null,8,d),[[s.nr,e.relateID]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"error invalid-feedback mt-0 position-absolute text-truncate daTop-100",title:e.validation.errorMessage},(0,o.zw)(e.validation.errorMessage),9,c)):(0,a.kq)("",!0),(0,a._)("div",{class:(0,o.C_)(["dropdown-menu",{show:e.qsResults.length}])},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.qsResults,(t=>((0,a.wg)(),(0,a.iD)(a.HY,{key:t.id},[(0,a._)("button",{id:"dropdown-item_"+t.id,tabindex:"-1",type:"button",class:"dropdown-item text-sm",onMousedown:n=>e.setRelateValue(t)},(0,o.zw)(t[e.fieldDef.rname]),41,u),m],64)))),128))],2),(0,a._)("div",p,[(0,a._)("div",{class:"input-group-text bg-info",onClick:t[2]||(t[2]=(...t)=>e.open_popup&&e.open_popup(...t))},f),(0,a._)("div",{class:"input-group-text bg-danger",onClick:t[3]||(t[3]=e=>b.cleanRelate())},v)])])],512)}var w=n(84724),y={name:"RelateField",extends:w["default"],data(){return{localStorage:{temp:{}}}},mounted(){this.setInlineEditTemp()},methods:{setInlineEditTemp(){this.localStorage.temp={[this.name]:this.value}},inlineEditForm(){return new FormData(this.$refs.inlineEditForm)},cleanRelate(){clearTimeout(this.timeout2),clearTimeout(this.timeout1),this.qsResults=[],this.index=-1,this.$store.dispatch(this.state+"/updateModelValue",{name:this.fieldDef.name,value:""}),this.$store.dispatch(this.state+"/updateModelValue",{name:this.fieldDef.id_name,value:""})}}},_=n(40089);const C=(0,_.Z)(y,[["render",b]]);var D=C},35881:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(5506),o={name:"RelateListField",extends:a["default"],data(){return{localStorage:{temp:{},fields:{}}}},computed:{fieldDef(){return this.metadata.field},value:{get(){return this.beanData[this.name]},set(e){this.fieldValidate(e),this.$store.commit("focus/UPDATE_MODEL_LIST_VALUE",{row:this.metadata.rowIndex,name:this.name,value:e})}},relateID(){return this.beanData[this.fieldDef.id]}},mounted(){this.inlineEditListInit()},methods:{inlineEditListInit(){this.$el.parentNode.classList.add("inline-edit-list")},async open_popup(){this.$store.dispatch("popup/setSize","xl");let e=await this.$store.dispatch("ajaxGet",this.linkParams,{root:!0});e.popup.header.data.module=e.popup.body.data.pageData.bean.moduleDir,e.popup.body.data["inlineEditRowIndex"]=this.metadata.rowIndex,this.$store.dispatch("popup/fill",e.popup),this.$store.dispatch("popup/show")},cleanRelate(){clearTimeout(this.timeout2),clearTimeout(this.timeout1),this.qsResults=[],this.index=-1,this.$store.commit("focus/UPDATE_MODEL_LIST_VALUE",{name:this.name,value:"",row:this.metadata.rowIndex}),this.$store.commit("focus/UPDATE_MODEL_LIST_VALUE",{name:this.fieldDef.id,value:"",row:this.metadata.rowIndex})}}};const s=o;var i=s},96195:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var a=n(73396),o=n(87139),s=n(49242);const i={ref:"inlineEditForm"},r=["id","name","title"],l=["title"];function d(e,t,n,d,c,u){return(0,a.wg)(),(0,a.iD)("form",i,[(0,a.wy)((0,a._)("textarea",{class:(0,o.C_)(["form-control inline-edit",e.validation.class]),id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t),rows:"2"},null,10,r),[[s.nr,e.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,title:e.validation.errorMessage,class:"error invalid-feedback mt-0 position-absolute text-truncate"},(0,o.zw)(e.validation.errorMessage),9,l)):(0,a.kq)("",!0)],512)}var c=n(51761),u={name:"TextField",extends:c["default"],data(){return{localStorage:{temp:{}}}},mounted(){this.setInlineEditTemp()},methods:{setInlineEditTemp(){this.localStorage.temp={[this.name]:this.value}},inlineEditForm(){return new FormData(this.$refs.inlineEditForm)}}},m=n(40089);const p=(0,m.Z)(u,[["render",d]]);var h=p},80244:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var a=n(73396),o=n(87139),s=n(49242);const i={ref:"inlineEditForm",class:"w-100"},r=["id","name","title"],l=["title"];function d(e,t,n,d,c,u){return(0,a.wg)(),(0,a.iD)("form",i,[(0,a.wy)((0,a._)("textarea",{class:(0,o.C_)(["form-control inline-edit",e.validation.class]),id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),rows:"2"},null,10,r),[[s.nr,u.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,title:e.validation.errorMessage,class:"error invalid-feedback mt-0 position-absolute text-truncate"},(0,o.zw)(e.validation.errorMessage),9,l)):(0,a.kq)("",!0)],512)}var c=n(96195),u={name:"TextListField",extends:c["default"],computed:{fieldDef(){return this.metadata.field},value:{get(){return this.beanData[this.name]},set(e){this.fieldValidate(e),this.$store.commit("focus/UPDATE_MODEL_LIST_VALUE",{row:this.metadata.rowIndex,name:this.name,value:e})}}},mounted(){this.inlineEditListInit()},methods:{inlineEditListInit(){this.$el.parentNode.classList.add("inline-edit-list")}}},m=n(40089);const p=(0,m.Z)(u,[["render",d]]);var h=p},14703:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var a=n(73396),o=n(87139),s=n(49242);const i={ref:"inlineEditForm"},r=["id","name","title"],l=["title"];function d(e,t,n,d,c,u){return(0,a.wg)(),(0,a.iD)("form",i,[(0,a.wy)((0,a._)("input",{class:(0,o.C_)(["form-control inline-edit",e.validation.class]),type:"text",id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t)},null,10,r),[[s.nr,e.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,title:e.validation.errorMessage,class:"error invalid-feedback mt-0 position-absolute text-truncate"},(0,o.zw)(e.validation.errorMessage),9,l)):(0,a.kq)("",!0)],512)}var c=n(28513),u={name:"UrlField",extends:c["default"],data(){return{localStorage:{temp:{}}}},mounted(){this.setInlineEditTemp()},methods:{setInlineEditTemp(){this.localStorage.temp={[this.name]:this.value}},inlineEditForm(){return new FormData(this.$refs.inlineEditForm)}}},m=n(40089);const p=(0,m.Z)(u,[["render",d]]);var h=p},78254:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(14703),o={name:"UrlListField",extends:a["default"],computed:{fieldDef(){return this.metadata.field},value:{get(){return this.beanData[this.name]},set(e){this.fieldValidate(e),this.$store.commit("focus/UPDATE_MODEL_LIST_VALUE",{row:this.metadata.rowIndex,name:this.name,value:e})}}},mounted(){this.inlineEditListInit()},methods:{inlineEditListInit(){this.$el.parentNode.classList.add("inline-edit-list")}}};const s=o;var i=s},8675:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var a=n(73396),o=n(87139),s=n(49242);const i={ref:"inlineEditForm"},r=["id","name","title"],l=["title"];function d(e,t,n,d,c,u){return(0,a.wg)(),(0,a.iD)("form",i,[(0,a.wy)((0,a._)("input",{class:(0,o.C_)(["form-control inline-edit",e.validation.class]),type:"text",id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t)},null,10,r),[[s.nr,e.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,title:e.validation.errorMessage,class:"error invalid-feedback mt-0 position-absolute text-truncate"},(0,o.zw)(e.validation.errorMessage),9,l)):(0,a.kq)("",!0)],512)}var c=n(70851),u={name:"VarcharField",extends:c["default"],data(){return{localStorage:{temp:{}}}},mounted(){this.setInlineEditTemp()},methods:{setInlineEditTemp(){this.localStorage.temp={[this.name]:this.value}},inlineEditForm(){return new FormData(this.$refs.inlineEditForm)}}},m=n(40089);const p=(0,m.Z)(u,[["render",d]]);var h=p},71528:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(8675),o={name:"VarcharListField",extends:a["default"],computed:{fieldDef(){return this.metadata.field},value:{get(){return this.beanData[this.name]},set(e){this.fieldValidate(e),this.$store.commit("focus/UPDATE_MODEL_LIST_VALUE",{row:this.metadata.rowIndex,name:this.name,value:e})}}},mounted(){this.inlineEditListInit()},methods:{inlineEditListInit(){this.$el.parentNode.classList.add("inline-edit-list")}}};const s=o;var i=s},4029:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var a=n(73396),o=n(87139),s=n(49242);const i={ref:"inlineEditForm"},r=["id","name","title"],l=["title"];function d(e,t,n,d,c,u){return(0,a.wg)(),(0,a.iD)("form",i,[(0,a.wy)((0,a._)("input",{class:(0,o.C_)(["form-control inline-edit",u.validation.class]),type:"text",id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=e=>u.widgetData[0]["email_address"]=e),onInput:t[1]||(t[1]=t=>e.emailValidation())},null,42,r),[[s.nr,u.widgetData[0]["email_address"]]]),u.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,title:u.validation.errorMessage,class:"error invalid-feedback mt-0 position-absolute text-truncate"},(0,o.zw)(u.validation.errorMessage),9,l)):(0,a.kq)("",!0)],512)}var c=n(44349),u={name:"EmailAddressWidgetField",extends:c["default"],data(){return{localStorage:{temp:{}}}},mounted(){this.setInlineEditTemp()},computed:{widgetData(){return this.fieldDef.value.length?this.fieldDef.value:[{email_address:""}]},validation(){let e={error:!1,class:"",errorMessage:""};return this.validationValue[0]&&this.validationValue[0].class&&(e["error"]=!0,e["class"]=this.validationValue[0].class,e["errorMessage"]=this.validationValue[0].errorMessage),e}},methods:{setInlineEditTemp(){this.localStorage.temp={[this.name]:JSON.parse(JSON.stringify(this.value))}},inlineEditForm(){return new FormData(this.$refs.inlineEditForm)}}},m=n(40089);const p=(0,m.Z)(u,[["render",d]]);var h=p},44415:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var a=n(73396),o=n(87139),s=n(49242);const i={ref:"inlineEditForm"},r=["id","name","title"],l=["title"];function d(e,t,n,d,c,u){return(0,a.wg)(),(0,a.iD)("form",i,[(0,a.wy)((0,a._)("input",{class:(0,o.C_)(["form-control inline-edit",e.validation.class]),type:"text",id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.field.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e)},null,10,r),[[s.nr,u.value]]),e.validation.errorMessage?((0,a.wg)(),(0,a.iD)("span",{key:0,title:e.validation.errorMessage,class:"error invalid-feedback mt-0 position-absolute text-truncate"},(0,o.zw)(e.validation.errorMessage),9,l)):(0,a.kq)("",!0)],512)}var c=n(4029),u={name:"EmailAddressWidgetListField",extends:c["default"],computed:{fieldDef(){return this.metadata.field},value:{get(){return this.beanData[this.name]},set(e){this.fieldValidate(e),this.$store.commit("focus/UPDATE_MODEL_LIST_VALUE",{row:this.metadata.rowIndex,name:this.name,value:e})}},widgetData(){return[]}},mounted(){this.inlineEditListInit()},methods:{inlineEditListInit(){this.$el.parentNode.classList.add("inline-edit-list")}}},m=n(40089);const p=(0,m.Z)(u,[["render",d]]);var h=p},81067:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var a=n(73396),o=n(87139);const s={class:"d-flex justify-content-between"},i={key:2,class:"ml-1 inlineEditIcon"};function r(e,t,n,r,l,d){const c=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",s,[l.inlineEdit.run?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[d.haveLink?((0,a.wg)(),(0,a.j4)(c,{key:0,to:d.getLink,class:(0,o.C_)(d.getBoldClass)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(d.value),1)])),_:1},8,["to","class"])):(0,a.kq)("",!0),d.haveLink?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("span",{key:1,class:(0,o.C_)(d.getBoldClass)},(0,o.zw)(d.value),3))],64)),l.inlineEdit.run?((0,a.wg)(),(0,a.j4)((0,a.LL)(d.inlineEditSet()),{key:1,ref:"inlineEdit",name:n.name,module:n.module,record:n.beanData["ID"],metadata:d.inlineEditMetaData(),beanData:n.beanData},null,8,["name","module","record","metadata","beanData"])):(0,a.kq)("",!0),d.inlineEditSet()?((0,a.wg)(),(0,a.iD)("div",i,[l.inlineEdit.run?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("i",{key:0,class:"text-primary suitepicon suitepicon-action-edit",onClick:t[0]||(t[0]=(...e)=>d.inlineEditInitBtn&&d.inlineEditInitBtn(...e)),role:"button"})),l.inlineEdit.run?((0,a.wg)(),(0,a.iD)("i",{key:1,class:"bi bi-check-circle-fill text-success ml-2",onClick:t[1]||(t[1]=(...e)=>d.inlineEditSaveBtn&&d.inlineEditSaveBtn(...e)),role:"button"})):(0,a.kq)("",!0),l.inlineEdit.run?((0,a.wg)(),(0,a.iD)("i",{key:2,class:"bi bi-x-circle-fill text-danger ml-2",onClick:t[2]||(t[2]=(...e)=>d.inlineEditCancelBtn&&d.inlineEditCancelBtn(...e)),role:"button"})):(0,a.kq)("",!0)])):(0,a.kq)("",!0)])}var l=n(85697),d={name:"AbstractField",props:{name:{},module:{type:String},metadata:{type:Object},beanData:{type:Object},pageData:{type:Object},viewOptions:{type:Object}},data(){return{inlineEdit:{tpl:!1,run:!1,temp:{}}}},computed:{rowProperties(){let e={};if(Object.hasOwn(this.pageData,"rowProperties")&&Object.hasOwn(this.pageData.rowProperties,this.beanData["ID"])){let e=this.pageData.rowProperties[this.beanData["ID"]];return this.metadata.alias&&e[`${this.metadata.alias}`.toLowerCase()]?e[`${this.metadata.alias}`.toLowerCase()]:e[`${this.name}`.toLowerCase()]}return e},rowIndex(){return"subpanel"!==this.viewOptions.view&&this.pageData.idIndex[this.beanData["ID"]][0]},value:{get(){return Object.hasOwn(this.metadata,"customCode")?"== TODO CUSTOM CODE RESULT ==":Object.hasOwn(this.metadata,"function")?"== TODO FUNCTION RESULT ==":Object.hasOwn(this.metadata,"subpanel_module")&&"history"===this.metadata.subpanel_module&&"date_due"===this.metadata.name?this.beanData[this.name]:Object.hasOwn(this.metadata,"alias")?this.beanData[`${this.metadata.alias}`.toUpperCase()]:this.DOAPP.utils.htmlDecode(this.beanData[this.name])},set(e){this.$store.dispatch("focus/updateModelValue",{name:this.metadata.name,value:e})}},haveLink(){if("relatePopup"===this.$store.getters["popup/getPopupType"])return!1;if("subpanel"===this.viewOptions.view&&this.metadata.link&&!this.metadata.customCode)return!0;{let e={},t="";if(this.pageData.tag&&this.pageData.idIndex&&this.pageData.tag[this.pageData.idIndex[this.beanData?.["ID"]][0]]&&(e=this.pageData?.tag?.[this.pageData?.idIndex?.[this.beanData?.["ID"]]?.[0]]),t=this.metadata.ACLTag&&e[this.metadata.ACLTag]?e[this.metadata.ACLTag]:e.MAIN,this.metadata.link&&!this.metadata.customCode&&"a"===t)return!0}return!1},getLink(){let e="",t="",n="DetailView",a="";this.$store.state.focus.get.parentTab&&(e="&parentTab="+this.$store.state.focus.get.parentTab);let o=Number(this.pageData.offsets.current)+1+Number(this.pageData?.idIndex?.[this.beanData?.["ID"]]?.[0]);t=this.metadata.dynamic_module?this.beanData[this.metadata.dynamic_module]:this.metadata.module?this.metadata.module:this.pageData.bean.moduleDir,this.pageData.act&&(n=this.pageData.act),a=this.beanData[this.metadata.id]?this.beanData[this.metadata.id]:this.metadata.id_name&&this.beanData[this.metadata.id_name.toUpperCase()]?this.beanData[this.metadata.id_name.toUpperCase()]:this.beanData["ID"];let s="?module="+t+"&offset="+o+"&stamp="+this.pageData.stamp+"&return_module="+t+"&action="+n+"&record="+a+e;return s},getBoldClass(){return this.metadata.bold?"text-bold":""}},methods:{inlineEditSet(){return!(this.viewOptions.view&&"listview"!==this.viewOptions.view||!1===this.rowIndex||!this.pageData.rowAccess[this.rowIndex].edit||Object.hasOwn(this.metadata,"inline_edit")&&!1===this.metadata.inline_edit)&&l["default"][this.inlineEdit.tpl]},inlineEditInitBtn(){this.inlineEdit.run=!0,this.$el.style.minWidth=this.$el.clientWidth+"px",this.$el.style.position="absolute";let e=setInterval((()=>{this.$refs.inlineEdit&&(clearInterval(e),this.inlineEdit.temp=this.$refs.inlineEdit.localStorage.temp)}),50);setTimeout((()=>{clearInterval(e)}),1e3)},inlineEditCancelBtn(){let e=this.inlineEdit.temp;for(let t in e)this.$store.commit("focus/UPDATE_MODEL_LIST_VALUE",{name:t,value:e[t],row:this.rowIndex});this.inlineEdit.run=!1,this.$el.style={},this.$el.classList.remove("inline-edit-list"),this.inlineEdit.temp={}},inlineEditSaveBtn(){if(this.$refs.inlineEdit.validation.error)return void console.log("validation error");let e=this.$refs.inlineEdit.inlineEditForm(),t={module:"Home",action:"saveHTMLField",current_module:this.module,id:this.beanData["ID"],view:"ListView",to_pdf:!0};for(let n of e.entries())t["field"]=n[0].toLowerCase(),t["value"]=n[1],n[1]!==this.inlineEdit.temp[n[0]]&&this.$store.dispatch("ajaxGet",{get:t});this.inlineEdit.run=!1,this.$el.style={},this.$el.classList.remove("inline-edit-list"),this.inlineEdit.temp={}},inlineEditMetaData(){let e={};return e["field"]=this.metadata,e["rowIndex"]=this.rowIndex,e}}},c=n(40089);const u=(0,c.Z)(d,[["render",r]]);var m=u},13499:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var a=n(73396);const o={class:"d-flex justify-content-between"},s=["checked"],i={key:0,class:"ml-1 inlineEditIcon",role:"button"},r=(0,a._)("i",{class:"text-primary suitepicon suitepicon-action-edit"},null,-1),l=[r];function d(e,t,n,r,d,c){return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("input",{type:"checkbox",disabled:"disabled",class:"checkbox",checked:c.isChecked},null,8,s),e.inlineEdit?((0,a.wg)(),(0,a.iD)("div",i,l)):(0,a.kq)("",!0)])}var c=n(81067),u={name:"BoolField",extends:c["default"],computed:{isChecked(){return"1"===this.value&&"checked"}},methods:{}},m=n(40089);const p=(0,m.Z)(u,[["render",d]]);var h=p},93660:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(81067),o={name:"CurrencyField",extends:a["default"],data(){return{inlineEdit:{tpl:"currencyList",run:!1,temp:{}}}},computed:{currencySymbol(){return this.pageData.rowProperties[this.beanData["ID"]]["currencySymbol"]?this.pageData.rowProperties[this.beanData["ID"]]["currencySymbol"]:""},value(){if(this.beanData[this.name]){let e,t,n,a,o,s=this.beanData[this.name],i=this.$store.state.user.data["1000sSeparator"],r=this.$store.state.user.data["decimalSymbol"];e=this.$store.state.user.data["currencySignificantDigits"]?this.$store.state.user.data["currencySignificantDigits"]:this.$store.state.app.config["default_currency_significant_digits"],"number"===typeof this.beanData[this.name]&&(s=this.beanData[this.name].toString()),o=s.replaceAll(i,"").replace(r,"."),t=Number(o).toFixed(e);let l=t.split(".");return n=Number(l[0]).toLocaleString(),a=[n.split(" ").join(i),l[1]].join(r)+this.currencySymbol,a}return""}}};const s=o;var i=s},91594:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(81067),o={name:"EnumField",extends:a["default"],data(){return{inlineEdit:{tpl:"enumList",run:!1,temp:{}}}}};const s=o;var i=s},21947:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var a=n(73396),o=n(87139);const s={class:"d-flex justify-content-between"},i=["href"],r={key:2,class:"ml-1 inlineEditIcon"};function l(e,t,n,l,d,c){return(0,a.wg)(),(0,a.iD)("div",s,[d.inlineEdit.run?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("a",{key:0,href:"../index.php?entryPoint=download&id="+this.beanData["ID"]+"&type="+e.module,class:"tabDetailViewDFLink"},(0,o.zw)(e.value),9,i)),d.inlineEdit.run?((0,a.wg)(),(0,a.j4)((0,a.LL)(e.inlineEditSet()),{key:1,ref:"inlineEdit",name:e.name,module:e.module,record:e.beanData["ID"],metadata:e.inlineEditMetaData(),beanData:e.beanData},null,8,["name","module","record","metadata","beanData"])):(0,a.kq)("",!0),e.inlineEditSet()?((0,a.wg)(),(0,a.iD)("div",r,[d.inlineEdit.run?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("i",{key:0,class:"text-primary suitepicon suitepicon-action-edit",onClick:t[0]||(t[0]=(...t)=>e.inlineEditInitBtn&&e.inlineEditInitBtn(...t)),role:"button"})),d.inlineEdit.run?((0,a.wg)(),(0,a.iD)("i",{key:1,class:"bi bi-check-circle-fill text-success ml-2",onClick:t[1]||(t[1]=(...t)=>e.inlineEditSaveBtn&&e.inlineEditSaveBtn(...t)),role:"button"})):(0,a.kq)("",!0),d.inlineEdit.run?((0,a.wg)(),(0,a.iD)("i",{key:2,class:"bi bi-x-circle-fill text-danger ml-2",onClick:t[2]||(t[2]=(...t)=>e.inlineEditCancelBtn&&e.inlineEditCancelBtn(...t)),role:"button"})):(0,a.kq)("",!0)])):(0,a.kq)("",!0)])}var d=n(81067),c={name:"FileField",extends:d["default"],data(){return{inlineEdit:{tpl:"fileList",run:!1,temp:{}}}}},u=n(40089);const m=(0,u.Z)(c,[["render",l]]);var p=m},73014:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(81067),o={name:"IntField",extends:a["default"],data(){return{inlineEdit:{tpl:"intList",run:!1,temp:{}}}},computed:{value(){if(this.metadata.disable_num_format||""===this.beanData[this.name])return this.beanData[this.name];{let e,t,n,a,o=0,s=this.$store.state.user.data["1000sSeparator"],i=this.$store.state.user.data["decimalSymbol"];a=this.beanData[this.name].replaceAll(s,"").replace(i,"."),e=Number(a).toFixed(o);let r=e.split(".");return t=Number(r[0]).toLocaleString(),n=t.split(" ").join(s),n}}}};const s=o;var i=s},86410:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var a=n(73396),o=n(87139);const s={class:"d-flex justify-content-between"},i={key:1,class:"text-bold"},r={key:2,class:"ml-1 inlineEditIcon"};function l(e,t,n,l,d,c){const u=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",s,[d.inlineEdit.run?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[e.haveLink?((0,a.wg)(),(0,a.j4)(u,{key:0,to:e.getLink,class:"text-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.value),1)])),_:1},8,["to"])):(0,a.kq)("",!0),e.haveLink?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("span",i,(0,o.zw)(e.value),1))],64)),d.inlineEdit.run?((0,a.wg)(),(0,a.j4)((0,a.LL)(e.inlineEditSet()),{key:1,ref:"inlineEdit",name:e.name,module:e.module,record:e.beanData["ID"],metadata:e.inlineEditMetaData(),beanData:e.beanData},null,8,["name","module","record","metadata","beanData"])):(0,a.kq)("",!0),e.inlineEditSet()?((0,a.wg)(),(0,a.iD)("div",r,[d.inlineEdit.run?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("i",{key:0,class:"text-primary suitepicon suitepicon-action-edit",onClick:t[0]||(t[0]=(...t)=>e.inlineEditInitBtn&&e.inlineEditInitBtn(...t)),role:"button"})),d.inlineEdit.run?((0,a.wg)(),(0,a.iD)("i",{key:1,class:"bi bi-check-circle-fill text-success ml-2",onClick:t[1]||(t[1]=(...t)=>e.inlineEditSaveBtn&&e.inlineEditSaveBtn(...t)),role:"button"})):(0,a.kq)("",!0),d.inlineEdit.run?((0,a.wg)(),(0,a.iD)("i",{key:2,class:"bi bi-x-circle-fill text-danger ml-2",onClick:t[2]||(t[2]=(...t)=>e.inlineEditCancelBtn&&e.inlineEditCancelBtn(...t)),role:"button"})):(0,a.kq)("",!0)])):(0,a.kq)("",!0)])}var d=n(81067),c={name:"NameField",extends:d["default"],data(){return{inlineEdit:{tpl:"nameList",run:!1,temp:{}}}}},u=n(40089);const m=(0,u.Z)(c,[["render",l]]);var p=m},20314:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var a=n(73396),o=n(87139);const s={class:"d-flex justify-content-between"},i=["href"],r={key:2,class:"ml-1 inlineEditIcon"};function l(e,t,n,l,d,c){return(0,a.wg)(),(0,a.iD)("div",s,[d.inlineEdit.run?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("a",{key:0,class:"d-block",href:"tel:"+e.value},(0,o.zw)(e.value),9,i)),d.inlineEdit.run?((0,a.wg)(),(0,a.j4)((0,a.LL)(e.inlineEditSet()),{key:1,ref:"inlineEdit",name:e.name,module:e.module,record:e.beanData["ID"],metadata:e.inlineEditMetaData(),beanData:e.beanData},null,8,["name","module","record","metadata","beanData"])):(0,a.kq)("",!0),e.inlineEditSet()?((0,a.wg)(),(0,a.iD)("div",r,[d.inlineEdit.run?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("i",{key:0,class:"text-primary suitepicon suitepicon-action-edit",onClick:t[0]||(t[0]=(...t)=>e.inlineEditInitBtn&&e.inlineEditInitBtn(...t)),role:"button"})),d.inlineEdit.run?((0,a.wg)(),(0,a.iD)("i",{key:1,class:"bi bi-check-circle-fill text-success ml-2",onClick:t[1]||(t[1]=(...t)=>e.inlineEditSaveBtn&&e.inlineEditSaveBtn(...t)),role:"button"})):(0,a.kq)("",!0),d.inlineEdit.run?((0,a.wg)(),(0,a.iD)("i",{key:2,class:"bi bi-x-circle-fill text-danger ml-2",onClick:t[2]||(t[2]=(...t)=>e.inlineEditCancelBtn&&e.inlineEditCancelBtn(...t)),role:"button"})):(0,a.kq)("",!0)])):(0,a.kq)("",!0)])}var d=n(81067),c={name:"PhoneField",extends:d["default"],data(){return{inlineEdit:{tpl:"phoneList",run:!1,temp:{}}}}},u=n(40089);const m=(0,u.Z)(c,[["render",l]]);var p=m},54638:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(81067),o={name:"RelateField",extends:a["default"],data(){return{inlineEdit:{tpl:"relateList",run:!1,temp:{}}}}};const s=o;var i=s},48598:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(81067),o={name:"TextField",extends:a["default"],data(){return{inlineEdit:{tpl:"textList",run:!1,temp:{}}}}};const s=o;var i=s},88533:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var a=n(73396),o=n(87139);const s={class:"d-flex justify-content-between"},i=["href","target"],r={key:2,class:"ml-1 inlineEditIcon"};function l(e,t,n,l,d,c){return(0,a.wg)(),(0,a.iD)("div",s,[d.inlineEdit.run?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("a",{key:0,href:c.link,class:"d-block",target:c.target},(0,o.zw)(c.title),9,i)),d.inlineEdit.run?((0,a.wg)(),(0,a.j4)((0,a.LL)(e.inlineEditSet()),{key:1,ref:"inlineEdit",name:e.name,module:e.module,record:e.beanData["ID"],metadata:e.inlineEditMetaData(),beanData:e.beanData},null,8,["name","module","record","metadata","beanData"])):(0,a.kq)("",!0),e.inlineEditSet()?((0,a.wg)(),(0,a.iD)("div",r,[d.inlineEdit.run?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("i",{key:0,class:"text-primary suitepicon suitepicon-action-edit",onClick:t[0]||(t[0]=(...t)=>e.inlineEditInitBtn&&e.inlineEditInitBtn(...t)),role:"button"})),d.inlineEdit.run?((0,a.wg)(),(0,a.iD)("i",{key:1,class:"bi bi-check-circle-fill text-success ml-2",onClick:t[1]||(t[1]=(...t)=>e.inlineEditSaveBtn&&e.inlineEditSaveBtn(...t)),role:"button"})):(0,a.kq)("",!0),d.inlineEdit.run?((0,a.wg)(),(0,a.iD)("i",{key:2,class:"bi bi-x-circle-fill text-danger ml-2",onClick:t[2]||(t[2]=(...t)=>e.inlineEditCancelBtn&&e.inlineEditCancelBtn(...t)),role:"button"})):(0,a.kq)("",!0)])):(0,a.kq)("",!0)])}var d=n(81067),c={name:"UrlField",extends:d["default"],data(){return{inlineEdit:{tpl:"urlList",run:!1,temp:{}}}},computed:{value(){if(this.metadata.gen&&this.metadata.default){let e,t=this.metadata.default.replace("{","[").replace("}","]");e=this.metadata["use_curly"]?new RegExp("\\{([^\\}]*)\\}"):new RegExp("\\[([^\\]]*)\\]");const n=t.match(e);if(n)for(let a=1;a<=n.length-1;a+=2){let e="",o=n[a];!this.viewOptions.listViewData.beanData[o]&&this.viewOptions.listViewData.beanData[o.toUpperCase()]&&(o=o.toUpperCase());const s=!!Object.hasOwn(this.viewOptions.listViewData.beanData,o)&&this.viewOptions.listViewData.beanData[o];s&&(Object.hasOwn(s,"function")&&Object.hasOwn(s.function,"returns")&&"html"===s.function.returns?console.log("TODO: url with function"):Object.hasOwn(s,"value")&&(e=s.value),Object.hasOwn(s,"type")&&"enum"===s.type&&Object.hasOwn(s,"options")&&Object.hasOwn(s.options,e)?(console.log("enum"),t=t.replace(n[a-1],s.options[e])):t=t.replace(n[a-1],e))}return t}return this.beanData[this.name]},target(){return Object.hasOwn(this.metadata,"link_target")?this.metadata.link_target:""},title(){return this.value},link(){let e=new RegExp("(http|https)");return e.test(this.value)?this.value:"https://"+this.value}}},u=n(40089);const m=(0,u.Z)(c,[["render",l]]);var p=m},39485:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var a=n(73396),o=n(87139);const s={class:"d-flex justify-content-between"},i={key:2,class:"ml-1 inlineEditIcon"};function r(e,t,n,r,l,d){const c=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",s,[l.inlineEdit.run?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[e.haveLink?((0,a.wg)(),(0,a.j4)(c,{key:0,to:e.getLink,class:(0,o.C_)(e.getBoldClass)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.value),1)])),_:1},8,["to","class"])):(0,a.kq)("",!0),e.haveLink?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("span",{key:1,class:(0,o.C_)(e.getBoldClass)},(0,o.zw)(e.value),3))],64)),l.inlineEdit.run?((0,a.wg)(),(0,a.j4)((0,a.LL)(e.inlineEditSet()),{key:1,ref:"inlineEdit",name:e.name,module:e.module,record:e.beanData["ID"],metadata:e.inlineEditMetaData(),beanData:e.beanData},null,8,["name","module","record","metadata","beanData"])):(0,a.kq)("",!0),e.inlineEditSet()?((0,a.wg)(),(0,a.iD)("div",i,[l.inlineEdit.run?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("i",{key:0,class:"text-primary suitepicon suitepicon-action-edit",onClick:t[0]||(t[0]=(...t)=>e.inlineEditInitBtn&&e.inlineEditInitBtn(...t)),role:"button"})),l.inlineEdit.run?((0,a.wg)(),(0,a.iD)("i",{key:1,class:"bi bi-check-circle-fill text-success ml-2",onClick:t[1]||(t[1]=(...t)=>e.inlineEditSaveBtn&&e.inlineEditSaveBtn(...t)),role:"button"})):(0,a.kq)("",!0),l.inlineEdit.run?((0,a.wg)(),(0,a.iD)("i",{key:2,class:"bi bi-x-circle-fill text-danger ml-2",onClick:t[2]||(t[2]=(...t)=>e.inlineEditCancelBtn&&e.inlineEditCancelBtn(...t)),role:"button"})):(0,a.kq)("",!0)])):(0,a.kq)("",!0)])}var l=n(81067),d={name:"VarcharField",extends:l["default"],data(){return{inlineEdit:{tpl:"varcharList",run:!1,temp:{}}}}},c=n(40089);const u=(0,c.Z)(d,[["render",r]]);var m=u},36342:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var a=n(73396),o=n(87139);function s(e,t,n,s,i,r){return(0,a.wg)(),(0,a.iD)("span",{class:(0,o.C_)(r.taskClass)},(0,o.zw)(r.value),3)}var i=n(81067),r={name:"dateDueWidget",extends:i["default"],data(){return{classArray:{todaysTask:"text-warning text-bold",overdueTask:"text-danger text-bold",futureTask:""}}},computed:{taskClass(){return this.beanData["SET_COMPLETE"]&&this.rowProperties.class&&this.classArray[this.rowProperties.class]?this.classArray[this.rowProperties.class]:""},value:{get(){return this.beanData["DATE_DUE"]},set(e){this.$store.dispatch("focus/updateModelValue",{name:this.fieldDef.name,value:e})}}},methods:{}},l=n(40089);const d=(0,l.Z)(r,[["render",s]]);var c=d},78957:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var a=n(73396),o=n(87139);function s(e,t,n,s,i,r){return(0,a.wg)(),(0,a.iD)("span",{class:(0,o.C_)(r.taskClass)},(0,o.zw)(e.value),3)}var i=n(81067),r={name:"dateStartWidget",extends:i["default"],data(){return{classArray:{todaysTask:"text-warning text-bold",overdueTask:"text-danger text-bold",futureTask:""}}},computed:{taskClass(){return this.beanData["SET_COMPLETE"]&&this.rowProperties.class&&this.classArray[this.rowProperties.class]?this.classArray[this.rowProperties.class]:""}},methods:{}},l=n(40089);const d=(0,l.Z)(r,[["render",s]]);var c=d},85338:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var a=n(73396),o=n(87139);const s={class:"d-flex justify-content-between"},i={key:2,class:"ml-1 inlineEditIcon"};function r(e,t,n,r,l,d){return(0,a.wg)(),(0,a.iD)("div",s,[l.inlineEdit.run?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("a",{key:0,href:"#",onClick:t[0]||(t[0]=(...e)=>d.showComposeView&&d.showComposeView(...e))},(0,o.zw)(d.value),1)),l.inlineEdit.run?((0,a.wg)(),(0,a.j4)((0,a.LL)(e.inlineEditSet()),{key:1,ref:"inlineEdit",name:e.name,module:e.module,record:e.beanData["ID"],metadata:e.inlineEditMetaData(),beanData:e.beanData},null,8,["name","module","record","metadata","beanData"])):(0,a.kq)("",!0),e.inlineEditSet()?((0,a.wg)(),(0,a.iD)("div",i,[l.inlineEdit.run?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("i",{key:0,class:"text-primary suitepicon suitepicon-action-edit",onClick:t[1]||(t[1]=(...t)=>e.inlineEditInitBtn&&e.inlineEditInitBtn(...t)),role:"button"})),l.inlineEdit.run?((0,a.wg)(),(0,a.iD)("i",{key:1,class:"bi bi-check-circle-fill text-success ml-2",onClick:t[2]||(t[2]=(...t)=>e.inlineEditSaveBtn&&e.inlineEditSaveBtn(...t)),role:"button"})):(0,a.kq)("",!0),l.inlineEdit.run?((0,a.wg)(),(0,a.iD)("i",{key:2,class:"bi bi-x-circle-fill text-danger ml-2",onClick:t[3]||(t[3]=(...t)=>e.inlineEditCancelBtn&&e.inlineEditCancelBtn(...t)),role:"button"})):(0,a.kq)("",!0)])):(0,a.kq)("",!0)])}var l=n(81067),d={name:"getEmailAddressWidget",extends:l["default"],data(){return{inlineEdit:{tpl:"emailAddressWidgetList",run:!1,temp:{}}}},computed:{value:{get(){return this.beanData[this.name]},set(e){this.$store.dispatch("focus/updateModelValue",{name:this.fieldDef.name,value:e})}}},methods:{showComposeView(){let e={get:{VueAjax:1,method:"getSendEmailForm",arg:{targetModule:this.module,ids:this.beanData.ID}}};this.$store.dispatch("popup/getComposeView",e)}}},c=n(40089);const u=(0,c.Z)(d,[["render",r]]);var m=u},18823:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var a=n(73396),o=n(87139);const s=["title"],i=["title"],r=["title"],l={key:1};function d(e,t,n,d,c,u){return"_showWidget"===e.value?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a._)("i",{class:"bi bi-check-circle text-success",role:"button",onClick:t[0]||(t[0]=e=>u.handler("accept")),title:this.$store.state.app.list_strings["dom_meeting_accept_options"]["accept"]},null,8,s),(0,a._)("i",{class:"bi bi-question-circle text-blue mr-2 ml-2",role:"button",onClick:t[1]||(t[1]=e=>u.handler("tentative")),title:this.$store.state.app.list_strings["dom_meeting_accept_options"]["tentative"]},null,8,i),(0,a._)("i",{class:"bi bi-x-circle text-danger",role:"button",onClick:t[2]||(t[2]=e=>u.handler("decline")),title:this.$store.state.app.list_strings["dom_meeting_accept_options"]["decline"]},null,8,r)],64)):((0,a.wg)(),(0,a.iD)("span",l,(0,o.zw)(e.value),1))}var c=n(81067),u={name:"setAcceptLinks",extends:c["default"],computed:{params(){return{module:"Activities",to_pdf:1,action:"SetAcceptStatus",object_type:"",object_id:this.beanData["ID"],accept_status:""}}},methods:{async handler(e){this.params.accept_status=e,"Calls"===this.module&&(this.params.object_type="Call"),"Meetings"===this.module&&(this.params.object_type="Meeting"),await this.$store.dispatch("ajaxGet",{get:this.params,sanitize:!1}),this.retrieveDashlet()},retrieveDashlet(){let e=this.pageData.urls.baseURL,t=decodeURI(e.substring(e.indexOf("?")+1)),n={},a=["module","lvso"];t.split("&").forEach((e=>{let[t,o]=e.split("=");a.includes(t)||(n[t]=o)})),n.id=this.viewOptions.dashletId,n.page_id=this.viewOptions.activePage,n.entryPoint="retrieve_dash_page",this.$store.dispatch("focus/retrieveDashPage",n)}}},m=n(40089);const p=(0,m.Z)(u,[["render",d]]);var h=p},11288:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var a=n(73396);const o=["title"],s=["title"];function i(e,t,n,i,r,l){return e.value?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a._)("i",{class:"bi bi-x-circle-fill text-success",role:"button",title:l.heldTitle,onClick:t[0]||(t[0]=e=>l.popUpHandler(l.held))},null,8,o),(0,a._)("i",{class:"bi bi-x-circle-fill text-danger ml-2",role:"button",title:l.notHeldTitle,onClick:t[1]||(t[1]=e=>l.popUpHandler(l.notHeld))},null,8,s)],64)):(0,a.kq)("",!0)}var r=n(81067),l={name:"setCompleteButton",extends:r["default"],data(){return{moduleListSingular:this.$store.state.app.list_strings.moduleListSingular}},computed:{held(){return"Tasks"===this.module?"Completed":"Held"},notHeld(){return"Tasks"===this.module?"Deferred":"Not Held"},heldTitle(){return"Tasks"===this.module?this.$store.state.app.list_strings["project_task_status_options"]["Completed"]:this.$store.state.app.list_strings["meeting_status_dom"]["Held"]},notHeldTitle(){return"Tasks"===this.module?this.$store.state.app.list_strings["project_task_status_options"]["Deferred"]:this.$store.state.app.list_strings["meeting_status_dom"]["Not Held"]}},methods:{popUpHandler(e){this.DOAPP.swal.getConfirmToast({title:"",text:this.DOAPP.utils.translate("LBL_CLOSE_ACTIVITY_CONFIRM").replace("#module#",this.moduleListSingular[this.module].toLowerCase()),onConfirmed:()=>{this.setStatus(e)}})},async setStatus(e){console.log("set status",e);let t=new FormData;if(t.append("module",this.pageData.bean.moduleDir),t.append("record",this.beanData["ID"]),t.append("id",this.beanData["ID"]),t.append("action","save"),t.append("status",e),await this.$store.dispatch("ajaxPost",{data:t,sanitize:!1}),"ListView"===this.$route.query.action){let e=new FormData;e.set("module",this.module),e.set("return_module",this.$store.state.focus.get.return_module),e.set("return_action",this.$store.state.focus.get.return_action),e.set("action",this.$store.state.focus.get.action),await this.$store.dispatch("focus/postFocus",{data:e},{root:!0})}else this.retrieveDashlet()},retrieveDashlet(){let e=this.pageData.urls.baseURL,t=decodeURI(e.substring(e.indexOf("?")+1)),n={},a=["module","lvso","action"];t.split("&").forEach((e=>{let[t,o]=e.split("=");a.includes(t)||(n[t]=o)})),n.id=this.viewOptions.dashletId,n.page_id=this.viewOptions.activePage,n.entryPoint="retrieve_dash_page",this.$store.dispatch("focus/retrieveDashPage",n)}}},d=n(40089);const c=(0,d.Z)(l,[["render",i]]);var u=c},66927:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var a=n(73396),o=n(87139);const s={class:"d-flex justify-content-between"},i={key:2,class:"ml-1 inlineEditIcon"};function r(e,t,n,r,l,d){const c=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",s,[l.inlineEdit.run?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(c,{key:0,to:d.getLink,target:"_blank"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.value),1)])),_:1},8,["to"])),l.inlineEdit.run?((0,a.wg)(),(0,a.j4)((0,a.LL)(e.inlineEditSet()),{key:1,ref:"inlineEdit",name:e.name,module:e.module,record:e.beanData["ID"],metadata:e.inlineEditMetaData(),beanData:e.beanData},null,8,["name","module","record","metadata","beanData"])):(0,a.kq)("",!0),e.inlineEditSet()?((0,a.wg)(),(0,a.iD)("div",i,[l.inlineEdit.run?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("i",{key:0,class:"text-primary suitepicon suitepicon-action-edit",onClick:t[0]||(t[0]=(...t)=>e.inlineEditInitBtn&&e.inlineEditInitBtn(...t)),role:"button"})),l.inlineEdit.run?((0,a.wg)(),(0,a.iD)("i",{key:1,class:"bi bi-check-circle-fill text-success ml-2",onClick:t[1]||(t[1]=(...t)=>e.inlineEditSaveBtn&&e.inlineEditSaveBtn(...t)),role:"button"})):(0,a.kq)("",!0),l.inlineEdit.run?((0,a.wg)(),(0,a.iD)("i",{key:2,class:"bi bi-x-circle-fill text-danger ml-2",onClick:t[2]||(t[2]=(...t)=>e.inlineEditCancelBtn&&e.inlineEditCancelBtn(...t)),role:"button"})):(0,a.kq)("",!0)])):(0,a.kq)("",!0)])}var l=n(81067),d={name:"showDuplicateField",extends:l["default"],data(){return{inlineEdit:{tpl:!1,run:!1,temp:{}}}},computed:{getLink(){let e="?module="+this.module+"&action=DetailView&record="+this.beanData.id;return e}}},c=n(40089);const u=(0,c.Z)(d,[["render",r]]);var m=u},26754:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r=["for"],l=["id","name","title"];function d(e,t,n,d,c,u){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",u.widthClass]),"data-type":n.metadata.type,"data-field":n.name},[(0,a._)("label",{for:n.name},(0,o.zw)(e.DOAPP.utils.translate(u.resolveFieldLBL(n.metadata.label),n.module)),9,r),(0,a.wy)((0,a._)("input",{class:"form-control",type:"text",id:n.name,name:n.name,title:e.DOAPP.utils.translate(u.resolveFieldLBL(n.metadata.label),n.module),"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e)},null,8,l),[[s.nr,u.value]])],10,i)}var c={name:"FieldName",props:{name:{type:String},module:{type:String},metadata:{type:Object},values:{type:Object},searchType:{type:String}},data(){return{widgetCols:1}},inject:["view","state"],computed:{widthClass(){return" col-lg-"+3*this.widgetCols},value:{get(){return this.values[this.name]},set(e){this.$store.commit(this.state+"/UPDATE_MODEL_PATH_VALUE",{path:"filters",row:this.searchType,name:this.name,value:e})}}},methods:{resolveFieldLBL(e){return void 0===e&&(e=this.metadata.vname),e}}},u=n(40089);const m=(0,u.Z)(c,[["render",d]]);var p=m},50375:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r=["for"],l={key:0,class:"custom-control custom-switch"},d=["id","name"],c=["for"],u={key:1,class:"form-group col-lg-3"},m={class:"form-check"},p=["name"],h={class:"form-check-label"},f={class:"form-check"},g=["name"],v={class:"form-check-label"},b={class:"form-check"},w=["name"],y={class:"form-check-label"};function _(e,t,n,_,C,D){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.metadata.type,"data-field":e.name},[(0,a._)("label",{for:e.name,class:"truncate-label"},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.label),e.module)),9,r),D.widgetBool?((0,a.wg)(),(0,a.iD)("div",l,[(0,a.wy)((0,a._)("input",{type:"checkbox",class:"custom-control-input",id:e.name,name:e.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t)},null,8,d),[[s.e8,e.value]]),(0,a._)("label",{for:e.name,class:"custom-control-label"},null,8,c)])):((0,a.wg)(),(0,a.iD)("div",u,[(0,a._)("div",m,[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"radio",value:"",name:e.name,"onUpdate:modelValue":t[1]||(t[1]=t=>e.value=t)},null,8,p),[[s.G2,e.value]]),(0,a._)("label",h,(0,o.zw)(e.DOAPP.utils.translate("LBL_SEARCH_ALT")),1)]),(0,a._)("div",f,[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"radio",value:"1",name:e.name,"onUpdate:modelValue":t[2]||(t[2]=t=>e.value=t)},null,8,g),[[s.G2,e.value]]),(0,a._)("label",v,(0,o.zw)(e.DOAPP.utils.translate("LBL_SEARCH_DROPDOWN_YES")),1)]),(0,a._)("div",b,[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"radio",value:"0",name:e.name,"onUpdate:modelValue":t[3]||(t[3]=t=>e.value=t)},null,8,w),[[s.G2,e.value]]),(0,a._)("label",y,(0,o.zw)(e.DOAPP.utils.translate("LBL_SEARCH_DROPDOWN_NO")),1)])]))],10,i)}var C=n(26754),D={name:"BoolField",extends:C["default"],mounted(){this.outputFormat(this.value)},watch:{value(e){this.outputFormat(e)}},methods:{outputFormat(e){if("1"===e||"0"===e)return;let t;t=!!e||""===e&&"",this.$store.commit(this.state+"/UPDATE_MODEL_PATH_VALUE",{path:"filters",row:this.searchType,name:this.name,value:t})}},computed:{widgetBool(){let e=!1;return null!==this.name.match(/(favorites|current_user|open)_only.*/gi)&&(e=!0),e}}},x=n(40089);const k=(0,x.Z)(D,[["render",_]]);var E=k},6885:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r=["for"],l={class:"row"},d=["id","name","title"],c=["label","value"],u={class:"form-group col-lg-4"},m=["id","name","title"],p={class:"form-group col-lg-4"},h=["id","name","title"],f={key:1,class:"form-group col-lg-6"},g=["id","name","title"];function v(e,t,n,v,b,w){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.metadata.type,"data-field":e.name},[(0,a._)("label",{for:e.name},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.label),e.module)),9,r),(0,a._)("div",l,[(0,a._)("div",{class:(0,o.C_)(["form-group",w.getSelectClass])},[(0,a.wy)((0,a._)("select",{class:"custom-select",id:e.name+"_range_choice",name:e.name+"_range_choice",title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=e=>w.starting_choice=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.metadata.options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,label:e,value:t},(0,o.zw)(e),9,c)))),128))],8,d),[[s.bM,w.starting_choice]])],2),"between"===w.starting_choice?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a._)("div",u,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"start_range_"+e.name,name:"start_range_"+e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.label),e.module),"onUpdate:modelValue":t[1]||(t[1]=e=>w.start_range=e)},null,8,m),[[s.nr,w.start_range]])]),(0,a._)("div",p,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"end_range_"+e.name,name:"end_range_"+e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.label),e.module),"onUpdate:modelValue":t[2]||(t[2]=e=>w.end_range=e)},null,8,h),[[s.nr,w.end_range]])])],64)):((0,a.wg)(),(0,a.iD)("div",f,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"range_"+e.name,name:"range_"+e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.label),e.module),"onUpdate:modelValue":t[3]||(t[3]=e=>w.range_value=e)},null,8,g),[[s.nr,w.range_value]])]))])],10,i)}var b=n(26754),w={name:"CurrencyField",extends:b["default"],computed:{starting_choice:{get(){let e=this.name+"_range_choice";return this.values[e]?this.values[e]:"="},set(e){this.$store.commit(this.state+"/UPDATE_MODEL_PATH_VALUE",{path:"filters",row:this.searchType,name:this.name+"_range_choice",value:e})}},start_range:{get(){let e="start_range_"+this.name;return this.values[e]?this.values[e]:""},set(e){e&&(this.range_value=""),this.$store.commit(this.state+"/UPDATE_MODEL_PATH_VALUE",{path:"filters",row:this.searchType,name:"start_range_"+this.name,value:e})}},end_range:{get(){let e="end_range_"+this.name;return this.values[e]?this.values[e]:""},set(e){this.$store.commit(this.state+"/UPDATE_MODEL_PATH_VALUE",{path:"filters",row:this.searchType,name:"end_range_"+this.name,value:e})}},range_value:{get(){let e="range_"+this.name;return this.values[e]?this.values[e]:""},set(e){e&&(this.start_range="",this.end_range=""),this.$store.commit(this.state+"/UPDATE_MODEL_PATH_VALUE",{path:"filters",row:this.searchType,name:"range_"+this.name,value:e})}},getSelectClass(){return"between"===this.starting_choice?"col-lg-4":"col-lg-6"}}},y=n(40089);const _=(0,y.Z)(w,[["render",v]]);var C=_},42134:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(19780),o={name:"DateField",extends:a["default"]};const s=o;var i=s},19780:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r=["for"],l={class:"row"},d=["id","name","title"],c=["label","value"],u={key:0,class:"input-group mb-3 col-lg-6",style:{"flex-wrap":"nowrap"}},m={class:"input-group-append"},p=["onClick"],h=(0,a._)("i",{class:"fa fa-calendar"},null,-1),f=[h],g={key:1,class:"input-group mb-3 col-lg-6",style:{"flex-wrap":"nowrap"}},v={class:"input-group-append"},b=["onClick"],w=(0,a._)("i",{class:"fa fa-calendar"},null,-1),y=[w],_=["name","value"],C=["name","value"],D=["name","value"],x={id:"invalid_input",class:"invalid-feedback"};function k(e,t,n,h,w,k){const E=(0,a.up)("daDateTimePicker");return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.metadata.type,"data-field":e.name},[(0,a._)("label",{for:e.name},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.label),e.module)),9,r),(0,a._)("div",l,[(0,a._)("div",{class:(0,o.C_)(["form-group",k.getSelectClass])},[(0,a.wy)((0,a._)("select",{class:"custom-select",id:e.name+"_range_choice",name:e.name+"_range_choice",title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=e=>k.starting_choice=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.metadata.options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,label:e,value:t},(0,o.zw)(e),9,c)))),128))],8,d),[[s.bM,k.starting_choice]])],2),"between"===k.starting_choice?((0,a.wg)(),(0,a.iD)("div",u,[(0,a.Wm)(E,{refName:"datepicker1",title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.label),e.module),name:e.name,state:e.state,date:k.getDate,enableTimePicker:!1,range:!0,multiCalendars:!0,multiCalendarsSolo:!0,onChangeDate:k.setDate},{buttons:(0,a.w5)((({openMenu:e})=>[(0,a._)("div",m,[(0,a._)("button",{type:"button",class:"btn btn-info",onClick:t=>e("datepicker1")},f,8,p)])])),_:1},8,["title","name","state","date","onChangeDate"])])):["=","not_equal","greater_than","less_than"].includes(k.starting_choice)?((0,a.wg)(),(0,a.iD)("div",g,[(0,a.Wm)(E,{refName:"datepicker",title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.label),e.module),name:"range_"+e.name,state:e.state,date:k.getRangeDate,enableTimePicker:!1,onChangeDate:k.setRangeDate},{buttons:(0,a.w5)((({openMenu:e})=>[(0,a._)("div",v,[(0,a._)("button",{type:"button",class:"btn btn-info",onClick:t=>e("datepicker")},y,8,b)])])),_:1},8,["title","name","state","date","onChangeDate"])])):((0,a.wg)(),(0,a.iD)("input",{key:2,autocomplete:"off",type:"text",name:"range_"+e.name,value:"["+k.starting_choice+"]",title:"",hidden:"hidden"},null,8,_)),(0,a._)("input",{type:"hidden",name:"start_range_"+e.name,value:k.getRangeValue("start")},null,8,C),(0,a._)("input",{type:"hidden",name:"end_range_"+e.name,value:k.getRangeValue("end")},null,8,D),(0,a._)("div",x,(0,o.zw)(w.warningMessage+" "+e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.label),e.module)),1)])],10,i)}var E=n(26754),S=n(79298),A={name:"DateTimeComboField",extends:E["default"],components:{DaDateTimePicker:S["default"]},data(){return{warningMessage:this.$store.state.app.lang.ERR_INVALID_VALUE,widgetCols:2}},computed:{getDate(){const e=this.values["start_range_"+this.name],t=this.values["end_range_"+this.name];return e&&t?[this.DOAPP.dateTime.formatDateTimeToVueCal(e),this.DOAPP.dateTime.formatDateTimeToVueCal(t)]:["",""]},getRangeDate(){let e="range_"+this.name;return this.values[e]?this.DOAPP.dateTime.formatDateTimeToVueCal(this.values[e]):""},starting_choice:{get(){let e=this.name+"_range_choice";return this.values[e]?this.values[e]:"="},set(e){this.$store.commit(this.state+"/UPDATE_MODEL_PATH_VALUE",{path:"filters",row:this.searchType,name:this.name+"_range_choice",value:e})}},getSelectClass(){return["=","not_equal","greater_than","less_than"].includes(this.starting_choice)||"between"===this.starting_choice?"col-lg-6":"col-lg-12"}},methods:{getRangeValue(e){const t=e+"_range_"+this.name;return this.values[t]?this.values[t]:""},setDate(e){if(console.log(e),e){let[t,n]=e;this.$store.commit(this.state+"/UPDATE_MODEL_PATH_VALUE",{path:"filters",row:this.searchType,name:"start_range_"+this.name,value:this.DOAPP.dateTime.formatDateToUser(t)}),this.$store.commit(this.state+"/UPDATE_MODEL_PATH_VALUE",{path:"filters",row:this.searchType,name:"end_range_"+this.name,value:this.DOAPP.dateTime.formatDateToUser(n)})}},setRangeDate(e){console.log(e),this.$store.commit(this.state+"/UPDATE_MODEL_PATH_VALUE",{path:"filters",row:this.searchType,name:"range_"+this.name,value:this.DOAPP.dateTime.formatDateToUser(e)})},formatDateToUser(e){return e?Array.isArray(e)?this.DOAPP.dateTime.formatRangeDateToUser(e):this.DOAPP.dateTime.formatDateToUser(e):""}}},T=n(40089);const O=(0,T.Z)(A,[["render",k]]);var L=O},313:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(26754),o={name:"EmailField",extends:a["default"]};const s=o;var i=s},60340:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(26754),o={name:"FloatField",extends:a["default"]};const s=o;var i=s},60731:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(26754),o={name:"IdField",extends:a["default"]};const s=o;var i=s},66183:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r=["for"],l=["id","name"],d=["id","name","title","value"],c={class:"form-control","data-toggle":"dropdown"},u={class:"d-flex flex-row flex-wrap"},m={class:"text-sm"},p=["onClick"],h={class:"dropdown-menu dropdown-menu-custom-scroll thin-scroll"},f=["id","disabled","onMousedown"],g=(0,a._)("div",{class:"dropdown-divider"},null,-1);function v(e,t,n,v,b,w){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group multienum-field",e.widthClass]),"data-type":e.metadata.type,"data-field":e.name},[(0,a._)("label",{for:e.name},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.label),e.module)),9,r),(0,a._)("input",{type:"hidden",id:e.name,name:e.name,value:""},null,8,l),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(w.value,((t,n)=>((0,a.wg)(),(0,a.iD)("input",{key:n,type:"hidden",id:e.name,name:e.name+"[]",title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.label),e.module),value:t},null,8,d)))),128)),(0,a._)("div",c,[(0,a._)("div",u,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(w.value,((t,n)=>((0,a.wg)(),(0,a.iD)("div",{key:n,class:"selected_panel"},[(0,a._)("span",m,(0,o.zw)(e.metadata.options[t]),1),(0,a._)("button",{class:"custom_delete_button",type:"button",onClick:(0,s.iM)((e=>w.removeValue(n)),["stop"])},"⨯",8,p)])))),128))])]),(0,a._)("div",h,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.metadata.options,((e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:t},[(0,a._)("button",{id:"dropdown-item_"+t,tabindex:"-1",type:"button",class:(0,o.C_)(["dropdown-item text-sm",w.itemStatus(t).class]),disabled:w.itemStatus(t).disabled,onMousedown:e=>w.addValue(t)},(0,o.zw)(e),43,f),g],64)))),128))])],10,i)}n(57658);var b=n(26754),w={name:"MultiEnumField",extends:b["default"],computed:{value:{get(){return this.values[this.name]?this.values[this.name]:[]},set(e){this.$store.commit(this.state+"/UPDATE_MODEL_PATH_VALUE",{path:"filters",row:this.searchType,name:this.name,value:e})}}},methods:{itemStatus(e){for(let t in this.value)if(e===this.value[t])return{class:"text-muted",disabled:!0};return{class:"",disabled:!1}},removeValue(e){let t=this.value;this.value=t.filter(((t,n)=>n!==e))},addValue(e){let t=this.value;t.push(e),this.value=t}}},y=n(40089);const _=(0,y.Z)(w,[["render",v]]);var C=_},85888:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(26754),o={name:"NameField",extends:a["default"]};const s=o;var i=s},61218:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r=["for"],l={class:"row"},d=["data-type","data-field"],c=["id","name","title"],u=["label","value"],m=["data-type","data-field"],p={class:"input-group"},h=["id","name","title"],f=["id","name"],g={class:"input-group-append"},v=(0,a._)("i",{class:"fas fa-mouse-pointer"},null,-1),b=[v],w=(0,a._)("i",{class:"fas fa-times"},null,-1),y=[w];function _(e,t,n,v,w,_){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.metadata.type,"data-field":e.name},[(0,a._)("label",{for:e.name},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.label),e.module)),9,r),(0,a._)("div",l,[(0,a._)("div",{class:"form-group col-lg-6","data-type":e.metadata.type_name,"data-field":e.metadata.type_name},[(0,a.wy)((0,a._)("select",{class:"custom-select",id:_.typeName,name:_.typeName,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=e=>_.relateModule=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.metadata.options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,label:e,value:t},(0,o.zw)(e),9,u)))),128))],8,c),[[s.bM,_.relateModule]])],8,d),(0,a._)("div",{class:"form-group col-lg-6","data-type":e.metadata.type,"data-field":e.name,onKeydown:t[5]||(t[5]=(...t)=>e.keyMove&&e.keyMove(...t))},[(0,a._)("div",p,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.label),e.module),"onUpdate:modelValue":t[1]||(t[1]=t=>e.value=t)},null,8,h),[[s.nr,e.value]]),(0,a.wy)((0,a._)("input",{type:"hidden",id:e.metadata.id_name,name:e.metadata.id_name,"onUpdate:modelValue":t[2]||(t[2]=t=>e.relateID=t)},null,8,f),[[s.nr,e.relateID]]),(0,a._)("div",g,[(0,a._)("button",{type:"button",class:"btn btn-info",onClick:t[3]||(t[3]=(...t)=>e.open_popup&&e.open_popup(...t))},b),(0,a._)("button",{type:"button",class:"btn btn-danger",onClick:t[4]||(t[4]=t=>e.cleanRelate([e.metadata.name,e.metadata.id_name]))},y)])])],40,m)])],10,i)}var C=n(79953),D={name:"ParentField",extends:C["default"],data(){return{widgetCols:2}},methods:{relateMapFields(){let e={};if(e[this.metadata.id_name]="id",e[this.metadata.name]="name","Accounts"===this.metadata.module){if(Object.hasOwn(this.metadata,"additionalFields")){let t=this.metadata.additionalFields;for(let n in t)e[t[n]]=n}if(Object.hasOwn(this.metadata,"key")&&Object.hasOwn(this.metadata,"copy")){let t=this.metadata["key"],n=this.metadata["copy"],a=["_address_street","_address_city","_address_state","_address_postalcode","_address_country"];for(let o in a)e[n+a[o]]=t+a[o]}}return e}},computed:{typeName(){return this.name.includes("_advanced")?this.metadata.type_name+"_advanced":this.metadata.type_name+"_based"},relateModule:{get(){return this.values[this.typeName]?this.values[this.typeName]:""},set(e){this.relateModule!==e&&this.cleanRelate([this.metadata.name,this.metadata.id_name]),this.$store.commit(this.state+"/UPDATE_MODEL_PATH_VALUE",{path:"filters",row:this.searchType,name:this.typeName,value:e})}},linkParams(){return{get:{module:this.relateModule,action:"Popup",mode:"single",create:!0,field_to_name:this.relateMapFields()},sanitize:!0}}}},x=n(40089);const k=(0,x.Z)(D,[["render",_]]);var E=k},83272:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(26754),o={name:"PhoneField",extends:a["default"]};const s=o;var i=s},58627:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r=["for"],l=["name","value"],d={class:"form-check-label"};function c(e,t,n,c,u,m){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.metadata.type,"data-field":e.name},[(0,a._)("label",{for:e.name},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.label),e.module)),9,r),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.metadata.options,((n,i)=>((0,a.wg)(),(0,a.iD)("div",{class:"form-check",key:i},[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"radio",name:e.name,value:n,"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t)},null,8,l),[[s.G2,e.value]]),(0,a._)("label",d,(0,o.zw)(n),1)])))),128))],10,i)}var u=n(26754),m={name:"RadioenumField",extends:u["default"]},p=n(40089);const h=(0,p.Z)(m,[["render",c]]);var f=h},79953:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r=["for"],l={class:"input-group"},d=["id","name","title"],c=["id","name"],u={class:"input-group-append"},m=(0,a._)("i",{class:"fas fa-mouse-pointer"},null,-1),p=[m],h=(0,a._)("i",{class:"fas fa-times"},null,-1),f=[h];function g(e,t,n,m,h,g){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.metadata.type,"data-field":e.name},[(0,a._)("label",{for:e.name},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.label),e.module)),9,r),(0,a._)("div",l,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:e.name,name:e.name,title:e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.label),e.module),"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t)},null,8,d),[[s.nr,e.value]]),(0,a.wy)((0,a._)("input",{type:"hidden",id:e.metadata.id_name,name:e.metadata.id_name,"onUpdate:modelValue":t[1]||(t[1]=e=>g.relateID=e)},null,8,c),[[s.nr,g.relateID]]),(0,a._)("div",u,[(0,a._)("button",{type:"button",class:"btn btn-info",onClick:t[2]||(t[2]=(...e)=>g.open_popup&&g.open_popup(...e))},p),(0,a._)("button",{type:"button",class:"btn btn-danger",onClick:t[3]||(t[3]=t=>g.cleanRelate([e.metadata.name,e.metadata.id_name]))},f)])])],10,i)}var v=n(26754),b={name:"RelateField",extends:v["default"],computed:{relateID(){return this.values[this.metadata.id_name]?this.values[this.metadata.id_name]:""},linkParams(){return{get:{module:this.metadata.module,action:"Popup",mode:"single",create:!0,field_to_name:this.relateMapFields()},sanitize:!0}},displayParams(){let e={};return Object.hasOwn(this.metadata.field,"displayParams")&&(e=this.metadata.field.displayParams),e}},methods:{open_popup(){if(!this.linkParams.get.module)return;let e="Relate_"+Date.now();this.DOAPP.cache.setValue({key:e,value:{path:"filters",row:this.searchType}}),this.$store.dispatch("popup/setSize","xl"),this.$store.dispatch("popup/getContent",{params:this.linkParams,cacheKey:e})},relateMapFields(){let e={};return e[this.metadata.id_name]="id",this.metadata.rname?e[this.metadata.name]=this.metadata.rname:e[this.metadata.name]="name",e},cleanRelate(e){this.$store.commit("focus/CLEAN_MODEL_PATH_VALUES",{path:"filters",row:this.searchType,fields:e})}}},w=n(40089);const y=(0,w.Z)(b,[["render",g]]);var _=y},42070:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var a=n(73396),o=n(87139),s=n(49242);const i=["data-type","data-field"],r=["for"],l=["id","name","title"];function d(e,t,n,d,c,u){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["form-group",e.widthClass]),"data-type":e.metadata.type,"data-field":e.name},[(0,a._)("label",{for:e.name},(0,o.zw)(e.DOAPP.utils.translate(e.resolveFieldLBL(e.metadata.label),e.module)),9,r),(0,a.wy)((0,a._)("input",{class:"form-control",type:"text",id:e.name,name:e.name,title:u.title,"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t)},null,8,l),[[s.nr,e.value]])],10,i)}var c=n(26754),u={name:"UrlField",extends:c["default"],computed:{title(){return this.metadata.help?this.metadata.help:this.DOAPP.utils.translate(this.resolveFieldLBL(this.metadata.label),this.module)}}},m=n(40089);const p=(0,m.Z)(u,[["render",d]]);var h=p},48922:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var a=n(73396);const o={ref:"Wrapper"},s={ref:"Table",style:{width:"100%"}};function i(e,t,n,i,r,l){return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("table",s,[(0,a.WI)(e.$slots,"default")],512)],512)}var r={name:"DaHideTable",props:{excludedTypes:{type:Array}},data(){return{breakPoint:null,maxCell:null,minCell:0,minCellCount:!0,visibleCell:null}},mounted(){this.initDAHT()},beforeUnmount(){this.destroyDAHT()},methods:{sizeHandler(){let e=this.$refs.Wrapper;e.scrollWidth>e.offsetWidth?this.hideCol():this.breakPoint&&e.scrollWidth>this.breakPoint&&this.showCol()},hideCol(){let e=this.visibleCell;if(e<=this.minCell)return;let t='[data-dahtx="'+e+'"]',n=this.$refs.Table.querySelectorAll(t);for(const a of n)a.classList.add("daht-hide-cell");this.visibleCell=e-1,this.setBreakPoint(),this.sizeHandler()},showCol(){let e=this.visibleCell+1;if(e>this.maxCell)return;let t='[data-dahtx="'+e+'"]',n=this.$refs.Table.querySelectorAll(t);for(const a of n)a.classList.remove("daht-hide-cell");this.visibleCell=e,this.setBreakPoint(),this.sizeHandler()},setBreakPoint(){this.breakPoint=this.$refs.Wrapper.offsetWidth;let e=this.$refs.Table.querySelectorAll("[data-dahtcontrol]"),t="none";null!==this.visibleCell&&this.visibleCell<this.maxCell&&(t="");for(const n of e)n.style.display=t;this.hideDetails()},controlHandler(e){let t=e.currentTarget,n=t.dataset.dahtcontrol;if(t.classList.contains("bi-chevron-down"))return void this.hideDetails(n);this.hideDetails(),t.classList.remove("bi-chevron-right","daht-control-close"),t.classList.add("bi-chevron-down","daht-control-open");let a=document.createElement("tr");a.setAttribute("data-dtrdetailchild",n),t.parentElement.after(a);let o=a.insertCell(0);o.setAttribute("colspan",this.maxCell+1);let s,i=o.getBoundingClientRect(),r=this.$refs.Wrapper.getBoundingClientRect(),l=this.$refs.Table.querySelectorAll('[data-dahty="'+n+'"].daht-hide-cell'),d=this.$refs.Table.querySelectorAll('[data-dahty="0"] .daht-hide-cell'),c=0,u=0,m=i.top-r.top;for(let p of d)s=document.createElement("div"),s.innerHTML=p.innerText,s.classList.add("text-muted","font-weight-bold"),o.append(s),s.style.display="block",s.style.position="absolute",s.style.top=m+"px",m+=s.offsetHeight,u+=s.offsetHeight,l[c].style.display="block",l[c].style.top=m+"px",l[c].classList.add("daht-detail-show"),m+=l[c].offsetHeight,u+=l[c].offsetHeight,o.style.height=u+"px",c++},hideDetails(e=!1){let t,n,a,o=this.$refs.Table;e?(t=o.querySelectorAll('[data-dahty="'+e+'"] .daht-detail-show'),n=o.querySelectorAll('[data-dtrdetailchild="'+e+'"]'),a=o.querySelectorAll('[data-dahtcontrol="'+e+'"]')):(t=o.querySelectorAll(".daht-detail-show"),n=o.querySelectorAll("[data-dtrdetailchild]"),a=o.querySelectorAll('[data-dahtcontrol]:not([data-dahtcontrol="0"])'));for(let s of t)s.style.display="",s.style.top="",s.classList.remove("daht-detail-show");for(let s of n)s.parentNode.removeChild(s);for(let s of a)s.classList.add("bi-chevron-right","daht-control-close"),s.classList.remove("bi-chevron-down","daht-control-open")},initDAHT(){let e=this.$refs.Wrapper,t=this.$refs.Table;t.setAttribute("class",e.getAttribute("class")),e.setAttribute("class","daht-wrapper"),this.ro=new ResizeObserver(this.sizeHandler),this.ro.observe(e);let n,a,o=0,s=this.excludedTypes;for(let i of t.rows){i.setAttribute("data-dahty",o),n=0;for(let e of i.cells)1===o&&this.minCellCount&&(s.includes(e.getAttribute("data-type"))||s.includes(e.getAttribute("data-widget"))?this.minCell++:this.minCellCount=!1),e.setAttribute("data-dahty",o),e.setAttribute("data-dahtx",n),n++;this.maxCell=n-1,this.visibleCell=n-1,0===o?(a=document.createElement("th"),i.prepend(a)):(a=i.insertCell(0),a.classList.add("bi-chevron-right","daht-control-close"),a.addEventListener("click",this.controlHandler),a.setAttribute("role","button")),a.setAttribute("data-dahtcontrol",o),a.style.display="none",o++}},destroyDAHT(){this.breakPoint=null,this.maxCell=null,this.visibleCell=null,this.ro.unobserve(this.$refs.Wrapper),removeEventListener("click",this.controlHandler)}}},l=n(40089);const d=(0,l.Z)(r,[["render",i]]);var c=d},68657:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var a=n(73396),o=n(87139);const s={class:"pt-3 px-3"},i={class:"p-3"};function r(e,t,n,r,l,d){const c=(0,a.up)("DisplayOptions");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",{class:(0,o.C_)(["da-shadow-wrapper control-sidebar",{"da-shadow-wrapper__show":!d.isControlBarCollapsed}]),onClick:t[0]||(t[0]=(...e)=>d.closeControlBar&&d.closeControlBar(...e))},null,2),(0,a._)("aside",{class:(0,o.C_)(["control-sidebar control-sidebar-dark",d.isControlBarCollapsed?"da-control-sidebar__collapsed":"da-control-sidebar__show"])},[(0,a._)("div",s,[(0,a._)("h5",null,(0,o.zw)(e.DOAPP.utils.translate("LBL_USER_SETTINGS","Users")),1)]),(0,a._)("div",i,[(0,a.Wm)(c)])],2)])}var l=n(55622),d={name:"ControlSidebar",components:{DisplayOptions:l["default"]},computed:{isControlBarCollapsed(){return this.$store.getters["app/isControlBarCollapsed"]}},methods:{closeControlBar(){this.$store.dispatch("app/toggleControlBar")}}},c=n(40089);const u=(0,c.Z)(d,[["render",r],["__scopeId","data-v-1b4f9ccb"]]);var m=u},55622:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var a=n(73396),o=n(87139),s=n(49242);const i={class:"mb-1"},r={class:"mb-1"},l={key:0,class:"mb-1"},d={class:"mt-3"},c={class:"pt-3"},u={class:"col-9"},m={class:"col text-right"},p=(0,a._)("i",{class:"bi bi-pencil-square"},null,-1),h=(0,a._)("i",{class:"bi bi-eye"},null,-1);function f(e,t,n,f,g,v){const b=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("h6",null,(0,o.zw)(e.DOAPP.utils.translate("LBL_SUBTHEMES","Users")),1),(0,a._)("div",i,[(0,a.wy)((0,a._)("input",{type:"checkbox",id:"dark-mode","onUpdate:modelValue":t[0]||(t[0]=e=>v.darkMode=e),class:"mr-1"},null,512),[[s.e8,v.darkMode]]),(0,a._)("span",null,(0,o.zw)(e.DOAPP.utils.translate("LBL_DA_DARK_MODE")),1)]),(0,a._)("div",r,[(0,a.wy)((0,a._)("input",{type:"checkbox",id:"compact-mode","onUpdate:modelValue":t[1]||(t[1]=e=>v.compactMode=e),class:"mr-1"},null,512),[[s.e8,v.compactMode]]),(0,a._)("span",null,(0,o.zw)(e.DOAPP.utils.translate("LBL_DA_COMPACT_STYLE")),1)]),v.showTimeLineCheckbox?((0,a.wg)(),(0,a.iD)("div",l,[(0,a.wy)((0,a._)("input",{type:"checkbox",id:"show-timeline","onUpdate:modelValue":t[2]||(t[2]=e=>v.timeLine=e),class:"mr-1"},null,512),[[s.e8,v.timeLine]]),(0,a._)("span",null,(0,o.zw)(e.DOAPP.utils.translate("LBL_DA_SHOW_TIMELINE")),1)])):(0,a.kq)("",!0),(0,a._)("div",d,[(0,a._)("button",{type:"button",class:"btn btn-xs btn-danger",onClick:t[3]||(t[3]=(...e)=>v.clearThemeSettings&&v.clearThemeSettings(...e))},(0,o.zw)(e.DOAPP.utils.translate("LBL_DA_CLEAR_SETTINGS")),1)]),(0,a.wy)((0,a._)("div",c,[(0,a._)("h6",null,(0,o.zw)(e.DOAPP.utils.translate("LBL_LAST_VIEWED")),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(v.recentRecords,((t,n)=>((0,a.wg)(),(0,a.iD)("div",{key:n,class:"row no-gutters mb-3 text-sm"},[(0,a._)("div",u,[(0,a.Wm)(b,{to:v.getDetailLink(t),title:e.DOAPP.utils.translate("LBL_MODULE_NAME",t.module_name)},{default:(0,a.w5)((()=>[(0,a._)("i",{class:(0,o.C_)(["mr-1 suitepicon",v.moduleIcon(t.module_name)])},null,2),(0,a.Uk)(" "+(0,o.zw)(t.item_summary),1)])),_:2},1032,["to","title"])]),(0,a._)("div",m,[(0,a.Wm)(b,{to:v.getEditLink(t),role:"button",title:e.DOAPP.utils.translate("LBL_EDIT_BUTTON_LABEL"),class:"px-1"},{default:(0,a.w5)((()=>[p])),_:2},1032,["to","title"]),(0,a.Wm)(b,{to:v.getDetailLink(t),role:"button",title:e.DOAPP.utils.translate("LBL_VIEW_BUTTON"),class:"px-1"},{default:(0,a.w5)((()=>[h])),_:2},1032,["to","title"])])])))),128))],512),[[s.F8,v.showRecentRecords]])],64)}n(82801),n(61295);var g={name:"DisplayOptions",computed:{darkMode:{get(){return this.$store.state.app.setting.theme.darkMode},set(e){let t=this.$store.state.app.setting;t.theme.darkMode=e,this.$store.dispatch("app/setSettings",t),this.setClass("darkMode",e)}},compactMode:{get(){return this.$store.state.app.setting.theme.compactMode},set(e){let t=this.$store.state.app.setting;t.theme.compactMode=e,this.$store.dispatch("app/setSettings",t),this.setClass("compactMode",e)}},timeLine:{get(){let e=this.$route.query.module+"_timeLine";return!Object.hasOwn(this.$store.state.app.setting.theme,e)||this.$store.state.app.setting.theme[e]},set(e){let t=this.$store.state.app.setting;t.theme[this.$route.query.module+"_timeLine"]=e,this.$store.dispatch("app/setSettings",t)}},showTimeLineCheckbox(){let e=!1;return Object.hasOwn(this.$store.state.focus,"subpanels")&&!this.DOAPP.utils.isEmpty(this.$store.state.focus.subpanels)&&Object.hasOwn(this.$store.state.focus.subpanels,"tabsProperties")&&!this.DOAPP.utils.isEmpty(this.$store.state.focus.subpanels.tabsProperties)&&Object.hasOwn(this.$store.state.focus.subpanels.tabsProperties,"history")&&(e=!0),e},recentRecords(){return this.$store.state.focus.recentRecords},showRecentRecords(){return!(!this.recentRecords||!this.recentRecords.length)}},methods:{async clearThemeSettings(){await this.$store.dispatch("app/setSettings",structuredClone(this.$store.getters["app/getDefaultThemeSettings"]))},setClass(e,t){let n,a=window.document.body.classList;"darkMode"===e&&(n="dark-mode"),"compactMode"===e&&(n="text-sm"),t?a.add(n):a.remove(n)},moduleIcon(e){let t=e.replaceAll("_","-");return"suitepicon-module-"+t.toLowerCase()},getDetailLink(e){return"?module="+e.module_name+"&record="+e.item_id+"&action=DetailView&return_module="+this.$store.state.focus.get.module+"&return_action="+this.$store.state.focus.get.action+"&parentTab="+this.$store.state.focus.get?.parentTab},getEditLink(e){return"?module="+e.module_name+"&record="+e.item_id+"&action=EditView&return_module="+this.$store.state.focus.get.module+"&return_action="+this.$store.state.focus.get.action+"&parentTab="+this.$store.state.focus.get?.parentTab}}},v=n(40089);const b=(0,v.Z)(g,[["render",f]]);var w=b},70667:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var a=n(73396);const o={class:"main-footer"},s=(0,a._)("div",{class:"float-right d-none d-sm-inline"},"   ",-1),i=(0,a._)("strong",null," ",-1),r=[s,i];function l(e,t,n,s,i,l){return(0,a.wg)(),(0,a.iD)("footer",o,r)}var d={name:"MainFooter"},c=n(40089);const u=(0,c.Z)(d,[["render",l]]);var m=u},54544:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var a=n(73396),o=n(87139);const s={class:"modal fade",id:"modalLoader"},i={class:"modal-content"},r={key:0,class:"modal-header"},l={key:1,class:"modal-body"},d={key:2,class:"modal-footer"};function c(e,t,n,c,u,m){return(0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("div",{id:"modalDialog",class:(0,o.C_)(["modal-dialog",m.sizeClass])},[(0,a._)("div",i,[m.section.header.show?((0,a.wg)(),(0,a.iD)("div",r,[m.section.header.show?((0,a.wg)(),(0,a.j4)((0,a.LL)(u.template.header),{key:0,section:m.section.header},null,8,["section"])):(0,a.kq)("",!0)])):(0,a.kq)("",!0),m.section.body.show?((0,a.wg)(),(0,a.iD)("div",l,[m.section.body.show?((0,a.wg)(),(0,a.j4)((0,a.LL)(u.template.body),{key:0,section:m.section.body},null,8,["section"])):(0,a.kq)("",!0)])):(0,a.kq)("",!0),m.section.footer.show?((0,a.wg)(),(0,a.iD)("div",d,[m.section.footer.show?((0,a.wg)(),(0,a.j4)((0,a.LL)(u.template.footer),{key:0,section:m.section.footer},null,8,["section"])):(0,a.kq)("",!0)])):(0,a.kq)("",!0)])],2)])}var u=n(24239),m=n(68353),p={name:"FooterModal",data(){return{template:{header:!1,body:!1,footer:!1}}},computed:{name(){return this.$store.getters["popup/getShownName"]},section(){return this.$store.state.popup[this.name]},show(){return this.$store.state.popup[this.name].show},type(){return this.$store.state.popup[this.name].type},sizeClass(){let e="";return""!==this.section.size&&(e="modal-"+this.section.size),e}},watch:{show(e,t){!0===e&&!1===t?(this.setTemplate(),this.showPopup()):!1===e&&!0===t&&this.hidePopup()}},methods:{setTemplate(){this.template.header=(0,a.Fl)((()=>m["default"][this.type+"Header"]??m["default"].InfoHeader)),this.template.body=(0,a.Fl)((()=>m["default"][this.type+"Body"]??m["default"].InfoBody)),this.template.footer=(0,a.Fl)((()=>m["default"][this.type+"Footer"]??m["default"].InfoFooter))},showPopup(){let e=this.$store.state.mass_actions.data.show;window.$("#modalLoader").on("hidden.bs.modal",(async function(){await u["default"].dispatch("popup/hide");let t=await u["default"].dispatch("popup/deletePopup");t?(await u["default"].dispatch("popup/hide"),setTimeout((()=>u["default"].dispatch("popup/show")),0)):await u["default"].dispatch("popup/reset"),e||await u["default"].commit("mass_actions/RESET_MASS_ACTION"),window.$(this).off("hidden.bs.modal")})),window.$("#modalLoader").modal("show")},hidePopup(){this.section.header.data.onClose&&this.section.header.data.onClose(),window.$("#modalLoader").modal("hide")}}},h=n(40089);const f=(0,h.Z)(p,[["render",c]]);var g=f},36633:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var a=n(73396);function o(e,t,n,o,s,i){return(0,a.wg)(),(0,a.iD)("div")}var s={name:"DefaultModalBody",props:{section:{type:Object}},computed:{popupName(){return this.$store.getters["popup/getShownName"]}},provide(){return{view:"modal",state:"popup"}}},i=n(40089);const r=(0,i.Z)(s,[["render",o]]);var l=r},83200:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var a={name:"DefaultModalFooter",props:{section:{type:Object}},provide(){return{view:"modal",state:"focus"}},computed:{popupName(){return this.$store.getters["popup/getShownName"]}},methods:{hidePopup(){this.$store.dispatch("popup/hide")}}};const o=a;var s=o},27480:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var a=n(73396),o=n(87139);const s={class:"modal-title"},i=(0,a._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[(0,a._)("span",{"aria-hidden":"true"},"×")],-1);function r(e,t,n,r,l,d){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("h5",s,(0,o.zw)(e.DOAPP.utils.translate(n.section.data.title,d.module)),1),i],64)}var l={name:"DefaultModalHeader",props:{section:{type:Object}},provide(){return{view:"modal",state:"focus"}},computed:{popupName(){return this.$store.getters["popup/getShownName"]},module(){let e=null;return this.section.data.module&&(e=this.section.data.module),e}}},d=n(40089);const c=(0,d.Z)(l,[["render",r]]);var u=c},19958:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var a=n(73396),o=n(87139);const s={class:"card no-space"},i={class:"card-header p-1"},r={class:"nav nav-pills flex-column flex-sm-row"},l=["href"],d={class:"card-body"},c={class:"tab-content"},u=["id"],m={class:"table-responsive"};function p(e,t,n,p,h,f){const g=(0,a.up)("daTable");return(0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("div",i,[(0,a._)("ul",r,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.section.data,((e,t,n)=>((0,a.wg)(),(0,a.iD)("li",{class:"nav-item border-bottom-0",key:t},[(0,a._)("a",{class:(0,o.C_)(["nav-link",f.defaultActivePanelClass(n)]),href:"#"+t,"data-toggle":"tab"},(0,o.zw)(f.getTitle(t)),11,l)])))),128))])]),(0,a._)("div",d,[(0,a._)("div",c,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.section.data,((e,t,n)=>((0,a.wg)(),(0,a.iD)("div",{key:t,class:(0,o.C_)(["tab-pane",f.defaultActivePanelClass(n)]),id:t},[(0,a._)("div",m,[((0,a.wg)(),(0,a.j4)(g,{key:Date.now(),tableId:"audit",name:"audit_table",module:"Activities",viewData:f.getViewData(e,t),pageData:f.getPageData(e),viewOptions:h.viewOptions},null,8,["viewData","pageData","viewOptions"]))])],10,u)))),128))])])])}var h=n(36633),f=n(66321),g={name:"AccumulatedHistoryBody",extends:h["default"],components:{daTable:f["default"]},data(){return{lbl:{calls_list:"LBL_CALLS",emails_list:"LBL_EMAILS",meeting_list:"LBL_MEETINGS",notes_list:"LBL_NOTES",summary_list:"LBL_OVERVIEW",task_list:"LBL_TASKS"},summaryList:{object_image:{end_link_wrapper:"',true);",name:"object_image",sort:"",start_link_wrapper:"javascript:showSubPanel('history','",subpanel_module:"history",vname:"LBL_OBJECT_IMAGE",widget_class:"SubPanelIcon",width:"2%"},NAME:{label:"LBL_LIST_SUBJECT",vname:"LBL_LIST_SUBJECT",sortable:!1},STATUS:{label:"LBL_LIST_STATUS",vname:"LBL_LIST_STATUS",sortable:!1},CONTACT_NAME:{label:"LBL_LIST_CONTACT",vname:"LBL_LIST_CONTACT",sortable:!1},DATE_MODIFIED:{label:"LBL_LIST_DATE",vname:"LBL_LIST_DATE",sortable:!1},DESCRIPTION:{label:"LBL_DESCRIPTION",vname:"LBL_DESCRIPTION",sortable:!1}},otherList:{object_image:{end_link_wrapper:"',true);",name:"object_image",sort:"",start_link_wrapper:"javascript:showSubPanel('history','",subpanel_module:"history",vname:"LBL_OBJECT_IMAGE",widget_class:"SubPanelIcon",width:"2%"},NAME:{label:"LBL_LIST_SUBJECT",vname:"LBL_LIST_SUBJECT",sortable:!1},STATUS:{label:"LBL_LIST_STATUS",vname:"LBL_LIST_STATUS",sortable:!1},CONTACT_NAME:{label:"LBL_LIST_CONTACT",vname:"LBL_LIST_CONTACT",sortable:!1},DATE_MODIFIED:{label:"LBL_LIST_DATE",vname:"LBL_LIST_DATE",sortable:!1}},viewOptions:{addInfo:!1,module:"History",tabsProperties:{module:"History"},top_buttons:[],view:"subpanel"}}},methods:{defaultActivePanelClass(e){return 0===e?"active":""},getTitle(e){return this.DOAPP.utils.translate(this.lbl[e],"Activities")},getPageData(e){return{orderBy:"",sortOrder:"",rowProperties:this.getRowProperties(e)}},getViewData(e,t){let n={displayColumns:this.otherList,data:this.addIdData(e)};return"summary_list"!==t&&"emails_list"!==t||(n.displayColumns=this.summaryList),n},getRowProperties(e){let t={};for(const n in e){let a=JSON.parse(JSON.stringify(this.summaryList));a["object_image"]["module"]=e[n]["module"],t[e[n]["id"]]=a}return t},addIdData(e){let t={};for(const n of e){let e={};for(const t in n)e[t.toUpperCase()]=n[t];n["attachment"]&&(e["NAME"]=n["name"]+" "+n["attachment"]),e["STATUS"]=n["type"]+" "+n["status"],e["DATE_MODIFIED"]=n["date_type"]+" "+n["date_modified"],t[n["id"]]=e}return t}}},v=n(40089);const b=(0,v.Z)(g,[["render",p]]);var w=b},16759:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var a=n(73396),o=n(87139);const s={class:"mb-1"},i={class:"card"},r={class:"card-body p-0"},l={class:"table-responsive"};function d(e,t,n,d,c,u){const m=(0,a.up)("daTable");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("p",s,(0,o.zw)(u.annotationString),1),(0,a._)("div",i,[(0,a._)("div",r,[(0,a._)("div",l,[u.pageData?((0,a.wg)(),(0,a.j4)(m,{key:Date.now(),tableId:"audit",name:"audit_table",module:"Audit",viewData:u.viewData,pageData:u.pageData,viewOptions:{view:"audit"}},null,8,["viewData","pageData"])):(0,a.kq)("",!0)])])])],64)}var c=n(36633),u=n(66321),m={name:"AuditBody",extends:c["default"],components:{daTable:u["default"]},computed:{viewData(){return this.section.data.viewData},pageData(){return this.section.data.pageData},viewType(){return this.$store.getters["popup/getPopupType"]},annotationString(){if(!Object.hasOwn(this.pageData,"auditedFieldNames"))return"";let e=this.DOAPP.utils.translate("LBL_AUDITED_FIELDS",this.viewType)+" ";for(const t in this.pageData.auditedFieldNames)e+=this.DOAPP.utils.translate(this.pageData.auditedFieldNames[t],this.$store.state.focus.get.module).replace(":","")+", ";return e.slice(0,-2)}}},p=n(40089);const h=(0,p.Z)(m,[["render",d]]);var f=h},84280:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(36633),o={name:"CalendarLightBox",extends:a["default"]};const s=o;var i=s},7138:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P}});var a=n(73396),o=n(87139),s=n(49242);const i=e=>((0,a.dD)("data-v-04e51ca4"),e=e(),(0,a.Cn)(),e),r={role:"form",id:"EditView",name:"EditView",class:"content"},l={key:0,class:"form-control mb-2"},d={class:"d-flex flex-row flex-wrap"},c={class:"selected_panel"},u=i((()=>(0,a._)("i",{class:"bi bi-paperclip"},null,-1))),m={class:"text-sm pl-1"},p=["onClick"],h=["name","value"],f=["name","value"],g={class:"selected_panel"},v={class:"text-sm pl-1"},b=["onClick"],w=["innerHTML"],y={key:1,class:"form-control"},_={class:"d-flex flex-row flex-wrap"},C={class:"selected_panel"},D={class:"text-sm"},x=["onClick"],k=["name","value"];function E(e,t,n,i,E,S){return(0,a.wg)(),(0,a.iD)("form",r,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.fieldMap,((e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:t},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e,((e,n)=>((0,a.wg)(),(0,a.iD)("div",{key:n,class:"row"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e,((e,n)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:n},[S.isExcludedField(n)?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)((0,a.LL)(S.fieldTemplate(S.beanData[n],S.panelsFields[t][n])),{key:0,name:n,module:S.module,record:S.record,metadata:S.panelsFields[t][n],beanData:S.beanData},null,8,["name","module","record","metadata","beanData"]))],64)))),128))])))),128))],64)))),128)),S.templateValue.length||S.attachment.length?((0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("div",d,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(S.templateValue,((e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:t},[(0,a._)("div",c,[u,(0,a._)("span",m,(0,o.zw)(e.name),1),(0,a._)("button",{class:"custom_delete_button",type:"button",onClick:(0,s.iM)((e=>S.removeTemplateValue(t)),["stop"])},"⨯",8,p)]),(0,a._)("input",{name:S.templateInput.inputName,value:e.id,hidden:""},null,8,h)],64)))),128)),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(E.tempRemoveAttachment,((e,t)=>((0,a.wg)(),(0,a.iD)("input",{key:t,name:S.templateInput.removeName,value:e.id,multiple:"multiple",hidden:""},null,8,f)))),128)),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(S.attachment,((e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:t},[(0,a._)("div",g,[(0,a._)("i",{class:(0,o.C_)(S.getAttachmentClass(e))},null,2),(0,a._)("span",v,(0,o.zw)(e.name)+" "+(0,o.zw)(S.humanReadableFileSize(e.size,!0)),1),(0,a._)("button",{class:"custom_delete_button",type:"button",onClick:(0,s.iM)((e=>S.removeAttachment(t)),["stop"])},"⨯",8,b)]),(0,a._)("input",{name:"email_attachment[]",type:"file",innerHTML:e,hidden:"",multiple:"multiple"},null,8,w)],64)))),128))])])):(0,a.kq)("",!0),Object.keys(S.docValue).length?((0,a.wg)(),(0,a.iD)("div",y,[(0,a._)("div",_,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(S.docValue,((e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:t},[(0,a._)("div",C,[(0,a._)("span",D,(0,o.zw)(e.name),1),(0,a._)("button",{class:"custom_delete_button",type:"button",onClick:(0,s.iM)((e=>S.removeValue(t)),["stop"])},"⨯",8,x)]),(0,a._)("input",{name:t,value:e.id,hidden:""},null,8,k)],64)))),128))])])):(0,a.kq)("",!0)])}n(57658);var S=n(34807),A=n(64479),T={name:"ComposeViewBody",extends:S["default"],props:{windowSize:{type:Object},section:{type:Object}},provide(){return{view:"modal",state:"popup"}},data(){return{tempRemoveAttachment:[]}},computed:{panelsFields(){return this.section.data.viewData.panelsFields},beanData(){return this.section.data.beanData},pageData(){return this.section.data.pageData},panelsMetadata(){return this.section.data.viewData.panelsMetadata},getData(){return{return_module:this.$route.query.module,return_action:this.$route.query.action,return_id:this.$route.query.record}},module(){return this.section.data.module},record(){return this.section.data.record},docValue(){let e={};for(const t in this.beanData)if(t.includes("documentId")&&this.beanData[t].value){let n=t.replace("Id","Name");e[t]={name:this.beanData[n].value,id:this.beanData[t].value}}return e},templateValue(){let e={};return this.beanData.template_attachments?.value?this.beanData.template_attachments.value.data:e},templateInput(){let e={};return this.beanData.template_attachments?.value?this.beanData.template_attachments.value.name:e},attachment(){return""===this.beanData.attachment.value?[]:this.beanData.attachment.value}},methods:{isExcludedField(e){let t=["reminders"];return-1!==t.indexOf(e)},removeValue(e){this.$store.dispatch("popup/updateModelValue",{name:e,value:""})},removeTemplateValue(e){this.tempRemoveAttachment.push(this.templateValue[e]),this.templateValue.splice(e,1),this.$store.dispatch("popup/updateModelValue",{name:"template_attachments",value:{name:this.templateInput,data:this.templateValue}})},removeAttachment(e){this.tempRemoveAttachment.push(this.attachment[e]),this.attachment.splice(e,1),this.$store.dispatch("popup/updateModelValue",{name:"attachment",value:{name:this.templateInput,data:this.attachment}})},humanReadableFileSize(e,t){let n=t?1e3:1024;if(Math.abs(e)<n)return e+" B";let a=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],o=-1;do{e/=n,++o}while(Math.abs(e)>=n&&o<a.length-1);return e.toFixed(1)+" "+a[o]},getAttachmentClass(e){let t=e.type;return-1!==t.indexOf("image")?"bi bi-image":-1!==t.indexOf("audio")?"bi bi-music-note-beamed":-1!==t.indexOf("video")?"bi bi-film":-1!==t.indexOf("zip")?"bi bi-file-earmark-zip":"bi bi-file-earmark"},fieldTemplate(e,t){let n=this.fieldType(e,t);return"name"===e.name&&"name"===n&&(n="Emails-ComposeView-name"),A["default"][n]}},mounted(){if(this.section.data.pageData.smtpError){let e=this.section.data.pageData.smtpError,t=e.match("<.+?>(.+?)</a>");t[1]&&(e=e.replace(t[0],t[1])),this.DOAPP.swal.getErrorToast(e)}}},O=n(40089);const L=(0,O.Z)(T,[["render",E],["__scopeId","data-v-04e51ca4"]]);var P=L},61938:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var a=n(73396),o=n(87139);const s=["innerHTML"];function i(e,t,n,i,r,l){return l.htmlContent?((0,a.wg)(),(0,a.iD)("div",{key:0,innerHTML:l.htmlContent},null,8,s)):((0,a.wg)(!0),(0,a.iD)(a.HY,{key:1},(0,a.Ko)(l.content,((e,t)=>((0,a.wg)(),(0,a.iD)("p",{key:t},(0,o.zw)(e),1)))),128))}var r=n(36633),l={name:"InfoBody",extends:r["default"],computed:{content(){return this.section.data.content},htmlContent(){return!(!this.section.data||!this.section.data.htmlContent)&&this.section.data.htmlContent}}},d=n(40089);const c=(0,d.Z)(l,[["render",i]]);var u=c},30739:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var a=n(73396),o=n(87139),s=n(49242);const i={class:"no-space"},r={key:0,class:"card"},l={class:"card-body"},d={id:"chosen_list",class:"row"},c={class:"form-group"},u={class:"input-group",id:"chosen_item"},m={class:"form-control"},p={type:"button",class:"input-group-append"},h=["onClick"],f=(0,a._)("i",{class:"fas fa-minus"},null,-1),g=[f],v={class:"card card-info card-outline"},b={class:"card-body"},w={class:"row"},y={class:"form-group"},_={class:"text-truncate"},C={class:"truncate-label"},D=["title","onUpdate:modelValue"],x={key:1,class:"card card-info card-outline"},k={class:"card-body"},E={class:"table-responsive"};function S(e,t,n,f,S,A){const T=(0,a.up)("daTable");return(0,a.wg)(),(0,a.iD)("div",i,[S.chosenPersons.length?((0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("div",l,[(0,a._)("div",d,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(S.chosenPersons,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"inline ml-2 mt-1",key:e.id},[(0,a._)("div",c,[(0,a._)("div",u,[(0,a._)("div",m,[(0,a._)("span",{class:(0,o.C_)(["pr-2","suitepicon suitepicon-module-"+(e.fields.itemModuleName+"s").toLowerCase()])},null,2),(0,a._)("span",null,(0,o.zw)(e.fields.name),1)]),(0,a._)("div",p,[(0,a._)("button",{onClick:t=>A.removeChosenPerson(e),class:"btn btn-danger"},g,8,h)])])])])))),128))]),(0,a._)("button",{type:"button",onClick:t[0]||(t[0]=(...e)=>A.hidePopup&&A.hidePopup(...e)),class:"btn btn-danger float-left"},(0,o.zw)(e.DOAPP.utils.translate("LBL_CANCEL",e.section.data.module)),1),(0,a._)("button",{type:"button",onClick:t[1]||(t[1]=(...e)=>A.addAllChosen&&A.addAllChosen(...e)),class:"btn btn-success float-right"},(0,o.zw)(e.DOAPP.utils.translate("LBL_SAVE_BUTTON","Home")),1)])])):(0,a.kq)("",!0),(0,a._)("div",v,[(0,a._)("div",b,[(0,a._)("div",w,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(S.searchParams,((t,n)=>((0,a.wg)(),(0,a.iD)("div",{key:n,class:"col"},[(0,a._)("div",y,[(0,a._)("div",_,[(0,a._)("label",C,(0,o.zw)(e.DOAPP.utils.translate(t.label,e.section.data.module)),1)]),(0,a.wy)((0,a._)("input",{class:"form-control",type:"text",title:e.DOAPP.utils.translate(t.label,e.section.data.module),"onUpdate:modelValue":e=>t.value=e},null,8,D),[[s.nr,t.value]])])])))),128))]),(0,a._)("button",{onClick:t[2]||(t[2]=(...e)=>A.searchPerson&&A.searchPerson(...e)),class:"btn btn-primary"},(0,o.zw)(e.DOAPP.utils.translate("LBL_SEARCH_BUTTON",e.section.data.module)),1)])]),this.viewData.data[0]?((0,a.wg)(),(0,a.iD)("div",x,[(0,a._)("div",k,[(0,a._)("div",E,[S.pageData?((0,a.wg)(),(0,a.j4)(T,{key:S.tableKey,onReturnHandler:A.choosePerson,tableId:"invite",name:S.pageData.module+"_InviteView",module:S.pageData.module,viewData:S.viewData,pageData:S.pageData,viewOptions:{view:"invite"}},null,8,["onReturnHandler","name","module","viewData","pageData"])):(0,a.kq)("",!0)])])])):(0,a.kq)("",!0)])}n(57658),n(82801),n(61295);var A=n(36633),T=n(66321),O={name:"InviteBody",components:{daTable:T["default"]},extends:A["default"],mounted(){this.fieldList=this.getFieldList(),this.conditions=this.getConditions()},data(){return{tableKey:0,viewData:this.section.data.viewData,pageData:this.section.data.pageData,searchResults:[],chosenPersons:[],fieldList:[],conditions:[],scheduler:this.$store.state.focus.data.pageData?.reminderInvite.users_arr,moduleListSingular:this.$store.state.app.list_strings.moduleListSingular,searchParams:{name:{name:"first_name",value:"",label:"LBL_FIRST_NAME"},email:{name:"last_name",value:"",label:"LBL_LAST_NAME"},phone:{name:"email1",value:"",label:"LBL_EMAIL"}}}},methods:{getFieldList(){let e=[];for(let t in this.$store.state.focus.data.pageData?.reminderInvite.fields)e.push(t);return e},getConditions(){let e=[];for(let t in this.searchParams)this.searchParams[t].value&&e.push({name:this.searchParams[t].name,op:"starts_with",value:this.searchParams[t].value});return e},choosePerson(e){let t={};t["fields"]=e,-1===this.chosenPersons.findIndex((e=>e.fields.id===t.fields.id))&&this.chosenPersons.push(t)},removeChosenPerson(e){this.chosenPersons=this.chosenPersons.filter((t=>t.fields.id!==e.fields.id))},async addAllChosen(){let e=[];this.chosenPersons.forEach((t=>e.push({moduleName:t.fields.itemModuleName+"s",recordId:t.fields.id})));let t={get:{VueAjax:1,method:"getVCalFreeBusyByIds",args:e}},n=await this.$store.dispatch("ajaxGet",t);n.data=this.formatWithTimeZone(n.data),n.data.forEach(((e,t)=>this.chosenPersons[t]=Object.assign({},this.chosenPersons[t],e))),this.chosenPersons.forEach((e=>{-1===this.scheduler.findIndex((t=>t.fields.id===e.fields.id))&&this.scheduler.push(e)})),this.$store.commit("focus/updateReminderInvite",this.scheduler),this.hidePopup()},formatWithTimeZone(e){let t=structuredClone(e);return t.forEach((e=>{for(let t in e.freebusy.activities)e.freebusy.activities[t].startDateTime=e.freebusy.activities[t].startDateTime+this.DOAPP.dateTime.userTimezoneOffset()/1e3,e.freebusy.activities[t].endDateTime=e.freebusy.activities[t].endDateTime+this.DOAPP.dateTime.userTimezoneOffset()/1e3})),t},hidePopup(){window.$("#modalLoader").modal("hide")},getSingleModuleName(e){return this.moduleListSingular[e+"s"]},async searchPerson(){let e={get:{entryPoint:"json_server"},data:{method:"query",id:1,params:[{conditions:this.getConditions(),modules:["Users","Contacts","Leads"],field_list:this.fieldList}]}},t=await this.$store.dispatch("ajaxPost",e),n={};for(let a in t.result.list)n[a]=t.result.list[a].fields,n[a]["itemModuleName"]=t.result.list[a].module,n[a]["itemModule"]=this.getSingleModuleName(t.result.list[a].module);this.viewData.data=n,this.tableKey=Date.now()}}},L=n(40089);const P=(0,L.Z)(O,[["render",S]]);var M=P},43726:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var a=n(73396);const o={role:"form",id:"MassUpdateForm",name:"massupdate_form",class:"content"};function s(e,t,n,s,i,r){return(0,a.wg)(),(0,a.iD)("form",o,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.fieldMap,((t,o)=>((0,a.wg)(),(0,a.iD)("div",{key:o,class:"card-body"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t,((t,s)=>((0,a.wg)(),(0,a.iD)("div",{key:s,class:"row"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t,((t,s)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:s},[r.isExcludedField(s)?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)((0,a.LL)(e.fieldTemplate(r.beanData[s],r.panelsFields[o][s])),{key:0,name:s,module:n.section.module,record:"",metadata:r.panelsFields[o][s],beanData:r.beanData},null,8,["name","module","metadata","beanData"]))],64)))),128))])))),128))])))),128))])}var i=n(34807),r={name:"MassUpdateBody",extends:i["default"],props:{windowSize:{type:Object},section:{type:Object}},provide(){return{view:"modal",state:"mass_actions"}},computed:{beanData(){return this.section.data.beanData},panelsFields(){let e=this.$store.state.mass_actions.data.body.data.viewData.panelsFields,t={};for(const n in e)t[e[n].name]={field:{}};return{DEFAULT:t}},panelsMetadata(){return{DEFAULT:{newTab:!1,panelDefault:"expanded"}}}},methods:{isExcludedField(e){let t=["optout_primary","optin_primary"];return-1!==t.indexOf(e)}}},l=n(40089);const d=(0,l.Z)(r,[["render",s]]);var c=d},27605:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var a=n(73396),o=n(87139);const s=e=>((0,a.dD)("data-v-75fed528"),e=e(),(0,a.Cn)(),e),i={role:"form",id:"QuickCreate",name:"EditView",class:"content no-space"},r=["value"],l=s((()=>(0,a._)("input",{type:"hidden",name:"record",value:""},null,-1))),d=s((()=>(0,a._)("input",{type:"hidden",name:"duplicateSave",value:"true"},null,-1))),c=["value"],u=["value"],m=s((()=>(0,a._)("input",{type:"hidden",name:"isDuplicate",value:"false"},null,-1))),p=s((()=>(0,a._)("input",{type:"hidden",name:"action"},null,-1))),h=["value"],f=["value"],g=["value"],v=s((()=>(0,a._)("input",{type:"hidden",name:"module_tab"},null,-1))),b=s((()=>(0,a._)("input",{type:"hidden",name:"contact_role"},null,-1))),w=["value"],y=["value"],_=["value"],C={class:"card-header"},D={class:"card-title"},x=s((()=>(0,a._)("div",{class:"card-tools"},[(0,a._)("button",{type:"button",class:"btn btn-tool","data-card-widget":"collapse",title:"Collapse"},[(0,a._)("i",{class:"fas fa-minus"})])],-1))),k={class:"card-body"};function E(e,t,n,s,E,S){return(0,a.wg)(),(0,a.iD)("form",i,[(0,a._)("input",{type:"hidden",name:"module",value:S.module},null,8,r),S.getData.isDuplicate?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[l,d,(0,a._)("input",{type:"hidden",name:"duplicateId",value:S.record},null,8,c)],64)):((0,a.wg)(),(0,a.iD)("input",{key:1,type:"hidden",name:"record",value:S.record},null,8,u)),m,p,(0,a._)("input",{type:"hidden",name:"return_module",value:S.getData.return_module},null,8,h),(0,a._)("input",{type:"hidden",name:"return_action",value:S.getData.return_action},null,8,f),(0,a._)("input",{type:"hidden",name:"return_id",value:S.getData.return_id},null,8,g),v,b,e.recordRelateOpt?((0,a.wg)(),(0,a.iD)(a.HY,{key:2},[(0,a._)("input",{type:"hidden",name:"relate_to",value:e.recordRelateOpt().relate_to},null,8,w),(0,a._)("input",{type:"hidden",name:"relate_id",value:e.recordRelateOpt().relate_id},null,8,y)],64)):(0,a.kq)("",!0),(0,a._)("input",{type:"hidden",name:"offset",value:S.pageData.offset},null,8,_),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.fieldMap,((t,n)=>((0,a.wg)(),(0,a.iD)("div",{key:n,class:(0,o.C_)(["card card-outline card-primary",S.panelsMetadata[n].panelDefault])},[(0,a._)("div",C,[(0,a._)("h3",D,(0,o.zw)(e.DOAPP.utils.translate(n,S.module)),1),x]),(0,a._)("div",k,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t,((t,o)=>((0,a.wg)(),(0,a.iD)("div",{key:o,class:"row"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t,((t,o)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:o},[S.isExcludedField(o)?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)((0,a.LL)(e.fieldTemplate(S.beanData[o],S.panelsFields[n][o])),{key:0,name:o,module:S.module,record:S.record,metadata:S.panelsFields[n][o],beanData:S.beanData},null,8,["name","module","record","metadata","beanData"]))],64)))),128))])))),128))])],2)))),128))])}var S=n(34807),A={name:"QuickCreateBody",extends:S["default"],props:{windowSize:{type:Object},section:{type:Object}},provide(){return{view:"modal",state:"popup"}},computed:{panelsFields(){return this.section.data.viewData.panelsFields},beanData(){return this.section.data.beanData},pageData(){return this.section.data.pageData},panelsMetadata(){return this.section.data.viewData.panelsMetadata},getData(){return{return_module:this.$route.query.module,return_action:this.$route.query.action,return_id:this.$route.query.record}},module(){return this.section.data.pageData.module},record(){return this.section.data.record}},methods:{isExcludedField(e){let t=["reminders"];return-1!==t.indexOf(e)}}},T=n(40089);const O=(0,T.Z)(A,[["render",E],["__scopeId","data-v-75fed528"]]);var L=O},5075:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var a=n(73396);const o={key:0,class:"content no-space mb-3"},s={class:"container-fluid"},i={key:1,class:"content mb-3"},r={class:"container-fluid"},l={key:2,class:"content no-space"},d={class:"container-fluid"};function c(e,t,n,c,u,m){const p=(0,a.up)("RelateSearch"),h=(0,a.up)("RelateMultiselectSubmitButton"),f=(0,a.up)("RelateTable");return(0,a.wg)(),(0,a.iD)(a.HY,null,[m.searchShow?((0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("div",s,[(0,a.Wm)(p,{section:e.section,view:"popup"},null,8,["section"])])])):(0,a.kq)("",!0),"MultiSelect"===e.section.data.pageData.queries.baseURL.mode?((0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",r,[(0,a.Wm)(h,{section:e.section,view:"popup"},null,8,["section"])])])):(0,a.kq)("",!0),m.tableShow?((0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("div",d,[(0,a.Wm)(f,{section:e.section,view:"popup"},null,8,["section"])])])):(0,a.kq)("",!0)],64)}var u=n(42937),m=n(6861),p=n(28476),h=n(36633),f={extends:h["default"],name:"RelateBody",components:{RelateSearch:u["default"],RelateMultiselectSubmitButton:m["default"],RelateTable:p["default"]},computed:{searchShow(){let e=!1;return Object.hasOwn(this.section.data,"searchFields")&&0!==this.section.data.searchFields.length&&(e=!0),e},tableShow(){let e=!1;return Object.hasOwn(this.section.data,"viewData")&&0!==this.section.data.viewData.length&&(e=!0),e}}},g=n(40089);const v=(0,g.Z)(f,[["render",c]]);var b=v},6861:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var a=n(73396),o=n(87139);function s(e,t,n,s,i,r){return(0,a.wg)(),(0,a.iD)("button",{type:"button",class:"btn btn-primary",onClick:t[0]||(t[0]=(...e)=>r.submitSelectedRecords&&r.submitSelectedRecords(...e))},(0,o.zw)(e.DOAPP.utils.translate("LBL_SELECT_BUTTON_LABEL",this.section.data.pageData.bean.moduleName)),1)}var i={name:"RelateMultiselectSubmitButton",inject:["state"],props:{section:{type:Object}},computed:{subPanel(){let e={};for(let t in this.$store.state.focus.subpanels.tabs)if(this.$store.state.focus.subpanels.tabs[t]===this.section.data.pageData.bean.moduleName.toLowerCase()){e={id:this.$store.state.focus.subpanels.tabs[t],order:t};break}return e}},methods:{async submitSelectedRecords(){let e=this.$store.state.mass_actions.uids;if(this.DOAPP.utils.isEmpty(e))return;let t=new FormData;for(let n in e)e[n]&&t.append("subpanel_id[]",n);t.append("module",this.$route.query.module),t.append("return_module",this.$route.query.module),t.append("value",this.$route.query.action),t.append("record",this.$route.query.record),t.append("return_id",this.$route.query.record),t.append("action","Save2"),t.append("http_method","get"),t.append("select_entire_list",0),t.append("refresh_page",0),t.append("to_pdf",!0),t.append("isDuplicate",!1),t.append("child_field",this.section.data.pageData.bean.moduleName.toLowerCase()),t.append("subpanel_field_name",this.section.data.pageData.bean.moduleName.toLowerCase()),t.append("subpanel_module_name",this.section.data.pageData.bean.moduleName.toLowerCase()),await this.$store.dispatch("ajaxPost",{data:t}),this.$store.dispatch("focus/getSubpanelData",{name:this.subPanel.id,order:this.subPanel.order}),this.$store.dispatch("popup/hide")}}},r=n(40089);const l=(0,r.Z)(i,[["render",s]]);var d=l},42937:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var a=n(73396),o=n(87139);const s={class:"card collapsed-card card-info text-sm"},i={class:"card-header",role:"button","data-card-widget":"collapse"},r={class:"card-title"},l=(0,a._)("div",{class:"card-tools"},[(0,a._)("button",{type:"button",class:"btn btn-tool","data-card-widget":"collapse"},[(0,a._)("i",{class:"fas fa-plus"})])],-1),d={class:"card-body"},c={name:"popup_query_form",id:"popup_query_form"},u={class:"row"};function m(e,t,n,m,p,h){return(0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("div",i,[(0,a._)("h3",r,(0,o.zw)(e.DOAPP.utils.translate("LBL_FILTER")),1),l]),(0,a._)("div",d,[(0,a._)("form",c,[(0,a._)("div",u,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(h.layout,((e,t)=>((0,a.wg)(),(0,a.j4)((0,a.LL)(h.fieldTemplate(h.fieldMetadata[e].type)),{key:t,name:e,module:p.module,metadata:h.fieldMetadata[e],values:h.values,widthClass:"col-lg-4",searchType:"popup"},null,8,["name","module","metadata","values"])))),128))]),(0,a._)("button",{type:"button",class:"btn btn-primary mr-1",onClick:t[0]||(t[0]=(...e)=>h.applyForm&&h.applyForm(...e)),id:"search_form_submit"},(0,o.zw)(e.DOAPP.utils.translate("LBL_SEARCH_BUTTON_LABEL")),1),(0,a._)("button",{type:"button",class:"btn btn-danger",onClick:t[1]||(t[1]=(...e)=>h.clearForm&&h.clearForm(...e)),id:"search_form_clear"},(0,o.zw)(e.DOAPP.utils.translate("LBL_CLEAR_BUTTON_LABEL")),1)])])])}n(57658);var p=n(90601),h={name:"RelateSearch",props:{section:{type:Object},view:{type:String}},data(){return{module:this.section.data.pageData.bean.moduleName}},computed:{beanData(){console.log("Handler done");let e={},t={},n=this.section.data.beanData,a=this.section.data.beanDataCustom;for(let o in a)Object.defineProperty(a[o],"value",{configurable:!1}),e=Object.assign({},n[o],a[o]),Object.defineProperty(t,o,{value:e,configurable:!0});return Object.assign({},n,t)},viewData(){return this.section.data.viewData},pageData(){return this.section.data.pageData},searchFields(){return this.section.data.searchFields},layout(){return this.section.filters.layout},fieldMetadata(){return this.section.filters.fieldMetadata},values(){return this.section.filters.values}},methods:{applyForm(e){let t=new FormData(e.target.form),n={get:this.pageData.queries.baseURL,sanitize:!0};for(let o of t.entries())n.get[o[0]]=o[1];let a=this.section.cacheKey;this.$store.dispatch("popup/getContent",{params:n,cacheKey:a})},clearForm(e){let t=new FormData(e.target.form),n=[];for(let a of t.entries())n.push(a[0]);this.$store.commit("popup/CLEAN_MODEL_PATH_VALUES",{path:"filters",row:null,fields:n})},fieldType(e,t){let n="";return Object.hasOwn(t.field,"type")?n=t.field.type:e&&Object.hasOwn(e,"function")?n=e.function.name:Object.hasOwn(t.field,"fields")?n="multiField":e&&Object.hasOwn(e,"type")&&(n=e.type),(e&&Object.hasOwn(e,"readonly")&&e.readonly||Object.hasOwn(t.field,"readonly")&&t.field.readonly||Object.hasOwn(t.field,"displayParams")&&Object.hasOwn(t.field.displayParams,"readonly")&&t.field.displayParams.readonly)&&(n="readonly"),n},fieldTemplate(e){return p["default"][e]}}},f=n(40089);const g=(0,f.Z)(h,[["render",m]]);var v=g},28476:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return G}});var a=n(73396),o=n(87139);const s={class:"card"},i={class:"card-header"},r={class:"card-title"},l={class:"card-tools"},d={key:0,class:"pagination pagination-sm float-right"},c=["title"],u=(0,a._)("a",{class:"page-link",href:"javascript:void(0)"},[(0,a._)("i",{class:"fas fa-angle-double-left"})],-1),m=[u],p=["title"],h=(0,a._)("a",{class:"page-link",href:"javascript:void(0)"},[(0,a._)("i",{class:"fas fa-angle-left"})],-1),f=[h],g={class:"page-item disabled"},v={class:"page-link",href:"javascript:void(0)"},b=["title"],w=(0,a._)("a",{class:"page-link",href:"javascript:void(0)"},[(0,a._)("i",{class:"fas fa-angle-right"})],-1),y=[w],_=["title"],C=(0,a._)("a",{class:"page-link",href:"javascript:void(0)"},[(0,a._)("i",{class:"fas fa-angle-double-right"})],-1),D=[C],x={class:"card-body p-0"},k={class:"table-responsive"},E={class:"card-footer"},S={class:"d-sm-flex justify-content-end"},A={class:"card-tools"},T={key:0,class:"pagination pagination-sm float-right"},O=["title"],L=(0,a._)("a",{class:"page-link",href:"javascript:void(0)"},[(0,a._)("i",{class:"fas fa-angle-double-left"})],-1),P=[L],M=["title"],B=(0,a._)("a",{class:"page-link",href:"javascript:void(0)"},[(0,a._)("i",{class:"fas fa-angle-left"})],-1),I=[B],R={class:"page-item disabled"},F={class:"page-link",href:"javascript:void(0)"},N=["title"],V=(0,a._)("a",{class:"page-link",href:"javascript:void(0)"},[(0,a._)("i",{class:"fas fa-angle-right"})],-1),U=[V],H=["title"],z=(0,a._)("a",{class:"page-link",href:"javascript:void(0)"},[(0,a._)("i",{class:"fas fa-angle-double-right"})],-1),j=[z];function Z(e,t,n,u,h,w){const C=(0,a.up)("daTable");return(0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("div",i,[(0,a._)("h3",r,(0,o.zw)(w.listString[w.pageData.bean.moduleName]),1),(0,a._)("div",l,[w.showPagination("all")?((0,a.wg)(),(0,a.iD)("ul",d,[w.showPagination("prev")?((0,a.wg)(),(0,a.iD)("li",{key:0,class:"page-item",name:"listViewStartButton",title:e.DOAPP.utils.translate("LNK_LIST_START"),onClick:t[0]||(t[0]=e=>w.changePage("startPage"))},m,8,c)):(0,a.kq)("",!0),w.showPagination("prev")?((0,a.wg)(),(0,a.iD)("li",{key:1,class:"page-item",id:"listViewPrevButton_top",name:"listViewPrevButton",title:e.DOAPP.utils.translate("LNK_LIST_PREVIOUS"),onClick:t[1]||(t[1]=e=>w.changePage("prevPage"))},f,8,p)):(0,a.kq)("",!0),(0,a._)("li",g,[(0,a._)("a",v,(0,o.zw)(Number(w.pagination.current)+1)+" - "+(0,o.zw)(w.pagination.lastOffsetOnPage+" "+e.DOAPP.utils.translate("LBL_LIST_OF")+" "+w.pagination.total),1)]),w.showPagination("next")?((0,a.wg)(),(0,a.iD)("li",{key:2,class:"page-item",id:"listViewNextButton_top",name:"listViewNextButton",title:e.DOAPP.utils.translate("LNK_LIST_NEXT"),onClick:t[2]||(t[2]=e=>w.changePage("nextPage"))},y,8,b)):(0,a.kq)("",!0),w.showPagination("next")?((0,a.wg)(),(0,a.iD)("li",{key:3,class:"page-item",id:"listViewEndButton_top",name:"listViewEndButton",title:e.DOAPP.utils.translate("LNK_LIST_END"),onClick:t[3]||(t[3]=e=>w.changePage("endPage"))},D,8,_)):(0,a.kq)("",!0)])):(0,a.kq)("",!0)])]),(0,a._)("div",x,[(0,a._)("div",k,[w.pageData?((0,a.wg)(),(0,a.j4)(C,{key:Date.now(),onSortHandler:w.sortHandler,onReturnHandler:w.setReturnHandler,tableId:"listView",name:w.pageData.bean.moduleDir+"_listView",module:w.pageData.bean.moduleDir,viewData:w.viewData,pageData:w.pageData,viewOptions:{view:"relate"}},null,8,["onSortHandler","onReturnHandler","name","module","viewData","pageData"])):(0,a.kq)("",!0)])]),(0,a._)("div",E,[(0,a._)("div",S,[(0,a._)("div",A,[w.showPagination("all")?((0,a.wg)(),(0,a.iD)("ul",T,[w.showPagination("prev")?((0,a.wg)(),(0,a.iD)("li",{key:0,class:"page-item",name:"listViewStartButton",title:e.DOAPP.utils.translate("LNK_LIST_START"),onClick:t[4]||(t[4]=e=>w.changePage("startPage"))},P,8,O)):(0,a.kq)("",!0),w.showPagination("prev")?((0,a.wg)(),(0,a.iD)("li",{key:1,class:"page-item",id:"listViewPrevButton_top",name:"listViewPrevButton",title:e.DOAPP.utils.translate("LNK_LIST_PREVIOUS"),onClick:t[5]||(t[5]=e=>w.changePage("prevPage"))},I,8,M)):(0,a.kq)("",!0),(0,a._)("li",R,[(0,a._)("a",F,(0,o.zw)(Number(w.pagination.current)+1)+" - "+(0,o.zw)(w.pagination.lastOffsetOnPage+" "+e.DOAPP.utils.translate("LBL_LIST_OF")+" "+w.pagination.total),1)]),w.showPagination("next")?((0,a.wg)(),(0,a.iD)("li",{key:2,class:"page-item",id:"listViewNextButton_top",name:"listViewNextButton",title:e.DOAPP.utils.translate("LNK_LIST_NEXT"),onClick:t[6]||(t[6]=e=>w.changePage("nextPage"))},U,8,N)):(0,a.kq)("",!0),w.showPagination("next")?((0,a.wg)(),(0,a.iD)("li",{key:3,class:"page-item",id:"listViewEndButton_top",name:"listViewEndButton",title:e.DOAPP.utils.translate("LNK_LIST_END"),onClick:t[7]||(t[7]=e=>w.changePage("endPage"))},j,8,H)):(0,a.kq)("",!0)])):(0,a.kq)("",!0)])])])])}var q=n(66321),$={name:"RelateTable",components:{daTable:q["default"]},props:{section:{type:Object},view:{type:String}},computed:{beanData(){return Object.assign({},this.section.data.beanData,this.section.data.beanDataCustom)},viewData(){return this.section.data.viewData},pageData(){return this.section.data.pageData},listString(){return this.$store.state.app.list_strings.moduleList},viewType(){return this.$store.getters["popup/getPopupType"]},pagination(){return this.pageData.offsets},inlineEditRowIndex(){return!!Object.hasOwn(this.section.data,"inlineEditRowIndex")&&this.section.data.inlineEditRowIndex}},methods:{sortHandler(e){let t={get:this.pageData.queries.orderBy,sanitize:!0};t.get.orderBy=e,t.get.sortOrder=this.pageData.ordering.sortOrder,this.$store.dispatch("popup/getContent",{params:t})},toggleRecord(e){this.$emit("toggleRecord",e)},showPagination(e){let t="";switch(e){case"all":t=-1!=this.pagination.prev||-1!=this.pagination.next;break;case"prev":t=-1!=this.pagination.prev;break;case"next":t=-1!=this.pagination.next;break}return t},changePage(e){let t={get:this.pageData.queries[e],sanitize:!0};this.$store.dispatch("popup/getContent",{params:t})},emitSelected(e){this.$emit("emit-selected",e)},returnRelate(e){let t={},n=this.getIndex(e["ID"]),a=this.pageData.queries.baseURL.field_to_name,o=this.DOAPP.cache.getValue(this.section.cacheKey);for(let s in a)t[s]=this.viewData.data[n[1][0]][a[s].toUpperCase()];o?this.$store.dispatch("popup/setPathRelateSelected",{result:t,vuexAddress:o}):this.$store.dispatch("popup/setRelateSelected",t),this.$store.dispatch("popup/hide")},getIndex(e){return[e,this.pageData.idIndex[e]]},returnListRelate(e){console.log("returnListRelate");let t=[e["ID"],this.pageData.idIndex[e["ID"]]],n=this.pageData.queries.baseURL.field_to_name;for(let a in n)this.$store.commit("focus/UPDATE_MODEL_LIST_VALUE",{name:a.toUpperCase(),value:this.viewData.data[t[1][0]][n[a].toUpperCase()],row:this.inlineEditRowIndex});this.$store.dispatch("popup/hide")},setReturnHandler(e){this.$store.getters["popup/getNeedConfirm"]?this.DOAPP.swal.getConfirmToast({title:this.DOAPP.utils.translate("LBL_CONFIRM_APPLY_EMAIL_TEMPLATE_TITLE","Emails"),text:this.DOAPP.utils.translate("LBL_CONFIRM_APPLY_EMAIL_TEMPLATE_BODY","Emails"),onConfirmed:()=>this.returnRelate(e)}):!1!==this.inlineEditRowIndex?this.returnListRelate(e):this.returnRelate(e)}}},W=n(40089);const K=(0,W.Z)($,[["render",Z]]);var G=K},90441:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var a=n(73396),o=n(87139),s=n(49242);const i={class:"row"},r={class:"form-group col-lg-12 mb-4"},l=(0,a._)("span",{class:"error-msg"},null,-1),d={class:"col"},c={class:"truncate-label"},u={class:"col mb-2"},m={class:"form-check mb-2"},p={class:"form-check-label",for:"reminder_popup"},h=["label","value"],f={class:"col mb-4"},g={class:"form-check mb-2"},v={class:"form-check-label",for:"reminder_email"},b=["label","value"];function w(e,t,n,w,y,_){return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",r,[l,(0,a._)("div",d,[(0,a._)("label",c,(0,o.zw)(e.DOAPP.utils.translate("LBL_REMINDERS_ACTIONS",e.section.data.module)),1)]),(0,a._)("div",u,[(0,a._)("div",m,[(0,a.wy)((0,a._)("input",{type:"checkbox",class:"form-check-input",id:"reminder_popup","true-value":"1","false-value":"0","onUpdate:modelValue":t[0]||(t[0]=e=>y.reminderDefaultValue.popup=e)},null,512),[[s.e8,y.reminderDefaultValue.popup]]),(0,a._)("label",p,(0,o.zw)(e.DOAPP.utils.translate("LBL_REMINDERS_POPUP",e.section.data.module)),1)]),(0,a.wy)((0,a._)("select",{class:"custom-select",tabindex:"0","onUpdate:modelValue":t[1]||(t[1]=e=>y.reminderDefaultValue.timer_popup=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(_.reminders.reminder_time_options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,label:e,value:t},(0,o.zw)(e),9,h)))),128))],512),[[s.bM,y.reminderDefaultValue.timer_popup]])]),(0,a._)("div",f,[(0,a._)("div",g,[(0,a.wy)((0,a._)("input",{type:"checkbox",class:"form-check-input",id:"reminder_email","true-value":"1","false-value":"0","onUpdate:modelValue":t[2]||(t[2]=e=>y.reminderDefaultValue.email=e)},null,512),[[s.e8,y.reminderDefaultValue.email]]),(0,a._)("label",v,(0,o.zw)(e.DOAPP.utils.translate("LBL_REMINDERS_EMAIL",e.section.data.module)),1)]),(0,a.wy)((0,a._)("select",{class:"custom-select",tabindex:"0","onUpdate:modelValue":t[3]||(t[3]=e=>y.reminderDefaultValue.timer_email=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.section.data.reminders.reminder_time_options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,label:e,value:t},(0,o.zw)(e),9,b)))),128))],512),[[s.bM,y.reminderDefaultValue.timer_email]])]),(0,a._)("button",{onClick:t[4]||(t[4]=(...e)=>_.hidePopup&&_.hidePopup(...e)),class:"btn btn-danger float-left"},(0,o.zw)(e.DOAPP.utils.translate("LBL_CANCEL",e.section.data.module)),1),(0,a._)("button",{onClick:t[5]||(t[5]=(...e)=>_.appendReminder&&_.appendReminder(...e)),class:"btn btn-success float-right"},(0,o.zw)(e.DOAPP.utils.translate("LBL_SAVE_BUTTON","Home")),1)])])}n(57658);var y=n(36633),_={name:"ReminderBody",extends:y["default"],data(){return{reminderDefaultValue:{}}},beforeMount(){this.reminderDefaultValue=Object.assign({},this.reminders.remindersDefaultValuesData)},computed:{reminders:{get(){return this.section.data.reminders},set(e){this.$store.dispatch("focus/updateModelValue",{name:"reminders",value:e})}}},methods:{appendReminder(){let e=Object.assign({},this.section.data.reminders);e.remindersData.push(this.reminderDefaultValue),this.reminders=e,this.hidePopup()},hidePopup(){window.$("#modalLoader").modal("hide")}}},C=n(40089);const D=(0,C.Z)(_,[["render",w]]);var x=D},46712:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var a=n(73396),o=n(87139);const s={name:"RescheduleHistoryForm"},i=["id"];function r(e,t,n,r,l,d){return(0,a.wg)(),(0,a.iD)("form",s,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.section.data.fields,((e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:t},[((0,a.wg)(),(0,a.j4)((0,a.LL)(d.fieldTemplate(e.type)),{name:t,module:this.section.data.module,record:this.section.data.record,metadata:this.section.data.metadata[t],beanData:this.section.data.beanData[t],style:{"max-width":"unset"},class:"is-invalid"},null,8,["name","module","record","metadata","beanData"])),(0,a._)("span",{id:this.section.data.error[t].id,class:"error invalid-feedback position-absolute text-truncate",style:{"margin-top":"-1rem","padding-left":"0.5rem",display:"none"}},(0,o.zw)(this.section.data.error[t].msg),9,i)],64)))),128))])}var l=n(36633),d=n(64479),c={name:"RescheduleHistoryBody",extends:l["default"],computed:{options(){return this.$store.state.app.list_strings.call_reschedule_dom}},methods:{fieldTemplate(e){return d["default"][e]}}},u=n(40089);const m=(0,u.Z)(c,[["render",r]]);var p=m},40609:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var a=n(73396);const o=["innerHTML"],s={class:"card"},i={class:"card-body p-0"},r={class:"table-responsive"};function l(e,t,n,l,d,c){const u=(0,a.up)("daTable");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("p",{class:"mb-1",innerHTML:c.annotationString},null,8,o),(0,a._)("div",s,[(0,a._)("div",i,[(0,a._)("div",r,[c.pageData?((0,a.wg)(),(0,a.j4)(u,{key:Date.now(),tableId:"showDuplicates",name:"showDuplicates",module:this.pageData.bean.moduleName,viewData:c.viewData,pageData:c.pageData,viewOptions:{view:"showDuplicates"}},null,8,["module","viewData","pageData"])):(0,a.kq)("",!0)])])])],64)}var d=n(36633),c=n(66321),u={name:"SowDuplicatesBody",extends:d["default"],components:{daTable:c["default"]},computed:{viewData(){return this.section.data.viewData},pageData(){return this.section.data.pageData},viewType(){return this.$store.getters["popup/getPopupType"]},annotationString(){return this.DOAPP.utils.translate("MSG_SHOW_DUPLICATES",this.pageData.bean.moduleName).replace("{0}","")}}},m=n(40089);const p=(0,m.Z)(u,[["render",l]]);var h=p},76690:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var a=n(73396);const o={class:"ml-auto mb-2 d-flex",style:{width:"fit-content"}},s=["title"],i=(0,a._)("i",{class:"bi bi-send"},null,-1),r=[i],l=["title"],d=(0,a._)("i",{class:"bi bi-paperclip"},null,-1),c=[d],u=["title"],m=(0,a._)("i",{class:"bi bi-file-earmark-arrow-down"},null,-1),p=[m],h=["title"],f=(0,a._)("i",{class:"far fa-save"},null,-1),g=[f],v=["title"],b=(0,a._)("i",{class:"bi bi-trash"},null,-1),w=[b];function y(e,t,n,i,d,m){return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("button",{class:"btn btn-sm btn-outline-info w-100 mr-2 ml-2",type:"button",title:e.DOAPP.utils.translate("LBL_SEND_BUTTON_TITLE","Emails"),onClick:t[0]||(t[0]=(...e)=>m.sendEmail&&m.sendEmail(...e)),form:"EditView"},r,8,s),(0,a._)("input",{class:"custom-file-input",ref:"file",name:"email_attachment[]",type:"file",id:"attach",onChange:t[1]||(t[1]=(...e)=>m.onFileChange&&m.onFileChange(...e)),multiple:"true",hidden:"hidden"},null,544),(0,a._)("button",{class:"btn btn-sm btn-outline-info w-100 mr-2 ml-2",type:"button",title:e.DOAPP.utils.translate("LBL_ATTACH_FILES","Emails"),onClick:t[2]||(t[2]=(...e)=>m.attachFile&&m.attachFile(...e)),form:"EditView"},c,8,l),(0,a._)("button",{class:"btn btn-sm btn-outline-info w-100 mr-2 ml-2",type:"button",title:e.DOAPP.utils.translate("LBL_ATTACH_DOCUMENTS","Emails"),onClick:t[3]||(t[3]=e=>m.chooseDocument())},p,8,u),(0,a._)("button",{class:"btn btn-sm btn-outline-info w-100 mr-2 ml-2",type:"button",title:e.DOAPP.utils.translate("LBL_SAVE_AS_DRAFT_BUTTON_TITLE","Emails"),onClick:t[4]||(t[4]=(...e)=>m.saveDraft&&m.saveDraft(...e)),form:"EditView"},g,8,h),(0,a._)("button",{class:"btn btn-sm btn-outline-info w-100 mr-2 ml-2",type:"button",title:e.DOAPP.utils.translate("LBL_DISREGARD_DRAFT_BUTTON_TITLE","Emails"),onClick:t[5]||(t[5]=(...e)=>m.disregardDraft&&m.disregardDraft(...e)),form:"EditView"},w,8,v)])}n(82801),n(61295),n(57658);var _=n(83200),C={name:"ComposeViewFooter",extends:_["default"],data(){return{countDoc:0}},computed:{beanData(){return this.$store.getters["popup/getPopupBodyData"].beanData},attachment(){return""===this.beanData.attachment.value?[]:this.beanData.attachment.value}},methods:{getLinkParams(){let e={get:{module:"Documents",action:"Popup",mode:"single",create:!0,field_to_name:{}},sanitize:!0},t=this.getCount(),n=this.getDocumentName(t),a=this.getDocumentId(t);return e.get.field_to_name[n]="name",e.get.field_to_name[a]="id",e},getCount(){let e=1;for(const t in this.beanData)t.includes("documentId")&&this.beanData[t].value&&(e+=1);return e},getDocumentName(e){return"documentName"+e},getDocumentId(e){return"documentId"+e},validationForm(e){console.log("validateForm");let t=!0;for(let n of e.entries())!1===this.DOAPP.validate.validateHandler(n[0],n[1],this.beanData[n[0]],"popup")&&(t=!1);return t},async sendEmail(e){let t=new FormData(e.currentTarget.form);if(!this.validationForm(t))return void this.DOAPP.swal.getErrorToast();if(!this.beanData.name.value)return void this.DOAPP.swal.getErrorToast(this.DOAPP.utils.translate("LBL_HAS_EMPTY_EMAIL_SUBJECT","Emails"));t.set("module","Emails"),t.set("refer_action","ComposeView"),t.set("action","send"),t.set("send",1),t.set("type","out"),t.set("record",this.section.data.record);let n=await this.$store.dispatch("ajaxPost",{get:{module:"Emails",action:"send"},data:t},{root:!0});Object.hasOwn(n,"errors")&&0!==Object.keys(n.errors).length?this.DOAPP.swal.getErrorToast(n.errors.title):(this.$store.dispatch("popup/reset"),this.DOAPP.swal.getSuccessToast(n.data.title))},disregardDraft(e){let t=new FormData(e.currentTarget.form);t.set("module","Emails"),t.set("refer_action","ComposeView"),t.set("action","DeleteDraft"),t.set("send",0),t.set("type","out"),t.set("record",this.section.data.record),this.DOAPP.swal.getConfirmToast({title:this.DOAPP.utils.translate("LBL_CONFIRM_DISREGARD_DRAFT_TITLE","Emails"),text:this.DOAPP.utils.translate("LBL_CONFIRM_DISREGARD_DRAFT_BODY","Emails"),onConfirmed:()=>this.confirmDelete(t)})},async confirmDelete(e){await this.$store.dispatch("ajaxPost",{get:{module:"Emails"},data:e},{root:!0}),this.$store.dispatch("popup/hide")},async saveDraft(e){let t=new FormData(e.currentTarget.form);if(!this.validationForm(t))return void this.DOAPP.swal.getErrorToast();if(!this.beanData.name.value)return void this.DOAPP.swal.getErrorToast(this.DOAPP.utils.translate("LBL_HAS_EMPTY_EMAIL_SUBJECT","Emails"));t.set("module","Emails"),t.set("refer_action","ComposeView"),t.set("action","SaveDraft"),t.set("send",0),t.set("type","out"),t.set("record",this.section.data.record);let n=await this.$store.dispatch("ajaxPost",{get:{module:"Emails"},data:t},{root:!0});"undefined"!==typeof n.errors?this.DOAPP.swal.getErrorToast(n.errors.title):(this.DOAPP.swal.getSuccessToast(this.DOAPP.utils.translate("LBL_EMAIL_DRAFT_SAVED","Emails")),this.checkForDraftAttachments(n.data.id))},chooseDocument(){let e=this.getLinkParams();this.$store.dispatch("popup/addNewPopup"),this.$store.dispatch("popup/setSize","xl"),this.$store.dispatch("popup/getContent",{params:e})},async checkForDraftAttachments(e){let t=await this.$store.dispatch("ajaxGet",{get:{module:"Emails",action:"GetDraftAttachmentData",id:e}});if("undefined"!==typeof t.data){let e={};e=t.data.draft?{inputName:"dummy_attachment[]",removeName:"remove_attachment[]"}:{inputName:"template_attachment[]",removeName:"temp_remove_attachment[]"},this.$store.dispatch("popup/updateModelValue",{name:"template_attachments",value:{name:e,data:t.data.attachments}})}"undefined"!==typeof t.errors&&this.DOAPP.swal.getErrorToast(t.errors.title)},attachFile(){this.$refs.file.click()},onFileChange(){let e=structuredClone(this.attachment);e.push(this.$refs.file.files[0]),this.$store.dispatch("popup/updateModelValue",{name:"attachment",value:e})}}},D=n(40089);const x=(0,D.Z)(C,[["render",y]]);var k=x},93777:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var a=n(73396),o=n(87139);function s(e,t,n,s,i,r){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("button",{type:"button",class:"btn btn-default","data-dismiss":"modal",onClick:t[0]||(t[0]=(...t)=>e.hidePopup&&e.hidePopup(...t))},(0,o.zw)(e.DOAPP.utils.translate("LBL_CANCEL","Home")),1),(0,a._)("button",{type:"button",form:"addTabForm",class:"btn btn-primary","data-dismiss":"modal",onClick:t[1]||(t[1]=(...t)=>e.section.data.onConfirm&&e.section.data.onConfirm(...t))},(0,o.zw)(e.DOAPP.utils.translate("LBL_ADD_TAB","Home")),1)],64)}var i=n(83200),r={name:"DashPageAddFooter",extends:i["default"]},l=n(40089);const d=(0,l.Z)(r,[["render",s]]);var c=d},24715:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var a=n(73396),o=n(87139);function s(e,t,n,s,i,r){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("button",{type:"button",class:"btn btn-default","data-dismiss":"modal",onClick:t[0]||(t[0]=(...t)=>e.hidePopup&&e.hidePopup(...t))},(0,o.zw)(e.DOAPP.utils.translate("LBL_CANCEL","Home")),1),(0,a._)("button",{type:"button",form:"renameTabForm",class:"btn btn-primary","data-dismiss":"modal",onClick:t[1]||(t[1]=(...t)=>e.section.data.onConfirm&&e.section.data.onConfirm(...t))},(0,o.zw)(e.DOAPP.utils.translate("LBL_APPLY_BUTTON","Home")),1)],64)}var i=n(83200),r={name:"DashPageRenameFooter",extends:i["default"]},l=n(40089);const d=(0,l.Z)(r,[["render",s]]);var c=d},93591:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var a=n(73396),o=n(87139);function s(e,t,n,s,i,r){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",onClick:t[0]||(t[0]=(...e)=>r.refuseHandler&&r.refuseHandler(...e))},(0,o.zw)(r.lblRefuse),1),r.confirmHandler?((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",class:"btn btn-primary",onClick:t[1]||(t[1]=(...e)=>r.confirmHandler&&r.confirmHandler(...e))},(0,o.zw)(r.lblConfirm),1)):(0,a.kq)("",!0)],64)}var i=n(83200),r={name:"InfoFooter",extends:i["default"],computed:{confirmHandler(){return this.section.data.onConfirm},refuseHandler(){return this.section.data.onRefuse?this.section.data.onRefuse:this.hidePopup},lblConfirm(){return this.section.data.lblConfirm?this.section.data.lblConfirm:this.DOAPP.utils.translate("LBL_SUBMIT_BUTTON_LABEL")},lblRefuse(){return this.section.data.lblRefuse?this.section.data.lblRefuse:this.DOAPP.utils.translate("LBL_CLOSE_BUTTON_TITLE")}}},l=n(40089);const d=(0,l.Z)(r,[["render",s]]);var c=d},24026:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var a=n(73396);function o(e,t,n,o,s,i){const r=(0,a.up)("CancelButton"),l=(0,a.up)("UpdateButton");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r,{"page-data":i.pageData,"get-data":{},"display-type":"separate",name:"CancelButton"},null,8,["page-data"]),(0,a.Wm)(l,{"page-data":i.pageData,"get-data":{},"display-type":"main",name:"UpdateButton"},null,8,["page-data"])],64)}var s=n(83200),i=n(79463),r=n(7896),l={name:"MassUpdateFooter",components:{CancelButton:i["default"],UpdateButton:r["default"]},extends:s["default"],provide(){return{view:"modal",state:"mass_actions"}},computed:{module(){return this.$store.state.mass_actions.data.body.module},pageData(){return{all:this.$store.state.mass_actions.all,uids:this.$store.state.mass_actions.uids,module:this.module,total:this.$store.state.focus.data.pageData.offsets.total}}}},d=n(40089);const c=(0,d.Z)(l,[["render",o]]);var u=c},51858:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var a=n(73396);const o={class:"btn-group"};function s(e,t,n,s,i,r){const l=(0,a.up)("CancelButton"),d=(0,a.up)("ShowAllFieldsButton"),c=(0,a.up)("SaveButton");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(l,{beanData:r.beanData,"page-data":r.pageData,"get-data":r.getData,"display-type":"separate",name:"CancelButton"},null,8,["beanData","page-data","get-data"]),(0,a.Wm)(d,{beanData:r.beanData,"page-data":r.pageData,"get-data":r.getData,"display-type":"separate",name:"ShowAllFieldsButton"},null,8,["beanData","page-data","get-data"]),(0,a.Wm)(c,{customClick:e.section.data.onConfirm,beanData:r.beanData,"page-data":r.pageData,"get-data":r.getData,"display-type":"main",name:"SaveButton"},null,8,["customClick","beanData","page-data","get-data"])])}var i=n(83200),r=n(88738),l=n(79463),d=n(33248),c={name:"QuickCreateFooter",components:{ShowAllFieldsButton:d["default"],CancelButton:l["default"],SaveButton:r["default"]},extends:i["default"],provide(){return{view:"modal",state:"popup"}},computed:{pageData(){return this.$store.state.popup[this.popupName].body.data.pageData},getData(){return this.$route.query},beanData(){return this.$store.state.popup[this.popupName].body.data.beanData}},methods:{openPopup(){console.log("Popup here")}}},u=n(40089);const m=(0,u.Z)(c,[["render",s]]);var p=m},97477:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(27480),o={name:"InfoHeader",extends:a["default"]};const s=o;var i=s},66393:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(27480),o={name:"QuickCreateHeader",extends:a["default"],provide(){return{view:"modal",state:"popup"}}};const s=o;var i=s},45806:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var a=n(73396),o=n(87139);function s(e,t,n,s,i,r){const l=(0,a.up)("NavbarLeft"),d=(0,a.up)("NavbarRight");return(0,a.wg)(),(0,a.iD)("nav",{class:(0,o.C_)(["main-header navbar navbar-expand",r.themeClass])},[(0,a.Wm)(l),(0,a.Wm)(d)],2)}var i=n(67729),r=n(98531),l={name:"TheNavbar",components:{NavbarLeft:i["default"],NavbarRight:r["default"]},computed:{themeClass(){let e=this.$store.getters["app/isDarkMode"];return e?"navbar-dark":"navbar-white navbar-light"}}},d=n(40089);const c=(0,d.Z)(l,[["render",s]]);var u=c},67729:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var a=n(73396),o=n(87139),s=n(49242);const i=e=>((0,a.dD)("data-v-465b3f5b"),e=e(),(0,a.Cn)(),e),r={class:"navbar-nav"},l={class:"nav-item"},d=i((()=>(0,a._)("i",{class:"fas fa-bars"},null,-1))),c=[d],u={class:"nav-item d-none d-sm-inline-block"},m={class:"nav-item dropdown"},p=i((()=>(0,a._)("a",{class:"nav-link","data-toggle":"dropdown",href:"#","aria-expanded":"false"},[(0,a._)("i",{class:"far fa-bookmark"})],-1))),h={id:"bookmark",class:"dropdown-menu dropdown-menu-lg",style:{left:"0px",right:"inherit"}},f={class:"dropdown-item dropdown-header"},g=i((()=>(0,a._)("div",{class:"dropdown-divider"},null,-1))),v=["title"],b=i((()=>(0,a._)("div",{class:"dropdown-item dropdown-footer"},null,-1))),w={key:0,class:"ml-auto text-muted"},y=i((()=>(0,a._)("span",{class:"spinner-border spinner-border-sm",role:"status"},null,-1))),_={class:"ml-2 d-none d-sm-inline-block"};function C(e,t,n,i,d,C){const D=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("ul",r,[(0,a._)("li",l,[(0,a._)("a",{class:"nav-link",onClick:t[0]||(t[0]=(...e)=>C.pushMenu&&C.pushMenu(...e)),role:"button"},c)]),(0,a._)("li",u,[(0,a.Wm)(D,{to:"?module="+C.module+"&action=ListView",class:"nav-link",role:"button"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(this.moduleLabel(C.module)),1)])),_:1},8,["to"])]),(0,a._)("li",m,[p,(0,a._)("div",h,[(0,a._)("div",f,(0,o.zw)(this.$store.state.app.lang.LBL_FAVORITES),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(C.favorites,(e=>((0,a.wg)(),(0,a.iD)(a.HY,{key:e.id},[g,(0,a.Wm)(D,{to:"?module="+e.module_name+"&action=DetailView&record="+e.id},{default:(0,a.w5)((()=>[(0,a._)("div",{class:"dropdown-item",title:this.moduleLabel(e.module_name)},[(0,a._)("i",{class:(0,o.C_)(["mr-2","nav-icon far suitepicon suitepicon-module-"+e.module_name.toLowerCase()])},null,2),(0,a.Uk)(" "+(0,o.zw)(e.item_summary),1)],8,v)])),_:2},1032,["to"])],64)))),128)),b])])]),(0,a.Wm)(s.uT,null,{default:(0,a.w5)((()=>[C.loading?((0,a.wg)(),(0,a.iD)("div",w,[y,(0,a._)("span",_,(0,o.zw)(e.DOAPP.utils.translate("LBL_LOADING")),1)])):(0,a.kq)("",!0)])),_:1})],64)}var D={name:"NavbarLeft",computed:{module(){return this.$store.state.focus.get.module},moduleList(){return this.$store.state.app.modules},favorites(){return this.$store.state.focus.favoriteRecords},loading(){return this.$store.state.app.loading}},methods:{moduleLabel(e){return this.moduleList[e]?.module_label},pushMenu(){let e=this.$store.state.app.setting;console.log("pushMenu");let t=this.$el.parentElement.parentElement.parentElement;t.classList.toggle("sidebar-collapse");let n=t.classList.contains("sidebar-collapse");n?(t.classList.remove("sidebar-open"),t.classList.add("sidebar-closed")):(t.classList.add("sidebar-open"),t.classList.remove("sidebar-closed")),e.theme.sideBarCollapse=n,this.$store.dispatch("app/setSettings",e)}}},x=n(40089);const k=(0,x.Z)(D,[["render",C],["__scopeId","data-v-465b3f5b"]]);var E=k},98531:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var a=n(73396),o=n(87139);const s={class:"navbar-nav ml-auto"},i={id:"quickcreatetop",class:"nav-item dropdown d-none d-sm-inline"},r=["title"],l=(0,a._)("i",{class:"far fa-plus-square"},null,-1),d=[l],c={class:"dropdown-menu border-0 shadow",style:{left:"0px",right:"inherit"}};function u(e,t,n,l,u,m){const p=(0,a.up)("NavbarRightSearch"),h=(0,a.up)("router-link"),f=(0,a.up)("NavbarRightNotifications"),g=(0,a.up)("NavbarRightUser"),v=(0,a.up)("NavbarRightWidgets");return(0,a.wg)(),(0,a.iD)("ul",s,[(0,a.Wm)(p),(0,a._)("li",i,[(0,a._)("a",{class:"nav-link","data-toggle":"dropdown",href:"#",title:e.DOAPP.utils.translate("LBL_QUICK_CREATE"),role:"button","aria-expanded":"true"},d,8,r),(0,a._)("ul",c,[(0,a._)("li",null,[(0,a.Wm)(h,{class:"dropdown-item text-sm",to:"?module=Accounts&action=EditView&return_module=Accounts&return_action=DetailView"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.DOAPP.utils.translate("LBL_QUICK_CREATE"))+" "+(0,o.zw)(e.DOAPP.utils.translate("LBL_ACCOUNTS")),1)])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(h,{class:"dropdown-item text-sm",to:"?module=Contacts&action=EditView&return_module=Contacts&return_action=DetailView"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.DOAPP.utils.translate("LBL_QUICK_CREATE"))+" "+(0,o.zw)(e.DOAPP.utils.translate("LBL_CONTACTS")),1)])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(h,{class:"dropdown-item text-sm",to:"?module=Opportunities&action=EditView&return_module=Opportunities&return_action=DetailView"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.DOAPP.utils.translate("LBL_QUICK_CREATE"))+" "+(0,o.zw)(e.DOAPP.utils.translate("LBL_OPPORTUNITIES")),1)])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(h,{class:"dropdown-item text-sm",to:"?module=Leads&action=EditView&return_module=Leads&return_action=DetailView"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.DOAPP.utils.translate("LBL_QUICK_CREATE"))+" "+(0,o.zw)(e.DOAPP.utils.translate("LBL_LEADS")),1)])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(h,{class:"dropdown-item text-sm",to:"?module=Documents&action=EditView&return_module=Documents&return_action=DetailView"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.DOAPP.utils.translate("LBL_QUICK_CREATE"))+" "+(0,o.zw)(e.DOAPP.utils.translate("LBL_DOCUMENTS")),1)])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(h,{class:"dropdown-item text-sm",to:"?module=Calls&action=EditView&return_module=Calls&return_action=DetailView"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.DOAPP.utils.translate("LBL_QUICK_CREATE"))+" "+(0,o.zw)(e.DOAPP.utils.translate("LBL_CALLS")),1)])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(h,{class:"dropdown-item text-sm",to:"?module=Tasks&action=EditView&return_module=Tasks&return_action=DetailView"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.DOAPP.utils.translate("LBL_QUICK_CREATE"))+" "+(0,o.zw)(e.DOAPP.utils.translate("LBL_TASKS")),1)])),_:1})])])]),(0,a.Wm)(f),(0,a.Wm)(g),(0,a.Wm)(v)])}var m=n(9876),p=n(32425),h=n(32949),f=n(47502),g={name:"NavbarRight",components:{NavbarRightNotifications:f["default"],NavbarRightUser:h["default"],NavbarRightWidgets:p["default"],NavbarRightSearch:m["default"]}},v=n(40089);const b=(0,v.Z)(g,[["render",u]]);var w=b},47502:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var a=n(73396),o=n(87139);const s={id:"desktop_notifications",class:"desktop_notifications nav-item dropdown has-alerts show"},i={class:"nav-link","data-toggle":"dropdown",href:"#","aria-expanded":"true"},r=(0,a._)("i",{class:"far fa-bell"},null,-1),l={id:"alerts",class:"dropdown-menu dropdown-menu-lg dropdown-menu-right has-alerts",style:{left:"inherit",right:"0px"}},d={key:0,class:"clear-all-alerts-container"},c=(0,a._)("div",{class:"dropdown-divider"},null,-1),u={key:1,class:"clear-all-alerts-container"},m={class:"clear-all-alerts-btn dropdown-item dropdown-header"},p=(0,a._)("div",{class:"dropdown-divider"},null,-1),h={class:"text-info text-sm"},f=(0,a._)("span",{class:"suitepicon suitepicon-module-accounts mr-1"},null,-1),g={class:"text-info text-bold"},v={class:"alert-body"},b={class:"text-muted text-sm"},w=["onClick"],y=(0,a._)("span",{class:"float-right text-sm"},[(0,a._)("i",{class:"fas fa-times"})],-1),_=[y];function C(e,t,n,y,C,D){const x=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("li",s,[(0,a._)("a",i,[r,(0,a._)("span",{class:(0,o.C_)(["alertsButton alert_count badge navbar-badge",D.alertCount?"btn-danger":"btn-success"])},(0,o.zw)(D.alertCount),3)]),(0,a._)("div",l,[D.alertCount?((0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("a",{class:"clear-all-alerts-btn dropdown-item dropdown-header",onClick:t[0]||(t[0]=e=>D.closeAllAlerts())},"Clear All"),c])):((0,a.wg)(),(0,a.iD)("div",u,[(0,a._)("a",m,(0,o.zw)(e.DOAPP.utils.translate("LBL_NOTIFICATIONS_NONE")),1)])),p,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(D.getAlerts.alerts,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"dropdown-item alert alert-dismissible",key:e.id},[(0,a.Wm)(x,{to:"?module="+e.target_module+"&action=DetailView&record="+e.id},{default:(0,a.w5)((()=>[(0,a._)("div",h,[f,(0,a._)("strong",null,(0,o.zw)(e.target_module),1)]),(0,a._)("div",g,(0,o.zw)(e.name),1),(0,a._)("p",v,[(0,a._)("span",b,(0,o.zw)(e.description),1)])])),_:2},1032,["to"]),(0,a._)("button",{type:"button",class:"close","data-dismiss":"alert","aria-label":"Close",onClick:t=>D.alertMarkAsRead(e.id)},_,8,w)])))),128))])])}var D={name:"NavbarRightNotifications",data(){return{notifications:{alerts:[]}}},created(){setTimeout(this.alertGet,1e3)},mounted(){setInterval(this.alertGet,6e4)},computed:{alertCount(){return this.notifications.alerts.length},getAlerts(){return this.notifications}},methods:{closeAllAlerts(){this.notifications.alerts.forEach((e=>this.alertMarkAsRead(e.id)))},async alertMarkAsRead(e){let t={get:{module:"Alerts",action:"markAsRead",record:e,to_pdf:1},sanitize:!0};await this.$store.dispatch("ajaxGet",t),this.notifications.alerts=this.notifications.alerts.filter((t=>t.id!=e))},async alertGet(){let e={get:{module:"Alerts",action:"get",to_pdf:1}};this.notifications=await this.$store.dispatch("ajaxGet",e)}}},x=n(40089);const k=(0,x.Z)(D,[["render",C]]);var E=k},9876:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var a=n(73396),o=n(49242);const s={class:"nav-item"},i=["title"],r=(0,a._)("i",{class:"fas fa-search"},null,-1),l=[r],d={class:"navbar-search-block",id:"navbarSearchBlockDiv"},c={class:"input-group input-group-sm"},u=["title","placeholder"],m={class:"input-group-append"},p=(0,a._)("i",{class:"fas fa-search"},null,-1),h=[p],f=(0,a._)("button",{class:"btn btn-navbar",type:"button","data-widget":"navbar-search"},[(0,a._)("i",{class:"fas fa-times"})],-1);function g(e,t,n,r,p,g){return(0,a.wg)(),(0,a.iD)("li",s,[(0,a._)("a",{class:"nav-link",title:e.DOAPP.utils.translate("LBL_SEARCH"),"data-widget":"navbar-search",href:"#",role:"button"},l,8,i),(0,a._)("div",d,[(0,a._)("div",c,[(0,a.wy)((0,a._)("input",{class:"form-control form-control-navbar",title:e.DOAPP.utils.translate("LBL_SEARCH"),onKeyup:t[0]||(t[0]=(0,o.D2)(((...e)=>g.getGlobalSearch&&g.getGlobalSearch(...e)),["enter"])),"onUpdate:modelValue":t[1]||(t[1]=e=>p.search=e),name:"query_string",type:"text",placeholder:e.DOAPP.utils.translate("LBL_SEARCH"),"aria-label":"Search"},null,40,u),[[o.nr,p.search]]),(0,a._)("div",m,[(0,a._)("button",{onClick:t[2]||(t[2]=(...e)=>g.getGlobalSearch&&g.getGlobalSearch(...e)),type:"button",class:"btn btn-navbar"},h),f])])])])}n(57658);var v={name:"NavbarRightSearch",data(){return{search:""}},methods:{async getGlobalSearch(){let e={get:{module:"Home",action:"UnifiedSearch",search_form:!1,advanced:!1,query_string:this.search},sanitize:!0};const t=document.getElementById("navbarSearchBlockDiv");t.classList.remove("navbar-search-open"),t.style.display="none",this.$router.push({path:"/",query:e.get}),await this.$store.dispatch("focus/getFocus",e),this.search=""}}},b=n(40089);const w=(0,b.Z)(v,[["render",g]]);var y=w},32949:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}});var a=n(73396),o=n(87139);const s=e=>((0,a.dD)("data-v-cdca4de2"),e=e(),(0,a.Cn)(),e),i={class:"nav-item dropdown user-menu show"},r={href:"#",class:"nav-link dropdown-toggle","data-toggle":"dropdown","aria-expanded":"true"},l=s((()=>(0,a._)("div",{class:"d-block d-sm-none"},[(0,a._)("i",{class:"far fa-user"})],-1))),d=["src"],c={class:"d-none d-md-inline"},u={class:"dropdown-menu dropdown-menu-lg dropdown-menu-right",style:{left:"inherit",right:"0"}},m={class:"user-header bg-primary"},p=["src"],h={class:"user-body"},f={class:"row"},g={key:0,href:"https://community.suitecrm.com",target:"_blank"},v={class:"user-footer"};function b(e,t,n,s,b,w){const y=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("li",i,[(0,a._)("a",r,[l,(0,a._)("img",{src:e.user.data.photo?"../index.php?"+e.user.data.photo:"assets/vendor/img/user_default.png",class:"user-image img-circle elevation-2 d-none d-sm-inline",alt:"User Image"},null,8,d),(0,a._)("span",c,(0,o.zw)(e.user.data.firstName),1)]),(0,a._)("ul",u,[(0,a._)("li",m,[(0,a._)("img",{src:e.user.data.photo?"../index.php?"+e.user.data.photo:"assets/vendor/img/user_default.png",class:"img-circle elevation-2",alt:"User Image"},null,8,p),(0,a._)("p",null,[(0,a.Uk)((0,o.zw)(e.user.data.firstName+" "+e.user.data.lastName)+" ",1),(0,a._)("small",null,(0,o.zw)(e.user.data.title),1)])]),(0,a._)("li",h,[(0,a._)("div",f,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.user.gcls,(({TARGET:e,LABEL:t,URL:n})=>((0,a.wg)(),(0,a.iD)("div",{class:"media-body text-center",key:t},[e?((0,a.wg)(),(0,a.iD)("a",g,(0,o.zw)(t),1)):((0,a.wg)(),(0,a.j4)(y,{key:1,to:"?"+n},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t),1)])),_:2},1032,["to"]))])))),128))])]),(0,a._)("li",v,[(0,a.Wm)(y,{class:"btn btn-default btn-flat",to:"?module=Users&action=EditView&record="+e.user.data.id},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.app.lang.LBL_PROFILE),1)])),_:1},8,["to"]),(0,a._)("div",{class:"btn btn-default btn-flat float-right",onClick:t[0]||(t[0]=(...e)=>w.logout&&w.logout(...e))},(0,o.zw)(e.app.lang.LBL_LOGOUT),1)])])])}var w=n(20065),y={name:"NavbarRightUser",computed:{...(0,w.rn)({user:e=>e.user,app:e=>e.app,focus:e=>e.focus.get})},methods:{async logout(){console.log("logout");let e=new URLSearchParams(this.user.logoutLink.URL),t={};for(let o of e)t[o[0]]=o[1];let n=await this.$store.dispatch("ajaxGet",{get:t,sanitize:!0}),a=`${n.config.site_url}/index.php?`+new URLSearchParams(n.focus.get).toString()+`&login_language=${this.$store.state.app.curLang}`;location.replace(a)}}},_=n(40089);const C=(0,_.Z)(y,[["render",b],["__scopeId","data-v-cdca4de2"]]);var D=C},32425:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var a=n(73396);const o=(0,a._)("a",{class:"nav-link",role:"button"},[(0,a._)("i",{class:"fas fa-expand-arrows-alt"})],-1),s=[o],i=(0,a._)("a",{class:"nav-link",role:"button"},[(0,a._)("i",{class:"fas fa-th-large"})],-1),r=[i];function l(e,t,n,o,i,l){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("li",{class:"nav-item",onClick:t[0]||(t[0]=(...e)=>l.setFullScreenMode&&l.setFullScreenMode(...e))},s),(0,a._)("li",{class:"nav-item",onClick:t[1]||(t[1]=(...e)=>l.toggleControlBar&&l.toggleControlBar(...e))},r)],64)}var d={name:"NavbarRightWidgets",methods:{setFullScreenMode(){let e=document.querySelector("html");const t=e=>{let t=this.DOAPP.utils.translate("LBL_ERROR","Users")+": "+e.message;this.DOAPP.swal.getErrorToast(t)};document.fullscreenElement?document.exitFullscreen().catch((e=>{let t=this.DOAPP.utils.translate("LBL_ERROR","Users")+": "+e.message;this.DOAPP.swal.getErrorToast(t)})):e.requestFullscreen?e.requestFullscreen().catch((e=>t(e))):e.webkitrequestFullscreen?e.webkitrequestFullscreen().catch((e=>t(e))):e.mozRequestFullscreen&&e.mozRequestFullscreen().catch((e=>t(e)))},toggleControlBar(){this.$store.dispatch("app/toggleControlBar")}}},c=n(40089);const u=(0,c.Z)(d,[["render",l]]);var m=u},35930:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var a=n(73396);const o={class:"main-sidebar sidebar-dark-primary elevation-4"},s={class:"sidebar"},i={class:"mt-2"},r={class:"nav nav-pills nav-sidebar flex-column nav-flat","data-widget":"treeview",role:"menu","data-accordion":"true"};function l(e,t,n,l,d,c){const u=(0,a.up)("SidebarBrandLogo"),m=(0,a.up)("SidebarSearchForm"),p=(0,a.up)("SidebarActions"),h=(0,a.up)("SidebarModuleList"),f=(0,a.up)("SidebarGrouping");return(0,a.wg)(),(0,a.iD)("aside",o,[(0,a.Wm)(u,{getData:c.getData},null,8,["getData"]),(0,a._)("div",s,[(0,a.Wm)(m,{focusActions:c.focusActions},null,8,["focusActions"]),(0,a._)("nav",i,[(0,a._)("ul",r,[(0,a.Wm)(p,{sidebarActions:c.focusActions},null,8,["sidebarActions"]),c.onlyAll?((0,a.wg)(),(0,a.j4)(h,{key:0,"all-modules-list":c.appGroupingList,"get-data":c.getData},null,8,["all-modules-list","get-data"])):((0,a.wg)(),(0,a.j4)(f,{key:1,groupTabs:c.appGroupingList,"get-data":c.getData},null,8,["groupTabs","get-data"]))])])])])}n(57658);var d=n(50932),c=n(10638),u=n(89938),m=n(44519),p=n(71015),h=n(7080),f={name:"TheSideBar",components:{SidebarBrandLogo:d["default"],SidebarSearchForm:c["default"],SidebarActions:u["default"],SidebarGrouping:m["default"],SidebarModuleList:p["default"]},computed:{focusActions(){let e={};"undefined"!==typeof this.$store.state.focus.actions&&(e=this.$store.state.focus.actions);let t=this.getSubMenu();return Object.assign({},e,t)},homeLock(){return this.$store.state.focus.data.lock_homepage},appGroupingList(){return Array.isArray(this.$store.state.app.menu)?this.$store.state.app.menu.reduce(((e,t)=>{const n=JSON.parse(JSON.stringify(t));return delete n.modules.Home,Object.keys(n.modules).length&&e.push(n),e}),[]):[]},getData(){return"undefined"===typeof this.$store.state.focus.get?{}:this.$store.state.focus.get},onlyAll(){return 1===this.appGroupingList.length}},methods:{getSubMenu(){let e={},t=this.getData.module;if(Object.hasOwn(h["default"].modules,t)&&Object.hasOwn(h["default"].modules[t],"subMenu")){let n=h["default"].modules[t].subMenu;for(let t in n)e[t]={key:n[t].css_key,lbl:n[t].lbl,link:!1,click:!1},n[t].query?(e[t].link=new URLSearchParams(n[t].query).toString(),this.getData.parentTab&&!n[t].query.parentTab&&(e[t].link=e[t].link+"&parentTab="+this.getData.parentTab)):n[t].click&&(e[t].click=n[t].click)}return e}}},g=n(40089);const v=(0,g.Z)(f,[["render",l]]);var b=v},89938:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var a=n(73396),o=n(87139);const s={key:0,class:"nav-header user-panel"},i=["onClick"];function r(e,t,n,r,l,d){const c=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[Object.entries(n.sidebarActions).length?((0,a.wg)(),(0,a.iD)("li",s,(0,o.zw)(e.DOAPP.utils.translate("LBL_LINK_ACTIONS").toUpperCase()),1)):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.sidebarActions,(t=>((0,a.wg)(),(0,a.iD)("li",{class:"nav-item",key:t.key},[t.link?((0,a.wg)(),(0,a.j4)(c,{key:0,to:"?"+t.link,class:"nav-link"},{default:(0,a.w5)((()=>[(0,a._)("i",{class:(0,o.C_)("nav-icon suitepicon suitepicon-action-"+t.key)},null,2),(0,a._)("p",null,(0,o.zw)(d.resolveLbl(t.lbl)),1)])),_:2},1032,["to"])):(0,a.kq)("",!0),!t.link&&e.tabShow(t.click)?((0,a.wg)(),(0,a.iD)("a",{key:1,role:"button",class:"nav-link",onClick:n=>e.propsClickHandler(t.click)},[(0,a._)("i",{class:(0,o.C_)("nav-icon suitepicon suitepicon-action-"+t.key)},null,2),(0,a._)("p",null,(0,o.zw)(d.resolveLbl(t.lbl)),1)],8,i)):(0,a.kq)("",!0)])))),128))],64)}var l=n(68351),d={name:"SidebarActionItem",props:{sidebarActions:{type:Object}},mixins:[l["default"]],methods:{resolveLbl(e){return e instanceof Object?this.DOAPP.utils.translate(e.name,e.module):this.DOAPP.utils.translate(e)}}},c=n(40089);const u=(0,c.Z)(d,[["render",r]]);var m=u},50932:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var a=n(73396),o=n(87139),s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhcAAAIXCAAAAAAKsiOUAAAACXBIWXMAAC4jAAAuIwF4pT92AAAeRklEQVR4nO2dCXxVxb3HTzZC9o01LIZ9T0BFrFrEaq0tFvtorfZZ66t2oc/nBkpFEZFa963Fth+1i9Tap61Ibau1+lSK1GqtvZclCIQ1BARZZAlLICTvBgJJ7v3fOec/M2fm5OT3/XwEkjPznzH3m3Nm5syS3ugAkEC67QqAQAIvAAW8ABTwAlDAC0ABLwAFvAAU8AJQwAtAAS8ABbwAFPACUMALQAEvAAW8ABTwAlDAC0ABLwAFvAAU8AJQwAtAAS8ABbwAFPACUMALQAEvAAW8ABTwAlDAC0ABLwAFvAAU8AJQwAtAAS8ABbwAFPACUMALQAEvAAW8ABTwAlDAC0ABLwAFvAAU8AJQwAtAAS8ABbwAFPACUMALQAEvAAW8ABTwAlDAC0ABLwAFvAAU8AJQwAtAAS8ABbwAFPACUMALQAEvAAW8ABTwAlDAC0ABLwAFvAAU8AJQwAtAAS8ABbwAFPACUMALQAEvAAW8ABTwAlDAC0ABLwAFvAAU8AJQwAtAAS8ABbwAFPACUMALQAEvAAW8ABTwAlDAC0ABLwAFvAAU8AJQwAtAAS8ABbwAFPACUMALQAEvAAW8ABTwAlDAC0ABLwAFvAAU8AJQwAtAAS8ABbwAFPACUMALQAEvAAW8ABTwAlDAC0ABLwAFvAAU8AJQwAtAAS8ABbwAFPACUMALQAEvAAW8ABTwAlDAC0ABLwAFvAAU8KKFwxvWbVi/bt2GaTNSbFfFOvDCcQ5urK7euGHj+i0Nx7++/d+/yrNbI/t0YC/qtmyqqdlcXV2zvTHuyvyVLw62UqXgEHov1h3oUZR28quG2r2fbN+xfevWbZsTdWihctyCCQbqFmBC78Uvf+ik5ORldkptaDh84ODBBm+5dm/2t1aBJ/Re5DhOY20tO9t5PlSlPdERvJBgaKnmarQ3Qu9FtlSuz2iuRbsj9F50lsrV0R8j8IIkdYLWOrRDQu9FpkymUV10V6O9EXovOslk6vCPkfB7IfU/CC9C70Wae5LEPOeys7z3mEQ5zYy6TT6vX4TeC5n/wVML2FmmL5Iop5m/wwvzyLwyn8DO8ZqCFs6mHcFr5obeC48vRNrAbl40zpQopYXIZ5Wy+wG8SCT9HG6Ol97nl9KKKLwwjoQXp3Fn5TTM4hfSmohadj8IvRdH+VnYj5HnlvELaQ28MM9BfhZuL7V+Nr+MNlTtl3vr6yOh9+IQO0f62cwM86rYZbTl6NJPKUbQTui94N8vxjCbF3Vz2EXEE4UXpuF7wX2MPFnNLiKe4DUwQu/FPnYOphcH7mGXkAC8MM5uboZU5ujF41u5JSSyvD5on0PQ6qMdthcjC1nJ9z7ALYDg0IejNETRCbyIh3m7eGQntwCKCLwwzCfcDDwvdjzKjU8S/YaWMPoIvRcfczPwvHhgLzc+SeAanqH3gtsqPKUPJ/VHP2GGT0K0MWBL6MPuRcM2ZgbeCNM9B5jhk7B7Qz89gXQRdi92HmFmOJOTeONTzOhJicALo3zEzcC6X8yp44ZPRmSyrkh6CLsX3DHqzqMZiVf/mhk9OVFtkfQQdi/WM9OfxllvMrueGT05QeuQhN2Ldcz04xhplz3PDC5g8/au+oJpIOxecO8XYxlp75CZU5yMyIUag6kDL9rC8OKff2TGFgIvTNKwlpe+pL/3tDOT788lQcAaniH3Yv1+XvrTvQ87/u11Zl3EBKzhGXIvuBO1T/eeVG0pUQJVtbl6A6oRci+WM9OP8ZzyL4uZoV1oWHqW3oBqwIs2eB7VaryDGdmVCLwwB9OLfM/NzgUfcKviRrAaGOH2om41L32F12an6spDgmB1SMLtxUrm21TPzYvfVnKr4sryIxnaY8oTbi+4zYtyj+mO3MWtiTt1Kyr0B5Um3F5wu6leZ98+vYZbEw9E4YUpmF6kjvCW7tAP+FVxJ3KVH1ElgRet6O9xWfkTm/hVcSdQDc9Qe7G7hpd+pLdk++/lV8UDgZr7G2ovljPfbHlsXvyYO5fYG3vWDfAlrhSh9sKfZueeh/g18UQUXpjBHy8e3sWviSciX/YpsATwooXOA72k2q6ws6+YII2Eh9mLRuaw1jBPP4z7+TtqeCRIHZIwe1HDXMvu6TGy5acyVfHElm3dfYvNJcxe+NK8+KHEBn9eiVzkX2wm8KIFL8MX638uUxOPROGFCbhvzbzcL+YclqmJRwLU8AyzF8z7RXEv9zQrnxFdzeAuko4DXpjgyEpeei+3iztF20oXXPMIr8R41u7j7kzuGyH2YjVzsbmH5sWSF0RXbxir6EXDEvZJBn4RYi986I4IVx4W3qQ8shGFF/6jv9n57p9EV28sLCxR3JwvOA2MEHvBvF+kuD9HhEuJCm9wnIo3eWXGAy8MwPSib75birfeEF29qVDdi8rDUse9+kB4vdi3gZfe/TEivF0UxW4XjuoMzcMrONv1+El4vajUPSnn5XdEV6c2na2p/KlG4IXf6O6OiFceFl/f9OewTorDoYF5pQovTuDmxXxho3DqsdZJp2FLmKXGEZiGJ7xoptNg8fWjd4qullx//O/Ril4sCcrc3/B6wRy+GOLSE3h2hejqtOYBbNWG5961nuaM+U8ovGjYvXNfbYy6I/X19c1DknU7eDFcHiPilYddrmv+h/KSsQi8UGZH1aaazTWbt+/YrWFjPBcvfiHc8PHmE3vdqHtxqWoEPbRLLxo3Ll22Yk0V+2gREeLRzkN3i652vfbEv0r6KC5FC0qHpN15seHd995fpufQjzaI7xc/2yy6enPL1lgVil4EpUPSnrxorHzzzXe2+xO7oK/oau19oqvdrm359+g/q9Vj69YeagE00W682PHKq2/6s/7vGCOF/cMfCU89uqXVcmf1BsbnVSNooX14UbXg5b+LZkqpI2xefPKw6Gr377X6Qn0kHF54pOa55//leyHC5sXDwhbu9Na7I/TPU5ycE5CGZ9C9qFvw1EKd27MnQ+TFxz8S5ewxpfVXqaOEb9fcCUjDM9heVD35NHN4ShbRc+S+WlHO6dltvhyt6MXava7zQEwQZC8WPfxnE7eKJnoVJ7+2+WeinD2ntP1ateHZuOTTihG0EFgvGl984J/mShM9Rn5wSJTz+1ltv1bvkMCL5DQuuGupyfIEXqz7pShj6XfjI6UpdpyC0cAIphevzjDcLBd4cZdwEdn3O8d9I3sQczlTPMHokATRi8qbXzVdZPJm54pnRfl6fSfhWxWKXqyoy1QLoIXgebH79if1HTPokfRhSS8JVx46t8bfLmIdEsXT8A5XnqoWQAuB8+J3N3BPVNfAoMSPt5nIfFG+3t9K/J5ywzMKLxKo/u+XbRSbvHlxh3BW+QzCJ/UOiWoAHQTLi99cx9z6SBNJmxfvCDXtcw3xzdJuwpds7gSi4RkkL3Z973eWSk56vxAfYjaDbCFWKB6It6QhVS2ADgLkxXuXatl2OzM/s/M25surZF688ZYoV1/qdqHuxb41LlPTTRAcLx6fprQmJ2PI0P5lvUp7FDbNnRrHGyrN7Zfkgvh2cRs9hVz5VXsUXpzk0Ld/I5958DmfGjus1YfUwDxNaESSG/ef3hXlOuWb9PfVG55fVY2gTkC82P4l2deQ2RdNOr933Pe4p+kmaXY2iM88THK7cIZ2Fr5QcScIHZJgeLFqIvO87GbSPnvVpOzEb2tagviCcPFY2X8luZA+QvGsxCB0SALhxbsTpbZi7/rtKX3IC3q8EK88dG5PukCtQtGLbVtK1QJoIAhevHmJcOJLEnpO/25Wkkt6NnR9Rviio1/yU6fUGxjwIsbLX5F4HudNn0o8QJphLk3t3o367uE5wkwzk59qqd4hmagaQRn7XrwyWaJ/Onmu4FfqUBUvGP0Y+fl6UZ4BVya/Vp7C3JIlngA0PK178dZX+FqUPCE8weVD5vtY0ouDPxTmuV1wCG5hmVApd+CF849J/P35z31WvGOzlmbnT7eIsgwU3C5iDQxFL9bvKVALoI5lL1ZfzG9yXv+Qy4HV3I07qWbnvvuFWWYKf24Vf2DWII7G6LlqAdSx68UOfgc19dHr3ZLoOE33MeE62EFXCCOqNzw7thd1k9nnWac9/XXXNEwvBhAdm13ClYfOHeIfWwimYFj14n/e5uZI9aDFLuGeBIlQzYsH94hyDP5PccSyAmF2dzq2F0/zz/75sbsWOpoX2+YKc9yRJo6YUrGIWYc4PrQ+99eiF0v+m51l6rXuaXR0R+4Vvngb8jW3kKpeHFl+mloAZex5sf+r7B7qBQ94SaXuxaYnhBlmudwudDQwOq4X01dzc/R61vUDaYLpRVbiDnjilYfDLnONqd4hUQ2gijUvXhWuBqZInUe+x4iHfZpugmxrnhZmcGtdxBiRrrgExnrD05YXu69hv0O4/nxPyaqZm7IlPkbEKw+Hu98unM5DmDPG4llqe+6vLS9mCIeZKcqEWyW2oNy8qPytMP0sL5/YaEUvaquGqAVQxZIX/3iSneXxHPc0TSh7MUu46cZITxuvVghXtXog0iG9OPJd9oYnX/A6J0F1+OKDBcLknm4XGjokl6tGUMOOF09wf6mdjIe8pmSGLomfyDFT2PAZKXzDf5J23yGx4sUe8VQoim8mX3HelsOreIHjHyOLxXss3OmtPdit50e8asRju0NixYv72Jv2Zt7uNeUq5jSfeC/EBZVP9hi2QtGL7Zs9nAruIza8qHmMneVq4TbNrVE8NfV18Qi2x9tF7EGiurVLpON5cT97nm/aNM9J1eaCN4pXHlb8h9ew6g3Pi1UjKGHBiy3816iTB3hOqnaa7h/FC1vv9HzKlPruKKoB1LDgxYP8ZQGuU7RaYHpRltf6K5eVh2O+5Dnu4OwDvIrEY7nhad6LnfwhrVHej7PfW80M3ear58VWeb9dOGkjFXcf3fBJkVoANcx78ST/F2mKe5ITLGe+dmnzGKmfLUx72iRG4ApFLxqXTFALoIZxL478lJ0lkzH2pzQK/mvxq3/G7ULHgRMTVCOoYNyL+TXsLJMEm3fHo+JFnXi47TRWD6Gdz/017gV72oXjeJjTeRLm8EWb03Sf2ihMO5t15G15quKe93Y7JKa9WMOeAu4UfI6RmHm/GNpqidKBe4RJx/IWE+f1Z6+BaMuHh5JuKmoA017M4y/pncSYG72ZuU6p9WPkJ+Kha97tIvYgUfSiftlYtQBKGPaiYR4/j+cxRkepebFXPKl43BeYoUcLdwr2QLQDebGIvxVj588yEiu8HXlUfDLSbGbkdt7wNOzF7/lZzst1T3MS+bcjOx8RJjzzImbkdj4SbtaLBvFcKBLWB8L0orBlf64HxNOFZ/MCx+hbLLVpWAtLj3paFuEPZr1YLDErgfMYqf+QF7vlNN2tjwsTnsXpEzVTIdws2J39q73ORfIBs15I3C56c344a5iv5FqaF/eIR+dn8+IeQ9ULJ9phvJCYrHIeJ7F086Ja/DLvbM5N6wTqI+Gu62D9w6gXGySOeGKdDijdTZ1TJ0w3mxn3GO26Q2LUC5m5beM5iWXvF1XiYZVzLmDGPcbwTkob4dvtkBj14jV+lq6svfWZwxd9TkxxuFO8nHQxc6hTEzs20dsZm8CkF438dyPOWM5Hsn8dL/iJ28UyxaPq/CLSMbxYKXHW+hmcxJXMV5gnmhfilYf2iHImAunFpBcStwueF5LNzvdfYuYzhcWGp0kvFkvkGcNJLPl2RLzy0CIdxAuJGY89enBSM+8X6UOP/bVIojlshupdjJlqejHoxT7mdu5N8MYAmF4MPj6xw/MSR+M0Rj9jq2iDXkQlWnflnMTbmAeXHn+MvCrzeDNEh/Di3xJ5WG8IpJoXjeKlRHax18Aweb+QyDOck1iqO/KHfzFzmaRDeCHxcoR3v5AZBW+YxcxklFUHkx3V5TfB9qJbPic104u8ptN0/5f78DFK/TLW+I1GzHmxdTc/j/dl7DEaVvCCj0hxnCOzeXlMEwm/F8z9jY6RuBWvgHXM03SbmhfzFCfz+421V6rmvBAv5qLxvEtOExLNi7ofMPOYxlrD05wX/BUCjsN6nyjRHXmCuSuCcZbZmvtrzguZj4DlBX/4Yr945WEAOLCK1VPXR7DvFz05iZn3i55dnLnbeFksEAm9F+y9GWN0ZaTlnqY70tnzIC+HDSLiE/Z8w5wXMqtsujDSrjjKiz3KeURx4Y8JbHVIAu1FNmelP7t5seNRZg4bhN6LoxJHBOa5J2mB3R25fx8zhw12VrP66tow5sVBiUlRfnqRVvQTXgZLRELuhcxaCtZLI+5pug/zD4a3QeQSK8UG2gtO5XYxD0Dqz9912AqWGhih8YLbvNiquBjMFJZGwo15IVMQp0nC9WIpM70tqneW2CjWmBcyB0tzfqW5XgR0KVEiUW/HQGrGmBedJPJwvNA6v+ZMif2eknDlQsUAkXB7kZXC76gyTkLlnqYrZk5vbaFOX6gYwE4Dw1z7Ip8/sMWY4bWReZqukE/LbIOSBNZKBwo7HRJz4+Bd+F4cOJDtNSn7gEUROmfrKHuxyvsPQSMGvVjLz1PjefcLnY+R88/VGGxYhvBUb3eOLj1TT01YmPOi93v8PN690Hm/4J/iKaDTUNWqRcPtBWtudzOrPa/D0+jF58/SFytGhWrVrDQ8zXnRXyKP5yUn3NN0BaRovV2014anOS8GSeTx/CNZpfgQb8Wk07WFOoayF8vqLRxOaK7I0RIDGB94nQ6t7zGSepe2UMdR9uLgypHuiXRjzovisvXsPLURj7+8+rz4svK2m3H07Cozs7U10VB74ZzK98J5zbQXqXfqinSS8jcUA0Q4B3lpwqAX4yUOavnzbd7SaRu+uHyErkgnqVD2Qks1eBj0Qub9z7vr+3lJtkfXurF0/bcLDR2SRvP7yhr0Yngpc0pVjMZnPO1PwT1NNylfZ20v7A1lLz7ZWKZeCyYGvUiZ+BQ/0xMzMtwTaWteZPixqdLwdPEu0+5EynTUg4XJrvGlEl5s+fU1HlLpal58U2bwzY3MIZWKEaKco//0YNKL87pIbAQ95woPi4s03S8yZ+qJE0eFqhcWGp4mvUj/2lx+pup7PQw0afLi2/7s017+W8UAIffCmfK4RPvw/smuI001n8jUJoGsGVrCJKDc8KzZzlnArQWjXgyfIHHkV92l7xe4JNHUvPheqZ448Sh74UQ1TiDzhtlXMlNljoKr+vIrLpOG9TxGcr6vJUwivUp2KkYIuxcTT5fZRfWNrz4vXmWgx4vrumkJQ1CuejKi+QaGWS9SZkmdtPLSxN8Xia5r8SL/Zh1RSJRPzAy7F84XJyyUyfbG2PmCxif3NF2aG/1b16XcwKjan6OjHgxMT/mYO0Zq8G/tuLumJa1qlfiQS28U3aQhSBKUvTi69FM66sHAtBcjr5Pbpabu1mcfTfbiTctjZGqhjig0GkbCw+6Fc/dfZPaPj7HsgvG3XUi+WNThRZcbNARJRtYg1Sed8Tmexr3Inne27C/PokVDvnM5McagY/jiFtbePFzKVb0w3vA0P6X0jLtvlc67atot4yd+fnjcXUPD/aL7teoxBFSoHtC6/IiX18oasTDVeHr0OfnMDQsX3tJt/LjyUS1bvtZKzA+M51Z/2/vKDc9DK0e5J9KJBS9SfrFa5kirFj5+4QXHye9/Sq9exYWFuZ3Xqm9l0WuKcggh6iPhkfB74WS/Mn61cpC9UY1tsds4G4VK0KdYdQvZyDe0VMQzNrxwur9+jsxu4b5xyrf8LmHU3xQDmO6QWPHC6fvWheusFEwzU2YzHxblyl4YnvtrxwtnwNsXqk5i0seAq3wvQnmx0u4NnibGa8OSF07p3y5VfZmkjVn+9wE1NDw7hhdOyV+nPm6r7LYMNXCUw4g05mkHCUQma6mIV6x54WTMPf26QOzcPsvAUVHZA1U3YjDc8LTnheNcdc6V/7BYfDMjLzNRSrmqF4ZHwm164QxY9OicWpsVaGJ2qolSylV3BN38sW/TySiseuGk33L5DQus1sAZY+a5rb57QvRCDdXwjF0vHKfPiwtnvGuzAneZGRfQ0CHpUF44zoR3Xppj7fhY54yLzZTTt1DiGPI2mP0Z2ffCSfnSJX998E1Lhc8xNIyYMuptxQhmOyQB8CL2Q7vooqVP/Ub1F0qGsz9nqqRyVS+qanO1VMQbgfAiRvnc++c/93/Gz4oxdz67csOzYcnZOurhkaB44TjZV1656w8L3tpvsszzzjNWlIbFiB3TixjFV19d9/arby1RHTP2jLnbhTMyVXX6kNGGZ6C8iJF5wQXOvvfeeT9aY6Cwzxn8DcwZwDwnPAGjDc+gedFEXswNZ3ukcvXq1Zt1bZxFoXvHZzHlql4YnfsbRC+O0fXCpnGcg5tqamq27dq1Y+f+A7W6jyS7+AzNAYWUS2xT2Ya6Fbq3nBUQWC+OkzW4ZYO8xoP7jzbU13u3Y81EYdoU3Ts+i9EwEg4vKFKymQf33CpWaPIYhcrw0TAS7v+8spO0Iy+4fPCi8HLqbDPVOEFZvuoRbCY7JCH24g5xm/Uyw7uxp4z6u2KEJQbn/obXi8V/EV5O87SRsE7KVb3Ys07mzCc5wuuFy9a9Vww1U40WNDQw4IUyry8UXs4wfrvQ0SH5ioZqeCOsXjS6bN17lblfvROMlDiwqS0GG55h9eJP/xRe7uTPjs9C8vpLnCDbBnihSoPLY+Jbp5ipRxvKVb34aFt3LRXxQEi9+N0S4eXOHo9B0ku58hTnyEU66uGFcHpRP1t8fUovI9WIQ8MUDHihxDPiVTw58js5qaDeITHXwAinF53uFV4eYuwx3YZ+96l2SHpoqYcXwumFgZXIEqT6tTG9D4TTC6AKvAAU8AJQwAtAAS8ABbwAFPACUMALQAEvAAW8ABTwAlDAC0ABLwCFFS9qdRxs2QFJzTP2cVnwYvXcLeYLbbd0ys/Pyy/Ib/ozP9fIFrTHMO9Fw0Oqp9iHnMzcnNzcvNycvNwY+T6fpJQM817UQIu2pGXnxMjOiv11TAbDJx/SmPfC+J57ASM1KycnK7uJrJyYCtk5lu4IYsx7UWK8RKtkZjXdCmJ/dI6ZEPtnMDVIwLwXRV12GC/TGGnZzZ9+VtNzIfZHloHDTfzAQn/k1NfMl+kTx5oGTTeDpv9iz4ds3w/QM4UFLz7dfr3IyDlOdlMTIahNAy1Y8GJ432rzhUrSJEJurJfQ9Fdedl5obgeu2BjvvGSuhUK9kpKTn5eXm5eXH/svN8Q3BBdseDF+fsAGPHMKCgry8nPymoYUc8yNKQYZG16kfv0BC6XGkVnQRH5MiIICvDxMwMqPZFz5UhvFOk6nouLCGEUxGTrsE8Ibdn5VvjPV5KhnRnFxUUlRcUlBEXNj2A6MHS96fm2e/4VklZR0KSnpWlxk8pyfsGDp0frFf1X6FTqtqGvXbl26dinJ8quEjoAlL1JunKa6K3JCyOLuMbp0LUGHQgO2muLFN92t61SijJ6l3bp379YtEO+nw4K1Llr5N36lGiKje2lpj549Ssztmt1xsNd1v3jbK9J583r3Ku3dqxueGL5hcUjn6r2L+ZkK+vbt06c3ehh+Y9GLlOvrOSezZ51S1qdPn3zfqgNaY3MIOG3aj7zdMUr6lZX1645mhEGsvhpIvbH4jy5JigcOHNQvz0htQCvsvjJKuar3U0eSXcwdMGjgwCKT1QEnsf0q8fwBj21K/G5K6dDBQ3ubrw04gW0vnLKH5r/UZlli+qDhQ4agw2EZ61446Zdd8NIbh5r/PWjEiKEdZ7JcgLHvRay7cfUVH1RuOZjXf/jQTNt1AccJgheOk3nWWbarANoQDC9A0IAXgAJeAAp4ASjgBaCAF4ACXgAKeAEo4AWggBeAAl4ACngBKOAFoIAXgAJeAAp4ASjgBaCAF4ACXgAKeAEo4AWggBeAAl4ACngBKOAFoIAXgAJeAAp4ASjgBaCAF4ACXgAKeAEo4AWggBeAAl4ACngBKOAFoIAXgAJeAAp4ASjgBaCAF4ACXgAKeAEo4AWggBeAAl4ACngBKOAFoIAXgAJeAAp4ASjgBaCAF4ACXgAKeAEo4AWggBeAAl4ACngBKOAFoIAXgAJeAAp4ASjgBaCAF4ACXgAKeAEo4AWggBeAAl4ACngBKOAFoIAXgAJeAAp4ASjgBaCAF4ACXgAKeAEo4AWggBeAAl4ACngBKOAFoIAXgAJeAAp4ASjgBaCAF4ACXgAKeAEo4AWggBeAAl4ACngBKOAFoIAXgAJeAAp4ASjgBaCAF4ACXgAKeAEo4AWggBeAAl4ACngBKOAFoIAXgAJeAAp4ASjgBaCAF4ACXgAKeAEo4AWggBeAAl4ACngBKOAFoIAXgAJeAAp4ASjgBaCAF4ACXgCK/wd4w65fpCkPYQAAAABJRU5ErkJggg==";const i=(0,a._)("img",{src:s,alt:"doApp Logo",class:"brand-image img-circle elevation-3",style:{opacity:".8"}},null,-1),r={class:"brand-text font-weight-light"};function l(e,t,n,s,l,d){const c=(0,a.up)("router-link");return(0,a.wg)(),(0,a.j4)(c,{to:d.getLink(),role:"button",class:"brand-link"},{default:(0,a.w5)((()=>[i,(0,a._)("span",r,(0,o.zw)(e.DOAPP.utils.translate("LBL_BROWSER_TITLE")),1)])),_:1},8,["to"])}var d={name:"SidebarBrandLogo",props:{getData:{type:Object}},methods:{getLink(){let e="?module=Home";return this.getData.parentTab&&(e=e+"&parentTab="+this.getData.parentTab),e}}},c=n(40089);const u=(0,c.Z)(d,[["render",l]]);var m=u},44519:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var a=n(73396),o=n(87139);const s={class:"nav-header user-panel"},i={class:"nav-link",role:"button"},r=(0,a._)("i",{class:"far fa-circle nav-icon"},null,-1),l={key:0,class:"right fas fa-angle-left"},d={class:"nav nav-treeview",role:"menu"};function c(e,t,n,c,u,m){const p=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("li",s,(0,o.zw)(e.DOAPP.utils.translate("LBL_MODULES","Home").toUpperCase()),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.groupTabs,(e=>((0,a.wg)(),(0,a.iD)("li",{key:e.group,class:(0,o.C_)(["nav-item",{"menu-open":e.group===n.getData.parentTab||!n.getData.parentTab&&e.all}])},[(0,a._)("a",i,[r,(0,a._)("p",null,[(0,a.Uk)((0,o.zw)(e.group)+" ",1),Object.entries(e.modules).length?((0,a.wg)(),(0,a.iD)("i",l)):(0,a.kq)("",!0)])]),(0,a._)("ul",d,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.modules,((e,t)=>((0,a.wg)(),(0,a.iD)("li",{class:"nav-item",key:e.key},[(0,a.Wm)(p,{to:m.getLinkPath(e),class:(0,o.C_)(["nav-link",{active:t===n.getData.module}])},{default:(0,a.w5)((()=>[(0,a._)("i",{class:(0,o.C_)("nav-icon far suitepicon suitepicon-module-"+e.key)},null,2),(0,a._)("p",null,(0,o.zw)(e.lbl),1)])),_:2},1032,["to","class"])])))),128))])],2)))),128))],64)}var u={name:"SidebarGrouping",props:{groupTabs:{type:Object},getData:{type:Object}},methods:{getLinkPath(e){let t="";return"calendar"===e.key?(t=e.link+"&view="+this.$store.getters["app/getCalendarView"](),"?"+t):"?"+e.link}}},m=n(40089);const p=(0,m.Z)(u,[["render",c]]);var h=p},71015:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var a=n(73396),o=n(87139);const s={class:"nav-header user-panel"},i={class:"nav-item"};function r(e,t,n,r,l,d){const c=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("li",s,(0,o.zw)(e.DOAPP.utils.translate("LBL_MODULES","Home").toUpperCase()),1),(0,a._)("li",i,(0,o.zw)(n.allModulesList.modules),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.allModulesList[0].modules,((e,t)=>((0,a.wg)(),(0,a.iD)("li",{class:"nav-item",key:e.key},[(0,a.Wm)(c,{to:d.getLinkPath(e),class:(0,o.C_)(["nav-link",{active:t===n.getData.module}])},{default:(0,a.w5)((()=>[(0,a._)("i",{class:(0,o.C_)("nav-icon far suitepicon suitepicon-module-"+e.key)},null,2),(0,a._)("p",null,(0,o.zw)(e.lbl),1)])),_:2},1032,["to","class"])])))),128))],64)}var l={name:"SidebarModuleList",props:{allModulesList:{type:Object,required:!0},getData:{type:Object}},methods:{getLinkPath(e){let t="";return"calendar"===e.key?(t=e.link+"&view="+this.$store.getters["app/getCalendarView"](),"?"+t):"?"+e.link}}},d=n(40089);const c=(0,d.Z)(l,[["render",r]]);var u=c},10638:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var a=n(73396),o=n(49242),s=n(87139);const i={class:"form-inline mt-2"},r={class:"input-group"},l=["placeholder"],d={class:"input-group-append"},c={class:"sidebar-search-results",style:{display:"block"}},u={class:"list-group"},m={class:"search-title"},p=["innerHTML"],h={class:"search-path"},f=["onClick"],g={class:"search-title"},v=["innerHTML"],b={class:"search-path"},w={key:0,class:"list-group"},y={class:"list-group-item"},_={class:"search-title"};function C(e,t,n,C,D,x){const k=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",r,[(0,a.wy)((0,a._)("input",{class:"form-control form-control-sidebar",type:"text",placeholder:e.DOAPP.utils.translate("LBL_SEARCH")+"...","onUpdate:modelValue":t[0]||(t[0]=e=>D.searchText=e),onInput:t[1]||(t[1]=(...e)=>x.initSearch&&x.initSearch(...e))},null,40,l),[[o.nr,D.searchText]]),(0,a._)("div",d,[(0,a._)("button",{class:"btn btn-sidebar",type:"button",onClick:t[2]||(t[2]=(...e)=>x.clearSearch&&x.clearSearch(...e))},[(0,a._)("i",{class:(0,s.C_)(["fas fa-fw",x.searchIcon()])},null,2)])])]),(0,a._)("div",c,[(0,a._)("div",u,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(D.searchResults,(e=>((0,a.wg)(),(0,a.iD)(a.HY,{key:e.link},[e.link?((0,a.wg)(),(0,a.j4)(k,{key:0,to:"?"+e.link,class:"list-group-item",onClick:x.clearSearch},{default:(0,a.w5)((()=>[(0,a._)("div",m,[(0,a._)("span",{innerHTML:x.highLightText(e)},null,8,p)]),(0,a._)("div",h,(0,s.zw)(x.getModuleGroup(e)),1)])),_:2},1032,["to","onClick"])):(0,a.kq)("",!0),e.click?((0,a.wg)(),(0,a.iD)("div",{key:1,class:"list-group-item",role:"button",onClick:t=>x.fireAction(e.click)},[(0,a._)("div",g,[(0,a._)("span",{innerHTML:x.highLightText(e)},null,8,v)]),(0,a._)("div",b,(0,s.zw)(x.getModuleGroup(e)),1)],8,f)):(0,a.kq)("",!0)],64)))),128))]),!D.searchResults.length&&D.searchText.length>2?((0,a.wg)(),(0,a.iD)("div",w,[(0,a._)("div",y,[(0,a._)("div",_,(0,s.zw)(e.DOAPP.utils.translate("LBL_NO_DATA"))+"...",1)])])):(0,a.kq)("",!0)])])}n(57658);var D=n(68351),x={name:"SidebarSearchForm",props:{focusActions:{type:Object,required:!0}},mixins:[D["default"]],data(){return{searchText:"",searchResults:[]}},computed:{itemsForSearch(){let e=[];this.$store.state.app.menu.forEach((t=>{for(let n in t.modules)e.push(t.modules[n])}));for(let t in this.focusActions)e.push(this.focusActions[t]);return e}},methods:{highLightText(e){let t=this.resolveSearchLbl(e),n=t.toLowerCase().indexOf(this.searchText.toLowerCase()),a=t.slice(n,n+this.searchText.length);return this.resolveSearchLbl(e).replace(a,`<strong class="text-light">${a}</strong>`)},initSearch(){this.searchResults=[],this.itemsForSearch.forEach((e=>{let t=this.resolveSearchLbl(e);t.toLowerCase().includes(this.searchText.toLowerCase())&&this.searchText.length>2&&this.searchResults.push(e)}))},searchIcon(){return this.searchText.length?"fa-times":"fa-search"},fireAction(e){this.clearSearch(),this.propsClickHandler(e)},getModuleGroup(e){return e.extraparams?e.extraparams.split("=")[1]:""},clearSearch(){this.searchText="",this.searchResults=[]},resolveSearchLbl(e){return e.lbl instanceof Object?this.DOAPP.utils.translate(e.lbl.name,e.lbl.module):e.lbl}}},k=n(40089);const E=(0,k.Z)(x,[["render",C]]);var S=E},79093:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var a=n(73396);const o=(0,a._)("p",null,null,-1),s=[o];function i(e,t,n,o,i,r){return(0,a.wg)(),(0,a.iD)("div",null,s)}var r=n(36633),l={name:"CalendarDetailBody",extends:r["default"],mounted(){console.log(this.section.data)}},d=n(40089);const c=(0,d.Z)(l,[["render",i]]);var u=c},61052:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var a=n(73396),o=n(87139);const s={class:"button-group"};function i(e,t,n,i,r,l){return(0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("button",{type:"button",class:"btn btn-secondary mr-1","data-dismiss":"modal",onClick:t[0]||(t[0]=(...e)=>l.refuseHandler&&l.refuseHandler(...e))},(0,o.zw)(l.lblRefuse),1),(0,a._)("button",{type:"button",class:"btn btn-primary",onClick:t[1]||(t[1]=(...t)=>e.fireEditForm&&e.fireEditForm(...t))},(0,o.zw)(e.DOAPP.utils.translate("LBL_EDIT_BUTTON")),1)])}var r=n(83200),l={name:"CalendarDetailFooter.vue",extends:r["default"],computed:{lblRefuse(){return this.section.data.lblRefuse?this.section.data.lblRefuse:this.DOAPP.utils.translate("LBL_CLOSE_BUTTON_TITLE")},lblConfirm(){return this.section.data.lblConfirm?this.section.data.lblConfirm:this.DOAPP.utils.translate("LBL_SUBMIT_BUTTON_LABEL")}},methods:{refuseHandler(){return this.section.data.onRefuse?this.section.data.onRefuse:this.hidePopup}}},d=n(40089);const c=(0,d.Z)(l,[["render",i]]);var u=c},78839:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var a=n(73396),o=n(87139);const s={class:"modal-title"},i=(0,a._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[(0,a._)("span",{"aria-hidden":"true"},"×")],-1);function r(e,t,n,r,l,d){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("h5",s,[(0,a._)("i",{class:(0,o.C_)(e.section.data.icon)},null,2),(0,a.Uk)(" "+(0,o.zw)(e.section.data.title),1)]),i],64)}var l=n(27480),d={name:"CalendarDetailHeader",extends:l["default"]},c=n(40089);const u=(0,c.Z)(d,[["render",r]]);var m=u},53876:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(27605),o={name:"CalendarQuickCreateBody",extends:a["default"]};const s=o;var i=s},92845:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var a=n(73396);const o={class:"btn-group"};function s(e,t,n,s,i,r){const l=(0,a.up)("CancelButton"),d=(0,a.up)("ShowAllFieldsButton"),c=(0,a.up)("SaveCalendarActivityButton");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(l,{beanData:e.beanData,"page-data":e.pageData,"get-data":e.getData,"display-type":"separate",name:"CancelButton"},null,8,["beanData","page-data","get-data"]),(0,a.Wm)(d,{beanData:e.beanData,"page-data":e.pageData,"get-data":e.getData,"display-type":"separate",name:"ShowAllFieldsButton"},null,8,["beanData","page-data","get-data"]),(0,a.Wm)(c,{beanData:e.beanData,"page-data":e.pageData,"get-data":e.getData,"display-type":"main",name:"SaveCalendarActivityButton"},null,8,["beanData","page-data","get-data"])])}var i=n(51858),r=n(79463),l=n(33248),d=n(86662),c={name:"CalendarQuickCreateFooter",extends:i["default"],components:{CancelButton:r["default"],ShowAllFieldsButton:l["default"],SaveCalendarActivityButton:d["default"]}},u=n(40089);const m=(0,u.Z)(c,[["render",s]]);var p=m},9044:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(66393),o={name:"CalendarQuickCreateHeader",extends:a["default"]};const s=o;var i=s},15961:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var a=n(73396),o=n(87139);const s=["title"],i=["title"],r=["title"],l=["title"];function d(e,t,n,d,c,u){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("button",{type:"button",class:"btn btn-primary btn-block",title:e.DOAPP.utils.translate("LNK_NEW_CALL","Calls"),onClick:t[0]||(t[0]=e=>u.quickCreateHandle("Calls"))},(0,o.zw)(e.DOAPP.utils.translate("LNK_NEW_CALL","Calls")),9,s),(0,a._)("button",{type:"button",class:"btn btn-primary btn-block",title:e.DOAPP.utils.translate("LBL_NEW_FORM_TITLE","Meetings"),onClick:t[1]||(t[1]=e=>u.quickCreateHandle("Meetings"))},(0,o.zw)(e.DOAPP.utils.translate("LBL_NEW_FORM_TITLE","Meetings")),9,i),(0,a._)("button",{type:"button",class:"btn btn-primary btn-block",title:e.DOAPP.utils.translate("LNK_NEW_TASK","Tasks"),onClick:t[2]||(t[2]=e=>u.quickCreateHandle("Tasks"))},(0,o.zw)(e.DOAPP.utils.translate("LNK_NEW_TASK","Tasks")),9,r),(0,a._)("button",{type:"button",class:"btn btn-primary btn-block",title:e.DOAPP.utils.translate("LNK_NEW_RECORD","FP_events"),onClick:t[3]||(t[3]=e=>u.quickCreateHandle("FP_events"))},(0,o.zw)(e.DOAPP.utils.translate("LNK_NEW_RECORD","FP_events")),9,l)])}var c=n(36633),u={name:"ChooseQuickCreateBody",extends:c["default"],methods:{async quickCreateHandle(e){let t=await this.getQuickCreateData(e,this.section.data.record_id);t=this.setAdditionalParams(t.data);let n={type:"CalendarQuickCreate",header:{data:{title:"LBL_EMAIL_QUICK_CREATE",module:e,onClose:this.$store.getters["popup/getPopupSectionData"]("header").onClose},show:!0},body:{data:t,show:!0},footer:{data:{},show:!0}};await this.$store.dispatch("popup/setSize","xl"),await this.$store.dispatch("popup/fill",n),await this.$store.dispatch("popup/show")},async getQuickCreateData(e,t){let n={get:{VueAjax:1,method:"quickCreateView",record:t,arg:{targetModule:e,targetId:t}}};return await this.$store.dispatch("ajaxGet",n)},setAdditionalParams(e){let t={};return e.beanData.date_start.value=this.DOAPP.dateTime.toUserFormat(this.section.data.start),e.beanData.duration?(t=this.DOAPP.dateTime.getDuration(this.section.data.start,this.section.data.end,e.beanData.duration.options),e.beanData.duration.value=t.seconds):t=this.DOAPP.dateTime.getDuration(this.section.data.start,this.section.data.end),Object.hasOwn(e.beanData,"duration_hours")?e.beanData.duration_hours.value=t.hours:e.beanData.duration_hours={value:t.hours},Object.hasOwn(e.beanData,"duration_minutes")?e.beanData.duration_minutes.value=t.minutes:e.beanData.duration_minutes={value:t.minutes},Object.hasOwn(e.beanData,"date_due")&&(e.beanData.date_due.value=this.DOAPP.dateTime.toUserFormat(this.section.data.end)),e}}},m=n(40089);const p=(0,m.Z)(u,[["render",d]]);var h=p},95481:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var a=n(73396);function o(e,t,n,o,s,i){return(0,a.WI)(e.$slots,"default")}const s=document.getElementById("appPreloader");var i={name:"LoginPage",components:{},mounted(){console.log("LoginPage"),this.setupPage()},methods:{async setupPage(){let e,t=await this.$store.dispatch("ajaxGet",{get:this.$store.state.focus.get,sanitize:!0});e=t.app_auth?"?"+new URLSearchParams(t.focus_get).toString():`${t.config.site_url}/index.php?`+new URLSearchParams(t.focus.get).toString()+`&login_language=${this.$store.state.app.curLang}`,location.replace(e)},pageClasses(){let e=this.$el.parentElement,t=e.parentElement;t.className="login-page",e.className="login-box"},resetPreloader(){s.style.opacity=0,setTimeout((function(){s.parentNode.removeChild(s)}),300)}}},r=n(40089);const l=(0,r.Z)(i,[["render",o]]);var d=l},88569:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var a=n(73396),o=n(49242);function s(e,t,n,s,i,r){const l=(0,a.up)("TheNavbar"),d=(0,a.up)("TheSideBar"),c=(0,a.up)("TheControlBar"),u=(0,a.up)("TheModal"),m=(0,a.up)("TheFooter");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.wy)((0,a.Wm)(l,null,null,512),[[o.F8,r.pageReady]]),(0,a.wy)((0,a.Wm)(d,null,null,512),[[o.F8,r.pageReady]]),(0,a.WI)(e.$slots,"default"),(0,a.wy)((0,a.Wm)(c,null,null,512),[[o.F8,r.pageReady]]),(0,a.wy)((0,a.Wm)(u,null,null,512),[[o.F8,r.pageReady]]),(0,a._)("div",{id:"sidebar-overlay",onClick:t[0]||(t[0]=(...e)=>r.pageOverlayHandler&&r.pageOverlayHandler(...e))}),(0,a.wy)((0,a.Wm)(m,null,null,512),[[o.F8,r.pageReady]])],64)}var i=n(45806),r=n(35930),l=n(68657),d=n(70667),c=n(54544);const u=document.getElementById("appPreloader");var m={name:"MainPage",components:{TheNavbar:i["default"],TheSideBar:r["default"],TheControlBar:l["default"],TheFooter:d["default"],TheModal:c["default"]},provide(){return{windowSize:this.windowSize}},props:{windowSize:{type:[Object]}},computed:{pageModule(){return this.$store.state.focus.get.module},pageTitle(){return this.$store.state.app.modules[this.pageModule]?.module_label},pageReady(){return this.$store.state.app.pageReady},appBody(){return this.$el.parentElement.parentElement},appWrapper(){return this.$el.parentElement},pageSetting(){return this.$store.state.app.setting}},mounted(){console.log("MainPage"),this.setupPage()},updated(){this.pageTitle&&(document.title=this.pageTitle)},methods:{async setupPage(){this.$store.commit("app/SET_PAGE_READY",!1),await this.$store.dispatch("app/getSettings"),this.pageClasses(),console.log("getMainPage"),await this.$store.dispatch("getMainPage",{method:"getApp"}),console.log("MainPage data received"),this.$store.commit("app/SET_PAGE_READY",!0),this.resetPreloader()},pageClasses(){this.appBody.className="sidebar-mini-md layout-fixed layout-navbar-fixed",this.appWrapper.className="wrapper",(!0===this.pageSetting.theme.sideBarCollapse||this.appBody.clientWidth<992)&&(this.appBody.classList.add("sidebar-collapse"),this.appBody.classList.add("sidebar-closed")),this.pageSetting.theme.darkMode&&this.appBody.classList.add("dark-mode"),this.pageSetting.theme.compactMode&&this.appBody.classList.add("text-sm")},pageOverlayHandler(){this.appBody.classList.remove("sidebar-open"),this.appBody.classList.add("sidebar-closed"),this.appBody.classList.add("sidebar-collapse")},resetPreloader(){u.style.opacity=0,setTimeout((function(){u.parentNode.removeChild(u)}),300)}}},p=n(40089);const h=(0,p.Z)(m,[["render",s]]);var f=h},31824:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var a=n(73396),o=n(87139);const s=e=>((0,a.dD)("data-v-748dbe55"),e=e(),(0,a.Cn)(),e),i={class:"hold-transition lockscreen"},r={class:"lockscreen-wrapper"},l=s((()=>(0,a._)("div",{class:"lockscreen-logo"},[(0,a._)("h1",null," 404 ")],-1))),d={class:"lockscreen-name"};function c(e,t,n,s,c,u){return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",r,[l,(0,a._)("div",d,(0,o.zw)(c.preloader),1)])])}var u=n(91076);const m=document.getElementById("appPreloader");var p={name:"NotFound",data(){return{preloader:"Incorrect reference... Redirect in 1 second"}},mounted(){setTimeout((()=>{this.isAuth().then((e=>{e.data?location.replace("?module=Home&action=ListView"):location.replace("?module=Users&action=Login")}))}),1e3),m.style.opacity=0,setTimeout((function(){m.parentNode.removeChild(m)}),300)},methods:{isAuth(){return u.Z.get("../index.php?action=Login&module=Users&VueAjax=1",{params:{method:"authStatus"}})}}},h=n(40089);const f=(0,h.Z)(p,[["render",c],["__scopeId","data-v-748dbe55"]]);var g=f},20075:function(e,t,n){var a={"./App":[29688,9],"./App.vue":[29688,9],"./assets/css/daCalendar.css":[13410,9,3410],"./assets/css/daColorKit.css":[12280,9,2280],"./assets/css/daDateTimePicker.css":[22862,9,2862],"./assets/css/daDragAndDrop.css":[15398,9,5398],"./assets/css/daDragAndDropPublic.css":[45990,9,5990],"./assets/css/daKanban.css":[50927,9,927],"./assets/css/daPopover.css":[77704,9,7704],"./assets/css/daSwal.css":[80405,9,405],"./assets/css/fields.css":[42005,9,2005],"./assets/css/theme.css":[92113,9,2113],"./assets/fonts/SSPFont1.woff2":[89594,1,9594],"./assets/fonts/SSPFont2.woff2":[97721,1,7721],"./assets/fonts/SSPFont3.woff2":[95087,1,5087],"./assets/fonts/SSPFont4.woff2":[7693,1,7693],"./assets/fonts/SSPFont5.woff2":[81301,1,1301],"./assets/fonts/SSPFont6.woff2":[15813,1,5813],"./assets/fonts/SSPFont7.woff2":[74888,1,4888],"./assets/js/daCache":[79785,9],"./assets/js/daCache.js":[79785,9],"./assets/js/daCookies":[2075,9],"./assets/js/daCookies.js":[2075,9],"./assets/js/daDateTime":[29496,9],"./assets/js/daDateTime.js":[29496,9],"./assets/js/daGlobalUtils":[27821,9],"./assets/js/daGlobalUtils.js":[27821,9],"./assets/js/daSwal":[86243,9],"./assets/js/daSwal.js":[86243,9],"./assets/js/daUtils":[96294,9],"./assets/js/daUtils.js":[96294,9],"./assets/js/daValidate":[76525,9],"./assets/js/daValidate.js":[76525,9],"./assets/js/mixins/DaDragAndDrop":[95840,9,5840],"./assets/js/mixins/DaDragAndDrop.js":[95840,9,5840],"./assets/logo.png":[66949,1,6949],"./assets/suitepicon/suitepicon":[99469,3,9469],"./assets/suitepicon/suitepicon-glyphs.css":[26406,9,6406],"./assets/suitepicon/suitepicon.eot":[24162,1,4162],"./assets/suitepicon/suitepicon.json":[99469,3,9469],"./assets/suitepicon/suitepicon.svg":[48691,1,8691],"./assets/suitepicon/suitepicon.ttf":[65501,1,5501],"./assets/suitepicon/suitepicon.woff":[20449,1,449],"./assets/suitepicon/suitepicon.woff2":[54201,1,4201],"./components/Application/DetailView/ActionPage":[46892,9,8104,2262,7056,3835,3937,6892,6828],"./components/Application/DetailView/ActionPage.vue":[46892,9,8104,2262,7056,3835,3937,6892,6828],"./components/Application/DetailView/tpls/DetailBody":[63937,9,2262,7056,3835,3937,4609],"./components/Application/DetailView/tpls/DetailBody.vue":[63937,9,2262,7056,3835,3937,4609],"./components/Application/DetailView/tpls/DetailFooter":[91721,9,8104,1721],"./components/Application/DetailView/tpls/DetailFooter.vue":[91721,9,8104,1721],"./components/Application/DetailView/tpls/DetailHead":[65619,9,8104,5619],"./components/Application/DetailView/tpls/DetailHead.vue":[65619,9,8104,5619],"./components/Application/DetailView/tpls/SubpanelBar":[53670,9,2262,3670],"./components/Application/DetailView/tpls/SubpanelBar.vue":[53670,9,2262,3670],"./components/Application/DetailView/tpls/SubpanelBarAction":[11694,9,2262,1694],"./components/Application/DetailView/tpls/SubpanelBarAction.vue":[11694,9,2262,1694],"./components/Application/DetailView/tpls/TimeLine":[60824,9,824],"./components/Application/DetailView/tpls/TimeLine.vue":[60824,9,824],"./components/Application/EditView/ActionPage":[31634,9,8104,1634],"./components/Application/EditView/ActionPage.vue":[31634,9,8104,1634],"./components/Application/EditView/tpls/EditBody":[34807,9],"./components/Application/EditView/tpls/EditBody.vue":[34807,9],"./components/Application/EditView/tpls/EditFooter":[67309,9,8104,7309],"./components/Application/EditView/tpls/EditFooter.vue":[67309,9,8104,7309],"./components/Application/EditView/tpls/EditHead":[24467,9,8104,4467],"./components/Application/EditView/tpls/EditHead.vue":[24467,9,8104,4467],"./components/Application/Index/ActionPage":[16669,9,8104,1173,7991,6229],"./components/Application/Index/ActionPage.vue":[16669,9,8104,1173,7991,6229],"./components/Application/ListView/ActionPage":[78707,9,8104,1173,7991,8819],"./components/Application/ListView/ActionPage.vue":[78707,9,8104,1173,7991,8819],"./components/Application/ListView/tpls/GroupUpdate":[84380,9,4380],"./components/Application/ListView/tpls/GroupUpdate.vue":[84380,9,4380],"./components/Application/ListView/tpls/ListBody":[7991,9,8104,7991,7290],"./components/Application/ListView/tpls/ListBody.vue":[7991,9,8104,7991,7290],"./components/Application/ListView/tpls/ListBodyActionsBtn":[96011,9,8104,6011],"./components/Application/ListView/tpls/ListBodyActionsBtn.vue":[96011,9,8104,6011],"./components/Application/ListView/tpls/ListBodyPagination":[32675,9,2675],"./components/Application/ListView/tpls/ListBodyPagination.vue":[32675,9,2675],"./components/Application/ListView/tpls/ListBodyTable":[93603,9,3603],"./components/Application/ListView/tpls/ListBodyTable.vue":[93603,9,3603],"./components/Application/ListView/tpls/ListHead":[51173,9,1173,855],"./components/Application/ListView/tpls/ListHead.vue":[51173,9,1173,855],"./components/Application/ListView/tpls/ListHeadAdvancedSearch":[70620,9,620],"./components/Application/ListView/tpls/ListHeadAdvancedSearch.vue":[70620,9,620],"./components/Application/ListView/tpls/ListHeadBasicSearch":[41769,9,1769],"./components/Application/ListView/tpls/ListHeadBasicSearch.vue":[41769,9,1769],"./components/Application/ListView/tpls/ListHeadColumnChooser":[77148,9],"./components/Application/ListView/tpls/ListHeadColumnChooser.vue":[77148,9],"./components/Application/ListView/tpls/ListHeadPanels":[54242,9,4242],"./components/Application/ListView/tpls/ListHeadPanels.vue":[54242,9,4242],"./components/Application/ListView/tpls/ListHeadPresetActions":[47887,9,7887],"./components/Application/ListView/tpls/ListHeadPresetActions.vue":[47887,9,7887],"./components/Application/ListView/tpls/ListTitle":[64765,9,4765],"./components/Application/ListView/tpls/ListTitle.vue":[64765,9,4765],"./components/Application/ListView/tpls/MassActionModal":[90673,9,673],"./components/Application/ListView/tpls/MassActionModal.vue":[90673,9,673],"./components/Application/ListView/tpls/MassUpdate":[640,9,640],"./components/Application/ListView/tpls/MassUpdate.vue":[640,9,640],"./components/Application/Popup/ActionPage":[94741,9,5905],"./components/Application/Popup/ActionPage.vue":[94741,9,5905],"./components/Application/Subpanel/CallsReminderSubpanel":[6605,9,6605],"./components/Application/Subpanel/CallsReminderSubpanel.vue":[6605,9,6605],"./components/Application/Subpanel/SubpanelTabs":[63835,9,2262,3835,5934],"./components/Application/Subpanel/SubpanelTabs.vue":[63835,9,2262,3835,5934],"./components/Application/Subpanel/tpls/TabContent":[1843,9,1843],"./components/Application/Subpanel/tpls/TabContent.vue":[1843,9,1843],"./components/Application/Subpanel/tpls/TabTopButtons":[62262,9,2262],"./components/Application/Subpanel/tpls/TabTopButtons.vue":[62262,9,2262],"./components/Application/abstract/ActionPage":[4501,9,4501],"./components/Application/abstract/ActionPage.vue":[4501,9,4501],"./components/Application/abstract/abstractActionPage":[43265,9,3265],"./components/Application/abstract/abstractActionPage.vue":[43265,9,3265],"./components/Modules/AOR_Reports/DetailView/ActionPage":[93405,9,8104,6427,3599,2262,7056,3835,3937,6892,9929],"./components/Modules/AOR_Reports/DetailView/ActionPage.vue":[93405,9,8104,6427,3599,2262,7056,3835,3937,6892,9929],"./components/Modules/AOR_Reports/DetailView/tpls/AOR_ReportsDetailBody":[24851,9,6427,3599,2262,7056,3835,3937,1528],"./components/Modules/AOR_Reports/DetailView/tpls/AOR_ReportsDetailBody.vue":[24851,9,6427,3599,2262,7056,3835,3937,1528],"./components/Modules/Administration/Index/ActionPage":[57393,9,7393],"./components/Modules/Administration/Index/ActionPage.vue":[57393,9,7393],"./components/Modules/Bugs/Kanban/ActionPage":[42206,9,8104,1173,7991,9684,5060,7170],"./components/Modules/Bugs/Kanban/ActionPage.vue":[42206,9,8104,1173,7991,9684,5060,7170],"./components/Modules/Calendar/Dashlets/CalendarDashlet":[33236,9,4060,5974],"./components/Modules/Calendar/Dashlets/CalendarDashlet.vue":[33236,9,4060,5974],"./components/Modules/Calendar/Dashlets/dashletConfig/CalendarDashletConfigBody":[59913,9],"./components/Modules/Calendar/Dashlets/dashletConfig/CalendarDashletConfigBody.vue":[59913,9],"./components/Modules/Calendar/ListView/ActionPage":[44765,9,4060,8704,6188],"./components/Modules/Calendar/ListView/ActionPage.vue":[44765,9,4060,8704,6188],"./components/Modules/Calendar/ListView/tpls/CalendarActionMenu":[82592,9,2592],"./components/Modules/Calendar/ListView/tpls/CalendarActionMenu.vue":[82592,9,2592],"./components/Modules/Calendar/ListView/tpls/CalendarColorScheme":[11543,9,1543],"./components/Modules/Calendar/ListView/tpls/CalendarColorScheme.vue":[11543,9,1543],"./components/Modules/Calendar/ListView/tpls/CalendarDatepicker":[57429,9,7429],"./components/Modules/Calendar/ListView/tpls/CalendarDatepicker.vue":[57429,9,7429],"./components/Modules/Calendar/ListView/tpls/CalendarListViewBody":[43944,9,4060,4597],"./components/Modules/Calendar/ListView/tpls/CalendarListViewBody.vue":[43944,9,4060,4597],"./components/Modules/Calendar/ListView/tpls/CalendarMultiSelectField":[1288,9,1288],"./components/Modules/Calendar/ListView/tpls/CalendarMultiSelectField.vue":[1288,9,1288],"./components/Modules/Calendar/ListView/tpls/CalendarPresetActions":[78832,9,8832],"./components/Modules/Calendar/ListView/tpls/CalendarPresetActions.vue":[78832,9,8832],"./components/Modules/Calendar/ListView/tpls/CalendarSelectUsers":[53108,9,3108],"./components/Modules/Calendar/ListView/tpls/CalendarSelectUsers.vue":[53108,9,3108],"./components/Modules/Calendar/ListView/tpls/CalendarSettings":[48704,9,8704,8853],"./components/Modules/Calendar/ListView/tpls/CalendarSettings.vue":[48704,9,8704,8853],"./components/Modules/Calendar/ListView/tpls/colors":[50397,9,397],"./components/Modules/Calendar/ListView/tpls/colors.js":[50397,9,397],"./components/Modules/Calls/EditView/ActionPage":[86412,9,8104,4863,1634,1366,8039],"./components/Modules/Calls/EditView/ActionPage.vue":[86412,9,8104,4863,1634,1366,8039],"./components/Modules/Calls/EditView/tpls/CallsEditBody":[31366,9,4863,1366,3104],"./components/Modules/Calls/EditView/tpls/CallsEditBody.vue":[31366,9,4863,1366,3104],"./components/Modules/Calls/Kanban/ActionPage":[61339,9,8104,1173,7991,9684,5060,9326],"./components/Modules/Calls/Kanban/ActionPage.vue":[61339,9,8104,1173,7991,9684,5060,9326],"./components/Modules/Home/About/ActionPage":[65049,9,8104,2262,7056,3835,3937,6892,2217],"./components/Modules/Home/About/ActionPage.vue":[65049,9,8104,2262,7056,3835,3937,6892,2217],"./components/Modules/Home/ListView/ActionPage":[64354,9,8104,1173,7991,636],"./components/Modules/Home/ListView/ActionPage.vue":[64354,9,8104,1173,7991,636],"./components/Modules/Home/ListView/tpls/Dashlets":[76673,9,6427,3599,4060,2358,3254,6673,2038],"./components/Modules/Home/ListView/tpls/Dashlets/":[76673,9,6427,3599,4060,2358,3254,6673,2038],"./components/Modules/Home/ListView/tpls/Dashlets/Charts/MyPipelineBySalesStage/DashletCard":[19690,9,6427,3599,9690],"./components/Modules/Home/ListView/tpls/Dashlets/Charts/MyPipelineBySalesStage/DashletCard.vue":[19690,9,6427,3599,9690],"./components/Modules/Home/ListView/tpls/Dashlets/Charts/MyPipelineBySalesStage/dashletConfig/DashletConfigBody":[23407,9],"./components/Modules/Home/ListView/tpls/Dashlets/Charts/MyPipelineBySalesStage/dashletConfig/DashletConfigBody.vue":[23407,9],"./components/Modules/Home/ListView/tpls/Dashlets/Charts/OpportunitiesByLeadSource/DashletCard":[83437,9,6427,3599,3437],"./components/Modules/Home/ListView/tpls/Dashlets/Charts/OpportunitiesByLeadSource/DashletCard.vue":[83437,9,6427,3599,3437],"./components/Modules/Home/ListView/tpls/Dashlets/Charts/OpportunitiesByLeadSource/dashletConfig/DashletConfigBody":[46414,9],"./components/Modules/Home/ListView/tpls/Dashlets/Charts/OpportunitiesByLeadSource/dashletConfig/DashletConfigBody.vue":[46414,9],"./components/Modules/Home/ListView/tpls/Dashlets/Charts/OpportunitiesByLeadSourceByOutcome/DashletCard":[52358,9,6427,3599,2358],"./components/Modules/Home/ListView/tpls/Dashlets/Charts/OpportunitiesByLeadSourceByOutcome/DashletCard.vue":[52358,9,6427,3599,2358],"./components/Modules/Home/ListView/tpls/Dashlets/Charts/OpportunitiesByLeadSourceByOutcome/dashletConfig/DashletConfigBody":[4093,9],"./components/Modules/Home/ListView/tpls/Dashlets/Charts/OpportunitiesByLeadSourceByOutcome/dashletConfig/DashletConfigBody.vue":[4093,9],"./components/Modules/Home/ListView/tpls/Dashlets/Charts/OutcomeByMonth/DashletCard":[33799,9,6427,3599,2358,3799],"./components/Modules/Home/ListView/tpls/Dashlets/Charts/OutcomeByMonth/DashletCard.vue":[33799,9,6427,3599,2358,3799],"./components/Modules/Home/ListView/tpls/Dashlets/Charts/OutcomeByMonth/dashletConfig/DashletConfigBody":[56051,9],"./components/Modules/Home/ListView/tpls/Dashlets/Charts/OutcomeByMonth/dashletConfig/DashletConfigBody.vue":[56051,9],"./components/Modules/Home/ListView/tpls/Dashlets/Charts/PipelineBySalesStage/DashletCard":[93975,9,6427,3599,3975],"./components/Modules/Home/ListView/tpls/Dashlets/Charts/PipelineBySalesStage/DashletCard.vue":[93975,9,6427,3599,3975],"./components/Modules/Home/ListView/tpls/Dashlets/Charts/PipelineBySalesStage/dashletConfig/DashletConfigBody":[10238,9],"./components/Modules/Home/ListView/tpls/Dashlets/Charts/PipelineBySalesStage/dashletConfig/DashletConfigBody.vue":[10238,9],"./components/Modules/Home/ListView/tpls/Dashlets/DashletCard":[72318,9,2318],"./components/Modules/Home/ListView/tpls/Dashlets/DashletCard.vue":[72318,9,2318],"./components/Modules/Home/ListView/tpls/Dashlets/MyClosedOpportunities/DashletCard":[21049,9,1049],"./components/Modules/Home/ListView/tpls/Dashlets/MyClosedOpportunities/DashletCard.vue":[21049,9,1049],"./components/Modules/Home/ListView/tpls/Dashlets/MyClosedOpportunities/dashletConfig/DashletConfigBody":[78428,9],"./components/Modules/Home/ListView/tpls/Dashlets/MyClosedOpportunities/dashletConfig/DashletConfigBody.vue":[78428,9],"./components/Modules/Home/ListView/tpls/Dashlets/Web/IFrame/DashletCard":[93958,9,3958],"./components/Modules/Home/ListView/tpls/Dashlets/Web/IFrame/DashletCard.vue":[93958,9,3958],"./components/Modules/Home/ListView/tpls/Dashlets/Web/IFrame/dashletConfig/DashletConfigBody":[99963,9],"./components/Modules/Home/ListView/tpls/Dashlets/Web/IFrame/dashletConfig/DashletConfigBody.vue":[99963,9],"./components/Modules/Home/ListView/tpls/Dashlets/index":[76673,9,6427,3599,4060,2358,3254,6673,2038],"./components/Modules/Home/ListView/tpls/Dashlets/index.js":[76673,9,6427,3599,4060,2358,3254,6673,2038],"./components/Modules/Home/ListView/tpls/HomeListBody":[74075,9,6427,3599,4060,2358,3254,6673,9324],"./components/Modules/Home/ListView/tpls/HomeListBody.vue":[74075,9,6427,3599,4060,2358,3254,6673,9324],"./components/Modules/Home/ListView/tpls/HomeListFooter":[15169,9,5169],"./components/Modules/Home/ListView/tpls/HomeListFooter.vue":[15169,9,5169],"./components/Modules/Home/ListView/tpls/HomeListHead":[45710,9,5710],"./components/Modules/Home/ListView/tpls/HomeListHead.vue":[45710,9,5710],"./components/Modules/Home/Popup/DashPageAddBody":[48365,9],"./components/Modules/Home/Popup/DashPageAddBody.vue":[48365,9],"./components/Modules/Home/Popup/DashPageRenameBody":[29751,9],"./components/Modules/Home/Popup/DashPageRenameBody.vue":[29751,9],"./components/Modules/Home/Popup/DashletAddBody":[70056,9],"./components/Modules/Home/Popup/DashletAddBody.vue":[70056,9],"./components/Modules/Home/Popup/dashletConfig/DashletConfigBody":[31713,9],"./components/Modules/Home/Popup/dashletConfig/DashletConfigBody.vue":[31713,9],"./components/Modules/Home/Popup/dashletConfig/DashletConfigColumnChooser":[14859,9],"./components/Modules/Home/Popup/dashletConfig/DashletConfigColumnChooser.vue":[14859,9],"./components/Modules/Home/Popup/dashletConfig/DashletConfigFooter":[992,9],"./components/Modules/Home/Popup/dashletConfig/DashletConfigFooter.vue":[992,9],"./components/Modules/Home/Popup/dashletConfig/DashletConfigHeader":[62305,9],"./components/Modules/Home/Popup/dashletConfig/DashletConfigHeader.vue":[62305,9],"./components/Modules/Home/UnifiedSearch/ActionPage":[24741,9,4741],"./components/Modules/Home/UnifiedSearch/ActionPage.vue":[24741,9,4741],"./components/Modules/Home/UnifiedSearch/tpls/Content":[4284,9,4284],"./components/Modules/Home/UnifiedSearch/tpls/Content.vue":[4284,9,4284],"./components/Modules/Home/UnifiedSearch/tpls/UnifiedSearchBody":[35925,9,5925],"./components/Modules/Home/UnifiedSearch/tpls/UnifiedSearchBody.vue":[35925,9,5925],"./components/Modules/Home/UnifiedSearch/tpls/UnifiedSearchForm":[77388,9,7388],"./components/Modules/Home/UnifiedSearch/tpls/UnifiedSearchForm.vue":[77388,9,7388],"./components/Modules/Leads/Kanban/ActionPage":[99732,9,8104,1173,7991,9684,5060,4036],"./components/Modules/Leads/Kanban/ActionPage.vue":[99732,9,8104,1173,7991,9684,5060,4036],"./components/Modules/Meetings/EditView/ActionPage":[21172,9,8104,4863,1634,1261,8201],"./components/Modules/Meetings/EditView/ActionPage.vue":[21172,9,8104,4863,1634,1261,8201],"./components/Modules/Meetings/EditView/tpls/MeetingsEditBody":[31261,9,4863,1261,7119],"./components/Modules/Meetings/EditView/tpls/MeetingsEditBody.vue":[31261,9,4863,1261,7119],"./components/Modules/Meetings/Kanban/ActionPage":[35942,9,8104,1173,7991,9684,5060,1397],"./components/Modules/Meetings/Kanban/ActionPage.vue":[35942,9,8104,1173,7991,9684,5060,1397],"./components/Modules/MergeRecords/Step1/ActionPage":[45362,9,8104,1173,7991,3190],"./components/Modules/MergeRecords/Step1/ActionPage.vue":[45362,9,8104,1173,7991,3190],"./components/Modules/MergeRecords/Step1/tpls/ContentWrapper":[2616,9,2616],"./components/Modules/MergeRecords/Step1/tpls/ContentWrapper.vue":[2616,9,2616],"./components/Modules/Opportunities/Kanban/ActionPage":[3873,9,8104,1173,7991,9684,5060,802],"./components/Modules/Opportunities/Kanban/ActionPage.vue":[3873,9,8104,1173,7991,9684,5060,802],"./components/Modules/Project/view_GanttChart/ActionPage":[69735,9,8104,2262,7056,3835,3937,6892,477],"./components/Modules/Project/view_GanttChart/ActionPage.vue":[69735,9,8104,2262,7056,3835,3937,6892,477],"./components/Modules/Project/view_GanttChart/tpls/ProjectGantPanel":[3522,9,3522],"./components/Modules/Project/view_GanttChart/tpls/ProjectGantPanel.vue":[3522,9,3522],"./components/Modules/Project/view_GanttChart/tpls/ProjectGanttDetailBody":[4552,9,2262,7056,3835,3937,7808],"./components/Modules/Project/view_GanttChart/tpls/ProjectGanttDetailBody.vue":[4552,9,2262,7056,3835,3937,7808],"./components/Modules/SugarFeed/Dashlets/SugarFeedDashlet":[53254,9,3254,9838],"./components/Modules/SugarFeed/Dashlets/SugarFeedDashlet.vue":[53254,9,3254,9838],"./components/Modules/SugarFeed/dashletConfig/SugarFeedDashletConfigBody":[97210,9],"./components/Modules/SugarFeed/dashletConfig/SugarFeedDashletConfigBody.vue":[97210,9],"./components/Modules/Tasks/Kanban/ActionPage":[56742,9,8104,1173,7991,9684,5060,621],"./components/Modules/Tasks/Kanban/ActionPage.vue":[56742,9,8104,1173,7991,9684,5060,621],"./components/Modules/Users/EditView/ActionPage":[57187,9,8104,7187],"./components/Modules/Users/EditView/ActionPage.vue":[57187,9,8104,7187],"./components/Modules/Users/EditView/tpls/EditBody":[54055,9,4055],"./components/Modules/Users/EditView/tpls/EditBody.vue":[54055,9,4055],"./components/Modules/Users/Login/ActionPage":[83646,9,3646],"./components/Modules/Users/Login/ActionPage.vue":[83646,9,3646],"./components/Modules/Users/Login/tpls/Content":[75301,9,5301],"./components/Modules/Users/Login/tpls/Content.vue":[75301,9,5301],"./components/UI/Elements/ActionButtons":[84346,9,8104,4346],"./components/UI/Elements/ActionButtons.vue":[84346,9,8104,4346],"./components/UI/Elements/CustomSchedulerTable":[64863,9,4863,4063],"./components/UI/Elements/CustomSchedulerTable.vue":[64863,9,4863,4063],"./components/UI/Elements/HomePreloader":[96853,9,6853],"./components/UI/Elements/HomePreloader.vue":[96853,9,6853],"./components/UI/Elements/TabPreloader":[27178,9],"./components/UI/Elements/TabPreloader.vue":[27178,9],"./components/UI/Elements/TabPreloader2":[96385,9,6385],"./components/UI/Elements/TabPreloader2.vue":[96385,9,6385],"./components/UI/Elements/cellPopover":[6387,9,6387],"./components/UI/Elements/cellPopover.vue":[6387,9,6387],"./components/UI/Elements/daColorPicker":[27106,9,7106],"./components/UI/Elements/daColorPicker/":[27106,9,7106],"./components/UI/Elements/daColorPicker/daColorPicker":[84768,9,4768],"./components/UI/Elements/daColorPicker/daColorPicker.vue":[84768,9,4768],"./components/UI/Elements/daColorPicker/index":[27106,9,7106],"./components/UI/Elements/daColorPicker/index.js":[27106,9,7106],"./components/UI/Elements/daDateTimePicker":[79298,9],"./components/UI/Elements/daDateTimePicker.vue":[79298,9],"./components/UI/Elements/daEditor/daEditor":[53457,9],"./components/UI/Elements/daEditor/daEditor.vue":[53457,9],"./components/UI/Elements/daKanban/daKanban":[88326,9,9684,5060,5138],"./components/UI/Elements/daKanban/daKanban.vue":[88326,9,9684,5060,5138],"./components/UI/Elements/daKanban/daKanbanBody":[75060,9,5060,1262],"./components/UI/Elements/daKanban/daKanbanBody.vue":[75060,9,5060,1262],"./components/UI/Elements/daKanban/daKanbanColumn":[36761,9,6761],"./components/UI/Elements/daKanban/daKanbanColumn.vue":[36761,9,6761],"./components/UI/Elements/daKanban/daKanbanColumnItem":[28215,9,8215],"./components/UI/Elements/daKanban/daKanbanColumnItem.vue":[28215,9,8215],"./components/UI/Elements/daKanban/daKanbanFilter":[79684,9,9684,8123],"./components/UI/Elements/daKanban/daKanbanFilter.vue":[79684,9,9684,8123],"./components/UI/Elements/daKanban/daKanbanFilterBody":[7153,9,7153],"./components/UI/Elements/daKanban/daKanbanFilterBody.vue":[7153,9,7153],"./components/UI/Elements/daKanban/daKanbanFilterPanels":[22974,9,2974],"./components/UI/Elements/daKanban/daKanbanFilterPanels.vue":[22974,9,2974],"./components/UI/Elements/daKanban/daKanbanHead":[4536,9,9684,801],"./components/UI/Elements/daKanban/daKanbanHead.vue":[4536,9,9684,801],"./components/UI/Elements/daKanban/daKanbanPresetActions":[32115,9,2115],"./components/UI/Elements/daKanban/daKanbanPresetActions.vue":[32115,9,2115],"./components/UI/Elements/daKanban/mixins/DaKanban":[82394,9,2394],"./components/UI/Elements/daKanban/mixins/DaKanban.js":[82394,9,2394],"./components/UI/Elements/daPlotly/charts":[23599,9,6427,3599],"./components/UI/Elements/daPlotly/charts/":[23599,9,6427,3599],"./components/UI/Elements/daPlotly/charts/abstractChart":[43618,9,6427,3618],"./components/UI/Elements/daPlotly/charts/abstractChart.vue":[43618,9,6427,3618],"./components/UI/Elements/daPlotly/charts/barChart":[75641,9,6427,5641],"./components/UI/Elements/daPlotly/charts/barChart.vue":[75641,9,6427,5641],"./components/UI/Elements/daPlotly/charts/funnelChart":[54958,9,6427,4958],"./components/UI/Elements/daPlotly/charts/funnelChart.vue":[54958,9,6427,4958],"./components/UI/Elements/daPlotly/charts/index":[23599,9,6427,3599],"./components/UI/Elements/daPlotly/charts/index.js":[23599,9,6427,3599],"./components/UI/Elements/daPlotly/charts/lineChart":[20584,9,6427,584],"./components/UI/Elements/daPlotly/charts/lineChart.vue":[20584,9,6427,584],"./components/UI/Elements/daPlotly/charts/pieChart":[56695,9,6427,6695],"./components/UI/Elements/daPlotly/charts/pieChart.vue":[56695,9,6427,6695],"./components/UI/Elements/daPlotly/charts/radarChart":[79536,9,6427,9536],"./components/UI/Elements/daPlotly/charts/radarChart.vue":[79536,9,6427,9536],"./components/UI/Elements/daPlotly/charts/stackedBarChart":[78686,9,6427,8686],"./components/UI/Elements/daPlotly/charts/stackedBarChart.vue":[78686,9,6427,8686],"./components/UI/Elements/daPlotly/locales":[6427,9,6427],"./components/UI/Elements/daPlotly/locales.js":[6427,9,6427],"./components/UI/Elements/daPopover/CasePopoverContent":[82560,9],"./components/UI/Elements/daPopover/CasePopoverContent.vue":[82560,9],"./components/UI/Elements/daPopover/daPopover":[78928,9],"./components/UI/Elements/daPopover/daPopover.vue":[78928,9],"./components/UI/Elements/daTable":[66321,9],"./components/UI/Elements/daTable.vue":[66321,9],"./components/UI/Elements/editViewActivities/AbstractActivities":[93312,9,3312],"./components/UI/Elements/editViewActivities/AbstractActivities.vue":[93312,9,3312],"./components/UI/Elements/editViewActivities/MainActivitiesPanel":[4406,9,4406],"./components/UI/Elements/editViewActivities/MainActivitiesPanel.vue":[4406,9,4406],"./components/UI/Elements/editViewActivities/RemindersPanel":[27115,9,7115],"./components/UI/Elements/editViewActivities/RemindersPanel.vue":[27115,9,7115],"./components/UI/Elements/editViewActivities/SchedulerPanel":[37332,9,4863,2278],"./components/UI/Elements/editViewActivities/SchedulerPanel.vue":[37332,9,4863,2278],"./components/UI/SugarWidgets/Fields":[45737,9,5737],"./components/UI/SugarWidgets/Fields/":[45737,9,5737],"./components/UI/SugarWidgets/Fields/AbstractField":[64025,9],"./components/UI/SugarWidgets/Fields/AbstractField.vue":[64025,9],"./components/UI/SugarWidgets/Fields/BoolField":[71354,9],"./components/UI/SugarWidgets/Fields/BoolField.vue":[71354,9],"./components/UI/SugarWidgets/Fields/DateField":[71981,9],"./components/UI/SugarWidgets/Fields/DateField.vue":[71981,9],"./components/UI/SugarWidgets/Fields/DateTimeComboField":[77234,9],"./components/UI/SugarWidgets/Fields/DateTimeComboField.vue":[77234,9],"./components/UI/SugarWidgets/Fields/DateTimeField":[44403,9],"./components/UI/SugarWidgets/Fields/DateTimeField.vue":[44403,9],"./components/UI/SugarWidgets/Fields/EnumField":[92789,9],"./components/UI/SugarWidgets/Fields/EnumField.vue":[92789,9],"./components/UI/SugarWidgets/Fields/MultiEnumField":[4296,9],"./components/UI/SugarWidgets/Fields/MultiEnumField.vue":[4296,9],"./components/UI/SugarWidgets/Fields/VarcharField":[26412,9],"./components/UI/SugarWidgets/Fields/VarcharField.vue":[26412,9],"./components/UI/SugarWidgets/Fields/index":[45737,9,5737],"./components/UI/SugarWidgets/Fields/index.js":[45737,9,5737],"./components/UI/SugarWidgets/SubPanelRowWidgets":[4934,9],"./components/UI/SugarWidgets/SubPanelRowWidgets/":[4934,9],"./components/UI/SugarWidgets/SubPanelRowWidgets/AbstractWidget":[41316,9],"./components/UI/SugarWidgets/SubPanelRowWidgets/AbstractWidget.vue":[41316,9],"./components/UI/SugarWidgets/SubPanelRowWidgets/SubPanelActivitiesStatusField":[44597,9],"./components/UI/SugarWidgets/SubPanelRowWidgets/SubPanelActivitiesStatusField.vue":[44597,9],"./components/UI/SugarWidgets/SubPanelRowWidgets/SubPanelDetailViewLink":[91528,9],"./components/UI/SugarWidgets/SubPanelRowWidgets/SubPanelDetailViewLink.vue":[91528,9],"./components/UI/SugarWidgets/SubPanelRowWidgets/SubPanelEditButton":[35578,9],"./components/UI/SugarWidgets/SubPanelRowWidgets/SubPanelEditButton.vue":[35578,9],"./components/UI/SugarWidgets/SubPanelRowWidgets/SubPanelEmailLink":[69032,9],"./components/UI/SugarWidgets/SubPanelRowWidgets/SubPanelEmailLink.vue":[69032,9],"./components/UI/SugarWidgets/SubPanelRowWidgets/SubPanelIcon":[33046,9],"./components/UI/SugarWidgets/SubPanelRowWidgets/SubPanelIcon.vue":[33046,9],"./components/UI/SugarWidgets/SubPanelRowWidgets/SubPanelRemoveButton":[65709,9],"./components/UI/SugarWidgets/SubPanelRowWidgets/SubPanelRemoveButton.vue":[65709,9],"./components/UI/SugarWidgets/SubPanelRowWidgets/index":[4934,9],"./components/UI/SugarWidgets/SubPanelRowWidgets/index.js":[4934,9],"./components/UI/SugarWidgets/SubPanelTopButton":[82875,9,2875],"./components/UI/SugarWidgets/SubPanelTopButton/":[82875,9,2875],"./components/UI/SugarWidgets/SubPanelTopButton/AbstractWidget":[64754,9,4754],"./components/UI/SugarWidgets/SubPanelTopButton/AbstractWidget.vue":[64754,9,4754],"./components/UI/SugarWidgets/SubPanelTopButton/SubPanelTopButtonQuickCreate":[16421,9,6421],"./components/UI/SugarWidgets/SubPanelTopButton/SubPanelTopButtonQuickCreate.vue":[16421,9,6421],"./components/UI/SugarWidgets/SubPanelTopButton/SubPanelTopComposeEmailButton":[93233,9,3233],"./components/UI/SugarWidgets/SubPanelTopButton/SubPanelTopComposeEmailButton.vue":[93233,9,3233],"./components/UI/SugarWidgets/SubPanelTopButton/SubPanelTopCreateButton":[47058,9,7058],"./components/UI/SugarWidgets/SubPanelTopButton/SubPanelTopCreateButton.vue":[47058,9,7058],"./components/UI/SugarWidgets/SubPanelTopButton/SubPanelTopCreateNoteButton":[77152,9,7152],"./components/UI/SugarWidgets/SubPanelTopButton/SubPanelTopCreateNoteButton.vue":[77152,9,7152],"./components/UI/SugarWidgets/SubPanelTopButton/SubPanelTopCreateTaskButton":[36650,9,6650],"./components/UI/SugarWidgets/SubPanelTopButton/SubPanelTopCreateTaskButton.vue":[36650,9,6650],"./components/UI/SugarWidgets/SubPanelTopButton/SubPanelTopScheduleCallButton":[84206,9,4206],"./components/UI/SugarWidgets/SubPanelTopButton/SubPanelTopScheduleCallButton.vue":[84206,9,4206],"./components/UI/SugarWidgets/SubPanelTopButton/SubPanelTopScheduleMeetingButton":[82796,9,2796],"./components/UI/SugarWidgets/SubPanelTopButton/SubPanelTopScheduleMeetingButton.vue":[82796,9,2796],"./components/UI/SugarWidgets/SubPanelTopButton/SubPanelTopSelectButton":[57490,9,7490],"./components/UI/SugarWidgets/SubPanelTopButton/SubPanelTopSelectButton.vue":[57490,9,7490],"./components/UI/SugarWidgets/SubPanelTopButton/SubPanelTopSummaryButton":[88121,9,8121],"./components/UI/SugarWidgets/SubPanelTopButton/SubPanelTopSummaryButton.vue":[88121,9,8121],"./components/UI/SugarWidgets/SubPanelTopButton/index":[82875,9,2875],"./components/UI/SugarWidgets/SubPanelTopButton/index.js":[82875,9,2875],"./components/UI/actionButtons":[28104,9,8104],"./components/UI/actionButtons/":[28104,9,8104],"./components/UI/actionButtons/AuditButton":[15335,9,5335],"./components/UI/actionButtons/AuditButton.vue":[15335,9,5335],"./components/UI/actionButtons/CancelButton":[79463,9],"./components/UI/actionButtons/CancelButton.vue":[79463,9],"./components/UI/actionButtons/CloseAndCreateCopyButton":[13461,9,3461],"./components/UI/actionButtons/CloseAndCreateCopyButton.vue":[13461,9,3461],"./components/UI/actionButtons/DeleteButton":[77304,9,7304],"./components/UI/actionButtons/DeleteButton.vue":[77304,9,7304],"./components/UI/actionButtons/DuplicateButton":[91553,9,1553],"./components/UI/actionButtons/DuplicateButton.vue":[91553,9,1553],"./components/UI/actionButtons/EditButton":[79830,9,9830],"./components/UI/actionButtons/EditButton.vue":[79830,9,9830],"./components/UI/actionButtons/FindDuplicatesButton":[56662,9,6662],"./components/UI/actionButtons/FindDuplicatesButton.vue":[56662,9,6662],"./components/UI/actionButtons/MassDeleteButton":[1109,9,1109],"./components/UI/actionButtons/MassDeleteButton.vue":[1109,9,1109],"./components/UI/actionButtons/MassUpdateButton":[11781,9,1781],"./components/UI/actionButtons/MassUpdateButton.vue":[11781,9,1781],"./components/UI/actionButtons/ProjectViewDetailButton":[31010,9,1010],"./components/UI/actionButtons/ProjectViewDetailButton.vue":[31010,9,1010],"./components/UI/actionButtons/ProjectViewGantButton":[56029,9,6029],"./components/UI/actionButtons/ProjectViewGantButton.vue":[56029,9,6029],"./components/UI/actionButtons/SaveAndContinueButton":[3858,9,3858],"./components/UI/actionButtons/SaveAndContinueButton.vue":[3858,9,3858],"./components/UI/actionButtons/SaveAndSendButton":[89244,9,9244],"./components/UI/actionButtons/SaveAndSendButton.vue":[89244,9,9244],"./components/UI/actionButtons/SaveButton":[88738,9],"./components/UI/actionButtons/SaveButton.vue":[88738,9],"./components/UI/actionButtons/SaveCalendarActivityButton":[86662,9],"./components/UI/actionButtons/SaveCalendarActivityButton.vue":[86662,9],"./components/UI/actionButtons/ShowAllFieldsButton":[33248,9],"./components/UI/actionButtons/ShowAllFieldsButton.vue":[33248,9],"./components/UI/actionButtons/UpdateButton":[7896,9],"./components/UI/actionButtons/UpdateButton.vue":[7896,9],"./components/UI/actionButtons/UsersSaveButton":[73637,9,3637],"./components/UI/actionButtons/UsersSaveButton.vue":[73637,9,3637],"./components/UI/actionButtons/abstractButton":[38556,9],"./components/UI/actionButtons/abstractButton.vue":[38556,9],"./components/UI/actionButtons/index":[28104,9,8104],"./components/UI/actionButtons/index.js":[28104,9,8104],"./components/UI/fields/Dashlets/Basic":[39395,9],"./components/UI/fields/Dashlets/Basic/":[39395,9],"./components/UI/fields/Dashlets/Basic/index":[39395,9],"./components/UI/fields/Dashlets/Basic/index.js":[39395,9],"./components/UI/fields/Dashlets/Filters":[65849,9],"./components/UI/fields/Dashlets/Filters/":[65849,9],"./components/UI/fields/Dashlets/Filters/index":[65849,9],"./components/UI/fields/Dashlets/Filters/index.js":[65849,9],"./components/UI/fields/Detail":[7056,9,7056,4928],"./components/UI/fields/Detail/":[7056,9,7056,4928],"./components/UI/fields/Detail/AbstractField":[31486,9,1486],"./components/UI/fields/Detail/AbstractField.vue":[31486,9,1486],"./components/UI/fields/Detail/AddressField":[67671,9,7671],"./components/UI/fields/Detail/AddressField.vue":[67671,9,7671],"./components/UI/fields/Detail/CallsDetailViewAssignedUserName":[47113,9,7113],"./components/UI/fields/Detail/CallsDetailViewAssignedUserName.vue":[47113,9,7113],"./components/UI/fields/Detail/CallsDetailViewDateStart":[73770,9,3770],"./components/UI/fields/Detail/CallsDetailViewDateStart.vue":[73770,9,3770],"./components/UI/fields/Detail/CallsDetailViewDirection":[96516,9,6516],"./components/UI/fields/Detail/CallsDetailViewDirection.vue":[96516,9,6516],"./components/UI/fields/Detail/CallsDetailViewDurationHours":[22664,9,2664],"./components/UI/fields/Detail/CallsDetailViewDurationHours.vue":[22664,9,2664],"./components/UI/fields/Detail/CheckboxField":[98057,9,8057],"./components/UI/fields/Detail/CheckboxField.vue":[98057,9,8057],"./components/UI/fields/Detail/CurrencyField":[790,9,790],"./components/UI/fields/Detail/CurrencyField.vue":[790,9,790],"./components/UI/fields/Detail/CustomDateEnteredField":[64151,9,4151],"./components/UI/fields/Detail/CustomDateEnteredField.vue":[64151,9,4151],"./components/UI/fields/Detail/CustomDateModifiedField":[34463,9,4463],"./components/UI/fields/Detail/CustomDateModifiedField.vue":[34463,9,4463],"./components/UI/fields/Detail/EmailTemplatesAttachmentsJavascriptField":[51679,9,1679],"./components/UI/fields/Detail/EmailTemplatesAttachmentsJavascriptField.vue":[51679,9,1679],"./components/UI/fields/Detail/EmailTemplatesBodyHtmlField":[78240,9,8240],"./components/UI/fields/Detail/EmailTemplatesBodyHtmlField.vue":[78240,9,8240],"./components/UI/fields/Detail/EmailTemplatesDateEnteredField":[41645,9,1645],"./components/UI/fields/Detail/EmailTemplatesDateEnteredField.vue":[41645,9,1645],"./components/UI/fields/Detail/EmailTemplatesDateModifiedField":[59699,9,9699],"./components/UI/fields/Detail/EmailTemplatesDateModifiedField.vue":[59699,9,9699],"./components/UI/fields/Detail/EmployeeStatusOptions":[13805,9,3805],"./components/UI/fields/Detail/EmployeeStatusOptions.vue":[13805,9,3805],"./components/UI/fields/Detail/EnumField":[86024,9,6024],"./components/UI/fields/Detail/EnumField.vue":[86024,9,6024],"./components/UI/fields/Detail/FPeventsDetailViewDurationField":[150,9,150],"./components/UI/fields/Detail/FPeventsDetailViewDurationField.vue":[150,9,150],"./components/UI/fields/Detail/FileField":[27463,9,7463],"./components/UI/fields/Detail/FileField.vue":[27463,9,7463],"./components/UI/fields/Detail/HtmlField":[44732,9,4732],"./components/UI/fields/Detail/HtmlField.vue":[44732,9,4732],"./components/UI/fields/Detail/ImageField":[46503,9,6503],"./components/UI/fields/Detail/ImageField.vue":[46503,9,6503],"./components/UI/fields/Detail/IntField":[85535,9,5535],"./components/UI/fields/Detail/IntField.vue":[85535,9,5535],"./components/UI/fields/Detail/MeetingsDetailViewDuration":[75147,9,5147],"./components/UI/fields/Detail/MeetingsDetailViewDuration.vue":[75147,9,5147],"./components/UI/fields/Detail/NameField":[28694,9,8694],"./components/UI/fields/Detail/NameField.vue":[28694,9,8694],"./components/UI/fields/Detail/ParentField":[68295,9,8295],"./components/UI/fields/Detail/ParentField.vue":[68295,9,8295],"./components/UI/fields/Detail/PhoneField":[44572,9,4572],"./components/UI/fields/Detail/PhoneField.vue":[44572,9,4572],"./components/UI/fields/Detail/RelateField":[81673,9,1673],"./components/UI/fields/Detail/RelateField.vue":[81673,9,1673],"./components/UI/fields/Detail/ReminderField":[49773,9,9773],"./components/UI/fields/Detail/ReminderField.vue":[49773,9,9773],"./components/UI/fields/Detail/RescheduleHistoryField":[71656,9,1656],"./components/UI/fields/Detail/RescheduleHistoryField.vue":[71656,9,1656],"./components/UI/fields/Detail/TextField":[59844,9,9844],"./components/UI/fields/Detail/TextField.vue":[59844,9,9844],"./components/UI/fields/Detail/UrlField":[99105,9,9105],"./components/UI/fields/Detail/UrlField.vue":[99105,9,9105],"./components/UI/fields/Detail/UserNameField":[50381,9,381],"./components/UI/fields/Detail/UserNameField.vue":[50381,9,381],"./components/UI/fields/Detail/UsersDetailViewDefaultLocaleNameFormat":[97423,9,7423],"./components/UI/fields/Detail/UsersDetailViewDefaultLocaleNameFormat.vue":[97423,9,7423],"./components/UI/fields/Detail/UsersDetailViewReminders":[20720,9,720],"./components/UI/fields/Detail/UsersDetailViewReminders.vue":[20720,9,720],"./components/UI/fields/Detail/VarcharField":[3403,9,3403],"./components/UI/fields/Detail/VarcharField.vue":[3403,9,3403],"./components/UI/fields/Detail/getEmailAddressWidget":[51653,9,1653],"./components/UI/fields/Detail/getEmailAddressWidget.vue":[51653,9,1653],"./components/UI/fields/Detail/index":[7056,9,7056,4928],"./components/UI/fields/Detail/index.js":[7056,9,7056,4928],"./components/UI/fields/Edit":[64479,9],"./components/UI/fields/Edit/":[64479,9],"./components/UI/fields/Edit/AbstractField":[88524,9],"./components/UI/fields/Edit/AbstractField.vue":[88524,9],"./components/UI/fields/Edit/AddressField":[24856,9],"./components/UI/fields/Edit/AddressField.vue":[24856,9],"./components/UI/fields/Edit/BoolField":[80779,9],"./components/UI/fields/Edit/BoolField.vue":[80779,9],"./components/UI/fields/Edit/CallsEditViewDurationHours":[9670,9],"./components/UI/fields/Edit/CallsEditViewDurationHours.vue":[9670,9],"./components/UI/fields/Edit/CasesEditViewNameField":[74873,9],"./components/UI/fields/Edit/CasesEditViewNameField.vue":[74873,9],"./components/UI/fields/Edit/CasesEditViewSuggestionBox":[63302,9],"./components/UI/fields/Edit/CasesEditViewSuggestionBox.vue":[63302,9],"./components/UI/fields/Edit/CasesQuickCreateFirstName":[72,9],"./components/UI/fields/Edit/CasesQuickCreateFirstName.vue":[72,9],"./components/UI/fields/Edit/ContactsEditViewFirstName":[89210,9],"./components/UI/fields/Edit/ContactsEditViewFirstName.vue":[89210,9],"./components/UI/fields/Edit/CurrencyField":[84058,9],"./components/UI/fields/Edit/CurrencyField.vue":[84058,9],"./components/UI/fields/Edit/DateField":[76183,9],"./components/UI/fields/Edit/DateField.vue":[76183,9],"./components/UI/fields/Edit/DateTimeComboField":[78275,9],"./components/UI/fields/Edit/DateTimeComboField.vue":[78275,9],"./components/UI/fields/Edit/DisplayUpdateForm":[31469,9],"./components/UI/fields/Edit/DisplayUpdateForm.vue":[31469,9],"./components/UI/fields/Edit/DocumentsEditViewRelatedDocName":[40971,9],"./components/UI/fields/Edit/DocumentsEditViewRelatedDocName.vue":[40971,9],"./components/UI/fields/Edit/DocumentsEditViewRelatedDocRevNumber":[45225,9],"./components/UI/fields/Edit/DocumentsEditViewRelatedDocRevNumber.vue":[45225,9],"./components/UI/fields/Edit/DocumentsEditViewRevision":[75676,9],"./components/UI/fields/Edit/DocumentsEditViewRevision.vue":[75676,9],"./components/UI/fields/Edit/DynamicEnumField":[12865,9],"./components/UI/fields/Edit/DynamicEnumField.vue":[12865,9],"./components/UI/fields/Edit/EmailField":[18338,9],"./components/UI/fields/Edit/EmailField.vue":[18338,9],"./components/UI/fields/Edit/EmailTemplatesAttachmentsJavascriptField":[93297,9],"./components/UI/fields/Edit/EmailTemplatesAttachmentsJavascriptField.vue":[93297,9],"./components/UI/fields/Edit/EmailTemplatesBodyHtmlField":[73188,9],"./components/UI/fields/Edit/EmailTemplatesBodyHtmlField.vue":[73188,9],"./components/UI/fields/Edit/EmailTemplatesNameField":[45352,9,5352],"./components/UI/fields/Edit/EmailTemplatesNameField.vue":[45352,9,5352],"./components/UI/fields/Edit/EmailTemplatesVariableModule":[47277,9],"./components/UI/fields/Edit/EmailTemplatesVariableModule.vue":[47277,9],"./components/UI/fields/Edit/EmailsComposeViewAddrsNamesAbstractField":[10741,9],"./components/UI/fields/Edit/EmailsComposeViewAddrsNamesAbstractField.vue":[10741,9],"./components/UI/fields/Edit/EmailsComposeViewBccAddrsNamesField":[42143,9],"./components/UI/fields/Edit/EmailsComposeViewBccAddrsNamesField.vue":[42143,9],"./components/UI/fields/Edit/EmailsComposeViewCcAddrsNamesField":[53696,9],"./components/UI/fields/Edit/EmailsComposeViewCcAddrsNamesField.vue":[53696,9],"./components/UI/fields/Edit/EmailsComposeViewDescriptionField":[73010,9],"./components/UI/fields/Edit/EmailsComposeViewDescriptionField.vue":[73010,9],"./components/UI/fields/Edit/EmailsComposeViewEmailsEmailTemplatesName":[42932,9],"./components/UI/fields/Edit/EmailsComposeViewEmailsEmailTemplatesName.vue":[42932,9],"./components/UI/fields/Edit/EmailsComposeViewFromAddrNameField":[60203,9],"./components/UI/fields/Edit/EmailsComposeViewFromAddrNameField.vue":[60203,9],"./components/UI/fields/Edit/EmailsComposeViewNameField":[72977,9],"./components/UI/fields/Edit/EmailsComposeViewNameField.vue":[72977,9],"./components/UI/fields/Edit/EmailsComposeViewParentNameField":[35802,9],"./components/UI/fields/Edit/EmailsComposeViewParentNameField.vue":[35802,9],"./components/UI/fields/Edit/EmailsComposeViewToAddrsNamesField":[40967,9],"./components/UI/fields/Edit/EmailsComposeViewToAddrsNamesField.vue":[40967,9],"./components/UI/fields/Edit/EnumField":[75109,9],"./components/UI/fields/Edit/EnumField.vue":[75109,9],"./components/UI/fields/Edit/FileField":[10051,9],"./components/UI/fields/Edit/FileField.vue":[10051,9],"./components/UI/fields/Edit/FloatField":[52623,9],"./components/UI/fields/Edit/FloatField.vue":[52623,9],"./components/UI/fields/Edit/HtmlField":[51452,9],"./components/UI/fields/Edit/HtmlField.vue":[51452,9],"./components/UI/fields/Edit/IdField":[31105,9],"./components/UI/fields/Edit/IdField.vue":[31105,9],"./components/UI/fields/Edit/ImageField":[66955,9],"./components/UI/fields/Edit/ImageField.vue":[66955,9],"./components/UI/fields/Edit/IntField":[56118,9],"./components/UI/fields/Edit/IntField.vue":[56118,9],"./components/UI/fields/Edit/LeadsEditViewAccountName":[26950,9],"./components/UI/fields/Edit/LeadsEditViewAccountName.vue":[26950,9],"./components/UI/fields/Edit/LeadsEditViewFirstName":[4354,9],"./components/UI/fields/Edit/LeadsEditViewFirstName.vue":[4354,9],"./components/UI/fields/Edit/MeetingsEditViewDuration":[54292,9],"./components/UI/fields/Edit/MeetingsEditViewDuration.vue":[54292,9],"./components/UI/fields/Edit/MultiField":[65984,9],"./components/UI/fields/Edit/MultiField.vue":[65984,9],"./components/UI/fields/Edit/NameField":[27885,9],"./components/UI/fields/Edit/NameField.vue":[27885,9],"./components/UI/fields/Edit/PDFTemplatesEditViewSample":[67998,9],"./components/UI/fields/Edit/PDFTemplatesEditViewSample.vue":[67998,9],"./components/UI/fields/Edit/PDFTemplatesInsertField":[31064,9],"./components/UI/fields/Edit/PDFTemplatesInsertField.vue":[31064,9],"./components/UI/fields/Edit/ParentField":[23330,9],"./components/UI/fields/Edit/ParentField.vue":[23330,9],"./components/UI/fields/Edit/PasswordField":[52491,9],"./components/UI/fields/Edit/PasswordField.vue":[52491,9],"./components/UI/fields/Edit/PhoneField":[8817,9],"./components/UI/fields/Edit/PhoneField.vue":[8817,9],"./components/UI/fields/Edit/ProspectListsEditViewDomainName":[51331,9],"./components/UI/fields/Edit/ProspectListsEditViewDomainName.vue":[51331,9],"./components/UI/fields/Edit/ProspectsEditViewFirstName":[70052,9],"./components/UI/fields/Edit/ProspectsEditViewFirstName.vue":[70052,9],"./components/UI/fields/Edit/RadioenumField":[13685,9],"./components/UI/fields/Edit/RadioenumField.vue":[13685,9],"./components/UI/fields/Edit/ReadonlyField":[72536,9],"./components/UI/fields/Edit/ReadonlyField.vue":[72536,9],"./components/UI/fields/Edit/RelateField":[84724,9],"./components/UI/fields/Edit/RelateField.vue":[84724,9],"./components/UI/fields/Edit/TextField":[51761,9],"./components/UI/fields/Edit/TextField.vue":[51761,9],"./components/UI/fields/Edit/TimeField":[66348,9],"./components/UI/fields/Edit/TimeField.vue":[66348,9],"./components/UI/fields/Edit/UrlField":[28513,9],"./components/UI/fields/Edit/UrlField.vue":[28513,9],"./components/UI/fields/Edit/UsersEditViewRemindersField":[42581,9],"./components/UI/fields/Edit/UsersEditViewRemindersField.vue":[42581,9],"./components/UI/fields/Edit/UsersEditViewSigDigitsExample":[39660,9],"./components/UI/fields/Edit/UsersEditViewSigDigitsExample.vue":[39660,9],"./components/UI/fields/Edit/UsersEditViewTabChooser":[25626,9],"./components/UI/fields/Edit/UsersEditViewTabChooser.vue":[25626,9],"./components/UI/fields/Edit/UsersEditViewUseGroupTab":[31825,9],"./components/UI/fields/Edit/UsersEditViewUseGroupTab.vue":[31825,9],"./components/UI/fields/Edit/UsersEditViewUserThemePicker":[25771,9],"./components/UI/fields/Edit/UsersEditViewUserThemePicker.vue":[25771,9],"./components/UI/fields/Edit/VarcharField":[70851,9],"./components/UI/fields/Edit/VarcharField.vue":[70851,9],"./components/UI/fields/Edit/getCurrencyDropDown":[62325,9],"./components/UI/fields/Edit/getCurrencyDropDown.vue":[62325,9],"./components/UI/fields/Edit/getEmailAddressWidget":[44349,9],"./components/UI/fields/Edit/getEmailAddressWidget.vue":[44349,9],"./components/UI/fields/Edit/index":[64479,9],"./components/UI/fields/Edit/index.js":[64479,9],"./components/UI/fields/InlineEdit":[85697,9],"./components/UI/fields/InlineEdit/":[85697,9],"./components/UI/fields/InlineEdit/AddressField":[71619,9],"./components/UI/fields/InlineEdit/AddressField.vue":[71619,9],"./components/UI/fields/InlineEdit/CallsInlineEditDuration":[30934,9],"./components/UI/fields/InlineEdit/CallsInlineEditDuration.vue":[30934,9],"./components/UI/fields/InlineEdit/CurrencyField":[61372,9],"./components/UI/fields/InlineEdit/CurrencyField.vue":[61372,9],"./components/UI/fields/InlineEdit/CurrencyListField":[58474,9],"./components/UI/fields/InlineEdit/CurrencyListField.vue":[58474,9],"./components/UI/fields/InlineEdit/DateTimeComboField":[96041,9],"./components/UI/fields/InlineEdit/DateTimeComboField.vue":[96041,9],"./components/UI/fields/InlineEdit/EnumField":[79939,9],"./components/UI/fields/InlineEdit/EnumField.vue":[79939,9],"./components/UI/fields/InlineEdit/EnumListField":[82033,9],"./components/UI/fields/InlineEdit/EnumListField.vue":[82033,9],"./components/UI/fields/InlineEdit/FileField":[6981,9],"./components/UI/fields/InlineEdit/FileField.vue":[6981,9],"./components/UI/fields/InlineEdit/FileListField":[84269,9],"./components/UI/fields/InlineEdit/FileListField.vue":[84269,9],"./components/UI/fields/InlineEdit/IntField":[24025,9],"./components/UI/fields/InlineEdit/IntField.vue":[24025,9],"./components/UI/fields/InlineEdit/IntListField":[44381,9],"./components/UI/fields/InlineEdit/IntListField.vue":[44381,9],"./components/UI/fields/InlineEdit/NameField":[21067,9],"./components/UI/fields/InlineEdit/NameField.vue":[21067,9],"./components/UI/fields/InlineEdit/NameListField":[48544,9],"./components/UI/fields/InlineEdit/NameListField.vue":[48544,9],"./components/UI/fields/InlineEdit/ParentField":[53743,9],"./components/UI/fields/InlineEdit/ParentField.vue":[53743,9],"./components/UI/fields/InlineEdit/PhoneField":[63611,9],"./components/UI/fields/InlineEdit/PhoneField.vue":[63611,9],"./components/UI/fields/InlineEdit/PhoneListField":[47138,9],"./components/UI/fields/InlineEdit/PhoneListField.vue":[47138,9],"./components/UI/fields/InlineEdit/RelateField":[5506,9],"./components/UI/fields/InlineEdit/RelateField.vue":[5506,9],"./components/UI/fields/InlineEdit/RelateListField":[35881,9],"./components/UI/fields/InlineEdit/RelateListField.vue":[35881,9],"./components/UI/fields/InlineEdit/TextField":[96195,9],"./components/UI/fields/InlineEdit/TextField.vue":[96195,9],"./components/UI/fields/InlineEdit/TextListField":[80244,9],"./components/UI/fields/InlineEdit/TextListField.vue":[80244,9],"./components/UI/fields/InlineEdit/UrlField":[14703,9],"./components/UI/fields/InlineEdit/UrlField.vue":[14703,9],"./components/UI/fields/InlineEdit/UrlListField":[78254,9],"./components/UI/fields/InlineEdit/UrlListField.vue":[78254,9],"./components/UI/fields/InlineEdit/VarcharField":[8675,9],"./components/UI/fields/InlineEdit/VarcharField.vue":[8675,9],"./components/UI/fields/InlineEdit/VarcharListField":[71528,9],"./components/UI/fields/InlineEdit/VarcharListField.vue":[71528,9],"./components/UI/fields/InlineEdit/getEmailAddressWidget":[4029,9],"./components/UI/fields/InlineEdit/getEmailAddressWidget.vue":[4029,9],"./components/UI/fields/InlineEdit/getEmailAddressWidgetList":[44415,9],"./components/UI/fields/InlineEdit/getEmailAddressWidgetList.vue":[44415,9],"./components/UI/fields/InlineEdit/index":[85697,9],"./components/UI/fields/InlineEdit/index.js":[85697,9],"./components/UI/fields/List":[67883,9],"./components/UI/fields/List/":[67883,9],"./components/UI/fields/List/AbstractField":[81067,9],"./components/UI/fields/List/AbstractField.vue":[81067,9],"./components/UI/fields/List/BoolField":[13499,9],"./components/UI/fields/List/BoolField.vue":[13499,9],"./components/UI/fields/List/CurrencyField":[93660,9],"./components/UI/fields/List/CurrencyField.vue":[93660,9],"./components/UI/fields/List/EnumField":[91594,9],"./components/UI/fields/List/EnumField.vue":[91594,9],"./components/UI/fields/List/FieldEmail":[98889,9,8889],"./components/UI/fields/List/FieldEmail.vue":[98889,9,8889],"./components/UI/fields/List/FileField":[21947,9],"./components/UI/fields/List/FileField.vue":[21947,9],"./components/UI/fields/List/IntField":[73014,9],"./components/UI/fields/List/IntField.vue":[73014,9],"./components/UI/fields/List/NameField":[86410,9],"./components/UI/fields/List/NameField.vue":[86410,9],"./components/UI/fields/List/PhoneField":[20314,9],"./components/UI/fields/List/PhoneField.vue":[20314,9],"./components/UI/fields/List/RelateField":[54638,9],"./components/UI/fields/List/RelateField.vue":[54638,9],"./components/UI/fields/List/TextField":[48598,9],"./components/UI/fields/List/TextField.vue":[48598,9],"./components/UI/fields/List/UrlField":[88533,9],"./components/UI/fields/List/UrlField.vue":[88533,9],"./components/UI/fields/List/VarcharField":[39485,9],"./components/UI/fields/List/VarcharField.vue":[39485,9],"./components/UI/fields/List/dateDueWidget":[36342,9],"./components/UI/fields/List/dateDueWidget.vue":[36342,9],"./components/UI/fields/List/dateStartWidget":[78957,9],"./components/UI/fields/List/dateStartWidget.vue":[78957,9],"./components/UI/fields/List/getEmailAddressWidget":[85338,9],"./components/UI/fields/List/getEmailAddressWidget.vue":[85338,9],"./components/UI/fields/List/index":[67883,9],"./components/UI/fields/List/index.js":[67883,9],"./components/UI/fields/List/setAcceptLinks":[18823,9],"./components/UI/fields/List/setAcceptLinks.vue":[18823,9],"./components/UI/fields/List/setCompleteButton":[11288,9],"./components/UI/fields/List/setCompleteButton.vue":[11288,9],"./components/UI/fields/List/showDuplicateField":[66927,9],"./components/UI/fields/List/showDuplicateField.vue":[66927,9],"./components/UI/fields/Search":[90601,9],"./components/UI/fields/Search/":[90601,9],"./components/UI/fields/Search/AbstractField":[26754,9],"./components/UI/fields/Search/AbstractField.vue":[26754,9],"./components/UI/fields/Search/BoolField":[50375,9],"./components/UI/fields/Search/BoolField.vue":[50375,9],"./components/UI/fields/Search/CurrencyField":[6885,9],"./components/UI/fields/Search/CurrencyField.vue":[6885,9],"./components/UI/fields/Search/DateField":[42134,9],"./components/UI/fields/Search/DateField.vue":[42134,9],"./components/UI/fields/Search/DateTimeComboField":[19780,9],"./components/UI/fields/Search/DateTimeComboField.vue":[19780,9],"./components/UI/fields/Search/EmailField":[313,9],"./components/UI/fields/Search/EmailField.vue":[313,9],"./components/UI/fields/Search/EnumField":[78312,9,8312],"./components/UI/fields/Search/EnumField.vue":[78312,9,8312],"./components/UI/fields/Search/FloatField":[60340,9],"./components/UI/fields/Search/FloatField.vue":[60340,9],"./components/UI/fields/Search/IdField":[60731,9],"./components/UI/fields/Search/IdField.vue":[60731,9],"./components/UI/fields/Search/MultiEnumField":[66183,9],"./components/UI/fields/Search/MultiEnumField.vue":[66183,9],"./components/UI/fields/Search/NameField":[85888,9],"./components/UI/fields/Search/NameField.vue":[85888,9],"./components/UI/fields/Search/ParentField":[61218,9],"./components/UI/fields/Search/ParentField.vue":[61218,9],"./components/UI/fields/Search/PhoneField":[83272,9],"./components/UI/fields/Search/PhoneField.vue":[83272,9],"./components/UI/fields/Search/RadioenumField":[58627,9],"./components/UI/fields/Search/RadioenumField.vue":[58627,9],"./components/UI/fields/Search/RelateField":[79953,9],"./components/UI/fields/Search/RelateField.vue":[79953,9],"./components/UI/fields/Search/TimeField":[21677,9,1677],"./components/UI/fields/Search/TimeField.vue":[21677,9,1677],"./components/UI/fields/Search/UrlField":[42070,9],"./components/UI/fields/Search/UrlField.vue":[42070,9],"./components/UI/fields/Search/index":[90601,9],"./components/UI/fields/Search/index.js":[90601,9],"./components/vendor/DaHideTable":[48922,9],"./components/vendor/DaHideTable.vue":[48922,9],"./components/vendor/daDragAndDrop":[1210,9,1210],"./components/vendor/daDragAndDrop.vue":[1210,9,1210],"./configs/extCompConf":[7080,9],"./configs/extCompConf.js":[7080,9],"./layouts/ControlBar/TheControlBar":[68657,9],"./layouts/ControlBar/TheControlBar.vue":[68657,9],"./layouts/ControlBar/tpls/DisplayOptions":[55622,9],"./layouts/ControlBar/tpls/DisplayOptions.vue":[55622,9],"./layouts/Footer/TheFooter":[70667,9],"./layouts/Footer/TheFooter.vue":[70667,9],"./layouts/Modal/TheModal":[54544,9],"./layouts/Modal/TheModal.vue":[54544,9],"./layouts/Modal/TheQuickCreateModal":[45895,9,5895],"./layouts/Modal/TheQuickCreateModal.vue":[45895,9,5895],"./layouts/Modal/tpls":[68353,9],"./layouts/Modal/tpls/":[68353,9],"./layouts/Modal/tpls/DefaultModalBody":[36633,9],"./layouts/Modal/tpls/DefaultModalBody.vue":[36633,9],"./layouts/Modal/tpls/DefaultModalFooter":[83200,9],"./layouts/Modal/tpls/DefaultModalFooter.vue":[83200,9],"./layouts/Modal/tpls/DefaultModalHeader":[27480,9],"./layouts/Modal/tpls/DefaultModalHeader.vue":[27480,9],"./layouts/Modal/tpls/ModalBodies/AccumulatedHistoryBody":[19958,9],"./layouts/Modal/tpls/ModalBodies/AccumulatedHistoryBody.vue":[19958,9],"./layouts/Modal/tpls/ModalBodies/AuditBody":[16759,9],"./layouts/Modal/tpls/ModalBodies/AuditBody.vue":[16759,9],"./layouts/Modal/tpls/ModalBodies/CalendarLightBoxBody":[84280,9],"./layouts/Modal/tpls/ModalBodies/CalendarLightBoxBody.vue":[84280,9],"./layouts/Modal/tpls/ModalBodies/ComposeViewBody":[7138,9],"./layouts/Modal/tpls/ModalBodies/ComposeViewBody.vue":[7138,9],"./layouts/Modal/tpls/ModalBodies/InfoBody":[61938,9],"./layouts/Modal/tpls/ModalBodies/InfoBody.vue":[61938,9],"./layouts/Modal/tpls/ModalBodies/InviteBody":[30739,9],"./layouts/Modal/tpls/ModalBodies/InviteBody.vue":[30739,9],"./layouts/Modal/tpls/ModalBodies/MassUpdateBody":[43726,9],"./layouts/Modal/tpls/ModalBodies/MassUpdateBody.vue":[43726,9],"./layouts/Modal/tpls/ModalBodies/QuickCreateBody":[27605,9],"./layouts/Modal/tpls/ModalBodies/QuickCreateBody.vue":[27605,9],"./layouts/Modal/tpls/ModalBodies/Relate/RelateBody":[5075,9],"./layouts/Modal/tpls/ModalBodies/Relate/RelateBody.vue":[5075,9],"./layouts/Modal/tpls/ModalBodies/Relate/tpls/RelateMultiselectSubmitButton":[6861,9],"./layouts/Modal/tpls/ModalBodies/Relate/tpls/RelateMultiselectSubmitButton.vue":[6861,9],"./layouts/Modal/tpls/ModalBodies/Relate/tpls/RelateSearch":[42937,9],"./layouts/Modal/tpls/ModalBodies/Relate/tpls/RelateSearch.vue":[42937,9],"./layouts/Modal/tpls/ModalBodies/Relate/tpls/RelateTable":[28476,9],"./layouts/Modal/tpls/ModalBodies/Relate/tpls/RelateTable.vue":[28476,9],"./layouts/Modal/tpls/ModalBodies/ReminderBody":[90441,9],"./layouts/Modal/tpls/ModalBodies/ReminderBody.vue":[90441,9],"./layouts/Modal/tpls/ModalBodies/RescheduleHistoryBody":[46712,9],"./layouts/Modal/tpls/ModalBodies/RescheduleHistoryBody.vue":[46712,9],"./layouts/Modal/tpls/ModalBodies/ShowDuplicatesBody":[40609,9],"./layouts/Modal/tpls/ModalBodies/ShowDuplicatesBody.vue":[40609,9],"./layouts/Modal/tpls/ModalFooters/ComposeViewFooter":[76690,9],"./layouts/Modal/tpls/ModalFooters/ComposeViewFooter.vue":[76690,9],"./layouts/Modal/tpls/ModalFooters/DashPageAddFooter":[93777,9],"./layouts/Modal/tpls/ModalFooters/DashPageAddFooter.vue":[93777,9],"./layouts/Modal/tpls/ModalFooters/DashPageRenameFooter":[24715,9],"./layouts/Modal/tpls/ModalFooters/DashPageRenameFooter.vue":[24715,9],"./layouts/Modal/tpls/ModalFooters/InfoFooter":[93591,9],"./layouts/Modal/tpls/ModalFooters/InfoFooter.vue":[93591,9],"./layouts/Modal/tpls/ModalFooters/MassUpdateFooter":[24026,9],"./layouts/Modal/tpls/ModalFooters/MassUpdateFooter.vue":[24026,9],"./layouts/Modal/tpls/ModalFooters/QuickCreateFooter":[51858,9],"./layouts/Modal/tpls/ModalFooters/QuickCreateFooter.vue":[51858,9],"./layouts/Modal/tpls/ModalHeaders/InfoHeader":[97477,9],"./layouts/Modal/tpls/ModalHeaders/InfoHeader.vue":[97477,9],"./layouts/Modal/tpls/ModalHeaders/QuickCreateHeader":[66393,9],"./layouts/Modal/tpls/ModalHeaders/QuickCreateHeader.vue":[66393,9],"./layouts/Modal/tpls/index":[68353,9],"./layouts/Modal/tpls/index.js":[68353,9],"./layouts/Navbar/TheNavbar":[45806,9],"./layouts/Navbar/TheNavbar.vue":[45806,9],"./layouts/Navbar/tpls/NavbarLeft":[67729,9],"./layouts/Navbar/tpls/NavbarLeft.vue":[67729,9],"./layouts/Navbar/tpls/NavbarRight":[98531,9],"./layouts/Navbar/tpls/NavbarRight.vue":[98531,9],"./layouts/Navbar/tpls/NavbarRightNotifications":[47502,9],"./layouts/Navbar/tpls/NavbarRightNotifications.vue":[47502,9],"./layouts/Navbar/tpls/NavbarRightSearch":[9876,9],"./layouts/Navbar/tpls/NavbarRightSearch.vue":[9876,9],"./layouts/Navbar/tpls/NavbarRightUser":[32949,9],"./layouts/Navbar/tpls/NavbarRightUser.vue":[32949,9],"./layouts/Navbar/tpls/NavbarRightWidgets":[32425,9],"./layouts/Navbar/tpls/NavbarRightWidgets.vue":[32425,9],"./layouts/SideBar/TheSidebar":[35930,9],"./layouts/SideBar/TheSidebar.vue":[35930,9],"./layouts/SideBar/mixins/DaSideBarActions":[68351,9],"./layouts/SideBar/mixins/DaSideBarActions.js":[68351,9],"./layouts/SideBar/tpls/SidebarActions":[89938,9],"./layouts/SideBar/tpls/SidebarActions.vue":[89938,9],"./layouts/SideBar/tpls/SidebarBrandLogo":[50932,9],"./layouts/SideBar/tpls/SidebarBrandLogo.vue":[50932,9],"./layouts/SideBar/tpls/SidebarGrouping":[44519,9],"./layouts/SideBar/tpls/SidebarGrouping.vue":[44519,9],"./layouts/SideBar/tpls/SidebarModuleList":[71015,9],"./layouts/SideBar/tpls/SidebarModuleList.vue":[71015,9],"./layouts/SideBar/tpls/SidebarSearchForm":[10638,9],"./layouts/SideBar/tpls/SidebarSearchForm.vue":[10638,9],"./layouts/daCalendar/TheCalendar":[34060,9,4060,7222],"./layouts/daCalendar/TheCalendar.vue":[34060,9,4060,7222],"./layouts/daCalendar/mixins/DaCalendar":[49112,9,9112],"./layouts/daCalendar/mixins/DaCalendar.js":[49112,9,9112],"./layouts/daCalendar/modals/CalendarDetailBody":[79093,9],"./layouts/daCalendar/modals/CalendarDetailBody.vue":[79093,9],"./layouts/daCalendar/modals/CalendarDetailFooter":[61052,9],"./layouts/daCalendar/modals/CalendarDetailFooter.vue":[61052,9],"./layouts/daCalendar/modals/CalendarDetailHeader":[78839,9],"./layouts/daCalendar/modals/CalendarDetailHeader.vue":[78839,9],"./layouts/daCalendar/modals/CalendarQuickCreateBody":[53876,9],"./layouts/daCalendar/modals/CalendarQuickCreateBody.vue":[53876,9],"./layouts/daCalendar/modals/CalendarQuickCreateFooter":[92845,9],"./layouts/daCalendar/modals/CalendarQuickCreateFooter.vue":[92845,9],"./layouts/daCalendar/modals/CalendarQuickCreateHeader":[9044,9],"./layouts/daCalendar/modals/CalendarQuickCreateHeader.vue":[9044,9],"./layouts/daCalendar/modals/ChooseQuickCreateBody":[15961,9],"./layouts/daCalendar/modals/ChooseQuickCreateBody.vue":[15961,9],"./main":[50866,9],"./main.js":[50866,9],"./pages/LoginPage":[95481,9],"./pages/LoginPage.vue":[95481,9],"./pages/MainPage":[88569,9],"./pages/MainPage.vue":[88569,9],"./pages/NotFound":[31824,9],"./pages/NotFound.vue":[31824,9],"./router":[1120,9],"./router/":[1120,9],"./router/index":[1120,9],"./router/index.js":[1120,9],"./store":[24239,9],"./store/":[24239,9],"./store/index":[24239,9],"./store/index.js":[24239,9],"./store/modules/app":[49638,9],"./store/modules/app.js":[49638,9],"./store/modules/cache":[5217,9],"./store/modules/cache.js":[5217,9],"./store/modules/focus":[50862,9],"./store/modules/focus.js":[50862,9],"./store/modules/mass_actions":[81697,9],"./store/modules/mass_actions.js":[81697,9],"./store/modules/popup":[78466,9],"./store/modules/popup.js":[78466,9],"./store/modules/quickCreate":[89506,9],"./store/modules/quickCreate.js":[89506,9],"./store/modules/user":[49416,9],"./store/modules/user.js":[49416,9]};function o(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],o=t[0];return Promise.all(t.slice(2).map(n.e)).then((function(){return n.t(o,16|t[1])}))}o.keys=function(){return Object.keys(a)},o.id=20075,e.exports=o}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var s=t[a]={exports:{}};return e[a].call(s.exports,s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,a,o,s){if(!a){var i=1/0;for(c=0;c<e.length;c++){a=e[c][0],o=e[c][1],s=e[c][2];for(var r=!0,l=0;l<a.length;l++)(!1&s||i>=s)&&Object.keys(n.O).every((function(e){return n.O[e](a[l])}))?a.splice(l--,1):(r=!1,s<i&&(i=s));if(r){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[a,o,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(a,o){if(1&o&&(a=this(a)),8&o)return a;if("object"===typeof a&&a){if(4&o&&a.__esModule)return a;if(16&o&&"function"===typeof a.then)return a}var s=Object.create(null);n.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var r=2&o&&a;"object"==typeof r&&!~e.indexOf(r);r=t(r))Object.getOwnPropertyNames(r).forEach((function(e){i[e]=function(){return a[e]}}));return i["default"]=function(){return a},n.d(s,i),s}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,a){return n.f[a](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{150:"6f9bfb91",381:"5251b6fe",397:"dfd0f435",405:"5ac3644e",449:"f82d6471",477:"6e6d777e",546:"e50dcdd6",584:"18424943",603:"7c7e4945",620:"f56a05f6",621:"56d1f5c8",636:"e5723295",640:"428afeab",673:"c06961a0",720:"067572ee",790:"4dcfecd5",801:"4a575e98",802:"73722ee9",807:"571e0c66",824:"b8c96c01",828:"692663e3",855:"f3346a5d",920:"70d9185c",927:"a7ad9504",1010:"7f6d3a4c",1049:"f4f258a8",1109:"5ce67fa8",1173:"a42bfbaa",1210:"e7887b4a",1261:"a0cf3d00",1262:"328df4c0",1288:"2933c9a2",1301:"8b473c58",1366:"a6441ae8",1397:"43457fad",1486:"bfe13841",1528:"26e32280",1543:"2e3abb19",1553:"db085a28",1634:"d433089b",1645:"be9ffde9",1653:"d42e109f",1656:"08e80aa0",1673:"09d062a9",1677:"ab96fb11",1679:"f06db666",1694:"a4b94572",1720:"46240d2e",1721:"41c197d4",1768:"4b420e28",1769:"78e862ee",1781:"a8a03f15",1843:"48d2f62a",1915:"8ac0487f",2005:"08b3402c",2038:"5b27bf5a",2113:"83341a65",2114:"90d889d8",2115:"3b07d678",2142:"3e2e178e",2217:"ecfaa0e2",2262:"9589ae68",2278:"b5f882f7",2280:"d7ea3330",2318:"adfb2d06",2344:"917bf3c6",2358:"d9a0e8ad",2394:"7bfe9a2d",2560:"926b1cbb",2592:"aed1569b",2616:"2a80d31a",2664:"a7787d51",2675:"534b6e5f",2796:"8702d1b2",2862:"55e768fa",2875:"321753fd",2974:"42cfcf7d",3036:"d6ad6a77",3074:"fcf9a554",3104:"ca85c762",3108:"d7985193",3190:"40608c12",3233:"63b2119c",3244:"3e2b15bf",3254:"14d917f4",3265:"f7f8a2c0",3312:"e387f9a7",3403:"1ea8a973",3410:"27393477",3437:"84558ef6",3461:"8f0bd1cf",3522:"0438a60a",3599:"535c03b7",3603:"10ef27b3",3618:"95327915",3637:"402356a5",3646:"7ebdc5f1",3670:"71d2b014",3770:"79b15e34",3799:"d26a7c15",3805:"5a0a79cf",3835:"f39e2a42",3858:"0b05ddc6",3937:"bee89539",3958:"975087bd",3975:"208e8dd1",3983:"51057718",4024:"c5a2f730",4036:"58d1a3cf",4055:"3c62d451",4060:"98c57b1c",4063:"4a338709",4151:"c480ade1",4162:"6651ca0f",4201:"56660dea",4206:"763b1588",4242:"69ff99ef",4284:"55b52ef2",4346:"4a522a69",4380:"b48f8f4c",4406:"b8dd4af2",4463:"2caac58a",4467:"6988cbb4",4501:"a1c4d22b",4572:"14937ef1",4597:"5dd22c4f",4609:"1557ad70",4732:"bade73e5",4741:"1512f694",4745:"d8855566",4754:"01d70e1d",4765:"024714e5",4768:"2551f787",4863:"75410fa1",4868:"3ed6ba5f",4888:"f91eb07a",4928:"bceb90a6",4949:"8c5cb956",4958:"892e2014",5060:"8d9cd0c1",5087:"b6e7e49a",5138:"3192cdcd",5147:"53a9a82e",5169:"cfd73536",5238:"3311f917",5301:"73737ecf",5317:"8416cc7f",5335:"b033b5e2",5352:"851a397f",5398:"58cdd12f",5501:"78d99494",5535:"220aca8b",5619:"560988a8",5641:"e823b876",5710:"9fa73d9e",5737:"65812971",5784:"7fa2b802",5813:"b1907975",5840:"564c430d",5895:"9dd89c9f",5905:"296cd0ff",5925:"8401c212",5934:"618fc508",5974:"d509d82b",5990:"b55c0476",6011:"a889b043",6024:"21a92e8a",6029:"367fb953",6188:"63edecb2",6207:"7b43f5b9",6229:"902f804a",6368:"529966b4",6385:"e0ef6446",6387:"c3b4160a",6398:"de0c92dd",6406:"2fd37270",6421:"457781c6",6427:"a836ae6d",6476:"253a231f",6503:"a6c3b7b5",6516:"ef629df5",6605:"fd619e24",6613:"54e4d4f9",6650:"c8212d87",6662:"15c9385e",6673:"3212acee",6695:"969eefd1",6761:"9862dbf1",6828:"ca05f2c6",6853:"5456c969",6858:"e2265472",6892:"cc367b6b",6949:"b5ff6b36",7056:"4b3a9dad",7058:"20d13ba5",7106:"199303cf",7112:"24aea4f9",7113:"ee1f39b1",7115:"4a11048b",7119:"727a9583",7152:"f7f37b90",7153:"4108c71f",7170:"ee711fb0",7187:"9d449331",7222:"73f577d9",7290:"81d7a30a",7304:"67cf19c1",7309:"4520d8fe",7326:"9f96f675",7388:"cc1475dc",7393:"7f943f3f",7423:"44e100b9",7429:"b187db23",7463:"a7598ace",7490:"2341529c",7671:"76454ba4",7693:"293beee7",7704:"fc4fd2e7",7721:"acef37fd",7739:"1f0c212f",7808:"60bfe3f2",7853:"87383cdc",7887:"757fa714",7931:"3bb8ffec",7991:"274164d2",8039:"15b5ae83",8057:"92c27eda",8104:"0c3819dc",8121:"027fd633",8123:"9b0abad1",8201:"a551ab0a",8215:"ab7a4a3e",8224:"7bec659b",8240:"a62c644f",8248:"7fa3448a",8295:"82d75eec",8312:"ff84d092",8400:"bafe4abc",8526:"8ed0b9e8",8652:"a40cbbff",8686:"1c423d3e",8691:"d4d7d145",8694:"507e12c1",8704:"cab262cb",8819:"2e3327b9",8832:"f155e396",8838:"ec5cc623",8853:"bdd0d973",8889:"441ba400",9105:"c79da743",9112:"ba5a2656",9244:"ee967365",9324:"ef5f7635",9326:"999020b9",9360:"a69dbfa7",9469:"11f2ddd0",9536:"5e0b7ab3",9578:"44ba2634",9594:"b44e1f65",9684:"5ad7aa49",9690:"6aea0732",9699:"41670005",9773:"d9c2d116",9830:"90b9b528",9838:"97546e06",9844:"19292cdf",9894:"719acfdf",9929:"471a6538"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+e+"."+{150:"351c2f4a",381:"351c2f4a",405:"ecaf33b8",477:"641872ef",621:"9af5b6d0",636:"7f54581c",720:"351c2f4a",790:"351c2f4a",801:"ae4113d0",802:"9af5b6d0",824:"7176198e",855:"c21148b7",927:"665b282c",1210:"a3828fcb",1262:"478f659c",1288:"ae3a843b",1397:"9af5b6d0",1486:"351c2f4a",1528:"b96e4675",1543:"b614c047",1645:"351c2f4a",1653:"79fba2ef",1656:"351c2f4a",1673:"351c2f4a",1679:"351c2f4a",1843:"1b824ce2",2038:"6b58d704",2217:"b96e4675",2278:"3952e429",2280:"1e4d53e8",2592:"703f1bc1",2664:"351c2f4a",2974:"ae4113d0",3104:"379808a5",3108:"ae3a843b",3190:"d49ed3a2",3403:"351c2f4a",3410:"e1e53166",3522:"152c873b",3670:"5680e1c8",3770:"351c2f4a",3805:"351c2f4a",4036:"9af5b6d0",4060:"fe796221",4063:"62c47a36",4151:"351c2f4a",4242:"c21148b7",4406:"32cb779f",4463:"351c2f4a",4572:"351c2f4a",4597:"4fb26e2b",4609:"b96e4675",4732:"351c2f4a",4768:"d261ae7d",4928:"79fba2ef",5138:"822d396a",5147:"351c2f4a",5535:"351c2f4a",5710:"85b834d3",5934:"57d28c07",5974:"4fb26e2b",5990:"433a5c5e",6024:"351c2f4a",6188:"3bf1b923",6229:"d49ed3a2",6385:"4fb26e2b",6387:"decd7e0f",6503:"351c2f4a",6516:"351c2f4a",6605:"82ebbef4",6761:"51389247",6828:"b96e4675",6853:"b90e06b8",7113:"351c2f4a",7115:"0830b3ca",7119:"379808a5",7170:"9af5b6d0",7222:"4fb26e2b",7290:"4fb26e2b",7423:"351c2f4a",7463:"351c2f4a",7671:"351c2f4a",7704:"90722569",7808:"641872ef",8039:"379808a5",8057:"351c2f4a",8123:"ae4113d0",8201:"379808a5",8240:"351c2f4a",8295:"351c2f4a",8652:"53891499",8694:"351c2f4a",8819:"d49ed3a2",8853:"e08fa607",9105:"351c2f4a",9324:"6b58d704",9326:"9af5b6d0",9699:"351c2f4a",9773:"351c2f4a",9838:"53891499",9844:"351c2f4a",9929:"b96e4675"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="doapp-crmtheme:";n.l=function(a,o,s,i){if(e[a])e[a].push(o);else{var r,l;if(void 0!==s)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+s){r=u;break}}r||(l=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,n.nc&&r.setAttribute("nonce",n.nc),r.setAttribute("data-webpack",t+s),r.src=a),e[a]=[o];var m=function(t,n){r.onerror=r.onload=null,clearTimeout(p);var o=e[a];if(delete e[a],r.parentNode&&r.parentNode.removeChild(r),o&&o.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=m.bind(null,r.onerror),r.onload=m.bind(null,r.onload),l&&document.head.appendChild(r)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/app/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,a,o){var s=document.createElement("link");s.rel="stylesheet",s.type="text/css";var i=function(n){if(s.onerror=s.onload=null,"load"===n.type)a();else{var i=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=i,l.request=r,s.parentNode.removeChild(s),o(l)}};return s.onerror=s.onload=i,s.href=t,n?n.parentNode.insertBefore(s,n.nextSibling):document.head.appendChild(s),s},t=function(e,t){for(var n=document.getElementsByTagName("link"),a=0;a<n.length;a++){var o=n[a],s=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(s===e||s===t))return o}var i=document.getElementsByTagName("style");for(a=0;a<i.length;a++){o=i[a],s=o.getAttribute("data-href");if(s===e||s===t)return o}},a=function(a){return new Promise((function(o,s){var i=n.miniCssF(a),r=n.p+i;if(t(i,r))return o();e(a,r,null,o,s)}))},o={2143:0};n.f.miniCss=function(e,t){var n={150:1,381:1,405:1,477:1,621:1,636:1,720:1,790:1,801:1,802:1,824:1,855:1,927:1,1210:1,1262:1,1288:1,1397:1,1486:1,1528:1,1543:1,1645:1,1653:1,1656:1,1673:1,1679:1,1843:1,2038:1,2217:1,2278:1,2280:1,2592:1,2664:1,2974:1,3104:1,3108:1,3190:1,3403:1,3410:1,3522:1,3670:1,3770:1,3805:1,4036:1,4060:1,4063:1,4151:1,4242:1,4406:1,4463:1,4572:1,4597:1,4609:1,4732:1,4768:1,4928:1,5138:1,5147:1,5535:1,5710:1,5934:1,5974:1,5990:1,6024:1,6188:1,6229:1,6385:1,6387:1,6503:1,6516:1,6605:1,6761:1,6828:1,6853:1,7113:1,7115:1,7119:1,7170:1,7222:1,7290:1,7423:1,7463:1,7671:1,7704:1,7808:1,8039:1,8057:1,8123:1,8201:1,8240:1,8295:1,8652:1,8694:1,8819:1,8853:1,9105:1,9324:1,9326:1,9699:1,9773:1,9838:1,9844:1,9929:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=a(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))}}}(),function(){var e={2143:0};n.f.j=function(t,a){var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)a.push(o[2]);else if(/^(4(063|609|928)|3104|5934|6828|7119|7290|8123|855)$/.test(t))e[t]=0;else{var s=new Promise((function(n,a){o=e[t]=[n,a]}));a.push(o[2]=s);var i=n.p+n.u(t),r=new Error,l=function(a){if(n.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var s=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;r.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",r.name="ChunkLoadError",r.type=s,r.request=i,o[1](r)}};n.l(i,l,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,s,i=a[0],r=a[1],l=a[2],d=0;if(i.some((function(t){return 0!==e[t]}))){for(o in r)n.o(r,o)&&(n.m[o]=r[o]);if(l)var c=l(n)}for(t&&t(a);d<i.length;d++)s=i[d],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(c)},a=self["webpackChunkdoapp_crmtheme"]=self["webpackChunkdoapp_crmtheme"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[4998],(function(){return n(50866)}));a=n.O(a)})();