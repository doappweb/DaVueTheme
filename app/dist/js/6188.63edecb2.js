"use strict";(self["webpackChunkdoapp_crmtheme"]=self["webpackChunkdoapp_crmtheme"]||[]).push([[6188,7290,3265,7429,4597,6385,7222],{43265:function(t,e,a){a.r(e),a.d(e,{default:function(){return i}});var s={name:"abstractActionPage",props:{windowSize:{type:[Object]}},provide(){return{view:"",state:"focus"}},mounted(){},methods:{}};const n=s;var i=n},44765:function(t,e,a){a.r(e),a.d(e,{default:function(){return A}});var s=a(73396),n=a(87139);const i={class:"content-wrapper"},r={class:"content-header py-2"},l={class:"container-fluid"},o={class:"row"},c={class:"col-auto ml-auto"},d={class:"breadcrumb"},u={class:"breadcrumb-item"},m={class:"breadcrumb-item active"},p={class:"content"},h={class:"container-fluid"},g={class:"content"},_={class:"container-fluid"};function b(t,e,a,b,f,w){const D=(0,s.up)("router-link"),S=(0,s.up)("CalendarActionMenu"),C=(0,s.up)("CalendarSettings"),v=(0,s.up)("CalendarListViewBody");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("section",r,[(0,s._)("div",l,[(0,s._)("div",o,[(0,s._)("div",c,[(0,s._)("ol",d,[(0,s._)("li",u,[(0,s.Wm)(D,{to:"?module=Home&action=ListView"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(t.DOAPP.utils.translate("LBL_MODULE_NAME","Home")),1)])),_:1})]),(0,s._)("li",m,(0,n.zw)(t.DOAPP.utils.translate("LBL_MODULE_NAME","Calendar")),1)])])])])]),(0,s._)("section",p,[(0,s._)("div",h,[(0,s.Wm)(S),(0,s.Wm)(C)])]),(0,s._)("section",g,[(0,s._)("div",_,[(0,s.Wm)(v)])])])}var f=a(43265),w=a(43944),D=a(48704),S=a(82592),C={name:"CalendarListViewActionPage",extends:f["default"],components:{CalendarActionMenu:S["default"],CalendarSettings:D["default"],CalendarListViewBody:w["default"]},created(){this.$store.commit("app/SET_CALENDAR_IS_DASHLET",!1),this.$store.commit("app/SET_CALENDAR_DASHLET_ID")}},v=a(40089);const y=(0,v.Z)(C,[["render",b]]);var A=y},82592:function(t,e,a){a.r(e),a.d(e,{default:function(){return U}});var s=a(73396),n=a(87139),i=a(49242);const r=t=>((0,s.dD)("data-v-2d636b68"),t=t(),(0,s.Cn)(),t),l={class:"col-auto ml-auto"},o={class:"d-sm-flex"},c={class:"mb-2 mr-sm-1"},d={class:"btn-group w-100",role:"group"},u=["disabled"],m={class:"dropdown-menu"},p=["id","value","onClick"],h={class:"mb-2 mr-sm-1"},g={class:"btn-group w-100",role:"group"},_={key:0,class:"px-2 w-100"},b={key:0},f={class:"ml-auto mb-2 d-flex flex-row"},w=["title"],D=r((()=>(0,s._)("i",{class:"fas fa-cogs"},null,-1))),S=[D],C=["title"],v=r((()=>(0,s._)("i",{class:"far fa-save"},null,-1))),y=[v],A=["title"],L=r((()=>(0,s._)("i",{class:"bi bi-x-circle"},null,-1))),P=[L];function E(t,e,a,r,D,v){const L=(0,s.up)("CalendarDatepicker");return(0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("div",o,[(0,s._)("div",c,[(0,s._)("div",d,[(0,s._)("button",{type:"button",id:"my_filters_list",class:"btn btn-sm btn-outline-secondary dropdown-toggle","data-toggle":"dropdown","aria-expanded":"false",disabled:!t.hasSavedPresets},(0,n.zw)(t.hasActivePreset?t.activePreset.name:t.DOAPP.utils.translate("LBL_SAVED_FILTER_SHORTCUT")),9,u),(0,s._)("div",m,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.savedCalendarPresets,((t,e)=>((0,s.wg)(),(0,s.iD)("button",{key:e,id:e,value:t.name,class:"dropdown-item",type:"button",form:"calendarSettings",onClick:e=>v.chooseSS(e,t.name)},(0,n.zw)(t.name),9,p)))),128))])])]),(0,s._)("div",h,[(0,s._)("div",g,[(0,s._)("div",{id:"filter_button",onClick:e[2]||(e[2]=(...e)=>t.toggleFilter&&t.toggleFilter(...e)),class:(0,n.C_)(["d-flex flex-row btn btn-sm",{"btn-success":v.showSearchQuery,"btn-info":!v.showSearchQuery}]),role:"button"},[(0,s._)("div",{class:(0,n.C_)({"mx-auto":!v.showSearchQuery})},[(0,s._)("i",{class:"bi bi-funnel",onClick:e[0]||(e[0]=(0,i.iM)(((...e)=>t.toggleFilter&&t.toggleFilter(...e)),["self"]))})],2),v.showSearchQuery?((0,s.wg)(),(0,s.iD)("div",_,[(0,s._)("i",null,[v.getSharedUsersNamesString?((0,s.wg)(),(0,s.iD)("b",b,(0,n.zw)(v.getSharedUsersNamesString),1)):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),(0,s.wy)((0,s._)("button",{class:"default_button",type:"button",form:"calendarSettings",onClick:e[1]||(e[1]=(...t)=>v.clearAndSearch&&v.clearAndSearch(...t))},"тип ",512),[[i.F8,v.showSearchQuery]])],2)])]),(0,s._)("div",f,[(0,s.Wm)(L),(0,s._)("button",{class:"btn btn-sm btn-outline-warning w-100 mr-2",type:"button",title:this.DOAPP.utils.translate("LBL_COLUMN_CHOOSER"),onClick:e[3]||(e[3]=(...e)=>t.toggleSettings&&t.toggleSettings(...e))},S,8,w),(0,s._)("button",{class:"btn btn-sm btn-outline-success w-100 mr-2",type:"button",title:this.DOAPP.utils.translate("LBL_SAVING_LAYOUT"),onClick:e[4]||(e[4]=(...e)=>t.togglePresetActions&&t.togglePresetActions(...e))},y,8,C),(0,s._)("button",{class:"btn btn-sm btn-outline-danger w-100",type:"button",title:this.DOAPP.utils.translate("LBL_CLEARALL"),onClick:e[5]||(e[5]=(...e)=>t.clearAll&&t.clearAll(...e)),form:"calendarSettings"},P,8,A)])])])}var O=a(49112),k=a(57429),T={name:"CalendarActionMenu",components:{CalendarDatepicker:k["default"]},mixins:[O["default"]],computed:{getSharedUsersNamesString(){return Object.values(this.sharedUsersNames).join(", ")},showSearchQuery(){return!this.isOnlyMineFlag&&!this.isEmptySharedUsers}},methods:{async chooseSS(t,e){this.$store.commit("app/DEACTIVATE_CALENDAR_PRESETS"),this.$store.commit("app/CHOOSE_CALENDAR_PRESET",e),await this.setCalendarConfiguration(t),await this.$store.dispatch("app/setSettings",this.$store.state.app.setting)},async clearAndSearch(t){this.$store.commit("app/DEACTIVATE_CALENDAR_PRESETS"),this.$store.commit("app/UPDATE_IS_ONLY_MINE_FLAG",!0),this.$store.commit("app/UPDATE_SHARED_USERS"),this.setSharedUsers(),await this.setCalendarConfiguration(t,!0),await this.$store.dispatch("app/setSettings",this.$store.state.app.setting)}}},x=a(40089);const M=(0,x.Z)(T,[["render",E],["__scopeId","data-v-2d636b68"]]);var U=M},57429:function(t,e,a){a.r(e),a.d(e,{default:function(){return h}});var s=a(73396),n=a(49242);const i={class:"w-100 mr-2"},r=["onClick","title"],l=(0,s._)("i",{class:"bi bi-calendar3"},null,-1),o=[l];function c(t,e,a,l,c,d){const u=(0,s.up)("daDateTimePicker");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s.Wm)(u,{title:t.DOAPP.utils.translate("LBL_MODULE_TITLE","Calendar"),name:"datepicker",state:"focus",date:d.getDate,"input-class-name":"d-none",enableTimePicker:!1,onChangeDate:d.setDate},{buttons:(0,s.w5)((({openMenu:e})=>[(0,s._)("button",{class:"btn btn-sm btn-outline-info w-100 mr-2",type:"button",onClick:(0,n.iM)(e,["prevent"]),title:t.DOAPP.utils.translate("LBL_MODULE_TITLE","Calendar")},o,8,r)])),_:1},8,["title","date","onChangeDate"])])}var d=a(79298),u={name:"CalendarDatepicker",components:{DaDateTimePicker:d["default"]},emits:["newSelectedDate"],computed:{getDate(){let t=this.getSelectedDate;if(t)return this.DOAPP.dateTime.formatDateTimeToVueCal(t)},getSelectedDate(){if(!this.$store.state.focus.data)return"";let t=this.$store.state.app.setting.calendar.settings,e={day:t.selectedDay,month:t.selectedMonth,year:t.selectedYear};return this.DOAPP.dateTime.userDateFormat().replace("d",e.day).replace("m",e.month).replace("Y",e.year)}},methods:{setDate(t){if(t){let e={selectedDay:String(this.DOAPP.dateTime.toDoubleDigit(t.getDate())),selectedMonth:String(this.DOAPP.dateTime.toDoubleDigit(t.getMonth()+1)),selectedYear:String(t.getFullYear()),view:this.$store.state.app.setting.calendar.settings.view};this.$store.dispatch("app/updateCalendarDate",e)}}}},m=a(40089);const p=(0,m.Z)(u,[["render",c]]);var h=p},43944:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var s=a(73396);function n(t,e,a,n,i,r){const l=(0,s.up)("daCalendar");return(0,s.wg)(),(0,s.j4)(l)}var i=a(34060),r={name:"CalendarListViewBody",components:{daCalendar:i["default"]}},l=a(40089);const o=(0,l.Z)(r,[["render",n]]);var c=o},96385:function(t,e,a){a.r(e),a.d(e,{default:function(){return m}});var s=a(73396),n=a(87139);const i=t=>((0,s.dD)("data-v-4bd0c545"),t=t(),(0,s.Cn)(),t),r=i((()=>(0,s._)("i",{class:"fas fa-3x fa-sync-alt fa-spin"},null,-1))),l=[r];function o(t,e,a,i,r,o){return a.isShow?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"tab-preloader flex-column justify-content-center align-items-center",style:(0,n.j5)(r.styleObj)},l,4)):(0,s.kq)("",!0)}var c={name:"TabPreloader2",props:{isShow:{type:Boolean}},data(){return{styleObj:{height:"10px",width:"10px",opacity:0}}},updated(){this.updateStyle()},mounted(){this.updateStyle()},methods:{updateStyle(){let t=this.$el.parentElement,e=window.getComputedStyle(t).backgroundColor,a=t.getBoundingClientRect();a.height<80&&(t.style.minHeight="80px"),this.styleObj.backgroundColor=e,this.styleObj.height=a.height-2+"px",this.styleObj.width=a.width-2+"px",this.isShow?this.styleObj.opacity=1:this.styleObj.opacity=0}}},d=a(40089);const u=(0,d.Z)(c,[["render",o],["__scopeId","data-v-4bd0c545"]]);var m=u}}]);